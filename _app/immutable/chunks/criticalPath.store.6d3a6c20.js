import{w as d}from"./index.2391f01a.js";const v=[["Id","Task","Min","Likely","Max","Resources","Predecessors","Progress"]],D=[["Date","Dev 1","Dev 2","Dev 3"]],u=d(v),x=d(D),f=d({}),p=d(void 0);function o(s,l){l===void 0&&(l=navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.language);let[,c,,,,n]=1111.1.toLocaleString(l);return s=Array.from(s,t=>t===c?"":t===n?".":t).join(""),parseFloat(s)}u.reset=()=>u.set(v);x.reset=()=>x.set(D);f.reset=()=>f.set({});p.reset=()=>p.set(void 0);f.calculate=function(){p.set(void 0);let s={},l,c=[],n={};u.update(e=>(l=e,e)),l.slice(1).forEach(e=>{let r=e[0];s[r]={id:r,name:e[1],min:o(e[2]),likely:o(e[3]),max:o(e[4]),res:e[5].split(",").map(a=>a.trim()),predecessors:e[6].split(",").map(a=>a.trim()).filter(a=>a!==""),successors:[],progress:e[7],earlyCol:0,es:0,ef:0,ls:0,lf:0,slack:-1,expected:Math.round((o(e[2])+o(e[3])*4+o(e[4]))/6)},e[6]==""&&c.push(r),s[r].predecessors.map(a=>{n[a]=!0})});let t=Object.keys(s).filter(e=>!Object.keys(n).includes(e)),g=e=>{s[e].predecessors.map(r=>{s[r].successors.push(e),g(r)})};t.forEach(g),console.log(t);let m=e=>{let r=0,a=0;s[e].predecessors.forEach(i=>{m(i),r<s[i].ef&&(r=s[i].ef),a<s[i].earlyCol&&(a=s[i].earlyCol)}),s[e].es=1+r,s[e].ef=s[e].es+s[e].expected-1,s[e].earlyCol=1+a};t.forEach(m);let h=Math.max(...t.map(e=>s[e].ef));console.log(h);let y=e=>{let r=h+1;s[e].successors.forEach(a=>{y(a),r>s[a].ls&&(r=s[a].ls)}),s[e].lf=r-1,s[e].ls=s[e].lf-s[e].expected+1,s[e].slack=s[e].ls-s[e].es};c.forEach(y),console.log(s),f.set({starts:c,map:s,ends:t})};export{f as c,p as d,o as l,x as r,u as t};
