import{w as f}from"./index.2391f01a.js";const v=[["Id","Task","Min","Likely","Max","Resources","Predecessors","Progress"]],D=[["Date","Dev 1","Dev 2","Dev 3"]],u=f(v),x=f(D),d=f({}),p=f(void 0);function c(s,o){o===void 0&&(o=navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.language);let[,i,,,,n]=1111.1.toLocaleString(o);return s=Array.from(s,t=>t===i?"":t===n?".":t).join(""),parseFloat(s)}u.reset=()=>u.set(v);x.reset=()=>x.set(D);d.reset=()=>d.set({});p.reset=()=>p.set(void 0);d.calculate=function(){p.set(void 0);let s={},o,i=[],n={};u.update(e=>(o=e,e)),o.slice(1).forEach(e=>{let r=e[0];s[r]={id:r,name:e[1],min:c(e[2]),likely:c(e[3]),max:c(e[4]),res:e[5].split(",").map(a=>a.split("&").map(l=>l.trim())),resIdList:[],predecessors:e[6].split(",").map(a=>a.trim()).filter(a=>a!==""),successors:[],progress:e[7],earlyCol:0,es:0,ef:0,ls:0,lf:0,slack:-1,expected:Math.round((c(e[2])+c(e[3])*4+c(e[4]))/6)},e[6]==""&&i.push(r),s[r].predecessors.map(a=>{n[a]=!0})});let t=Object.keys(s).filter(e=>!Object.keys(n).includes(e)),g=e=>{s[e].predecessors.map(r=>{s[r].successors.push(e),g(r)})};t.forEach(g),console.log(t);let m=e=>{let r=0,a=0;s[e].predecessors.forEach(l=>{m(l),r<s[l].ef&&(r=s[l].ef),a<s[l].earlyCol&&(a=s[l].earlyCol)}),s[e].es=1+r,s[e].ef=s[e].es+s[e].expected-1,s[e].earlyCol=1+a};t.forEach(m);let h=Math.max(...t.map(e=>s[e].ef));console.log(h);let y=e=>{let r=h+1;s[e].successors.forEach(a=>{y(a),r>s[a].ls&&(r=s[a].ls)}),s[e].lf=r-1,s[e].ls=s[e].lf-s[e].expected+1,s[e].slack=s[e].ls-s[e].es};i.forEach(y),console.log(s),d.set({starts:i,map:s,ends:t})};export{d as c,p as d,c as l,x as r,u as t};
