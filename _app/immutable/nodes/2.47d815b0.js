import{s as be,f as k,a as T,l as z,g as D,h as A,B as me,c as L,m as O,d as j,j as n,k as Y,i as Q,r as l,n as F,w as re,x as Z,z as le,o as ke,K as $}from"../chunks/scheduler.d96d3362.js";import{e as U}from"../chunks/each.8281f9b4.js";import{S as De,i as Se}from"../chunks/index.c23aaf79.js";import{d as K,w as ye}from"../chunks/index.9f5fd596.js";import{p as _e}from"../chunks/projectCharter.store.c4336a1c.js";import{g as ge}from"../chunks/tables.store.38b25df8.js";import{g as Ae}from"../chunks/gantt.store.04884ee6.js";const x=ge("tasks"),Ee=ge("resources");function Ce(s){if(!s)return 0;const t={projectName:e=>!!e&&e.trim()!=="",projectDescription:e=>!!e&&e.trim()!=="",projectManager:e=>!!e&&e.trim()!=="",startDate:e=>!!e&&e.trim()!=="",endDate:e=>!!e&&e.trim()!=="",objectives:e=>Array.isArray(e)&&e.length>0&&e.some(a=>a.trim()!==""),stakeholders:e=>Array.isArray(e)&&e.length>0&&e.some(a=>a.trim()!==""),scope:e=>!e||typeof e!="object"?!1:Array.isArray(e.inScope)&&e.inScope.length>0&&e.inScope.some(a=>a.trim()!=="")||Array.isArray(e.outOfScope)&&e.outOfScope.length>0&&e.outOfScope.some(a=>a.trim()!==""),assumptions:e=>Array.isArray(e)&&e.length>0&&e.some(a=>a.trim()!==""),constraints:e=>Array.isArray(e)&&e.length>0&&e.some(a=>a.trim()!==""),risks:e=>Array.isArray(e)&&e.length>0&&e.some(a=>a.trim()!==""),budget:e=>!e||typeof e!="object"?!1:e.amount>0&&e.currency,success_criteria:e=>Array.isArray(e)&&e.length>0&&e.some(a=>a.trim()!==""),key_deliverables:e=>Array.isArray(e)&&e.length>0&&e.some(a=>a.trim()!=="")},r=Object.entries(t).filter(([e,a])=>a(s[e])).length;return Math.round(r/Object.keys(t).length*100)}function Pe(s){if(!s)return 0;const t=s.toJSON();return t.length<=1||!t.slice(1).some(e=>e.length>1&&e[1]&&String(e[1]).trim()!=="")?0:100}function we(s,t,r){if(!s||!t||!r)return 0;const e=s.toJSON(),a=t.toJSON();if(e.length<=1||a.length<=1)return 0;let u=0;const f=3;e.length>1&&(u+=1);const o=new Set(e[0]),i=new Set;if(a.slice(1).forEach(b=>{b[5]&&b[5].split(",").map(d=>d.trim()).forEach(d=>i.add(d))}),i.delete(""),i.delete(void 0),i.size>0?Array.from(i).every(c=>o.has(c))&&(u+=1):u+=1,r.endDate){const b=new Date(r.endDate);let c=null;for(let d=e.length-1;d>=1;d--){const m=e[d][0];if(m){c=new Date(m);break}}c&&c>=b&&(u+=1)}else u+=1;return Math.round(u/f*100)}function Ie(s){return s!=null&&s.map&&Object.keys(s.map).length>0?100:0}function Ve(s){if(!s)return 0;const t=s.toJSON();return t.length<=1?0:t.slice(1).some(e=>e[3]&&e[3].trim()!=="")?100:50}const qe=K(_e,s=>Ce(s)),Re=K(x,s=>Pe(s)),Te=K([Ee,x,_e],([s,t,r])=>we(s,t,r)),Le=K(Ae,s=>Ie(s)),Ne=K(x,s=>Ve(s)),ze=ye([{level:"Start",title:"Foundation",description:"Set up project fundamentals with basic information",steps:[{id:1,title:"Project Charter",icon:"mif-file-text",description:"Define project goals, scope, and success criteria",route:"/project-charter"}]},{level:1,title:"Task Planning",description:"Define project tasks and analyze dependencies",steps:[{id:2,title:"Tasks Definition",icon:"mif-list",description:"Break down project into tasks and define dependencies",route:"/tasks"}]},{level:2,title:"Resource Planning",description:"Define available resources and their capacities",requirements:["Tasks Definition"],steps:[{id:3,title:"Critical Path Analysis",icon:"mif-flow-tree",description:"Analyze task dependencies and identify critical path",route:"/critical-path"}],reports:[{id:2,title:"Resource Requirements",icon:"mif-users",description:"Analyze resource needs based on tasks",route:"/resource-analysis",requirements:["Tasks Definition","Critical Path Analysis"]}]},{level:3,title:"Schedule Integration",description:"Create and optimize project timeline",requirements:["Tasks Definition"],steps:[{id:5,title:"Resource Availability",icon:"mif-calendar",description:"Define available resources and their capacities",route:"/resources"}],reports:[{id:6,title:"Project Schedule",icon:"mif-flow-parallel",description:"Create and optimize project timeline",route:"/timeline",requirements:["Resource Availability"]},{id:7,title:"Gantt Chart",icon:"mif-flow-cascade",description:"View project schedule as a Gantt chart",route:"/gantt",requirements:["Project Schedule"]}]}]),je=K([ze,qe,Re,Te,Le,Ne],([s,t,r,e,a,u])=>s.map(f=>{var c,d;const o=f.steps.map(m=>{let S=0;switch(m.title){case"Project Charter":S=t;break;case"Tasks Definition":S=r;break;case"Critical Path Analysis":S=u;break;case"Resource Availability":S=e;break;case"Project Schedule":S=a;break}return{...m,completion:S,status:S===100?"Complete":S>0?"In Progress":"Not Started"}}),i=(c=f.reports)==null?void 0:c.map(m=>{const S=m.requirements.map(I=>{let V=!1;switch(I){case"Tasks Definition":V=r===100;break;case"Project Schedule":V=a===100;break;case"Critical Path Analysis":V=u===100;break}return{title:I,complete:V}});return{...m,requirements:S}}),b=(d=f.requirements)==null?void 0:d.map(m=>{let S=!1;switch(m){case"Tasks Definition":S=r===100;break;case"Resource Availability":S=e===100;break}return{title:m,complete:S}});return{...f,steps:o,reports:i,requirements:b}})),Oe=K(je,s=>Math.round(s.reduce((t,r)=>t+r.steps.reduce((e,a)=>e+a.completion,0),0)/s.reduce((t,r)=>t+r.steps.length,0)));function Me(s){var t;return s.level==="Start"||s.level===1?!0:((t=s.requirements)==null?void 0:t.every(r=>r.complete))??!1}function ae(s){return Me(s)?"unlocked":"locked"}function ie(s,t,r){const e=s.slice();return e[2]=t[r],e}function ne(s,t,r){const e=s.slice();return e[5]=t[r],e}function oe(s,t,r){const e=s.slice();return e[8]=t[r],e}function ce(s){let t,r,e,a,u,f,o,i=s[8].title+"",b,c,d,m=s[8].status+"",S,I,V,p,h=s[8].description+"",C,y,P,R,_,v,g,w=s[8].completion+"",E,M,H,B;return{c(){t=k("a"),r=k("div"),e=k("span"),u=T(),f=k("div"),o=k("h3"),b=z(i),c=T(),d=k("span"),S=z(m),V=T(),p=k("p"),C=z(h),y=T(),P=k("div"),R=k("div"),v=T(),g=k("div"),E=z(w),M=z("%"),H=T(),this.h()},l(N){t=D(N,"A",{href:!0,class:!0});var q=A(t);r=D(q,"DIV",{class:!0});var G=A(r);e=D(G,"SPAN",{class:!0}),A(e).forEach(j),u=L(G),f=D(G,"DIV",{class:!0});var J=A(f);o=D(J,"H3",{class:!0});var ee=A(o);b=O(ee,i),ee.forEach(j),c=L(J),d=D(J,"SPAN",{class:!0});var te=A(d);S=O(te,m),te.forEach(j),J.forEach(j),G.forEach(j),V=L(q),p=D(q,"P",{class:!0});var se=A(p);C=O(se,h),se.forEach(j),y=L(q),P=D(q,"DIV",{class:!0});var W=A(P);R=D(W,"DIV",{"data-role":!0,"data-value":!0}),A(R).forEach(j),v=L(W),g=D(W,"DIV",{class:!0});var X=A(g);E=O(X,w),M=O(X,"%"),X.forEach(j),W.forEach(j),H=L(q),q.forEach(j),this.h()},h(){n(e,"class",a=$(`step-icon ${s[8].icon}`)+" svelte-1jdfcfr"),n(o,"class","step-title svelte-1jdfcfr"),n(d,"class",I=$(`status-badge status-${s[8].status.toLowerCase().replace(" ","-")}`)+" svelte-1jdfcfr"),n(f,"class","step-info svelte-1jdfcfr"),n(r,"class","step-header svelte-1jdfcfr"),n(p,"class","step-description svelte-1jdfcfr"),n(R,"data-role","progress"),n(R,"data-value",_=s[8].completion),n(g,"class","progress-text svelte-1jdfcfr"),n(P,"class","progress-container svelte-1jdfcfr"),n(t,"href",B=s[8].route),n(t,"class","step-card svelte-1jdfcfr")},m(N,q){Q(N,t,q),l(t,r),l(r,e),l(r,u),l(r,f),l(f,o),l(o,b),l(f,c),l(f,d),l(d,S),l(t,V),l(t,p),l(p,C),l(t,y),l(t,P),l(P,R),l(P,v),l(P,g),l(g,E),l(g,M),l(t,H)},p(N,q){q&2&&a!==(a=$(`step-icon ${N[8].icon}`)+" svelte-1jdfcfr")&&n(e,"class",a),q&2&&i!==(i=N[8].title+"")&&F(b,i),q&2&&m!==(m=N[8].status+"")&&F(S,m),q&2&&I!==(I=$(`status-badge status-${N[8].status.toLowerCase().replace(" ","-")}`)+" svelte-1jdfcfr")&&n(d,"class",I),q&2&&h!==(h=N[8].description+"")&&F(C,h),q&2&&_!==(_=N[8].completion)&&n(R,"data-value",_),q&2&&w!==(w=N[8].completion+"")&&F(E,w),q&2&&B!==(B=N[8].route)&&n(t,"href",B)},d(N){N&&j(t)}}}function fe(s){let t,r,e="Available Reports",a,u,f=U(s[2].reports),o=[];for(let i=0;i<f.length;i+=1)o[i]=de(ne(s,f,i));return{c(){t=k("div"),r=k("h3"),r.textContent=e,a=T(),u=k("div");for(let i=0;i<o.length;i+=1)o[i].c();this.h()},l(i){t=D(i,"DIV",{class:!0});var b=A(t);r=D(b,"H3",{class:!0,"data-svelte-h":!0}),me(r)!=="svelte-1vww4p5"&&(r.textContent=e),a=L(b),u=D(b,"DIV",{class:!0});var c=A(u);for(let d=0;d<o.length;d+=1)o[d].l(c);c.forEach(j),b.forEach(j),this.h()},h(){n(r,"class","reports-title svelte-1jdfcfr"),n(u,"class","steps-grid svelte-1jdfcfr"),n(t,"class","reports-section svelte-1jdfcfr")},m(i,b){Q(i,t,b),l(t,r),l(t,a),l(t,u);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(u,null)},p(i,b){if(b&2){f=U(i[2].reports);let c;for(c=0;c<f.length;c+=1){const d=ne(i,f,c);o[c]?o[c].p(d,b):(o[c]=de(d),o[c].c(),o[c].m(u,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=f.length}},d(i){i&&j(t),Z(o,i)}}}function de(s){let t,r,e,a,u,f,o,i=s[5].title+"",b,c,d,m=s[5].requirements.every(pe)?"Available":"Locked",S,I,V,p,h=s[5].description+"",C,y,P,R;return{c(){t=k("a"),r=k("div"),e=k("span"),u=T(),f=k("div"),o=k("h3"),b=z(i),c=T(),d=k("span"),S=z(m),V=T(),p=k("p"),C=z(h),y=T(),this.h()},l(_){t=D(_,"A",{href:!0,class:!0});var v=A(t);r=D(v,"DIV",{class:!0});var g=A(r);e=D(g,"SPAN",{class:!0}),A(e).forEach(j),u=L(g),f=D(g,"DIV",{class:!0});var w=A(f);o=D(w,"H3",{class:!0});var E=A(o);b=O(E,i),E.forEach(j),c=L(w),d=D(w,"SPAN",{class:!0});var M=A(d);S=O(M,m),M.forEach(j),w.forEach(j),g.forEach(j),V=L(v),p=D(v,"P",{class:!0});var H=A(p);C=O(H,h),H.forEach(j),y=L(v),v.forEach(j),this.h()},h(){n(e,"class",a=$(`step-icon ${s[5].icon}`)+" svelte-1jdfcfr"),n(o,"class","step-title svelte-1jdfcfr"),n(d,"class",I=$(`status-badge status-${s[5].requirements.every(he)?"complete":"locked"}`)+" svelte-1jdfcfr"),n(f,"class","step-info svelte-1jdfcfr"),n(r,"class","step-header svelte-1jdfcfr"),n(p,"class","step-description svelte-1jdfcfr"),n(t,"href",P=s[5].route),n(t,"class",R="step-card "+(s[5].requirements.every(ve)?"":"disabled")+" svelte-1jdfcfr")},m(_,v){Q(_,t,v),l(t,r),l(r,e),l(r,u),l(r,f),l(f,o),l(o,b),l(f,c),l(f,d),l(d,S),l(t,V),l(t,p),l(p,C),l(t,y)},p(_,v){v&2&&a!==(a=$(`step-icon ${_[5].icon}`)+" svelte-1jdfcfr")&&n(e,"class",a),v&2&&i!==(i=_[5].title+"")&&F(b,i),v&2&&m!==(m=_[5].requirements.every(pe)?"Available":"Locked")&&F(S,m),v&2&&I!==(I=$(`status-badge status-${_[5].requirements.every(he)?"complete":"locked"}`)+" svelte-1jdfcfr")&&n(d,"class",I),v&2&&h!==(h=_[5].description+"")&&F(C,h),v&2&&P!==(P=_[5].route)&&n(t,"href",P),v&2&&R!==(R="step-card "+(_[5].requirements.every(ve)?"":"disabled")+" svelte-1jdfcfr")&&n(t,"class",R)},d(_){_&&j(t)}}}function ue(s){let t,r,e,a=s[2].level==="Start"?"Start":`Level ${s[2].level}`,u,f,o,i,b=s[2].title+"",c,d,m,S=s[2].description+"",I,V,p,h,C,y,P,R=U(s[2].steps),_=[];for(let g=0;g<R.length;g+=1)_[g]=ce(oe(s,R,g));let v=s[2].reports&&fe(s);return{c(){t=k("div"),r=k("div"),e=k("span"),u=z(a),f=T(),o=k("div"),i=k("h2"),c=z(b),d=T(),m=k("p"),I=z(S),V=T(),p=k("div"),h=k("div");for(let g=0;g<_.length;g+=1)_[g].c();C=T(),v&&v.c(),y=T(),this.h()},l(g){t=D(g,"DIV",{class:!0});var w=A(t);r=D(w,"DIV",{class:!0});var E=A(r);e=D(E,"SPAN",{class:!0});var M=A(e);u=O(M,a),M.forEach(j),f=L(E),o=D(E,"DIV",{});var H=A(o);i=D(H,"H2",{class:!0,style:!0});var B=A(i);c=O(B,b),B.forEach(j),d=L(H),m=D(H,"P",{class:!0,style:!0});var N=A(m);I=O(N,S),N.forEach(j),H.forEach(j),E.forEach(j),V=L(w),p=D(w,"DIV",{class:!0});var q=A(p);h=D(q,"DIV",{class:!0});var G=A(h);for(let J=0;J<_.length;J+=1)_[J].l(G);G.forEach(j),C=L(q),v&&v.l(q),q.forEach(j),y=L(w),w.forEach(j),this.h()},h(){n(e,"class","level-badge svelte-1jdfcfr"),n(i,"class","mb-0"),Y(i,"font-size","1.1rem"),n(m,"class","text-muted mb-0"),Y(m,"font-size","0.85rem"),n(r,"class","level-header svelte-1jdfcfr"),n(h,"class","steps-grid svelte-1jdfcfr"),n(p,"class","level-content svelte-1jdfcfr"),n(t,"class",P="level-container "+(ae(s[2])==="locked"?"locked":"")+" svelte-1jdfcfr")},m(g,w){Q(g,t,w),l(t,r),l(r,e),l(e,u),l(r,f),l(r,o),l(o,i),l(i,c),l(o,d),l(o,m),l(m,I),l(t,V),l(t,p),l(p,h);for(let E=0;E<_.length;E+=1)_[E]&&_[E].m(h,null);l(p,C),v&&v.m(p,null),l(t,y)},p(g,w){if(w&2&&a!==(a=g[2].level==="Start"?"Start":`Level ${g[2].level}`)&&F(u,a),w&2&&b!==(b=g[2].title+"")&&F(c,b),w&2&&S!==(S=g[2].description+"")&&F(I,S),w&2){R=U(g[2].steps);let E;for(E=0;E<R.length;E+=1){const M=oe(g,R,E);_[E]?_[E].p(M,w):(_[E]=ce(M),_[E].c(),_[E].m(h,null))}for(;E<_.length;E+=1)_[E].d(1);_.length=R.length}g[2].reports?v?v.p(g,w):(v=fe(g),v.c(),v.m(p,null)):v&&(v.d(1),v=null),w&2&&P!==(P="level-container "+(ae(g[2])==="locked"?"locked":"")+" svelte-1jdfcfr")&&n(t,"class",P)},d(g){g&&j(t),Z(_,g),v&&v.d()}}}function He(s){let t,r,e='<div class="welcome-content svelte-1jdfcfr"><h1 class="text-leader2 mb-1">Project Planning Dashboard</h1> <p class="text-leader mb-0" style="font-size: 1rem;">Follow the guided process to plan your project effectively.</p></div> <div class="welcome-actions svelte-1jdfcfr"><button class="btn-welcome svelte-1jdfcfr">Start New Project</button> <button class="btn-welcome btn-secondary svelte-1jdfcfr">Tutorial</button></div>',a,u,f,o,i,b,c,d,m,S,I,V=U(s[1]),p=[];for(let h=0;h<V.length;h+=1)p[h]=ue(ie(s,V,h));return{c(){t=k("div"),r=k("div"),r.innerHTML=e,a=T(),u=k("div"),f=k("h2"),o=z("Completion: "),i=z(s[0]),b=z("%"),c=T(),d=k("div"),m=k("div"),S=T(),I=k("div");for(let h=0;h<p.length;h+=1)p[h].c();this.h()},l(h){t=D(h,"DIV",{class:!0});var C=A(t);r=D(C,"DIV",{class:!0,"data-svelte-h":!0}),me(r)!=="svelte-16athp2"&&(r.innerHTML=e),a=L(C),u=D(C,"DIV",{class:!0});var y=A(u);f=D(y,"H2",{class:!0,style:!0});var P=A(f);o=O(P,"Completion: "),i=O(P,s[0]),b=O(P,"%"),P.forEach(j),c=L(y),d=D(y,"DIV",{class:!0});var R=A(d);m=D(R,"DIV",{"data-role":!0,"data-value":!0}),A(m).forEach(j),R.forEach(j),y.forEach(j),S=L(C),I=D(C,"DIV",{class:!0});var _=A(I);for(let v=0;v<p.length;v+=1)p[v].l(_);_.forEach(j),C.forEach(j),this.h()},h(){n(r,"class","welcome-banner svelte-1jdfcfr"),n(f,"class","text-leader fg-darkBlue mb-0"),Y(f,"white-space","nowrap"),n(m,"data-role","progress"),n(m,"data-value",s[0]),n(d,"class","progress-bar svelte-1jdfcfr"),n(u,"class","progress-overview svelte-1jdfcfr"),n(I,"class","planning-grid svelte-1jdfcfr"),n(t,"class","dashboard-container svelte-1jdfcfr")},m(h,C){Q(h,t,C),l(t,r),l(t,a),l(t,u),l(u,f),l(f,o),l(f,i),l(f,b),l(u,c),l(u,d),l(d,m),l(t,S),l(t,I);for(let y=0;y<p.length;y+=1)p[y]&&p[y].m(I,null)},p(h,[C]){if(C&1&&F(i,h[0]),C&1&&n(m,"data-value",h[0]),C&2){V=U(h[1]);let y;for(y=0;y<V.length;y+=1){const P=ie(h,V,y);p[y]?p[y].p(P,C):(p[y]=ue(P),p[y].c(),p[y].m(I,null))}for(;y<p.length;y+=1)p[y].d(1);p.length=V.length}},i:re,o:re,d(h){h&&j(t),Z(p,h)}}}const pe=s=>s.complete,he=s=>s.complete,ve=s=>s.complete;function Fe(s,t,r){let e,a;return le(s,Oe,u=>r(0,e=u)),le(s,je,u=>r(1,a=u)),ke(()=>{typeof Metro<"u"&&Metro.init()}),[e,a]}class We extends De{constructor(t){super(),Se(this,t,Fe,He,be,{})}}export{We as component};
