import{s as ve,r as it,f as x,g as $,h as q,d as C,j as v,G as he,i as ee,w as ke,x as ot,y as rt,z as lt,A as dt,H as Wn,B as te,a as oe,l as Xe,c as re,m as Ye,n as Be,I as Le,J as De,K as bt,L as tt,M as qe,N as ie,k as be,O as Oe,e as He,P as Ae,Q as Kn,o as Sn,C as Rt,R as ii,p as Cn,S as Ar,T as Hr,q as Fn,U as Pe,v as X,D as Se,V as rn,u as At,W as fs,X as cs,Y as ds,Z as hs,_ as to,F as no,E as Ft,$ as Xt}from"../chunks/scheduler.8fe615de.js";import{S as me,i as _e,a as F,t as J,b as ae,d as de,m as ue,e as fe,g as Ue,c as Ge}from"../chunks/index.aa40aee3.js";import{c as Vr}from"../chunks/criticalPath.store.532ba114.js";import{a as Rr,s as gs,b as ms,c as _s}from"../chunks/xyflow.store.f71cc2f8.js";import{w as le,r as mt,d as en}from"../chunks/index.6deb0bed.js";import{e as Ke,u as Ri,o as Li}from"../chunks/each.640a64ca.js";import{g as Ei,T as io}from"../chunks/tables.store.e04557b4.js";import{c as Bt,d as oo,a as ys}from"../chunks/assistant.store.66983e61.js";import{p as bs}from"../chunks/projectCharter.store.e87999d8.js";const ws=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function Yt(t,e){const n={},i={},o={$$scope:1};let r=t.length;for(;r--;){const s=t[r],l=e[r];if(l){for(const a in s)a in l||(i[a]=1);for(const a in l)o[a]||(n[a]=l[a],o[a]=1);t[r]=l}else for(const a in s)o[a]=1}for(const s in i)s in n||(n[s]=void 0);return n}function yn(t){return typeof t=="object"&&t!==null?t:{}}function Re(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,i;n<t.length;n++)(i=Re(t[n]))!==""&&(e+=(e&&" ")+i);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var vs={value:()=>{}};function oi(){for(var t=0,e=arguments.length,n={},i;t<e;++t){if(!(i=arguments[t]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new Ln(n)}function Ln(t){this._=t}function ks(t,e){return t.trim().split(/^|\s+/).map(function(n){var i="",o=n.indexOf(".");if(o>=0&&(i=n.slice(o+1),n=n.slice(0,o)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}Ln.prototype=oi.prototype={constructor:Ln,on:function(t,e){var n=this._,i=ks(t+"",n),o,r=-1,s=i.length;if(arguments.length<2){for(;++r<s;)if((o=(t=i[r]).type)&&(o=ps(n[o],t.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++r<s;)if(o=(t=i[r]).type)n[o]=ro(n[o],t.name,e);else if(e==null)for(o in n)n[o]=ro(n[o],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Ln(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var n=new Array(o),i=0,o,r;i<o;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],o=0,r=i.length;o<r;++o)i[o].value.apply(e,n)}};function ps(t,e){for(var n=0,i=t.length,o;n<i;++n)if((o=t[n]).name===e)return o.value}function ro(t,e,n){for(var i=0,o=t.length;i<o;++i)if(t[i].name===e){t[i]=vs,t=t.slice(0,i).concat(t.slice(i+1));break}return n!=null&&t.push({name:e,value:n}),t}var Si="http://www.w3.org/1999/xhtml";const lo={svg:"http://www.w3.org/2000/svg",xhtml:Si,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ri(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),lo.hasOwnProperty(e)?{space:lo[e],local:t}:t}function Es(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Si&&e.documentElement.namespaceURI===Si?e.createElement(t):e.createElementNS(n,t)}}function Ss(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Lr(t){var e=ri(t);return(e.local?Ss:Es)(e)}function Cs(){}function Xi(t){return t==null?Cs:function(){return this.querySelector(t)}}function Ms(t){typeof t!="function"&&(t=Xi(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r=e[o],s=r.length,l=i[o]=new Array(s),a,u,f=0;f<s;++f)(a=r[f])&&(u=t.call(a,a.__data__,f,r))&&("__data__"in a&&(u.__data__=a.__data__),l[f]=u);return new ut(i,this._parents)}function Ps(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Ns(){return[]}function Xr(t){return t==null?Ns:function(){return this.querySelectorAll(t)}}function Ts(t){return function(){return Ps(t.apply(this,arguments))}}function Ds(t){typeof t=="function"?t=Ts(t):t=Xr(t);for(var e=this._groups,n=e.length,i=[],o=[],r=0;r<n;++r)for(var s=e[r],l=s.length,a,u=0;u<l;++u)(a=s[u])&&(i.push(t.call(a,a.__data__,u,s)),o.push(a));return new ut(i,o)}function Yr(t){return function(){return this.matches(t)}}function Br(t){return function(e){return e.matches(t)}}var Is=Array.prototype.find;function zs(t){return function(){return Is.call(this.children,t)}}function Os(){return this.firstElementChild}function As(t){return this.select(t==null?Os:zs(typeof t=="function"?t:Br(t)))}var Hs=Array.prototype.filter;function Vs(){return Array.from(this.children)}function Rs(t){return function(){return Hs.call(this.children,t)}}function Ls(t){return this.selectAll(t==null?Vs:Rs(typeof t=="function"?t:Br(t)))}function Xs(t){typeof t!="function"&&(t=Yr(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r=e[o],s=r.length,l=i[o]=[],a,u=0;u<s;++u)(a=r[u])&&t.call(a,a.__data__,u,r)&&l.push(a);return new ut(i,this._parents)}function Wr(t){return new Array(t.length)}function Ys(){return new ut(this._enter||this._groups.map(Wr),this._parents)}function Zn(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Zn.prototype={constructor:Zn,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Bs(t){return function(){return t}}function Ws(t,e,n,i,o,r){for(var s=0,l,a=e.length,u=r.length;s<u;++s)(l=e[s])?(l.__data__=r[s],i[s]=l):n[s]=new Zn(t,r[s]);for(;s<a;++s)(l=e[s])&&(o[s]=l)}function Ks(t,e,n,i,o,r,s){var l,a,u=new Map,f=e.length,d=r.length,c=new Array(f),h;for(l=0;l<f;++l)(a=e[l])&&(c[l]=h=s.call(a,a.__data__,l,e)+"",u.has(h)?o[l]=a:u.set(h,a));for(l=0;l<d;++l)h=s.call(t,r[l],l,r)+"",(a=u.get(h))?(i[l]=a,a.__data__=r[l],u.delete(h)):n[l]=new Zn(t,r[l]);for(l=0;l<f;++l)(a=e[l])&&u.get(c[l])===a&&(o[l]=a)}function Fs(t){return t.__data__}function Zs(t,e){if(!arguments.length)return Array.from(this,Fs);var n=e?Ks:Ws,i=this._parents,o=this._groups;typeof t!="function"&&(t=Bs(t));for(var r=o.length,s=new Array(r),l=new Array(r),a=new Array(r),u=0;u<r;++u){var f=i[u],d=o[u],c=d.length,h=qs(t.call(f,f&&f.__data__,u,i)),m=h.length,b=l[u]=new Array(m),y=s[u]=new Array(m),g=a[u]=new Array(c);n(f,d,b,y,g,h,e);for(var _=0,w=0,E,T;_<m;++_)if(E=b[_]){for(_>=w&&(w=_+1);!(T=y[w])&&++w<m;);E._next=T||null}}return s=new ut(s,i),s._enter=l,s._exit=a,s}function qs(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Us(){return new ut(this._exit||this._groups.map(Wr),this._parents)}function Gs(t,e,n){var i=this.enter(),o=this,r=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),e!=null&&(o=e(o),o&&(o=o.selection())),n==null?r.remove():n(r),i&&o?i.merge(o).order():o}function Js(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,o=n.length,r=i.length,s=Math.min(o,r),l=new Array(o),a=0;a<s;++a)for(var u=n[a],f=i[a],d=u.length,c=l[a]=new Array(d),h,m=0;m<d;++m)(h=u[m]||f[m])&&(c[m]=h);for(;a<o;++a)l[a]=n[a];return new ut(l,this._parents)}function js(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i=t[e],o=i.length-1,r=i[o],s;--o>=0;)(s=i[o])&&(r&&s.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(s,r),r=s);return this}function Qs(t){t||(t=xs);function e(d,c){return d&&c?t(d.__data__,c.__data__):!d-!c}for(var n=this._groups,i=n.length,o=new Array(i),r=0;r<i;++r){for(var s=n[r],l=s.length,a=o[r]=new Array(l),u,f=0;f<l;++f)(u=s[f])&&(a[f]=u);a.sort(e)}return new ut(o,this._parents).order()}function xs(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function $s(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function ea(){return Array.from(this)}function ta(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,r=i.length;o<r;++o){var s=i[o];if(s)return s}return null}function na(){let t=0;for(const e of this)++t;return t}function ia(){return!this.node()}function oa(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var o=e[n],r=0,s=o.length,l;r<s;++r)(l=o[r])&&t.call(l,l.__data__,r,o);return this}function ra(t){return function(){this.removeAttribute(t)}}function la(t){return function(){this.removeAttributeNS(t.space,t.local)}}function sa(t,e){return function(){this.setAttribute(t,e)}}function aa(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function ua(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function fa(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function ca(t,e){var n=ri(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((e==null?n.local?la:ra:typeof e=="function"?n.local?fa:ua:n.local?aa:sa)(n,e))}function Kr(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function da(t){return function(){this.style.removeProperty(t)}}function ha(t,e,n){return function(){this.style.setProperty(t,e,n)}}function ga(t,e,n){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function ma(t,e,n){return arguments.length>1?this.each((e==null?da:typeof e=="function"?ga:ha)(t,e,n??"")):ln(this.node(),t)}function ln(t,e){return t.style.getPropertyValue(e)||Kr(t).getComputedStyle(t,null).getPropertyValue(e)}function _a(t){return function(){delete this[t]}}function ya(t,e){return function(){this[t]=e}}function ba(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function wa(t,e){return arguments.length>1?this.each((e==null?_a:typeof e=="function"?ba:ya)(t,e)):this.node()[t]}function Fr(t){return t.trim().split(/^|\s+/)}function Yi(t){return t.classList||new Zr(t)}function Zr(t){this._node=t,this._names=Fr(t.getAttribute("class")||"")}Zr.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function qr(t,e){for(var n=Yi(t),i=-1,o=e.length;++i<o;)n.add(e[i])}function Ur(t,e){for(var n=Yi(t),i=-1,o=e.length;++i<o;)n.remove(e[i])}function va(t){return function(){qr(this,t)}}function ka(t){return function(){Ur(this,t)}}function pa(t,e){return function(){(e.apply(this,arguments)?qr:Ur)(this,t)}}function Ea(t,e){var n=Fr(t+"");if(arguments.length<2){for(var i=Yi(this.node()),o=-1,r=n.length;++o<r;)if(!i.contains(n[o]))return!1;return!0}return this.each((typeof e=="function"?pa:e?va:ka)(n,e))}function Sa(){this.textContent=""}function Ca(t){return function(){this.textContent=t}}function Ma(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Pa(t){return arguments.length?this.each(t==null?Sa:(typeof t=="function"?Ma:Ca)(t)):this.node().textContent}function Na(){this.innerHTML=""}function Ta(t){return function(){this.innerHTML=t}}function Da(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Ia(t){return arguments.length?this.each(t==null?Na:(typeof t=="function"?Da:Ta)(t)):this.node().innerHTML}function za(){this.nextSibling&&this.parentNode.appendChild(this)}function Oa(){return this.each(za)}function Aa(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ha(){return this.each(Aa)}function Va(t){var e=typeof t=="function"?t:Lr(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Ra(){return null}function La(t,e){var n=typeof t=="function"?t:Lr(t),i=e==null?Ra:typeof e=="function"?e:Xi(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function Xa(){var t=this.parentNode;t&&t.removeChild(this)}function Ya(){return this.each(Xa)}function Ba(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Wa(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ka(t){return this.select(t?Wa:Ba)}function Fa(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Za(t){return function(e){t.call(this,e,this.__data__)}}function qa(t){return t.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{type:e,name:n}})}function Ua(t){return function(){var e=this.__on;if(e){for(var n=0,i=-1,o=e.length,r;n<o;++n)r=e[n],(!t.type||r.type===t.type)&&r.name===t.name?this.removeEventListener(r.type,r.listener,r.options):e[++i]=r;++i?e.length=i:delete this.__on}}}function Ga(t,e,n){return function(){var i=this.__on,o,r=Za(e);if(i){for(var s=0,l=i.length;s<l;++s)if((o=i[s]).type===t.type&&o.name===t.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=r,o.options=n),o.value=e;return}}this.addEventListener(t.type,r,n),o={type:t.type,name:t.name,value:e,listener:r,options:n},i?i.push(o):this.__on=[o]}}function Ja(t,e,n){var i=qa(t+""),o,r=i.length,s;if(arguments.length<2){var l=this.node().__on;if(l){for(var a=0,u=l.length,f;a<u;++a)for(o=0,f=l[a];o<r;++o)if((s=i[o]).type===f.type&&s.name===f.name)return f.value}return}for(l=e?Ga:Ua,o=0;o<r;++o)this.each(l(i[o],e,n));return this}function Gr(t,e,n){var i=Kr(t),o=i.CustomEvent;typeof o=="function"?o=new o(e,n):(o=i.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function ja(t,e){return function(){return Gr(this,t,e)}}function Qa(t,e){return function(){return Gr(this,t,e.apply(this,arguments))}}function xa(t,e){return this.each((typeof e=="function"?Qa:ja)(t,e))}function*$a(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,r=i.length,s;o<r;++o)(s=i[o])&&(yield s)}var Jr=[null];function ut(t,e){this._groups=t,this._parents=e}function Mn(){return new ut([[document.documentElement]],Jr)}function eu(){return this}ut.prototype=Mn.prototype={constructor:ut,select:Ms,selectAll:Ds,selectChild:As,selectChildren:Ls,filter:Xs,data:Zs,enter:Ys,exit:Us,join:Gs,merge:Js,selection:eu,order:js,sort:Qs,call:$s,nodes:ea,node:ta,size:na,empty:ia,each:oa,attr:ca,style:ma,property:wa,classed:Ea,text:Pa,html:Ia,raise:Oa,lower:Ha,append:Va,insert:La,remove:Ya,clone:Ka,datum:Fa,on:Ja,dispatch:xa,[Symbol.iterator]:$a};function _t(t){return typeof t=="string"?new ut([[document.querySelector(t)]],[document.documentElement]):new ut([[t]],Jr)}function tu(t){let e;for(;e=t.sourceEvent;)t=e;return t}function pt(t,e){if(t=tu(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}}return[t.pageX,t.pageY]}const nu={passive:!1},bn={capture:!0,passive:!1};function mi(t){t.stopImmediatePropagation()}function tn(t){t.preventDefault(),t.stopImmediatePropagation()}function jr(t){var e=t.document.documentElement,n=_t(t).on("dragstart.drag",tn,bn);"onselectstart"in e?n.on("selectstart.drag",tn,bn):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Qr(t,e){var n=t.document.documentElement,i=_t(t).on("dragstart.drag",null);e&&(i.on("click.drag",tn,bn),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const In=t=>()=>t;function Ci(t,{sourceEvent:e,subject:n,target:i,identifier:o,active:r,x:s,y:l,dx:a,dy:u,dispatch:f}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:r,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:f}})}Ci.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function iu(t){return!t.ctrlKey&&!t.button}function ou(){return this.parentNode}function ru(t,e){return e??{x:t.x,y:t.y}}function lu(){return navigator.maxTouchPoints||"ontouchstart"in this}function su(){var t=iu,e=ou,n=ru,i=lu,o={},r=oi("start","drag","end"),s=0,l,a,u,f,d=0;function c(E){E.on("mousedown.drag",h).filter(i).on("touchstart.drag",y).on("touchmove.drag",g,nu).on("touchend.drag touchcancel.drag",_).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(E,T){if(!(f||!t.call(this,E,T))){var H=w(this,e.call(this,E,T),E,T,"mouse");H&&(_t(E.view).on("mousemove.drag",m,bn).on("mouseup.drag",b,bn),jr(E.view),mi(E),u=!1,l=E.clientX,a=E.clientY,H("start",E))}}function m(E){if(tn(E),!u){var T=E.clientX-l,H=E.clientY-a;u=T*T+H*H>d}o.mouse("drag",E)}function b(E){_t(E.view).on("mousemove.drag mouseup.drag",null),Qr(E.view,u),tn(E),o.mouse("end",E)}function y(E,T){if(t.call(this,E,T)){var H=E.changedTouches,S=e.call(this,E,T),V=H.length,I,K;for(I=0;I<V;++I)(K=w(this,S,E,T,H[I].identifier,H[I]))&&(mi(E),K("start",E,H[I]))}}function g(E){var T=E.changedTouches,H=T.length,S,V;for(S=0;S<H;++S)(V=o[T[S].identifier])&&(tn(E),V("drag",E,T[S]))}function _(E){var T=E.changedTouches,H=T.length,S,V;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),S=0;S<H;++S)(V=o[T[S].identifier])&&(mi(E),V("end",E,T[S]))}function w(E,T,H,S,V,I){var K=r.copy(),U=pt(I||H,T),Z,O,k;if((k=n.call(E,new Ci("beforestart",{sourceEvent:H,target:c,identifier:V,active:s,x:U[0],y:U[1],dx:0,dy:0,dispatch:K}),S))!=null)return Z=k.x-U[0]||0,O=k.y-U[1]||0,function B(p,P,R){var L=U,N;switch(p){case"start":o[V]=B,N=s++;break;case"end":delete o[V],--s;case"drag":U=pt(R||P,T),N=s;break}K.call(p,E,new Ci(p,{sourceEvent:P,subject:k,target:c,identifier:V,active:N,x:U[0]+Z,y:U[1]+O,dx:U[0]-L[0],dy:U[1]-L[1],dispatch:K}),S)}}return c.filter=function(E){return arguments.length?(t=typeof E=="function"?E:In(!!E),c):t},c.container=function(E){return arguments.length?(e=typeof E=="function"?E:In(E),c):e},c.subject=function(E){return arguments.length?(n=typeof E=="function"?E:In(E),c):n},c.touchable=function(E){return arguments.length?(i=typeof E=="function"?E:In(!!E),c):i},c.on=function(){var E=r.on.apply(r,arguments);return E===r?c:E},c.clickDistance=function(E){return arguments.length?(d=(E=+E)*E,c):Math.sqrt(d)},c}function Bi(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function xr(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Pn(){}var wn=.7,qn=1/wn,nn="\\s*([+-]?\\d+)\\s*",vn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Et="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",au=/^#([0-9a-f]{3,8})$/,uu=new RegExp(`^rgb\\(${nn},${nn},${nn}\\)$`),fu=new RegExp(`^rgb\\(${Et},${Et},${Et}\\)$`),cu=new RegExp(`^rgba\\(${nn},${nn},${nn},${vn}\\)$`),du=new RegExp(`^rgba\\(${Et},${Et},${Et},${vn}\\)$`),hu=new RegExp(`^hsl\\(${vn},${Et},${Et}\\)$`),gu=new RegExp(`^hsla\\(${vn},${Et},${Et},${vn}\\)$`),so={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Bi(Pn,kn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ao,formatHex:ao,formatHex8:mu,formatHsl:_u,formatRgb:uo,toString:uo});function ao(){return this.rgb().formatHex()}function mu(){return this.rgb().formatHex8()}function _u(){return $r(this).formatHsl()}function uo(){return this.rgb().formatRgb()}function kn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=au.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?fo(e):n===3?new nt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?zn(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?zn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=uu.exec(t))?new nt(e[1],e[2],e[3],1):(e=fu.exec(t))?new nt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=cu.exec(t))?zn(e[1],e[2],e[3],e[4]):(e=du.exec(t))?zn(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=hu.exec(t))?go(e[1],e[2]/100,e[3]/100,1):(e=gu.exec(t))?go(e[1],e[2]/100,e[3]/100,e[4]):so.hasOwnProperty(t)?fo(so[t]):t==="transparent"?new nt(NaN,NaN,NaN,0):null}function fo(t){return new nt(t>>16&255,t>>8&255,t&255,1)}function zn(t,e,n,i){return i<=0&&(t=e=n=NaN),new nt(t,e,n,i)}function yu(t){return t instanceof Pn||(t=kn(t)),t?(t=t.rgb(),new nt(t.r,t.g,t.b,t.opacity)):new nt}function Mi(t,e,n,i){return arguments.length===1?yu(t):new nt(t,e,n,i??1)}function nt(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}Bi(nt,Mi,xr(Pn,{brighter(t){return t=t==null?qn:Math.pow(qn,t),new nt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?wn:Math.pow(wn,t),new nt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new nt(Zt(this.r),Zt(this.g),Zt(this.b),Un(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:co,formatHex:co,formatHex8:bu,formatRgb:ho,toString:ho}));function co(){return`#${Wt(this.r)}${Wt(this.g)}${Wt(this.b)}`}function bu(){return`#${Wt(this.r)}${Wt(this.g)}${Wt(this.b)}${Wt((isNaN(this.opacity)?1:this.opacity)*255)}`}function ho(){const t=Un(this.opacity);return`${t===1?"rgb(":"rgba("}${Zt(this.r)}, ${Zt(this.g)}, ${Zt(this.b)}${t===1?")":`, ${t})`}`}function Un(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Zt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Wt(t){return t=Zt(t),(t<16?"0":"")+t.toString(16)}function go(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new yt(t,e,n,i)}function $r(t){if(t instanceof yt)return new yt(t.h,t.s,t.l,t.opacity);if(t instanceof Pn||(t=kn(t)),!t)return new yt;if(t instanceof yt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,o=Math.min(e,n,i),r=Math.max(e,n,i),s=NaN,l=r-o,a=(r+o)/2;return l?(e===r?s=(n-i)/l+(n<i)*6:n===r?s=(i-e)/l+2:s=(e-n)/l+4,l/=a<.5?r+o:2-r-o,s*=60):l=a>0&&a<1?0:s,new yt(s,l,a,t.opacity)}function wu(t,e,n,i){return arguments.length===1?$r(t):new yt(t,e,n,i??1)}function yt(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}Bi(yt,wu,xr(Pn,{brighter(t){return t=t==null?qn:Math.pow(qn,t),new yt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?wn:Math.pow(wn,t),new yt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,o=2*n-i;return new nt(_i(t>=240?t-240:t+120,o,i),_i(t,o,i),_i(t<120?t+240:t-120,o,i),this.opacity)},clamp(){return new yt(mo(this.h),On(this.s),On(this.l),Un(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Un(this.opacity);return`${t===1?"hsl(":"hsla("}${mo(this.h)}, ${On(this.s)*100}%, ${On(this.l)*100}%${t===1?")":`, ${t})`}`}}));function mo(t){return t=(t||0)%360,t<0?t+360:t}function On(t){return Math.max(0,Math.min(1,t||0))}function _i(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const el=t=>()=>t;function vu(t,e){return function(n){return t+n*e}}function ku(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function pu(t){return(t=+t)==1?tl:function(e,n){return n-e?ku(e,n,t):el(isNaN(e)?n:e)}}function tl(t,e){var n=e-t;return n?vu(t,n):el(isNaN(t)?e:t)}const _o=function t(e){var n=pu(e);function i(o,r){var s=n((o=Mi(o)).r,(r=Mi(r)).r),l=n(o.g,r.g),a=n(o.b,r.b),u=tl(o.opacity,r.opacity);return function(f){return o.r=s(f),o.g=l(f),o.b=a(f),o.opacity=u(f),o+""}}return i.gamma=t,i}(1);function Vt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Pi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yi=new RegExp(Pi.source,"g");function Eu(t){return function(){return t}}function Su(t){return function(e){return t(e)+""}}function Cu(t,e){var n=Pi.lastIndex=yi.lastIndex=0,i,o,r,s=-1,l=[],a=[];for(t=t+"",e=e+"";(i=Pi.exec(t))&&(o=yi.exec(e));)(r=o.index)>n&&(r=e.slice(n,r),l[s]?l[s]+=r:l[++s]=r),(i=i[0])===(o=o[0])?l[s]?l[s]+=o:l[++s]=o:(l[++s]=null,a.push({i:s,x:Vt(i,o)})),n=yi.lastIndex;return n<e.length&&(r=e.slice(n),l[s]?l[s]+=r:l[++s]=r),l.length<2?a[0]?Su(a[0].x):Eu(e):(e=a.length,function(u){for(var f=0,d;f<e;++f)l[(d=a[f]).i]=d.x(u);return l.join("")})}var yo=180/Math.PI,Ni={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function nl(t,e,n,i,o,r){var s,l,a;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(a=t*n+e*i)&&(n-=t*a,i-=e*a),(l=Math.sqrt(n*n+i*i))&&(n/=l,i/=l,a/=l),t*i<e*n&&(t=-t,e=-e,a=-a,s=-s),{translateX:o,translateY:r,rotate:Math.atan2(e,t)*yo,skewX:Math.atan(a)*yo,scaleX:s,scaleY:l}}var An;function Mu(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Ni:nl(e.a,e.b,e.c,e.d,e.e,e.f)}function Pu(t){return t==null||(An||(An=document.createElementNS("http://www.w3.org/2000/svg","g")),An.setAttribute("transform",t),!(t=An.transform.baseVal.consolidate()))?Ni:(t=t.matrix,nl(t.a,t.b,t.c,t.d,t.e,t.f))}function il(t,e,n,i){function o(u){return u.length?u.pop()+" ":""}function r(u,f,d,c,h,m){if(u!==d||f!==c){var b=h.push("translate(",null,e,null,n);m.push({i:b-4,x:Vt(u,d)},{i:b-2,x:Vt(f,c)})}else(d||c)&&h.push("translate("+d+e+c+n)}function s(u,f,d,c){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),c.push({i:d.push(o(d)+"rotate(",null,i)-2,x:Vt(u,f)})):f&&d.push(o(d)+"rotate("+f+i)}function l(u,f,d,c){u!==f?c.push({i:d.push(o(d)+"skewX(",null,i)-2,x:Vt(u,f)}):f&&d.push(o(d)+"skewX("+f+i)}function a(u,f,d,c,h,m){if(u!==d||f!==c){var b=h.push(o(h)+"scale(",null,",",null,")");m.push({i:b-4,x:Vt(u,d)},{i:b-2,x:Vt(f,c)})}else(d!==1||c!==1)&&h.push(o(h)+"scale("+d+","+c+")")}return function(u,f){var d=[],c=[];return u=t(u),f=t(f),r(u.translateX,u.translateY,f.translateX,f.translateY,d,c),s(u.rotate,f.rotate,d,c),l(u.skewX,f.skewX,d,c),a(u.scaleX,u.scaleY,f.scaleX,f.scaleY,d,c),u=f=null,function(h){for(var m=-1,b=c.length,y;++m<b;)d[(y=c[m]).i]=y.x(h);return d.join("")}}}var Nu=il(Mu,"px, ","px)","deg)"),Tu=il(Pu,", ",")",")"),Du=1e-12;function bo(t){return((t=Math.exp(t))+1/t)/2}function Iu(t){return((t=Math.exp(t))-1/t)/2}function zu(t){return((t=Math.exp(2*t))-1)/(t+1)}const Ou=function t(e,n,i){function o(r,s){var l=r[0],a=r[1],u=r[2],f=s[0],d=s[1],c=s[2],h=f-l,m=d-a,b=h*h+m*m,y,g;if(b<Du)g=Math.log(c/u)/e,y=function(S){return[l+S*h,a+S*m,u*Math.exp(e*S*g)]};else{var _=Math.sqrt(b),w=(c*c-u*u+i*b)/(2*u*n*_),E=(c*c-u*u-i*b)/(2*c*n*_),T=Math.log(Math.sqrt(w*w+1)-w),H=Math.log(Math.sqrt(E*E+1)-E);g=(H-T)/e,y=function(S){var V=S*g,I=bo(T),K=u/(n*_)*(I*zu(e*V+T)-Iu(T));return[l+K*h,a+K*m,u*I/bo(e*V+T)]}}return y.duration=g*1e3*e/Math.SQRT2,y}return o.rho=function(r){var s=Math.max(.001,+r),l=s*s,a=l*l;return t(s,l,a)},o}(Math.SQRT2,2,4);var sn=0,mn=0,hn=0,ol=1e3,Gn,_n,Jn=0,qt=0,li=0,pn=typeof performance=="object"&&performance.now?performance:Date,rl=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Wi(){return qt||(rl(Au),qt=pn.now()+li)}function Au(){qt=0}function jn(){this._call=this._time=this._next=null}jn.prototype=ll.prototype={constructor:jn,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Wi():+n)+(e==null?0:+e),!this._next&&_n!==this&&(_n?_n._next=this:Gn=this,_n=this),this._call=t,this._time=n,Ti()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ti())}};function ll(t,e,n){var i=new jn;return i.restart(t,e,n),i}function Hu(){Wi(),++sn;for(var t=Gn,e;t;)(e=qt-t._time)>=0&&t._call.call(void 0,e),t=t._next;--sn}function wo(){qt=(Jn=pn.now())+li,sn=mn=0;try{Hu()}finally{sn=0,Ru(),qt=0}}function Vu(){var t=pn.now(),e=t-Jn;e>ol&&(li-=e,Jn=t)}function Ru(){for(var t,e=Gn,n,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Gn=n);_n=t,Ti(i)}function Ti(t){if(!sn){mn&&(mn=clearTimeout(mn));var e=t-qt;e>24?(t<1/0&&(mn=setTimeout(wo,t-pn.now()-li)),hn&&(hn=clearInterval(hn))):(hn||(Jn=pn.now(),hn=setInterval(Vu,ol)),sn=1,rl(wo))}}function vo(t,e,n){var i=new jn;return e=e==null?0:+e,i.restart(o=>{i.stop(),t(o+e)},e,n),i}var Lu=oi("start","end","cancel","interrupt"),Xu=[],sl=0,ko=1,Di=2,Xn=3,po=4,Ii=5,Yn=6;function si(t,e,n,i,o,r){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;Yu(t,n,{name:e,index:i,group:o,on:Lu,tween:Xu,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:sl})}function Ki(t,e){var n=wt(t,e);if(n.state>sl)throw new Error("too late; already scheduled");return n}function Ct(t,e){var n=wt(t,e);if(n.state>Xn)throw new Error("too late; already running");return n}function wt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Yu(t,e,n){var i=t.__transition,o;i[e]=n,n.timer=ll(r,0,n.time);function r(u){n.state=ko,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var f,d,c,h;if(n.state!==ko)return a();for(f in i)if(h=i[f],h.name===n.name){if(h.state===Xn)return vo(s);h.state===po?(h.state=Yn,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[f]):+f<e&&(h.state=Yn,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[f])}if(vo(function(){n.state===Xn&&(n.state=po,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=Di,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Di){for(n.state=Xn,o=new Array(c=n.tween.length),f=0,d=-1;f<c;++f)(h=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(o[++d]=h);o.length=d+1}}function l(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(a),n.state=Ii,1),d=-1,c=o.length;++d<c;)o[d].call(t,f);n.state===Ii&&(n.on.call("end",t,t.__data__,n.index,n.group),a())}function a(){n.state=Yn,n.timer.stop(),delete i[e];for(var u in i)return;delete t.__transition}}function Bn(t,e){var n=t.__transition,i,o,r=!0,s;if(n){e=e==null?null:e+"";for(s in n){if((i=n[s]).name!==e){r=!1;continue}o=i.state>Di&&i.state<Ii,i.state=Yn,i.timer.stop(),i.on.call(o?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete n[s]}r&&delete t.__transition}}function Bu(t){return this.each(function(){Bn(this,t)})}function Wu(t,e){var n,i;return function(){var o=Ct(this,t),r=o.tween;if(r!==n){i=n=r;for(var s=0,l=i.length;s<l;++s)if(i[s].name===e){i=i.slice(),i.splice(s,1);break}}o.tween=i}}function Ku(t,e,n){var i,o;if(typeof n!="function")throw new Error;return function(){var r=Ct(this,t),s=r.tween;if(s!==i){o=(i=s).slice();for(var l={name:e,value:n},a=0,u=o.length;a<u;++a)if(o[a].name===e){o[a]=l;break}a===u&&o.push(l)}r.tween=o}}function Fu(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i=wt(this.node(),n).tween,o=0,r=i.length,s;o<r;++o)if((s=i[o]).name===t)return s.value;return null}return this.each((e==null?Wu:Ku)(n,t,e))}function Fi(t,e,n){var i=t._id;return t.each(function(){var o=Ct(this,i);(o.value||(o.value={}))[e]=n.apply(this,arguments)}),function(o){return wt(o,i).value[e]}}function al(t,e){var n;return(typeof e=="number"?Vt:e instanceof kn?_o:(n=kn(e))?(e=n,_o):Cu)(t,e)}function Zu(t){return function(){this.removeAttribute(t)}}function qu(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Uu(t,e,n){var i,o=n+"",r;return function(){var s=this.getAttribute(t);return s===o?null:s===i?r:r=e(i=s,n)}}function Gu(t,e,n){var i,o=n+"",r;return function(){var s=this.getAttributeNS(t.space,t.local);return s===o?null:s===i?r:r=e(i=s,n)}}function Ju(t,e,n){var i,o,r;return function(){var s,l=n(this),a;return l==null?void this.removeAttribute(t):(s=this.getAttribute(t),a=l+"",s===a?null:s===i&&a===o?r:(o=a,r=e(i=s,l)))}}function ju(t,e,n){var i,o,r;return function(){var s,l=n(this),a;return l==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),a=l+"",s===a?null:s===i&&a===o?r:(o=a,r=e(i=s,l)))}}function Qu(t,e){var n=ri(t),i=n==="transform"?Tu:al;return this.attrTween(t,typeof e=="function"?(n.local?ju:Ju)(n,i,Fi(this,"attr."+t,e)):e==null?(n.local?qu:Zu)(n):(n.local?Gu:Uu)(n,i,e))}function xu(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function $u(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function ef(t,e){var n,i;function o(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&$u(t,r)),n}return o._value=e,o}function tf(t,e){var n,i;function o(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&xu(t,r)),n}return o._value=e,o}function nf(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var i=ri(t);return this.tween(n,(i.local?ef:tf)(i,e))}function of(t,e){return function(){Ki(this,t).delay=+e.apply(this,arguments)}}function rf(t,e){return e=+e,function(){Ki(this,t).delay=e}}function lf(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?of:rf)(e,t)):wt(this.node(),e).delay}function sf(t,e){return function(){Ct(this,t).duration=+e.apply(this,arguments)}}function af(t,e){return e=+e,function(){Ct(this,t).duration=e}}function uf(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?sf:af)(e,t)):wt(this.node(),e).duration}function ff(t,e){if(typeof e!="function")throw new Error;return function(){Ct(this,t).ease=e}}function cf(t){var e=this._id;return arguments.length?this.each(ff(e,t)):wt(this.node(),e).ease}function df(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Ct(this,t).ease=n}}function hf(t){if(typeof t!="function")throw new Error;return this.each(df(this._id,t))}function gf(t){typeof t!="function"&&(t=Yr(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r=e[o],s=r.length,l=i[o]=[],a,u=0;u<s;++u)(a=r[u])&&t.call(a,a.__data__,u,r)&&l.push(a);return new Ht(i,this._parents,this._name,this._id)}function mf(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,o=n.length,r=Math.min(i,o),s=new Array(i),l=0;l<r;++l)for(var a=e[l],u=n[l],f=a.length,d=s[l]=new Array(f),c,h=0;h<f;++h)(c=a[h]||u[h])&&(d[h]=c);for(;l<i;++l)s[l]=e[l];return new Ht(s,this._parents,this._name,this._id)}function _f(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function yf(t,e,n){var i,o,r=_f(e)?Ki:Ct;return function(){var s=r(this,t),l=s.on;l!==i&&(o=(i=l).copy()).on(e,n),s.on=o}}function bf(t,e){var n=this._id;return arguments.length<2?wt(this.node(),n).on.on(t):this.each(yf(n,t,e))}function wf(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function vf(){return this.on("end.remove",wf(this._id))}function kf(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Xi(t));for(var i=this._groups,o=i.length,r=new Array(o),s=0;s<o;++s)for(var l=i[s],a=l.length,u=r[s]=new Array(a),f,d,c=0;c<a;++c)(f=l[c])&&(d=t.call(f,f.__data__,c,l))&&("__data__"in f&&(d.__data__=f.__data__),u[c]=d,si(u[c],e,n,c,u,wt(f,n)));return new Ht(r,this._parents,e,n)}function pf(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Xr(t));for(var i=this._groups,o=i.length,r=[],s=[],l=0;l<o;++l)for(var a=i[l],u=a.length,f,d=0;d<u;++d)if(f=a[d]){for(var c=t.call(f,f.__data__,d,a),h,m=wt(f,n),b=0,y=c.length;b<y;++b)(h=c[b])&&si(h,e,n,b,c,m);r.push(c),s.push(f)}return new Ht(r,s,e,n)}var Ef=Mn.prototype.constructor;function Sf(){return new Ef(this._groups,this._parents)}function Cf(t,e){var n,i,o;return function(){var r=ln(this,t),s=(this.style.removeProperty(t),ln(this,t));return r===s?null:r===n&&s===i?o:o=e(n=r,i=s)}}function ul(t){return function(){this.style.removeProperty(t)}}function Mf(t,e,n){var i,o=n+"",r;return function(){var s=ln(this,t);return s===o?null:s===i?r:r=e(i=s,n)}}function Pf(t,e,n){var i,o,r;return function(){var s=ln(this,t),l=n(this),a=l+"";return l==null&&(a=l=(this.style.removeProperty(t),ln(this,t))),s===a?null:s===i&&a===o?r:(o=a,r=e(i=s,l))}}function Nf(t,e){var n,i,o,r="style."+e,s="end."+r,l;return function(){var a=Ct(this,t),u=a.on,f=a.value[r]==null?l||(l=ul(e)):void 0;(u!==n||o!==f)&&(i=(n=u).copy()).on(s,o=f),a.on=i}}function Tf(t,e,n){var i=(t+="")=="transform"?Nu:al;return e==null?this.styleTween(t,Cf(t,i)).on("end.style."+t,ul(t)):typeof e=="function"?this.styleTween(t,Pf(t,i,Fi(this,"style."+t,e))).each(Nf(this._id,t)):this.styleTween(t,Mf(t,i,e),n).on("end.style."+t,null)}function Df(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function If(t,e,n){var i,o;function r(){var s=e.apply(this,arguments);return s!==o&&(i=(o=s)&&Df(t,s,n)),i}return r._value=e,r}function zf(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,If(t,e,n??""))}function Of(t){return function(){this.textContent=t}}function Af(t){return function(){var e=t(this);this.textContent=e??""}}function Hf(t){return this.tween("text",typeof t=="function"?Af(Fi(this,"text",t)):Of(t==null?"":t+""))}function Vf(t){return function(e){this.textContent=t.call(this,e)}}function Rf(t){var e,n;function i(){var o=t.apply(this,arguments);return o!==n&&(e=(n=o)&&Vf(o)),e}return i._value=t,i}function Lf(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Rf(t))}function Xf(){for(var t=this._name,e=this._id,n=fl(),i=this._groups,o=i.length,r=0;r<o;++r)for(var s=i[r],l=s.length,a,u=0;u<l;++u)if(a=s[u]){var f=wt(a,e);si(a,t,n,u,s,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Ht(i,this._parents,t,n)}function Yf(){var t,e,n=this,i=n._id,o=n.size();return new Promise(function(r,s){var l={value:s},a={value:function(){--o===0&&r()}};n.each(function(){var u=Ct(this,i),f=u.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(a)),u.on=e}),o===0&&r()})}var Bf=0;function Ht(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function fl(){return++Bf}var It=Mn.prototype;Ht.prototype={constructor:Ht,select:kf,selectAll:pf,selectChild:It.selectChild,selectChildren:It.selectChildren,filter:gf,merge:mf,selection:Sf,transition:Xf,call:It.call,nodes:It.nodes,node:It.node,size:It.size,empty:It.empty,each:It.each,on:bf,attr:Qu,attrTween:nf,style:Tf,styleTween:zf,text:Hf,textTween:Lf,remove:vf,tween:Fu,delay:lf,duration:uf,ease:cf,easeVarying:hf,end:Yf,[Symbol.iterator]:It[Symbol.iterator]};function Wf(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Kf={time:null,delay:0,duration:250,ease:Wf};function Ff(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Zf(t){var e,n;t instanceof Ht?(e=t._id,t=t._name):(e=fl(),(n=Kf).time=Wi(),t=t==null?null:t+"");for(var i=this._groups,o=i.length,r=0;r<o;++r)for(var s=i[r],l=s.length,a,u=0;u<l;++u)(a=s[u])&&si(a,t,e,u,s,n||Ff(a,e));return new Ht(i,this._parents,t,e)}Mn.prototype.interrupt=Bu;Mn.prototype.transition=Zf;const Hn=t=>()=>t;function qf(t,{sourceEvent:e,target:n,transform:i,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function zt(t,e,n){this.k=t,this.x=e,this.y=n}zt.prototype={constructor:zt,scale:function(t){return t===1?this:new zt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new zt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ai=new zt(1,0,0);cl.prototype=zt.prototype;function cl(t){for(;!t.__zoom;)if(!(t=t.parentNode))return ai;return t.__zoom}function bi(t){t.stopImmediatePropagation()}function gn(t){t.preventDefault(),t.stopImmediatePropagation()}function Uf(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Gf(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Eo(){return this.__zoom||ai}function Jf(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function jf(){return navigator.maxTouchPoints||"ontouchstart"in this}function Qf(t,e,n){var i=t.invertX(e[0][0])-n[0][0],o=t.invertX(e[1][0])-n[1][0],r=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o),s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s))}function xf(){var t=Uf,e=Gf,n=Qf,i=Jf,o=jf,r=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],l=250,a=Ou,u=oi("start","zoom","end"),f,d,c,h=500,m=150,b=0,y=10;function g(k){k.property("__zoom",Eo).on("wheel.zoom",V,{passive:!1}).on("mousedown.zoom",I).on("dblclick.zoom",K).filter(o).on("touchstart.zoom",U).on("touchmove.zoom",Z).on("touchend.zoom touchcancel.zoom",O).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(k,B,p,P){var R=k.selection?k.selection():k;R.property("__zoom",Eo),k!==R?T(k,B,p,P):R.interrupt().each(function(){H(this,arguments).event(P).start().zoom(null,typeof B=="function"?B.apply(this,arguments):B).end()})},g.scaleBy=function(k,B,p,P){g.scaleTo(k,function(){var R=this.__zoom.k,L=typeof B=="function"?B.apply(this,arguments):B;return R*L},p,P)},g.scaleTo=function(k,B,p,P){g.transform(k,function(){var R=e.apply(this,arguments),L=this.__zoom,N=p==null?E(R):typeof p=="function"?p.apply(this,arguments):p,Y=L.invert(N),W=typeof B=="function"?B.apply(this,arguments):B;return n(w(_(L,W),N,Y),R,s)},p,P)},g.translateBy=function(k,B,p,P){g.transform(k,function(){return n(this.__zoom.translate(typeof B=="function"?B.apply(this,arguments):B,typeof p=="function"?p.apply(this,arguments):p),e.apply(this,arguments),s)},null,P)},g.translateTo=function(k,B,p,P,R){g.transform(k,function(){var L=e.apply(this,arguments),N=this.__zoom,Y=P==null?E(L):typeof P=="function"?P.apply(this,arguments):P;return n(ai.translate(Y[0],Y[1]).scale(N.k).translate(typeof B=="function"?-B.apply(this,arguments):-B,typeof p=="function"?-p.apply(this,arguments):-p),L,s)},P,R)};function _(k,B){return B=Math.max(r[0],Math.min(r[1],B)),B===k.k?k:new zt(B,k.x,k.y)}function w(k,B,p){var P=B[0]-p[0]*k.k,R=B[1]-p[1]*k.k;return P===k.x&&R===k.y?k:new zt(k.k,P,R)}function E(k){return[(+k[0][0]+ +k[1][0])/2,(+k[0][1]+ +k[1][1])/2]}function T(k,B,p,P){k.on("start.zoom",function(){H(this,arguments).event(P).start()}).on("interrupt.zoom end.zoom",function(){H(this,arguments).event(P).end()}).tween("zoom",function(){var R=this,L=arguments,N=H(R,L).event(P),Y=e.apply(R,L),W=p==null?E(Y):typeof p=="function"?p.apply(R,L):p,j=Math.max(Y[1][0]-Y[0][0],Y[1][1]-Y[0][1]),z=R.__zoom,Q=typeof B=="function"?B.apply(R,L):B,ne=a(z.invert(W).concat(j/z.k),Q.invert(W).concat(j/Q.k));return function(A){if(A===1)A=Q;else{var se=ne(A),ge=j/se[2];A=new zt(ge,W[0]-se[0]*ge,W[1]-se[1]*ge)}N.zoom(null,A)}})}function H(k,B,p){return!p&&k.__zooming||new S(k,B)}function S(k,B){this.that=k,this.args=B,this.active=0,this.sourceEvent=null,this.extent=e.apply(k,B),this.taps=0}S.prototype={event:function(k){return k&&(this.sourceEvent=k),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(k,B){return this.mouse&&k!=="mouse"&&(this.mouse[1]=B.invert(this.mouse[0])),this.touch0&&k!=="touch"&&(this.touch0[1]=B.invert(this.touch0[0])),this.touch1&&k!=="touch"&&(this.touch1[1]=B.invert(this.touch1[0])),this.that.__zoom=B,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(k){var B=_t(this.that).datum();u.call(k,this.that,new qf(k,{sourceEvent:this.sourceEvent,target:g,type:k,transform:this.that.__zoom,dispatch:u}),B)}};function V(k,...B){if(!t.apply(this,arguments))return;var p=H(this,B).event(k),P=this.__zoom,R=Math.max(r[0],Math.min(r[1],P.k*Math.pow(2,i.apply(this,arguments)))),L=pt(k);if(p.wheel)(p.mouse[0][0]!==L[0]||p.mouse[0][1]!==L[1])&&(p.mouse[1]=P.invert(p.mouse[0]=L)),clearTimeout(p.wheel);else{if(P.k===R)return;p.mouse=[L,P.invert(L)],Bn(this),p.start()}gn(k),p.wheel=setTimeout(N,m),p.zoom("mouse",n(w(_(P,R),p.mouse[0],p.mouse[1]),p.extent,s));function N(){p.wheel=null,p.end()}}function I(k,...B){if(c||!t.apply(this,arguments))return;var p=k.currentTarget,P=H(this,B,!0).event(k),R=_t(k.view).on("mousemove.zoom",W,!0).on("mouseup.zoom",j,!0),L=pt(k,p),N=k.clientX,Y=k.clientY;jr(k.view),bi(k),P.mouse=[L,this.__zoom.invert(L)],Bn(this),P.start();function W(z){if(gn(z),!P.moved){var Q=z.clientX-N,ne=z.clientY-Y;P.moved=Q*Q+ne*ne>b}P.event(z).zoom("mouse",n(w(P.that.__zoom,P.mouse[0]=pt(z,p),P.mouse[1]),P.extent,s))}function j(z){R.on("mousemove.zoom mouseup.zoom",null),Qr(z.view,P.moved),gn(z),P.event(z).end()}}function K(k,...B){if(t.apply(this,arguments)){var p=this.__zoom,P=pt(k.changedTouches?k.changedTouches[0]:k,this),R=p.invert(P),L=p.k*(k.shiftKey?.5:2),N=n(w(_(p,L),P,R),e.apply(this,B),s);gn(k),l>0?_t(this).transition().duration(l).call(T,N,P,k):_t(this).call(g.transform,N,P,k)}}function U(k,...B){if(t.apply(this,arguments)){var p=k.touches,P=p.length,R=H(this,B,k.changedTouches.length===P).event(k),L,N,Y,W;for(bi(k),N=0;N<P;++N)Y=p[N],W=pt(Y,this),W=[W,this.__zoom.invert(W),Y.identifier],R.touch0?!R.touch1&&R.touch0[2]!==W[2]&&(R.touch1=W,R.taps=0):(R.touch0=W,L=!0,R.taps=1+!!f);f&&(f=clearTimeout(f)),L&&(R.taps<2&&(d=W[0],f=setTimeout(function(){f=null},h)),Bn(this),R.start())}}function Z(k,...B){if(this.__zooming){var p=H(this,B).event(k),P=k.changedTouches,R=P.length,L,N,Y,W;for(gn(k),L=0;L<R;++L)N=P[L],Y=pt(N,this),p.touch0&&p.touch0[2]===N.identifier?p.touch0[0]=Y:p.touch1&&p.touch1[2]===N.identifier&&(p.touch1[0]=Y);if(N=p.that.__zoom,p.touch1){var j=p.touch0[0],z=p.touch0[1],Q=p.touch1[0],ne=p.touch1[1],A=(A=Q[0]-j[0])*A+(A=Q[1]-j[1])*A,se=(se=ne[0]-z[0])*se+(se=ne[1]-z[1])*se;N=_(N,Math.sqrt(A/se)),Y=[(j[0]+Q[0])/2,(j[1]+Q[1])/2],W=[(z[0]+ne[0])/2,(z[1]+ne[1])/2]}else if(p.touch0)Y=p.touch0[0],W=p.touch0[1];else return;p.zoom("touch",n(w(N,Y,W),p.extent,s))}}function O(k,...B){if(this.__zooming){var p=H(this,B).event(k),P=k.changedTouches,R=P.length,L,N;for(bi(k),c&&clearTimeout(c),c=setTimeout(function(){c=null},h),L=0;L<R;++L)N=P[L],p.touch0&&p.touch0[2]===N.identifier?delete p.touch0:p.touch1&&p.touch1[2]===N.identifier&&delete p.touch1;if(p.touch1&&!p.touch0&&(p.touch0=p.touch1,delete p.touch1),p.touch0)p.touch0[1]=this.__zoom.invert(p.touch0[0]);else if(p.end(),p.taps===2&&(N=pt(N,this),Math.hypot(d[0]-N[0],d[1]-N[1])<y)){var Y=_t(this).on("dblclick.zoom");Y&&Y.apply(this,arguments)}}}return g.wheelDelta=function(k){return arguments.length?(i=typeof k=="function"?k:Hn(+k),g):i},g.filter=function(k){return arguments.length?(t=typeof k=="function"?k:Hn(!!k),g):t},g.touchable=function(k){return arguments.length?(o=typeof k=="function"?k:Hn(!!k),g):o},g.extent=function(k){return arguments.length?(e=typeof k=="function"?k:Hn([[+k[0][0],+k[0][1]],[+k[1][0],+k[1][1]]]),g):e},g.scaleExtent=function(k){return arguments.length?(r[0]=+k[0],r[1]=+k[1],g):[r[0],r[1]]},g.translateExtent=function(k){return arguments.length?(s[0][0]=+k[0][0],s[1][0]=+k[1][0],s[0][1]=+k[0][1],s[1][1]=+k[1][1],g):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},g.constrain=function(k){return arguments.length?(n=k,g):n},g.duration=function(k){return arguments.length?(l=+k,g):l},g.interpolate=function(k){return arguments.length?(a=k,g):a},g.on=function(){var k=u.on.apply(u,arguments);return k===u?g:k},g.clickDistance=function(k){return arguments.length?(b=(k=+k)*k,g):Math.sqrt(b)},g.tapDistance=function(k){return arguments.length?(y=+k,g):y},g}const Nn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:n,targetHandle:i})=>`Couldn't create edge for ${t} handle id: "${t==="source"?n:i}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(t="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${t}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID."},Qn=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]];var Ut;(function(t){t.Strict="strict",t.Loose="loose"})(Ut||(Ut={}));var St;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(St||(St={}));var xn;(function(t){t.Partial="partial",t.Full="full"})(xn||(xn={}));const zi={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var on;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(on||(on={}));var $n;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})($n||($n={}));var we;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(we||(we={}));const So={[we.Left]:we.Right,[we.Right]:we.Left,[we.Top]:we.Bottom,[we.Bottom]:we.Top};function $f(t,e){if(!t&&!e)return!0;if(!t||!e||t.size!==e.size)return!1;if(!t.size&&!e.size)return!0;for(const n of t.keys())if(!e.has(n))return!1;return!0}function Co(t,e,n){if(!n)return;const i=[];t.forEach((o,r)=>{e!=null&&e.has(r)||i.push(o)}),i.length&&n(i)}function Mo(t){return t===null?null:t?"valid":"invalid"}const ec=t=>"id"in t&&"source"in t&&"target"in t,dl=t=>"id"in t&&"internals"in t&&!("source"in t)&&!("target"in t),Tn=(t,e=[0,0])=>{const{width:n,height:i}=Jt(t),o=t.origin??e,r=n*o[0],s=i*o[1];return{x:t.position.x-r,y:t.position.y-s}},ui=(t,e={})=>{if(t.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return t.forEach(i=>{if(e.filter===void 0||e.filter(i)){const o=Hi(i);n=Zi(n,o)}}),qi(n)},hl=(t,e,[n,i,o]=[0,0,1],r=!1,s=!1)=>{const l={...ci(e,[n,i,o]),width:e.width/o,height:e.height/o},a=[];for(const u of t.values()){const{measured:f,selectable:d=!0,hidden:c=!1}=u;if(s&&!d||c)continue;const h=f.width??u.width??u.initialWidth??null,m=f.height??u.height??u.initialHeight??null,b=Ui(l,fi(u)),y=(h??0)*(m??0),g=r&&b>0;(!u.internals.handleBounds||g||b>=y||u.dragging)&&a.push(u)}return a},Oi=(t,e)=>{const n=new Set;return t.forEach(i=>{n.add(i.id)}),e.filter(i=>n.has(i.source)||n.has(i.target))};function Po(t,e){const n=new Map,i=e!=null&&e.nodes?new Set(e.nodes.map(o=>o.id)):null;return t.forEach(o=>{o.measured.width&&o.measured.height&&((e==null?void 0:e.includeHiddenNodes)||!o.hidden)&&(!i||i.has(o.id))&&n.set(o.id,o)}),n}async function No({nodes:t,width:e,height:n,panZoom:i,minZoom:o,maxZoom:r},s){if(t.size===0)return Promise.resolve(!1);const l=ui(t),a=_l(l,e,n,(s==null?void 0:s.minZoom)??o,(s==null?void 0:s.maxZoom)??r,(s==null?void 0:s.padding)??.1);return await i.setViewport(a,{duration:s==null?void 0:s.duration}),Promise.resolve(!0)}function tc({nodeId:t,nextPosition:e,nodeLookup:n,nodeOrigin:i=[0,0],nodeExtent:o,onError:r}){const s=n.get(t),l=s.parentId?n.get(s.parentId):void 0,{x:a,y:u}=l?l.internals.positionAbsolute:{x:0,y:0},f=s.origin??i;let d=o;if(s.extent==="parent"&&!s.expandParent)if(!l)r==null||r("005",Nn.error005());else{const h=l.measured.width,m=l.measured.height;h&&m&&(d=[[a,u],[a+h,u+m]])}else l&&un(s.extent)&&(d=[[s.extent[0][0]+a,s.extent[0][1]+u],[s.extent[1][0]+a,s.extent[1][1]+u]]);const c=un(d)?Gt(e,d,s.measured):e;return{position:{x:c.x-a+s.measured.width*f[0],y:c.y-u+s.measured.height*f[1]},positionAbsolute:c}}async function nc({nodesToRemove:t=[],edgesToRemove:e=[],nodes:n,edges:i,onBeforeDelete:o}){const r=new Set(t.map(c=>c.id)),s=[];for(const c of n){if(c.deletable===!1)continue;const h=r.has(c.id),m=!h&&c.parentId&&s.find(b=>b.id===c.parentId);(h||m)&&s.push(c)}const l=new Set(e.map(c=>c.id)),a=i.filter(c=>c.deletable!==!1),f=Oi(s,a);for(const c of a)l.has(c.id)&&!f.find(m=>m.id===c.id)&&f.push(c);if(!o)return{edges:f,nodes:s};const d=await o({nodes:s,edges:f});return typeof d=="boolean"?d?{edges:f,nodes:s}:{edges:[],nodes:[]}:d}const an=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),Gt=(t={x:0,y:0},e,n)=>({x:an(t.x,e[0][0],e[1][0]-((n==null?void 0:n.width)??0)),y:an(t.y,e[0][1],e[1][1]-((n==null?void 0:n.height)??0))});function gl(t,e,n){const{width:i,height:o}=Jt(n),{x:r,y:s}=n.internals.positionAbsolute;return Gt(t,[[r,s],[r+i,s+o]],e)}const To=(t,e,n)=>t<e?an(Math.abs(t-e),1,e)/e:t>n?-an(Math.abs(t-n),1,e)/e:0,ml=(t,e,n=15,i=40)=>{const o=To(t.x,i,e.width-i)*n,r=To(t.y,i,e.height-i)*n;return[o,r]},Zi=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),Ai=({x:t,y:e,width:n,height:i})=>({x:t,y:e,x2:t+n,y2:e+i}),qi=({x:t,y:e,x2:n,y2:i})=>({x:t,y:e,width:n-t,height:i-e}),fi=(t,e=[0,0])=>{var o,r;const{x:n,y:i}=dl(t)?t.internals.positionAbsolute:Tn(t,e);return{x:n,y:i,width:((o=t.measured)==null?void 0:o.width)??t.width??t.initialWidth??0,height:((r=t.measured)==null?void 0:r.height)??t.height??t.initialHeight??0}},Hi=(t,e=[0,0])=>{var o,r;const{x:n,y:i}=dl(t)?t.internals.positionAbsolute:Tn(t,e);return{x:n,y:i,x2:n+(((o=t.measured)==null?void 0:o.width)??t.width??t.initialWidth??0),y2:i+(((r=t.measured)==null?void 0:r.height)??t.height??t.initialHeight??0)}},ic=(t,e)=>qi(Zi(Ai(t),Ai(e))),Ui=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),i=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*i)},Kt=t=>!isNaN(t)&&isFinite(t),oc=(t,e)=>{},Gi=(t,e=[1,1])=>({x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}),ci=({x:t,y:e},[n,i,o],r=!1,s=[1,1])=>{const l={x:(t-n)/o,y:(e-i)/o};return r?Gi(l,s):l},rc=({x:t,y:e},[n,i,o])=>({x:t*o+n,y:e*o+i}),_l=(t,e,n,i,o,r)=>{const s=e/(t.width*(1+r)),l=n/(t.height*(1+r)),a=Math.min(s,l),u=an(a,i,o),f=t.x+t.width/2,d=t.y+t.height/2,c=e/2-f*u,h=n/2-d*u;return{x:c,y:h,zoom:u}},ei=()=>{var t;return typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)==null?void 0:t.indexOf("Mac"))>=0};function un(t){return t!==void 0&&t!=="parent"}function Jt(t){var e,n;return{width:((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth??0,height:((n=t.measured)==null?void 0:n.height)??t.height??t.initialHeight??0}}function Do(t){var e,n;return(((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth)!==void 0&&(((n=t.measured)==null?void 0:n.height)??t.height??t.initialHeight)!==void 0}function wi(t,{snapGrid:e=[0,0],snapToGrid:n=!1,transform:i,containerBounds:o}){const{x:r,y:s}=Ot(t),l=ci({x:r-((o==null?void 0:o.left)??0),y:s-((o==null?void 0:o.top)??0)},i),{x:a,y:u}=n?Gi(l,e):l;return{xSnapped:a,ySnapped:u,...l}}const Ji=t=>({width:t.offsetWidth,height:t.offsetHeight}),lc=t=>{var e;return((e=t==null?void 0:t.getRootNode)==null?void 0:e.call(t))||(window==null?void 0:window.document)},sc=["INPUT","SELECT","TEXTAREA"];function ac(t){var i,o;const e=((o=(i=t.composedPath)==null?void 0:i.call(t))==null?void 0:o[0])||t.target;return(e==null?void 0:e.nodeType)!==1?!1:sc.includes(e.nodeName)||e.hasAttribute("contenteditable")||!!e.closest(".nokey")}const yl=t=>"clientX"in t,Ot=(t,e)=>{var r,s;const n=yl(t),i=n?t.clientX:(r=t.touches)==null?void 0:r[0].clientX,o=n?t.clientY:(s=t.touches)==null?void 0:s[0].clientY;return{x:i-((e==null?void 0:e.left)??0),y:o-((e==null?void 0:e.top)??0)}},Io=(t,e,n,i,o)=>{const r=e.querySelectorAll(`.${t}`);return!r||!r.length?null:Array.from(r).map(s=>{const l=s.getBoundingClientRect();return{id:s.getAttribute("data-handleid"),type:t,nodeId:o,position:s.getAttribute("data-handlepos"),x:(l.left-n.left)/i,y:(l.top-n.top)/i,...Ji(s)}})};function uc({sourceX:t,sourceY:e,targetX:n,targetY:i,sourceControlX:o,sourceControlY:r,targetControlX:s,targetControlY:l}){const a=t*.125+o*.375+s*.375+n*.125,u=e*.125+r*.375+l*.375+i*.125,f=Math.abs(a-t),d=Math.abs(u-e);return[a,u,f,d]}function Vn(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function zo({pos:t,x1:e,y1:n,x2:i,y2:o,c:r}){switch(t){case we.Left:return[e-Vn(e-i,r),n];case we.Right:return[e+Vn(i-e,r),n];case we.Top:return[e,n-Vn(n-o,r)];case we.Bottom:return[e,n+Vn(o-n,r)]}}function bl({sourceX:t,sourceY:e,sourcePosition:n=we.Bottom,targetX:i,targetY:o,targetPosition:r=we.Top,curvature:s=.25}){const[l,a]=zo({pos:n,x1:t,y1:e,x2:i,y2:o,c:s}),[u,f]=zo({pos:r,x1:i,y1:o,x2:t,y2:e,c:s}),[d,c,h,m]=uc({sourceX:t,sourceY:e,targetX:i,targetY:o,sourceControlX:l,sourceControlY:a,targetControlX:u,targetControlY:f});return[`M${t},${e} C${l},${a} ${u},${f} ${i},${o}`,d,c,h,m]}function wl({sourceX:t,sourceY:e,targetX:n,targetY:i}){const o=Math.abs(n-t)/2,r=n<t?n+o:n-o,s=Math.abs(i-e)/2,l=i<e?i+s:i-s;return[r,l,o,s]}function fc({sourceNode:t,targetNode:e,selected:n=!1,zIndex:i=0,elevateOnSelect:o=!1}){if(!o)return i;const r=n||e.selected||t.selected,s=Math.max(t.internals.z||0,e.internals.z||0,1e3);return i+(r?s:0)}function cc({sourceNode:t,targetNode:e,width:n,height:i,transform:o}){const r=Zi(Hi(t),Hi(e));r.x===r.x2&&(r.x2+=1),r.y===r.y2&&(r.y2+=1);const s={x:-o[0]/o[2],y:-o[1]/o[2],width:n/o[2],height:i/o[2]};return Ui(s,qi(r))>0}const dc=({source:t,sourceHandle:e,target:n,targetHandle:i})=>`xy-edge__${t}${e||""}-${n}${i||""}`,hc=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),gc=(t,e)=>{if(!t.source||!t.target)return e;let n;return ec(t)?n={...t}:n={...t,id:dc(t)},hc(n,e)?e:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,e.concat(n))};function vl({sourceX:t,sourceY:e,targetX:n,targetY:i}){const[o,r,s,l]=wl({sourceX:t,sourceY:e,targetX:n,targetY:i});return[`M ${t},${e}L ${n},${i}`,o,r,s,l]}const Oo={[we.Left]:{x:-1,y:0},[we.Right]:{x:1,y:0},[we.Top]:{x:0,y:-1},[we.Bottom]:{x:0,y:1}},mc=({source:t,sourcePosition:e=we.Bottom,target:n})=>e===we.Left||e===we.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},Ao=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function _c({source:t,sourcePosition:e=we.Bottom,target:n,targetPosition:i=we.Top,center:o,offset:r}){const s=Oo[e],l=Oo[i],a={x:t.x+s.x*r,y:t.y+s.y*r},u={x:n.x+l.x*r,y:n.y+l.y*r},f=mc({source:a,sourcePosition:e,target:u}),d=f.x!==0?"x":"y",c=f[d];let h=[],m,b;const y={x:0,y:0},g={x:0,y:0},[_,w,E,T]=wl({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(s[d]*l[d]===-1){m=o.x??_,b=o.y??w;const S=[{x:m,y:a.y},{x:m,y:u.y}],V=[{x:a.x,y:b},{x:u.x,y:b}];s[d]===c?h=d==="x"?S:V:h=d==="x"?V:S}else{const S=[{x:a.x,y:u.y}],V=[{x:u.x,y:a.y}];if(d==="x"?h=s.x===c?V:S:h=s.y===c?S:V,e===i){const O=Math.abs(t[d]-n[d]);if(O<=r){const k=Math.min(r-1,r-O);s[d]===c?y[d]=(a[d]>t[d]?-1:1)*k:g[d]=(u[d]>n[d]?-1:1)*k}}if(e!==i){const O=d==="x"?"y":"x",k=s[d]===l[O],B=a[O]>u[O],p=a[O]<u[O];(s[d]===1&&(!k&&B||k&&p)||s[d]!==1&&(!k&&p||k&&B))&&(h=d==="x"?S:V)}const I={x:a.x+y.x,y:a.y+y.y},K={x:u.x+g.x,y:u.y+g.y},U=Math.max(Math.abs(I.x-h[0].x),Math.abs(K.x-h[0].x)),Z=Math.max(Math.abs(I.y-h[0].y),Math.abs(K.y-h[0].y));U>=Z?(m=(I.x+K.x)/2,b=h[0].y):(m=h[0].x,b=(I.y+K.y)/2)}return[[t,{x:a.x+y.x,y:a.y+y.y},...h,{x:u.x+g.x,y:u.y+g.y},n],m,b,E,T]}function yc(t,e,n,i){const o=Math.min(Ao(t,e)/2,Ao(e,n)/2,i),{x:r,y:s}=e;if(t.x===r&&r===n.x||t.y===s&&s===n.y)return`L${r} ${s}`;if(t.y===s){const u=t.x<n.x?-1:1,f=t.y<n.y?1:-1;return`L ${r+o*u},${s}Q ${r},${s} ${r},${s+o*f}`}const l=t.x<n.x?1:-1,a=t.y<n.y?-1:1;return`L ${r},${s+o*a}Q ${r},${s} ${r+o*l},${s}`}function ti({sourceX:t,sourceY:e,sourcePosition:n=we.Bottom,targetX:i,targetY:o,targetPosition:r=we.Top,borderRadius:s=5,centerX:l,centerY:a,offset:u=20}){const[f,d,c,h,m]=_c({source:{x:t,y:e},sourcePosition:n,target:{x:i,y:o},targetPosition:r,center:{x:l,y:a},offset:u});return[f.reduce((y,g,_)=>{let w="";return _>0&&_<f.length-1?w=yc(f[_-1],g,f[_+1],s):w=`${_===0?"M":"L"}${g.x} ${g.y}`,y+=w,y},""),d,c,h,m]}function Ho(t){var e;return t&&!!(t.internals.handleBounds||(e=t.handles)!=null&&e.length)&&!!(t.measured.width||t.width||t.initialWidth)}function bc(t){var d;const{sourceNode:e,targetNode:n}=t;if(!Ho(e)||!Ho(n))return null;const i=e.internals.handleBounds||Vo(e.handles),o=n.internals.handleBounds||Vo(n.handles),r=Ro((i==null?void 0:i.source)??[],t.sourceHandle),s=Ro(t.connectionMode===Ut.Strict?(o==null?void 0:o.target)??[]:((o==null?void 0:o.target)??[]).concat((o==null?void 0:o.source)??[]),t.targetHandle);if(!r||!s)return(d=t.onError)==null||d.call(t,"008",Nn.error008(r?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const l=(r==null?void 0:r.position)||we.Bottom,a=(s==null?void 0:s.position)||we.Top,u=En(e,r,l),f=En(n,s,a);return{sourceX:u.x,sourceY:u.y,targetX:f.x,targetY:f.y,sourcePosition:l,targetPosition:a}}function Vo(t){if(!t)return null;const e=[],n=[];for(const i of t)i.width=i.width??1,i.height=i.height??1,i.type==="source"?e.push(i):i.type==="target"&&n.push(i);return{source:e,target:n}}function En(t,e,n=we.Left,i=!1){const o=((e==null?void 0:e.x)??0)+t.internals.positionAbsolute.x,r=((e==null?void 0:e.y)??0)+t.internals.positionAbsolute.y,{width:s,height:l}=e??Jt(t);if(i)return{x:o+s/2,y:r+l/2};switch((e==null?void 0:e.position)??n){case we.Top:return{x:o+s/2,y:r};case we.Right:return{x:o+s,y:r+l/2};case we.Bottom:return{x:o+s/2,y:r+l};case we.Left:return{x:o,y:r+l/2}}}function Ro(t,e){return t&&(e?t.find(n=>n.id===e):t[0])||null}function Vi(t,e){return t?typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(i=>`${i}=${t[i]}`).join("&")}`:""}function wc(t,{id:e,defaultColor:n,defaultMarkerStart:i,defaultMarkerEnd:o}){const r=new Set;return t.reduce((s,l)=>([l.markerStart||i,l.markerEnd||o].forEach(a=>{if(a&&typeof a=="object"){const u=Vi(a,e);r.has(u)||(s.push({id:u,color:a.color||n,...a}),r.add(u))}}),s),[]).sort((s,l)=>s.id.localeCompare(l.id))}const ji={nodeOrigin:[0,0],nodeExtent:Qn,elevateNodesOnSelect:!0,defaults:{}},vc={...ji,checkEquality:!0};function Qi(t,e){const n={...t};for(const i in e)e[i]!==void 0&&(n[i]=e[i]);return n}function kc(t,e,n){const i=Qi(ji,n);for(const o of t.values())if(o.parentId)xi(o,t,e,i);else{const r=Tn(o,i.nodeOrigin),s=un(o.extent)?o.extent:i.nodeExtent,l=Gt(r,s,Jt(o));o.internals.positionAbsolute=l}}function kl(t,e,n,i){var l,a;const o=Qi(vc,i),r=new Map(e),s=o!=null&&o.elevateNodesOnSelect?1e3:0;e.clear(),n.clear();for(const u of t){let f=r.get(u.id);if(o.checkEquality&&u===(f==null?void 0:f.internals.userNode))e.set(u.id,f);else{const d=Tn(u,o.nodeOrigin),c=un(u.extent)?u.extent:o.nodeExtent,h=Gt(d,c,Jt(u));f={...o.defaults,...u,measured:{width:(l=u.measured)==null?void 0:l.width,height:(a=u.measured)==null?void 0:a.height},internals:{positionAbsolute:h,handleBounds:u.measured?f==null?void 0:f.internals.handleBounds:void 0,z:pl(u,s),userNode:u}},e.set(u.id,f)}u.parentId&&xi(f,e,n,i)}}function pc(t,e){if(!t.parentId)return;const n=e.get(t.parentId);n?n.set(t.id,t):e.set(t.parentId,new Map([[t.id,t]]))}function xi(t,e,n,i){const{elevateNodesOnSelect:o,nodeOrigin:r,nodeExtent:s}=Qi(ji,i),l=t.parentId,a=e.get(l);if(!a){console.warn(`Parent node ${l} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}pc(t,n);const u=o?1e3:0,{x:f,y:d,z:c}=Ec(t,a,r,s,u),{positionAbsolute:h}=t.internals,m=f!==h.x||d!==h.y;(m||c!==t.internals.z)&&e.set(t.id,{...t,internals:{...t.internals,positionAbsolute:m?{x:f,y:d}:h,z:c}})}function pl(t,e){return(Kt(t.zIndex)?t.zIndex:0)+(t.selected?e:0)}function Ec(t,e,n,i,o){const{x:r,y:s}=e.internals.positionAbsolute,l=Jt(t),a=Tn(t,n),u=un(t.extent)?Gt(a,t.extent,l):a;let f=Gt({x:r+u.x,y:s+u.y},i,l);t.extent==="parent"&&(f=gl(f,l,e));const d=pl(t,o),c=e.internals.z??0;return{x:f.x,y:f.y,z:c>d?c:d}}function Sc(t,e,n,i=[0,0]){var s;const o=[],r=new Map;for(const l of t){const a=e.get(l.parentId);if(!a)continue;const u=((s=r.get(l.parentId))==null?void 0:s.expandedRect)??fi(a),f=ic(u,l.rect);r.set(l.parentId,{expandedRect:f,parent:a})}return r.size>0&&r.forEach(({expandedRect:l,parent:a},u)=>{var w;const f=a.internals.positionAbsolute,d=Jt(a),c=a.origin??i,h=l.x<f.x?Math.round(Math.abs(f.x-l.x)):0,m=l.y<f.y?Math.round(Math.abs(f.y-l.y)):0,b=Math.max(d.width,Math.round(l.width)),y=Math.max(d.height,Math.round(l.height)),g=(b-d.width)*c[0],_=(y-d.height)*c[1];(h>0||m>0||g||_)&&(o.push({id:u,type:"position",position:{x:a.position.x-h+g,y:a.position.y-m+_}}),(w=n.get(u))==null||w.forEach(E=>{t.some(T=>T.id===E.id)||o.push({id:E.id,type:"position",position:{x:E.position.x+h,y:E.position.y+m}})})),(d.width<l.width||d.height<l.height||h||m)&&o.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:b+(h?c[0]*h-g:0),height:y+(m?c[1]*m-_:0)}})}),o}function Cc(t,e,n,i,o,r){const s=i==null?void 0:i.querySelector(".xyflow__viewport");let l=!1;if(!s)return{changes:[],updatedInternals:l};const a=[],u=window.getComputedStyle(s),{m22:f}=new window.DOMMatrixReadOnly(u.transform),d=[];for(const c of t.values()){const h=e.get(c.id);if(!h)continue;if(h.hidden){e.set(h.id,{...h,internals:{...h.internals,handleBounds:void 0}}),l=!0;continue}const m=Ji(c.nodeElement),b=h.measured.width!==m.width||h.measured.height!==m.height;if(!!(m.width&&m.height&&(b||!h.internals.handleBounds||c.force))){const g=c.nodeElement.getBoundingClientRect(),_=un(h.extent)?h.extent:r;let{positionAbsolute:w}=h.internals;h.parentId&&h.extent==="parent"?w=gl(w,m,e.get(h.parentId)):_&&(w=Gt(w,_,m));const E={...h,measured:m,internals:{...h.internals,positionAbsolute:w,handleBounds:{source:Io("source",c.nodeElement,g,f,h.id),target:Io("target",c.nodeElement,g,f,h.id)}}};e.set(h.id,E),h.parentId&&xi(E,e,n,{nodeOrigin:o}),l=!0,b&&(a.push({id:h.id,type:"dimensions",dimensions:m}),h.expandParent&&h.parentId&&d.push({id:h.id,parentId:h.parentId,rect:fi(E,o)}))}}if(d.length>0){const c=Sc(d,e,n,o);a.push(...c)}return{changes:a,updatedInternals:l}}async function Mc({delta:t,panZoom:e,transform:n,translateExtent:i,width:o,height:r}){if(!e||!t.x&&!t.y)return Promise.resolve(!1);const s=await e.setViewportConstrained({x:n[0]+t.x,y:n[1]+t.y,zoom:n[2]},[[0,0],[o,r]],i),l=!!s&&(s.x!==n[0]||s.y!==n[1]||s.k!==n[2]);return Promise.resolve(l)}function Lo(t,e,n,i,o,r){let s=o;const l=i.get(s)||new Map;i.set(s,l.set(n,e)),s=`${o}-${t}`;const a=i.get(s)||new Map;if(i.set(s,a.set(n,e)),r){s=`${o}-${t}-${r}`;const u=i.get(s)||new Map;i.set(s,u.set(n,e))}}function El(t,e,n){t.clear(),e.clear();for(const i of n){const{source:o,target:r,sourceHandle:s=null,targetHandle:l=null}=i,a={edgeId:i.id,source:o,target:r,sourceHandle:s,targetHandle:l},u=`${o}-${s}--${r}-${l}`,f=`${r}-${l}--${o}-${s}`;Lo("source",a,f,t,o,s),Lo("target",a,u,t,r,l),e.set(i.id,i)}}function Sl(t,e){if(!t.parentId)return!1;const n=e.get(t.parentId);return n?n.selected?!0:Sl(n,e):!1}function Xo(t,e,n){var o;let i=t;do{if((o=i==null?void 0:i.matches)!=null&&o.call(i,e))return!0;if(i===n)return!1;i=i==null?void 0:i.parentElement}while(i);return!1}function Pc(t,e,n,i){const o=new Map;for(const[r,s]of t)if((s.selected||s.id===i)&&(!s.parentId||!Sl(s,t))&&(s.draggable||e&&typeof s.draggable>"u")){const l=t.get(r);l&&o.set(r,{id:r,position:l.position||{x:0,y:0},distance:{x:n.x-l.internals.positionAbsolute.x,y:n.y-l.internals.positionAbsolute.y},extent:l.extent,parentId:l.parentId,origin:l.origin,expandParent:l.expandParent,internals:{positionAbsolute:l.internals.positionAbsolute||{x:0,y:0}},measured:{width:l.measured.width??0,height:l.measured.height??0}})}return o}function vi({nodeId:t,dragItems:e,nodeLookup:n,dragging:i=!0}){var s,l,a;const o=[];for(const[u,f]of e){const d=(s=n.get(u))==null?void 0:s.internals.userNode;d&&o.push({...d,position:f.position,dragging:i})}if(!t)return[o[0],o];const r=(l=n.get(t))==null?void 0:l.internals.userNode;return[r?{...r,position:((a=e.get(t))==null?void 0:a.position)||r.position,dragging:i}:o[0],o]}function Nc({onNodeMouseDown:t,getStoreItems:e,onDragStart:n,onDrag:i,onDragStop:o}){let r={x:null,y:null},s=0,l=new Map,a=!1,u={x:0,y:0},f=null,d=!1,c=null,h=!1;function m({noDragClassName:y,handleSelector:g,domNode:_,isSelectable:w,nodeId:E,nodeClickDistance:T=0}){c=_t(_);function H({x:K,y:U},Z){const{nodeLookup:O,nodeExtent:k,snapGrid:B,snapToGrid:p,nodeOrigin:P,onNodeDrag:R,onSelectionDrag:L,onError:N,updateNodePositions:Y}=e();r={x:K,y:U};let W=!1,j={x:0,y:0,x2:0,y2:0};if(l.size>1&&k){const z=ui(l);j=Ai(z)}for(const[z,Q]of l){if(!O.has(z))continue;let ne={x:K-Q.distance.x,y:U-Q.distance.y};p&&(ne=Gi(ne,B));let A=[[k[0][0],k[0][1]],[k[1][0],k[1][1]]];if(l.size>1&&k&&!Q.extent){const{positionAbsolute:ce}=Q.internals,ye=ce.x-j.x+k[0][0],pe=ce.x+Q.measured.width-j.x2+k[1][0],Ne=ce.y-j.y+k[0][1],G=ce.y+Q.measured.height-j.y2+k[1][1];A=[[ye,Ne],[pe,G]]}const{position:se,positionAbsolute:ge}=tc({nodeId:z,nextPosition:ne,nodeLookup:O,nodeExtent:A,nodeOrigin:P,onError:N});W=W||Q.position.x!==se.x||Q.position.y!==se.y,Q.position=se,Q.internals.positionAbsolute=ge}if(W&&(Y(l,!0),Z&&(i||R||!E&&L))){const[z,Q]=vi({nodeId:E,dragItems:l,nodeLookup:O});i==null||i(Z,l,z,Q),R==null||R(Z,z,Q),E||L==null||L(Z,Q)}}async function S(){if(!f)return;const{transform:K,panBy:U,autoPanSpeed:Z}=e(),[O,k]=ml(u,f,Z);(O!==0||k!==0)&&(r.x=(r.x??0)-O/K[2],r.y=(r.y??0)-k/K[2],await U({x:O,y:k})&&H(r,null)),s=requestAnimationFrame(S)}function V(K){var W;const{nodeLookup:U,multiSelectionActive:Z,nodesDraggable:O,transform:k,snapGrid:B,snapToGrid:p,selectNodesOnDrag:P,onNodeDragStart:R,onSelectionDragStart:L,unselectNodesAndEdges:N}=e();d=!0,(!P||!w)&&!Z&&E&&((W=U.get(E))!=null&&W.selected||N()),w&&P&&E&&(t==null||t(E));const Y=wi(K.sourceEvent,{transform:k,snapGrid:B,snapToGrid:p,containerBounds:f});if(r=Y,l=Pc(U,O,Y,E),l.size>0&&(n||R||!E&&L)){const[j,z]=vi({nodeId:E,dragItems:l,nodeLookup:U});n==null||n(K.sourceEvent,l,j,z),R==null||R(K.sourceEvent,j,z),E||L==null||L(K.sourceEvent,z)}}const I=su().clickDistance(T).on("start",K=>{const{domNode:U,nodeDragThreshold:Z,transform:O,snapGrid:k,snapToGrid:B}=e();f=(U==null?void 0:U.getBoundingClientRect())||null,h=!1,Z===0&&V(K),r=wi(K.sourceEvent,{transform:O,snapGrid:k,snapToGrid:B,containerBounds:f}),u=Ot(K.sourceEvent,f)}).on("drag",K=>{const{autoPanOnNodeDrag:U,transform:Z,snapGrid:O,snapToGrid:k,nodeDragThreshold:B,nodeLookup:p}=e(),P=wi(K.sourceEvent,{transform:Z,snapGrid:O,snapToGrid:k,containerBounds:f});if((K.sourceEvent.type==="touchmove"&&K.sourceEvent.touches.length>1||E&&!p.has(E))&&(h=!0),!h){if(!a&&U&&d&&(a=!0,S()),!d){const R=P.xSnapped-(r.x??0),L=P.ySnapped-(r.y??0);Math.sqrt(R*R+L*L)>B&&V(K)}(r.x!==P.xSnapped||r.y!==P.ySnapped)&&l&&d&&(u=Ot(K.sourceEvent,f),H(P,K.sourceEvent))}}).on("end",K=>{if(!(!d||h)&&(a=!1,d=!1,cancelAnimationFrame(s),l.size>0)){const{nodeLookup:U,updateNodePositions:Z,onNodeDragStop:O,onSelectionDragStop:k}=e();if(Z(l,!1),o||O||!E&&k){const[B,p]=vi({nodeId:E,dragItems:l,nodeLookup:U,dragging:!1});o==null||o(K.sourceEvent,l,B,p),O==null||O(K.sourceEvent,B,p),E||k==null||k(K.sourceEvent,p)}}}).filter(K=>{const U=K.target;return!K.button&&(!y||!Xo(U,`.${y}`,_))&&(!g||Xo(U,g,_))});c.call(I)}function b(){c==null||c.on(".drag",null)}return{update:m,destroy:b}}function Tc(t,e,n){const i=[],o={x:t.x-n,y:t.y-n,width:n*2,height:n*2};for(const r of e.values())Ui(o,fi(r))>0&&i.push(r);return i}const Dc=250;function Ic(t,e,n,i){var l,a;let o=[],r=1/0;const s=Tc(t,n,e+Dc);for(const u of s){const f=[...((l=u.internals.handleBounds)==null?void 0:l.source)??[],...((a=u.internals.handleBounds)==null?void 0:a.target)??[]];for(const d of f){if(i.nodeId===d.nodeId&&i.type===d.type&&i.id===d.id)continue;const{x:c,y:h}=En(u,d,d.position,!0),m=Math.sqrt(Math.pow(c-t.x,2)+Math.pow(h-t.y,2));m>e||(m<r?(o=[{...d,x:c,y:h}],r=m):m===r&&o.push({...d,x:c,y:h}))}}if(!o.length)return null;if(o.length>1){const u=i.type==="source"?"target":"source";return o.find(f=>f.type===u)??o[0]}return o[0]}function Cl(t,e,n,i,o,r=!1){var u,f,d;const s=i.get(t);if(!s)return null;const l=o==="strict"?(u=s.internals.handleBounds)==null?void 0:u[e]:[...((f=s.internals.handleBounds)==null?void 0:f.source)??[],...((d=s.internals.handleBounds)==null?void 0:d.target)??[]],a=(n?l==null?void 0:l.find(c=>c.id===n):l==null?void 0:l[0])??null;return a&&r?{...a,...En(s,a,a.position,!0)}:a}function Ml(t,e){return t||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function zc(t,e){let n=null;return e?n=!0:t&&!e&&(n=!1),n}const Pl=()=>!0;function Oc(t,{connectionMode:e,connectionRadius:n,handleId:i,nodeId:o,edgeUpdaterType:r,isTarget:s,domNode:l,nodeLookup:a,lib:u,autoPanOnConnect:f,flowId:d,panBy:c,cancelConnection:h,onConnectStart:m,onConnect:b,onConnectEnd:y,isValidConnection:g=Pl,onReconnectEnd:_,updateConnection:w,getTransform:E,getFromHandle:T,autoPanSpeed:H}){const S=lc(t.target);let V=0,I;const{x:K,y:U}=Ot(t),Z=S==null?void 0:S.elementFromPoint(K,U),O=Ml(r,Z),k=l==null?void 0:l.getBoundingClientRect();if(!k||!O)return;const B=Cl(o,O,i,a,e);if(!B)return;let p=Ot(t,k),P=!1,R=null,L=!1,N=null;function Y(){if(!f||!k)return;const[ge,ce]=ml(p,k,H);c({x:ge,y:ce}),V=requestAnimationFrame(Y)}const W={...B,nodeId:o,type:O,position:B.position},j=a.get(o),Q={inProgress:!0,isValid:null,from:En(j,W,we.Left,!0),fromHandle:W,fromPosition:W.position,fromNode:j,to:p,toHandle:null,toPosition:So[W.position],toNode:null};w(Q);let ne=Q;m==null||m(t,{nodeId:o,handleId:i,handleType:O});function A(ge){if(!T()||!W){se(ge);return}const ce=E();p=Ot(ge,k),I=Ic(ci(p,ce,!1,[1,1]),n,a,W),P||(Y(),P=!0);const ye=Nl(ge,{handle:I,connectionMode:e,fromNodeId:o,fromHandleId:i,fromType:s?"target":"source",isValidConnection:g,doc:S,lib:u,flowId:d,nodeLookup:a});N=ye.handleDomNode,R=ye.connection,L=zc(!!I,ye.isValid);const pe={...ne,isValid:L,to:I&&L?rc({x:I.x,y:I.y},ce):p,toHandle:ye.toHandle,toPosition:L&&ye.toHandle?ye.toHandle.position:So[W.position],toNode:ye.toHandle?a.get(ye.toHandle.nodeId):null};L&&I&&ne.toHandle&&pe.toHandle&&ne.toHandle.type===pe.toHandle.type&&ne.toHandle.nodeId===pe.toHandle.nodeId&&ne.toHandle.id===pe.toHandle.id&&ne.to.x===pe.to.x&&ne.to.y===pe.to.y||(w(pe),ne=pe)}function se(ge){(I||N)&&R&&L&&(b==null||b(R));const{inProgress:ce,...ye}=ne,pe={...ye,toPosition:ne.toHandle?ne.toPosition:null};y==null||y(ge,pe),r&&(_==null||_(ge,pe)),h(),cancelAnimationFrame(V),P=!1,L=!1,R=null,N=null,S.removeEventListener("mousemove",A),S.removeEventListener("mouseup",se),S.removeEventListener("touchmove",A),S.removeEventListener("touchend",se)}S.addEventListener("mousemove",A),S.addEventListener("mouseup",se),S.addEventListener("touchmove",A),S.addEventListener("touchend",se)}function Nl(t,{handle:e,connectionMode:n,fromNodeId:i,fromHandleId:o,fromType:r,doc:s,lib:l,flowId:a,isValidConnection:u=Pl,nodeLookup:f}){const d=r==="target",c=e?s.querySelector(`.${l}-flow__handle[data-id="${a}-${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`):null,{x:h,y:m}=Ot(t),b=s.elementFromPoint(h,m),y=b!=null&&b.classList.contains(`${l}-flow__handle`)?b:c,g={handleDomNode:y,isValid:!1,connection:null,toHandle:null};if(y){const _=Ml(void 0,y),w=y.getAttribute("data-nodeid"),E=y.getAttribute("data-handleid"),T=y.classList.contains("connectable"),H=y.classList.contains("connectableend");if(!w||!_)return g;const S={source:d?w:i,sourceHandle:d?E:o,target:d?i:w,targetHandle:d?o:E};g.connection=S;const I=T&&H&&(n===Ut.Strict?d&&_==="source"||!d&&_==="target":w!==i||E!==o);g.isValid=I&&u(S),g.toHandle=Cl(w,_,E,f,n,!1)}return g}const Ac={onPointerDown:Oc,isValid:Nl},Hc=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,di=t=>({x:t.x,y:t.y,zoom:t.k}),ki=({x:t,y:e,zoom:n})=>ai.translate(t,e).scale(n),$t=(t,e)=>t.target.closest(`.${e}`),Tl=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),pi=(t,e=0,n=()=>{})=>{const i=typeof e=="number"&&e>0;return i||n(),i?t.transition().duration(e).on("end",n):t},Dl=t=>{const e=t.ctrlKey&&ei()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e};function Vc({zoomPanValues:t,noWheelClassName:e,d3Selection:n,d3Zoom:i,panOnScrollMode:o,panOnScrollSpeed:r,zoomOnPinch:s,onPanZoomStart:l,onPanZoom:a,onPanZoomEnd:u}){return f=>{if($t(f,e))return!1;f.preventDefault(),f.stopImmediatePropagation();const d=n.property("__zoom").k||1;if(f.ctrlKey&&s){const y=pt(f),g=Dl(f),_=d*Math.pow(2,g);i.scaleTo(n,_,y,f);return}const c=f.deltaMode===1?20:1;let h=o===St.Vertical?0:f.deltaX*c,m=o===St.Horizontal?0:f.deltaY*c;!ei()&&f.shiftKey&&o!==St.Vertical&&(h=f.deltaY*c,m=0),i.translateBy(n,-(h/d)*r,-(m/d)*r,{internal:!0});const b=di(n.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling||(t.isPanScrolling=!0,l==null||l(f,b)),t.isPanScrolling&&(a==null||a(f,b),t.panScrollTimeout=setTimeout(()=>{u==null||u(f,b),t.isPanScrolling=!1},150))}}function Rc({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:n}){return function(i,o){if(!e&&i.type==="wheel"&&!i.ctrlKey||$t(i,t))return null;i.preventDefault(),n.call(this,i,o)}}function Lc({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:n}){return i=>{var r,s,l;if((r=i.sourceEvent)!=null&&r.internal)return;const o=di(i.transform);t.mouseButton=((s=i.sourceEvent)==null?void 0:s.button)||0,t.isZoomingOrPanning=!0,t.prevViewport=o,((l=i.sourceEvent)==null?void 0:l.type)==="mousedown"&&e(!0),n&&(n==null||n(i.sourceEvent,o))}}function Xc({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:n,onTransformChange:i,onPanZoom:o}){return r=>{var s,l;t.usedRightMouseButton=!!(n&&Tl(e,t.mouseButton??0)),(s=r.sourceEvent)!=null&&s.sync||i([r.transform.x,r.transform.y,r.transform.k]),o&&!((l=r.sourceEvent)!=null&&l.internal)&&(o==null||o(r.sourceEvent,di(r.transform)))}}function Yc({zoomPanValues:t,panOnDrag:e,panOnScroll:n,onDraggingChange:i,onPanZoomEnd:o,onPaneContextMenu:r}){return s=>{var l;if(!((l=s.sourceEvent)!=null&&l.internal)&&(t.isZoomingOrPanning=!1,r&&Tl(e,t.mouseButton??0)&&!t.usedRightMouseButton&&s.sourceEvent&&r(s.sourceEvent),t.usedRightMouseButton=!1,i(!1),o&&Hc(t.prevViewport,s.transform))){const a=di(s.transform);t.prevViewport=a,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{o==null||o(s.sourceEvent,a)},n?150:0)}}}function Bc({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:n,panOnDrag:i,panOnScroll:o,zoomOnDoubleClick:r,userSelectionActive:s,noWheelClassName:l,noPanClassName:a,lib:u}){return f=>{var m;const d=t||e,c=n&&f.ctrlKey;if(f.button===1&&f.type==="mousedown"&&($t(f,`${u}-flow__node`)||$t(f,`${u}-flow__edge`)))return!0;if(!i&&!d&&!o&&!r&&!n||s||$t(f,l)&&f.type==="wheel"||$t(f,a)&&(f.type!=="wheel"||o&&f.type==="wheel"&&!t)||!n&&f.ctrlKey&&f.type==="wheel")return!1;if(!n&&f.type==="touchstart"&&((m=f.touches)==null?void 0:m.length)>1)return f.preventDefault(),!1;if(!d&&!o&&!c&&f.type==="wheel"||!i&&(f.type==="mousedown"||f.type==="touchstart")||Array.isArray(i)&&!i.includes(f.button)&&f.type==="mousedown")return!1;const h=Array.isArray(i)&&i.includes(f.button)||!f.button||f.button<=1;return(!f.ctrlKey||f.type==="wheel")&&h}}function Wc({domNode:t,minZoom:e,maxZoom:n,paneClickDistance:i,translateExtent:o,viewport:r,onPanZoom:s,onPanZoomStart:l,onPanZoomEnd:a,onDraggingChange:u}){const f={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=t.getBoundingClientRect(),c=xf().clickDistance(!Kt(i)||i<0?0:i).scaleExtent([e,n]).translateExtent(o),h=_t(t).call(c);w({x:r.x,y:r.y,zoom:an(r.zoom,e,n)},[[0,0],[d.width,d.height]],o);const m=h.on("wheel.zoom"),b=h.on("dblclick.zoom");c.wheelDelta(Dl);function y(Z,O){return h?new Promise(k=>{c==null||c.transform(pi(h,O==null?void 0:O.duration,()=>k(!0)),Z)}):Promise.resolve(!1)}function g({noWheelClassName:Z,noPanClassName:O,onPaneContextMenu:k,userSelectionActive:B,panOnScroll:p,panOnDrag:P,panOnScrollMode:R,panOnScrollSpeed:L,preventScrolling:N,zoomOnPinch:Y,zoomOnScroll:W,zoomOnDoubleClick:j,zoomActivationKeyPressed:z,lib:Q,onTransformChange:ne}){B&&!f.isZoomingOrPanning&&_();const se=p&&!z&&!B?Vc({zoomPanValues:f,noWheelClassName:Z,d3Selection:h,d3Zoom:c,panOnScrollMode:R,panOnScrollSpeed:L,zoomOnPinch:Y,onPanZoomStart:l,onPanZoom:s,onPanZoomEnd:a}):Rc({noWheelClassName:Z,preventScrolling:N,d3ZoomHandler:m});if(h.on("wheel.zoom",se,{passive:!1}),!B){const ce=Lc({zoomPanValues:f,onDraggingChange:u,onPanZoomStart:l});c.on("start",ce);const ye=Xc({zoomPanValues:f,panOnDrag:P,onPaneContextMenu:!!k,onPanZoom:s,onTransformChange:ne});c.on("zoom",ye);const pe=Yc({zoomPanValues:f,panOnDrag:P,panOnScroll:p,onPaneContextMenu:k,onPanZoomEnd:a,onDraggingChange:u});c.on("end",pe)}const ge=Bc({zoomActivationKeyPressed:z,panOnDrag:P,zoomOnScroll:W,panOnScroll:p,zoomOnDoubleClick:j,zoomOnPinch:Y,userSelectionActive:B,noPanClassName:O,noWheelClassName:Z,lib:Q});c.filter(ge),j?h.on("dblclick.zoom",b):h.on("dblclick.zoom",null)}function _(){c.on("zoom",null)}async function w(Z,O,k){const B=ki(Z),p=c==null?void 0:c.constrain()(B,O,k);return p&&await y(p),new Promise(P=>P(p))}async function E(Z,O){const k=ki(Z);return await y(k,O),new Promise(B=>B(k))}function T(Z){if(h){const O=ki(Z),k=h.property("__zoom");(k.k!==Z.zoom||k.x!==Z.x||k.y!==Z.y)&&(c==null||c.transform(h,O,null,{sync:!0}))}}function H(){const Z=h?cl(h.node()):{x:0,y:0,k:1};return{x:Z.x,y:Z.y,zoom:Z.k}}function S(Z,O){return h?new Promise(k=>{c==null||c.scaleTo(pi(h,O==null?void 0:O.duration,()=>k(!0)),Z)}):Promise.resolve(!1)}function V(Z,O){return h?new Promise(k=>{c==null||c.scaleBy(pi(h,O==null?void 0:O.duration,()=>k(!0)),Z)}):Promise.resolve(!1)}function I(Z){c==null||c.scaleExtent(Z)}function K(Z){c==null||c.translateExtent(Z)}function U(Z){const O=!Kt(Z)||Z<0?0:Z;c==null||c.clickDistance(O)}return{update:g,destroy:_,setViewport:E,setViewportConstrained:w,getViewport:H,scaleTo:S,scaleBy:V,setScaleExtent:I,setTranslateExtent:K,syncViewport:T,setClickDistance:U}}var Yo;(function(t){t.Line="line",t.Handle="handle"})(Yo||(Yo={}));function Kc(t){let e,n,i,o,r,s;const l=t[45].default,a=it(l,t,t[44],null);return{c(){e=x("div"),a&&a.c(),this.h()},l(u){e=$(u,"DIV",{"data-handleid":!0,"data-nodeid":!0,"data-handlepos":!0,"data-id":!0,class:!0,style:!0,role:!0,tabindex:!0});var f=q(e);a&&a.l(f),f.forEach(C),this.h()},h(){v(e,"data-handleid",t[6]),v(e,"data-nodeid",t[14]),v(e,"data-handlepos",t[2]),v(e,"data-id",n=t[13]+"-"+t[14]+"-"+(t[0]||null)+"-"+t[1]),v(e,"class",i=Re(["svelte-flow__handle",`svelte-flow__handle-${t[2]}`,"nodrag","nopan",t[2],t[4]])),v(e,"style",t[3]),v(e,"role","button"),v(e,"tabindex","-1"),he(e,"valid",t[7]),he(e,"connectingto",t[5]),he(e,"connectingfrom",t[9]),he(e,"source",!t[11]),he(e,"target",t[11]),he(e,"connectablestart",t[12]),he(e,"connectableend",t[12]),he(e,"connectable",t[12]),he(e,"connectionindicator",t[12]&&(!t[10]||t[8]))},m(u,f){ee(u,e,f),a&&a.m(e,null),o=!0,r||(s=[ke(e,"mousedown",t[32]),ke(e,"touchstart",t[32])],r=!0)},p(u,f){a&&a.p&&(!o||f[1]&8192)&&ot(a,l,u,u[44],o?lt(l,u[44],f,null):rt(u[44]),null),(!o||f[0]&64)&&v(e,"data-handleid",u[6]),(!o||f[0]&4)&&v(e,"data-handlepos",u[2]),(!o||f[0]&8195&&n!==(n=u[13]+"-"+u[14]+"-"+(u[0]||null)+"-"+u[1]))&&v(e,"data-id",n),(!o||f[0]&20&&i!==(i=Re(["svelte-flow__handle",`svelte-flow__handle-${u[2]}`,"nodrag","nopan",u[2],u[4]])))&&v(e,"class",i),(!o||f[0]&8)&&v(e,"style",u[3]),(!o||f[0]&148)&&he(e,"valid",u[7]),(!o||f[0]&52)&&he(e,"connectingto",u[5]),(!o||f[0]&532)&&he(e,"connectingfrom",u[9]),(!o||f[0]&2068)&&he(e,"source",!u[11]),(!o||f[0]&2068)&&he(e,"target",u[11]),(!o||f[0]&4116)&&he(e,"connectablestart",u[12]),(!o||f[0]&4116)&&he(e,"connectableend",u[12]),(!o||f[0]&4116)&&he(e,"connectable",u[12]),(!o||f[0]&5396)&&he(e,"connectionindicator",u[12]&&(!u[10]||u[8]))},i(u){o||(F(a,u),o=!0)},o(u){J(a,u),o=!1},d(u){u&&C(e),a&&a.d(u),r=!1,dt(s)}}}function Fc(t,e,n){let i,o,r,s,l,a,u,f,d,c,h,m,b,y,g,_,w,E,T,H,S,V,I,K,U,{$$slots:Z={},$$scope:O}=e,{id:k=void 0}=e,{type:B="source"}=e,{position:p=we.Top}=e,{style:P=void 0}=e,{isValidConnection:R=void 0}=e,{onconnect:L=void 0}=e,{ondisconnect:N=void 0}=e,{isConnectable:Y=void 0}=e,{class:W=void 0}=e;const j=Wn("svelteflow__node_id"),z=Wn("svelteflow__node_connectable");te(t,z,D=>n(43,U=D));const Q=Fe(),{connectionMode:ne,domNode:A,nodeLookup:se,connectionRadius:ge,viewport:ce,isValidConnection:ye,lib:pe,addEdge:Ne,onedgecreate:G,panBy:Te,cancelConnection:Ce,updateConnection:$e,autoPanOnConnect:et,edges:Je,connectionLookup:st,onconnect:ft,onconnectstart:ct,onconnectend:je,flowId:at,connection:Ve}=Q;te(t,ne,D=>n(40,c=D)),te(t,A,D=>n(55,I=D)),te(t,se,D=>n(54,V=D)),te(t,ge,D=>n(56,K=D)),te(t,ce,D=>n(46,b=D)),te(t,ye,D=>n(51,E=D)),te(t,pe,D=>n(53,S=D)),te(t,G,D=>n(50,w=D)),te(t,et,D=>n(52,H=D)),te(t,Je,D=>n(42,m=D)),te(t,st,D=>n(41,h=D)),te(t,ft,D=>n(49,_=D)),te(t,ct,D=>n(48,g=D)),te(t,je,D=>n(47,y=D)),te(t,at,D=>n(13,T=D)),te(t,Ve,D=>n(39,d=D));function Me(D){const Qe=yl(D);(Qe&&D.button===0||!Qe)&&Ac.onPointerDown(D,{handleId:r,nodeId:j,isTarget:i,connectionRadius:K,domNode:I,nodeLookup:V,connectionMode:c,lib:S,autoPanOnConnect:H,flowId:T,isValidConnection:R??E,updateConnection:$e,cancelConnection:Ce,panBy:Te,onConnect:ze=>{const Ie=w?w(ze):ze;Ie&&(Ne(Ie),_==null||_(ze))},onConnectStart:(ze,Ie)=>{g==null||g(ze,{nodeId:Ie.nodeId,handleId:Ie.handleId,handleType:Ie.handleType})},onConnectEnd:(ze,Ie)=>{y==null||y(ze,Ie)},getTransform:()=>[b.x,b.y,b.zoom],getFromHandle:()=>d.fromHandle})}let Ee=null,Ze;return t.$$set=D=>{"id"in D&&n(0,k=D.id),"type"in D&&n(1,B=D.type),"position"in D&&n(2,p=D.position),"style"in D&&n(3,P=D.style),"isValidConnection"in D&&n(33,R=D.isValidConnection),"onconnect"in D&&n(34,L=D.onconnect),"ondisconnect"in D&&n(35,N=D.ondisconnect),"isConnectable"in D&&n(36,Y=D.isConnectable),"class"in D&&n(4,W=D.class),"$$scope"in D&&n(44,O=D.$$scope)},t.$$.update=()=>{var D,Qe,ze,Ie,Mt,Pt,Nt,ht,gt;if(t.$$.dirty[0]&2&&n(11,i=B==="target"),t.$$.dirty[1]&4128&&n(12,o=Y!==void 0?Y:U),t.$$.dirty[0]&1&&n(6,r=k||null),t.$$.dirty[0]&3|t.$$.dirty[1]&3096&&(L||N)&&n(38,Ze=h.get(`${j}-${B}${k?`-${k}`:""}`)),t.$$.dirty[1]&216){if(Ee&&!$f(Ze,Ee)){const vt=Ze??new Map;Co(Ee,vt,N),Co(vt,Ee,L)}n(37,Ee=Ze??new Map)}t.$$.dirty[1]&256&&n(10,s=!!d.fromHandle),t.$$.dirty[0]&66|t.$$.dirty[1]&256&&n(9,l=((D=d.fromHandle)==null?void 0:D.nodeId)===j&&((Qe=d.fromHandle)==null?void 0:Qe.type)===B&&((ze=d.fromHandle)==null?void 0:ze.id)===r),t.$$.dirty[0]&66|t.$$.dirty[1]&256&&n(5,a=((Ie=d.toHandle)==null?void 0:Ie.nodeId)===j&&((Mt=d.toHandle)==null?void 0:Mt.type)===B&&((Pt=d.toHandle)==null?void 0:Pt.id)===r),t.$$.dirty[0]&66|t.$$.dirty[1]&768&&n(8,u=c===Ut.Strict?((Nt=d.fromHandle)==null?void 0:Nt.type)!==B:j!==((ht=d.fromHandle)==null?void 0:ht.nodeId)||r!==((gt=d.fromHandle)==null?void 0:gt.id)),t.$$.dirty[0]&32|t.$$.dirty[1]&256&&n(7,f=a&&d.isValid)},[k,B,p,P,W,a,r,f,u,l,s,i,o,T,j,z,ne,A,se,ge,ce,ye,pe,G,et,Je,st,ft,ct,je,at,Ve,Me,R,L,N,Y,Ee,Ze,d,c,h,m,U,O,Z]}class Zc extends me{constructor(e){super(),_e(this,e,Fc,Kc,ve,{id:0,type:1,position:2,style:3,isValidConnection:33,onconnect:34,ondisconnect:35,isConnectable:36,class:4},null,[-1,-1])}}const fn=Zc;function qc(t){var a;let e,n,i=((a=t[0])==null?void 0:a.label)+"",o,r,s,l;return e=new fn({props:{type:"target",position:t[1]??we.Top}}),s=new fn({props:{type:"source",position:t[2]??we.Bottom}}),{c(){ae(e.$$.fragment),n=oe(),o=Xe(i),r=oe(),ae(s.$$.fragment)},l(u){de(e.$$.fragment,u),n=re(u),o=Ye(u,i),r=re(u),de(s.$$.fragment,u)},m(u,f){ue(e,u,f),ee(u,n,f),ee(u,o,f),ee(u,r,f),ue(s,u,f),l=!0},p(u,[f]){var h;const d={};f&2&&(d.position=u[1]??we.Top),e.$set(d),(!l||f&1)&&i!==(i=((h=u[0])==null?void 0:h.label)+"")&&Be(o,i);const c={};f&4&&(c.position=u[2]??we.Bottom),s.$set(c)},i(u){l||(F(e.$$.fragment,u),F(s.$$.fragment,u),l=!0)},o(u){J(e.$$.fragment,u),J(s.$$.fragment,u),l=!1},d(u){u&&(C(n),C(o),C(r)),fe(e,u),fe(s,u)}}}function Uc(t,e,n){const i=["data","targetPosition","sourcePosition"];Le(e,i);let{data:o={label:"Node"}}=e,{targetPosition:r=void 0}=e,{sourcePosition:s=void 0}=e;return t.$$set=l=>{e=De(De({},e),bt(l)),n(3,Le(e,i)),"data"in l&&n(0,o=l.data),"targetPosition"in l&&n(1,r=l.targetPosition),"sourcePosition"in l&&n(2,s=l.sourcePosition)},[o,r,s]}class Gc extends me{constructor(e){super(),_e(this,e,Uc,qc,ve,{data:0,targetPosition:1,sourcePosition:2})}}const Il=Gc;function Jc(t){var s;let e=((s=t[0])==null?void 0:s.label)+"",n,i,o,r;return o=new fn({props:{type:"source",position:t[1]??we.Bottom}}),{c(){n=Xe(e),i=oe(),ae(o.$$.fragment)},l(l){n=Ye(l,e),i=re(l),de(o.$$.fragment,l)},m(l,a){ee(l,n,a),ee(l,i,a),ue(o,l,a),r=!0},p(l,[a]){var f;(!r||a&1)&&e!==(e=((f=l[0])==null?void 0:f.label)+"")&&Be(n,e);const u={};a&2&&(u.position=l[1]??we.Bottom),o.$set(u)},i(l){r||(F(o.$$.fragment,l),r=!0)},o(l){J(o.$$.fragment,l),r=!1},d(l){l&&(C(n),C(i)),fe(o,l)}}}function jc(t,e,n){const i=["data","sourcePosition"];Le(e,i);let{data:o={label:"Node"}}=e,{sourcePosition:r=void 0}=e;return t.$$set=s=>{e=De(De({},e),bt(s)),n(2,Le(e,i)),"data"in s&&n(0,o=s.data),"sourcePosition"in s&&n(1,r=s.sourcePosition)},[o,r]}class Qc extends me{constructor(e){super(),_e(this,e,jc,Jc,ve,{data:0,sourcePosition:1})}}const xc=Qc;function $c(t){var s;let e=((s=t[0])==null?void 0:s.label)+"",n,i,o,r;return o=new fn({props:{type:"target",position:t[1]??we.Top}}),{c(){n=Xe(e),i=oe(),ae(o.$$.fragment)},l(l){n=Ye(l,e),i=re(l),de(o.$$.fragment,l)},m(l,a){ee(l,n,a),ee(l,i,a),ue(o,l,a),r=!0},p(l,[a]){var f;(!r||a&1)&&e!==(e=((f=l[0])==null?void 0:f.label)+"")&&Be(n,e);const u={};a&2&&(u.position=l[1]??we.Top),o.$set(u)},i(l){r||(F(o.$$.fragment,l),r=!0)},o(l){J(o.$$.fragment,l),r=!1},d(l){l&&(C(n),C(i)),fe(o,l)}}}function ed(t,e,n){const i=["data","targetPosition"];Le(e,i);let{data:o={label:"Node"}}=e,{targetPosition:r=void 0}=e;return t.$$set=s=>{e=De(De({},e),bt(s)),n(2,Le(e,i)),"data"in s&&n(0,o=s.data),"targetPosition"in s&&n(1,r=s.targetPosition)},[o,r]}class td extends me{constructor(e){super(),_e(this,e,ed,$c,ve,{data:0,targetPosition:1})}}const nd=td;function id(t,e,n){const i=[];return Le(e,i),t.$$set=o=>{e=De(De({},e),bt(o)),n(0,Le(e,i))},[]}class od extends me{constructor(e){super(),_e(this,e,id,null,ve,{})}}const rd=od;function Bo(t,e,n){if(!e)return;const i=n?e.querySelector(n):e;i&&i.appendChild(t)}function ld(t,{target:e,domNode:n}){return Bo(t,n,e),{async update({target:i,domNode:o}){Bo(t,o,i)},destroy(){t.parentNode&&t.parentNode.removeChild(t)}}}function sd(t){let e,n,i,o,r;const s=t[3].default,l=it(s,t,t[2],null);return{c(){e=x("div"),l&&l.c()},l(a){e=$(a,"DIV",{});var u=q(e);l&&l.l(u),u.forEach(C)},m(a,u){ee(a,e,u),l&&l.m(e,null),i=!0,o||(r=tt(n=ld.call(null,e,{target:".svelte-flow__edgelabel-renderer",domNode:t[0]})),o=!0)},p(a,[u]){l&&l.p&&(!i||u&4)&&ot(l,s,a,a[2],i?lt(s,a[2],u,null):rt(a[2]),null),n&&qe(n.update)&&u&1&&n.update.call(null,{target:".svelte-flow__edgelabel-renderer",domNode:a[0]})},i(a){i||(F(l,a),i=!0)},o(a){J(l,a),i=!1},d(a){a&&C(e),l&&l.d(a),o=!1,r()}}}function ad(t,e,n){let i,{$$slots:o={},$$scope:r}=e;const{domNode:s}=Fe();return te(t,s,l=>n(0,i=l)),t.$$set=l=>{"$$scope"in l&&n(2,r=l.$$scope)},[i,s,r,o]}class ud extends me{constructor(e){super(),_e(this,e,ad,sd,ve,{})}}const fd=ud;function zl(){const{edgeLookup:t,selectionRect:e,selectionRectMode:n,multiselectionKeyPressed:i,addSelectedEdges:o,unselectNodesAndEdges:r,elementsSelectable:s}=Fe();return l=>{const a=ie(t).get(l);if(!a){console.warn("012",Nn.error012(l));return}(a.selectable||ie(s)&&typeof a.selectable>"u")&&(e.set(null),n.set(null),a.selected?a.selected&&ie(i)&&r({nodes:[],edges:[a]}):o([l]))}}function cd(t){let e,n,i=`translate(-50%, -50%) translate(${t[1]}px,${t[2]}px)`,o,r,s;const l=t[5].default,a=it(l,t,t[7],null);return{c(){e=x("div"),a&&a.c(),this.h()},l(u){e=$(u,"DIV",{class:!0,style:!0,role:!0,tabindex:!0});var f=q(e);a&&a.l(f),f.forEach(C),this.h()},h(){v(e,"class","svelte-flow__edge-label"),v(e,"style",n="pointer-events: all;"+t[0]),v(e,"role","button"),v(e,"tabindex","-1"),be(e,"transform",i)},m(u,f){ee(u,e,f),a&&a.m(e,null),o=!0,r||(s=[ke(e,"keyup",hd),ke(e,"click",t[6])],r=!0)},p(u,f){a&&a.p&&(!o||f&128)&&ot(a,l,u,u[7],o?lt(l,u[7],f,null):rt(u[7]),null),(!o||f&1&&n!==(n="pointer-events: all;"+u[0]))&&v(e,"style",n);const d=f&1;(f&7&&i!==(i=`translate(-50%, -50%) translate(${u[1]}px,${u[2]}px)`)||d)&&be(e,"transform",i)},i(u){o||(F(a,u),o=!0)},o(u){J(a,u),o=!1},d(u){u&&C(e),a&&a.d(u),r=!1,dt(s)}}}function dd(t){let e,n;return e=new fd({props:{$$slots:{default:[cd]},$$scope:{ctx:t}}}),{c(){ae(e.$$.fragment)},l(i){de(e.$$.fragment,i)},m(i,o){ue(e,i,o),n=!0},p(i,[o]){const r={};o&135&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(F(e.$$.fragment,i),n=!0)},o(i){J(e.$$.fragment,i),n=!1},d(i){fe(e,i)}}}const hd=()=>{};function gd(t,e,n){let{$$slots:i={},$$scope:o}=e,{style:r=void 0}=e,{x:s=void 0}=e,{y:l=void 0}=e;const a=zl(),u=Wn("svelteflow__edge_id"),f=()=>{u&&a(u)};return t.$$set=d=>{"style"in d&&n(0,r=d.style),"x"in d&&n(1,s=d.x),"y"in d&&n(2,l=d.y),"$$scope"in d&&n(7,o=d.$$scope)},[r,s,l,a,u,i,f,o]}class md extends me{constructor(e){super(),_e(this,e,gd,dd,ve,{style:0,x:1,y:2})}}const _d=md;function yd(t){let e;return{c(){e=Oe("path"),this.h()},l(n){e=Ae(n,"path",{d:!0,"stroke-opacity":!0,"stroke-width":!0,fill:!0,class:!0}),q(e).forEach(C),this.h()},h(){v(e,"d",t[1]),v(e,"stroke-opacity",0),v(e,"stroke-width",t[10]),v(e,"fill","none"),v(e,"class","svelte-flow__edge-interaction")},m(n,i){ee(n,e,i)},p(n,i){i&2&&v(e,"d",n[1])},d(n){n&&C(e)}}}function Wo(t){let e,n;return e=new _d({props:{x:t[3],y:t[4],style:t[5],$$slots:{default:[bd]},$$scope:{ctx:t}}}),{c(){ae(e.$$.fragment)},l(i){de(e.$$.fragment,i)},m(i,o){ue(e,i,o),n=!0},p(i,o){const r={};o&8&&(r.x=i[3]),o&16&&(r.y=i[4]),o&32&&(r.style=i[5]),o&4100&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(F(e.$$.fragment,i),n=!0)},o(i){J(e.$$.fragment,i),n=!1},d(i){fe(e,i)}}}function bd(t){let e;return{c(){e=Xe(t[2])},l(n){e=Ye(n,t[2])},m(n,i){ee(n,e,i)},p(n,i){i&4&&Be(e,n[2])},d(n){n&&C(e)}}}function wd(t){let e,n,i,o,r,s,l=t[10]&&yd(t),a=t[2]&&Wo(t);return{c(){e=Oe("path"),i=oe(),l&&l.c(),o=oe(),a&&a.c(),r=He(),this.h()},l(u){e=Ae(u,"path",{id:!0,d:!0,class:!0,"marker-start":!0,"marker-end":!0,fill:!0,style:!0}),q(e).forEach(C),i=re(u),l&&l.l(u),o=re(u),a&&a.l(u),r=He(),this.h()},h(){v(e,"id",t[0]),v(e,"d",t[1]),v(e,"class",n=Re(["svelte-flow__edge-path",t[9]])),v(e,"marker-start",t[6]),v(e,"marker-end",t[7]),v(e,"fill","none"),v(e,"style",t[8])},m(u,f){ee(u,e,f),ee(u,i,f),l&&l.m(u,f),ee(u,o,f),a&&a.m(u,f),ee(u,r,f),s=!0},p(u,[f]){(!s||f&1)&&v(e,"id",u[0]),(!s||f&2)&&v(e,"d",u[1]),(!s||f&512&&n!==(n=Re(["svelte-flow__edge-path",u[9]])))&&v(e,"class",n),(!s||f&64)&&v(e,"marker-start",u[6]),(!s||f&128)&&v(e,"marker-end",u[7]),(!s||f&256)&&v(e,"style",u[8]),u[10]&&l.p(u,f),u[2]?a?(a.p(u,f),f&4&&F(a,1)):(a=Wo(u),a.c(),F(a,1),a.m(r.parentNode,r)):a&&(Ue(),J(a,1,1,()=>{a=null}),Ge())},i(u){s||(F(a),s=!0)},o(u){J(a),s=!1},d(u){u&&(C(e),C(i),C(o),C(r)),l&&l.d(u),a&&a.d(u)}}}function vd(t,e,n){let{id:i=void 0}=e,{path:o}=e,{label:r=void 0}=e,{labelX:s=void 0}=e,{labelY:l=void 0}=e,{labelStyle:a=void 0}=e,{markerStart:u=void 0}=e,{markerEnd:f=void 0}=e,{style:d=void 0}=e,{interactionWidth:c=20}=e,{class:h=void 0}=e,m=c===void 0?20:c;return t.$$set=b=>{"id"in b&&n(0,i=b.id),"path"in b&&n(1,o=b.path),"label"in b&&n(2,r=b.label),"labelX"in b&&n(3,s=b.labelX),"labelY"in b&&n(4,l=b.labelY),"labelStyle"in b&&n(5,a=b.labelStyle),"markerStart"in b&&n(6,u=b.markerStart),"markerEnd"in b&&n(7,f=b.markerEnd),"style"in b&&n(8,d=b.style),"interactionWidth"in b&&n(11,c=b.interactionWidth),"class"in b&&n(9,h=b.class)},[i,o,r,s,l,a,u,f,d,h,m,c]}class kd extends me{constructor(e){super(),_e(this,e,vd,wd,ve,{id:0,path:1,label:2,labelX:3,labelY:4,labelStyle:5,markerStart:6,markerEnd:7,style:8,interactionWidth:11,class:9})}}const hi=kd;function pd(t){let e,n;return e=new hi({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){ae(e.$$.fragment)},l(i){de(e.$$.fragment,i)},m(i,o){ue(e,i,o),n=!0},p(i,[o]){const r={};o&256&&(r.path=i[8]),o&128&&(r.labelX=i[7]),o&64&&(r.labelY=i[6]),o&1&&(r.label=i[0]),o&2&&(r.labelStyle=i[1]),o&8&&(r.markerStart=i[3]),o&16&&(r.markerEnd=i[4]),o&32&&(r.interactionWidth=i[5]),o&4&&(r.style=i[2]),e.$set(r)},i(i){n||(F(e.$$.fragment,i),n=!0)},o(i){J(e.$$.fragment,i),n=!1},d(i){fe(e,i)}}}function Ed(t,e,n){let i,o,r;const s=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","sourcePosition","targetX","targetY","targetPosition"];Le(e,s);let{label:l=void 0}=e,{labelStyle:a=void 0}=e,{style:u=void 0}=e,{markerStart:f=void 0}=e,{markerEnd:d=void 0}=e,{interactionWidth:c=void 0}=e,{sourceX:h}=e,{sourceY:m}=e,{sourcePosition:b}=e,{targetX:y}=e,{targetY:g}=e,{targetPosition:_}=e;return t.$$set=w=>{e=De(De({},e),bt(w)),n(15,Le(e,s)),"label"in w&&n(0,l=w.label),"labelStyle"in w&&n(1,a=w.labelStyle),"style"in w&&n(2,u=w.style),"markerStart"in w&&n(3,f=w.markerStart),"markerEnd"in w&&n(4,d=w.markerEnd),"interactionWidth"in w&&n(5,c=w.interactionWidth),"sourceX"in w&&n(9,h=w.sourceX),"sourceY"in w&&n(10,m=w.sourceY),"sourcePosition"in w&&n(11,b=w.sourcePosition),"targetX"in w&&n(12,y=w.targetX),"targetY"in w&&n(13,g=w.targetY),"targetPosition"in w&&n(14,_=w.targetPosition)},t.$$.update=()=>{t.$$.dirty&32256&&n(8,[i,o,r]=bl({sourceX:h,sourceY:m,targetX:y,targetY:g,sourcePosition:b,targetPosition:_}),i,(n(7,o),n(9,h),n(10,m),n(12,y),n(13,g),n(11,b),n(14,_)),(n(6,r),n(9,h),n(10,m),n(12,y),n(13,g),n(11,b),n(14,_)))},[l,a,u,f,d,c,r,o,i,h,m,b,y,g,_]}class Sd extends me{constructor(e){super(),_e(this,e,Ed,pd,ve,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,sourcePosition:11,targetX:12,targetY:13,targetPosition:14})}}const Ol=Sd;function Cd(t){let e,n;return e=new hi({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){ae(e.$$.fragment)},l(i){de(e.$$.fragment,i)},m(i,o){ue(e,i,o),n=!0},p(i,[o]){const r={};o&256&&(r.path=i[8]),o&128&&(r.labelX=i[7]),o&64&&(r.labelY=i[6]),o&1&&(r.label=i[0]),o&2&&(r.labelStyle=i[1]),o&8&&(r.markerStart=i[3]),o&16&&(r.markerEnd=i[4]),o&32&&(r.interactionWidth=i[5]),o&4&&(r.style=i[2]),e.$set(r)},i(i){n||(F(e.$$.fragment,i),n=!0)},o(i){J(e.$$.fragment,i),n=!1},d(i){fe(e,i)}}}function Md(t,e,n){let i,o,r;const s=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","sourcePosition","targetX","targetY","targetPosition"];Le(e,s);let{label:l=void 0}=e,{labelStyle:a=void 0}=e,{style:u=void 0}=e,{markerStart:f=void 0}=e,{markerEnd:d=void 0}=e,{interactionWidth:c=void 0}=e,{sourceX:h}=e,{sourceY:m}=e,{sourcePosition:b}=e,{targetX:y}=e,{targetY:g}=e,{targetPosition:_}=e;return t.$$set=w=>{e=De(De({},e),bt(w)),n(15,Le(e,s)),"label"in w&&n(0,l=w.label),"labelStyle"in w&&n(1,a=w.labelStyle),"style"in w&&n(2,u=w.style),"markerStart"in w&&n(3,f=w.markerStart),"markerEnd"in w&&n(4,d=w.markerEnd),"interactionWidth"in w&&n(5,c=w.interactionWidth),"sourceX"in w&&n(9,h=w.sourceX),"sourceY"in w&&n(10,m=w.sourceY),"sourcePosition"in w&&n(11,b=w.sourcePosition),"targetX"in w&&n(12,y=w.targetX),"targetY"in w&&n(13,g=w.targetY),"targetPosition"in w&&n(14,_=w.targetPosition)},t.$$.update=()=>{t.$$.dirty&32256&&n(8,[i,o,r]=ti({sourceX:h,sourceY:m,targetX:y,targetY:g,sourcePosition:b,targetPosition:_}),i,(n(7,o),n(9,h),n(10,m),n(12,y),n(13,g),n(11,b),n(14,_)),(n(6,r),n(9,h),n(10,m),n(12,y),n(13,g),n(11,b),n(14,_)))},[l,a,u,f,d,c,r,o,i,h,m,b,y,g,_]}class Pd extends me{constructor(e){super(),_e(this,e,Md,Cd,ve,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,sourcePosition:11,targetX:12,targetY:13,targetPosition:14})}}const Nd=Pd;function Td(t){let e,n;return e=new hi({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){ae(e.$$.fragment)},l(i){de(e.$$.fragment,i)},m(i,o){ue(e,i,o),n=!0},p(i,[o]){const r={};o&256&&(r.path=i[8]),o&128&&(r.labelX=i[7]),o&64&&(r.labelY=i[6]),o&1&&(r.label=i[0]),o&2&&(r.labelStyle=i[1]),o&8&&(r.markerStart=i[3]),o&16&&(r.markerEnd=i[4]),o&32&&(r.interactionWidth=i[5]),o&4&&(r.style=i[2]),e.$set(r)},i(i){n||(F(e.$$.fragment,i),n=!0)},o(i){J(e.$$.fragment,i),n=!1},d(i){fe(e,i)}}}function Dd(t,e,n){let i,o,r;const s=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","targetX","targetY"];Le(e,s);let{label:l=void 0}=e,{labelStyle:a=void 0}=e,{style:u=void 0}=e,{markerStart:f=void 0}=e,{markerEnd:d=void 0}=e,{interactionWidth:c=void 0}=e,{sourceX:h}=e,{sourceY:m}=e,{targetX:b}=e,{targetY:y}=e;return t.$$set=g=>{e=De(De({},e),bt(g)),n(13,Le(e,s)),"label"in g&&n(0,l=g.label),"labelStyle"in g&&n(1,a=g.labelStyle),"style"in g&&n(2,u=g.style),"markerStart"in g&&n(3,f=g.markerStart),"markerEnd"in g&&n(4,d=g.markerEnd),"interactionWidth"in g&&n(5,c=g.interactionWidth),"sourceX"in g&&n(9,h=g.sourceX),"sourceY"in g&&n(10,m=g.sourceY),"targetX"in g&&n(11,b=g.targetX),"targetY"in g&&n(12,y=g.targetY)},t.$$.update=()=>{t.$$.dirty&7680&&n(8,[i,o,r]=vl({sourceX:h,sourceY:m,targetX:b,targetY:y}),i,(n(7,o),n(9,h),n(10,m),n(11,b),n(12,y)),(n(6,r),n(9,h),n(10,m),n(11,b),n(12,y)))},[l,a,u,f,d,c,r,o,i,h,m,b,y]}class Id extends me{constructor(e){super(),_e(this,e,Dd,Td,ve,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,targetX:11,targetY:12})}}const zd=Id;function Od(t){let e,n;return e=new hi({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){ae(e.$$.fragment)},l(i){de(e.$$.fragment,i)},m(i,o){ue(e,i,o),n=!0},p(i,[o]){const r={};o&256&&(r.path=i[8]),o&128&&(r.labelX=i[7]),o&64&&(r.labelY=i[6]),o&1&&(r.label=i[0]),o&2&&(r.labelStyle=i[1]),o&8&&(r.markerStart=i[3]),o&16&&(r.markerEnd=i[4]),o&32&&(r.interactionWidth=i[5]),o&4&&(r.style=i[2]),e.$set(r)},i(i){n||(F(e.$$.fragment,i),n=!0)},o(i){J(e.$$.fragment,i),n=!1},d(i){fe(e,i)}}}function Ad(t,e,n){let i,o,r;const s=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","sourcePosition","targetX","targetY","targetPosition"];Le(e,s);let{label:l=void 0}=e,{labelStyle:a=void 0}=e,{style:u=void 0}=e,{markerStart:f=void 0}=e,{markerEnd:d=void 0}=e,{interactionWidth:c=void 0}=e,{sourceX:h}=e,{sourceY:m}=e,{sourcePosition:b}=e,{targetX:y}=e,{targetY:g}=e,{targetPosition:_}=e;return t.$$set=w=>{e=De(De({},e),bt(w)),n(15,Le(e,s)),"label"in w&&n(0,l=w.label),"labelStyle"in w&&n(1,a=w.labelStyle),"style"in w&&n(2,u=w.style),"markerStart"in w&&n(3,f=w.markerStart),"markerEnd"in w&&n(4,d=w.markerEnd),"interactionWidth"in w&&n(5,c=w.interactionWidth),"sourceX"in w&&n(9,h=w.sourceX),"sourceY"in w&&n(10,m=w.sourceY),"sourcePosition"in w&&n(11,b=w.sourcePosition),"targetX"in w&&n(12,y=w.targetX),"targetY"in w&&n(13,g=w.targetY),"targetPosition"in w&&n(14,_=w.targetPosition)},t.$$.update=()=>{t.$$.dirty&32256&&n(8,[i,o,r]=ti({sourceX:h,sourceY:m,targetX:y,targetY:g,sourcePosition:b,targetPosition:_,borderRadius:0}),i,(n(7,o),n(9,h),n(10,m),n(12,y),n(13,g),n(11,b),n(14,_)),(n(6,r),n(9,h),n(10,m),n(12,y),n(13,g),n(11,b),n(14,_)))},[l,a,u,f,d,c,r,o,i,h,m,b,y,g,_]}class Hd extends me{constructor(e){super(),_e(this,e,Ad,Od,ve,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,sourcePosition:11,targetX:12,targetY:13,targetPosition:14})}}const Vd=Hd;function Rd(t,e){const n=t.set,i=e.set,o=ie(t),r=ie(e);let l=o.length===0&&r.length>0?r:o;t.set(l);const a=u=>{const f=n(u);return l=f,i(l),f};t.set=e.set=a,t.update=e.update=u=>a(u(l))}function Ld(t,e){const n=t.set,i=e.set;let o=ie(e);t.set(o);const r=s=>{n(s),i(s),o=s};t.set=e.set=r,t.update=e.update=s=>r(s(o))}const Xd=(t,e,n)=>{if(!n)return;const i=ie(t),o=e.set,r=n.set;let s=n?ie(n):{x:0,y:0,zoom:1};e.set(s),e.set=l=>(o(l),r(l),s=l,l),n.set=l=>(i==null||i.syncViewport(l),o(l),r(l),s=l,l),e.update=l=>{e.set(l(s))},n.update=l=>{n.set(l(s))}},Yd=(t,e,n,i=[0,0],o=Qn)=>{const{subscribe:r,set:s,update:l}=le([]);let a=t,u={},f=!0;const d=b=>(kl(b,e,n,{elevateNodesOnSelect:f,nodeOrigin:i,nodeExtent:o,defaults:u,checkEquality:!1}),a=b,s(a),a),c=b=>d(b(a)),h=b=>{u=b},m=b=>{f=b.elevateNodesOnSelect??f};return d(a),{subscribe:r,set:d,update:c,setDefaultOptions:h,setOptions:m}},Bd=(t,e,n,i)=>{const{subscribe:o,set:r,update:s}=le([]);let l=t,a=i||{};const u=c=>{const h=a?c.map(m=>({...a,...m})):c;El(e,n,h),l=h,r(l)},f=c=>u(c(l)),d=c=>{a=c};return u(l),{subscribe:o,set:u,update:f,setDefaultOptions:d}},Al={input:xc,output:nd,default:Il,group:rd},Hl={straight:zd,smoothstep:Nd,default:Ol,step:Vd},Wd=({nodes:t=[],edges:e=[],width:n,height:i,fitView:o,nodeOrigin:r,nodeExtent:s})=>{const l=new Map,a=new Map,u=new Map,f=new Map,d=r??[0,0],c=s??Qn;kl(t,l,a,{nodeExtent:c,nodeOrigin:d,elevateNodesOnSelect:!1,checkEquality:!1}),El(u,f,e);let h={x:0,y:0,zoom:1};if(o&&n&&i){const m=ui(l,{filter:b=>!!((b.width||b.initialWidth)&&(b.height||b.initialHeight))});h=_l(m,n,i,.5,2,.1)}return{flowId:le(null),nodes:Yd(t,l,a,d,c),nodeLookup:mt(l),parentLookup:mt(a),edgeLookup:mt(f),visibleNodes:mt([]),edges:Bd(e,u,f),visibleEdges:mt([]),connectionLookup:mt(u),height:le(500),width:le(500),minZoom:le(.5),maxZoom:le(2),nodeOrigin:le(d),nodeDragThreshold:le(1),nodeExtent:le(c),translateExtent:le(Qn),autoPanOnNodeDrag:le(!0),autoPanOnConnect:le(!0),fitViewOnInit:le(!1),fitViewOnInitDone:le(!1),fitViewOptions:le(void 0),panZoom:le(null),snapGrid:le(null),dragging:le(!1),selectionRect:le(null),selectionKeyPressed:le(!1),multiselectionKeyPressed:le(!1),deleteKeyPressed:le(!1),panActivationKeyPressed:le(!1),zoomActivationKeyPressed:le(!1),selectionRectMode:le(null),selectionMode:le(xn.Partial),nodeTypes:le(Al),edgeTypes:le(Hl),viewport:le(h),connectionMode:le(Ut.Strict),domNode:le(null),connection:mt(zi),connectionLineType:le(on.Bezier),connectionRadius:le(20),isValidConnection:le(()=>!0),nodesDraggable:le(!0),nodesConnectable:le(!0),elementsSelectable:le(!0),selectNodesOnDrag:le(!0),markers:mt([]),defaultMarkerColor:le("#b1b1b7"),lib:mt("svelte"),onlyRenderVisibleElements:le(!1),onerror:le(oc),ondelete:le(void 0),onedgecreate:le(void 0),onconnect:le(void 0),onconnectstart:le(void 0),onconnectend:le(void 0),onbeforedelete:le(void 0),nodesInitialized:le(!1),edgesInitialized:le(!1),viewportInitialized:le(!1),initialized:mt(!1)}};function Kd(t){const e=en([t.edges,t.nodes,t.nodeLookup,t.onlyRenderVisibleElements,t.viewport,t.width,t.height],([n,,i,o,r,s,l])=>o&&s&&l?n.filter(u=>{const f=i.get(u.source),d=i.get(u.target);return f&&d&&cc({sourceNode:f,targetNode:d,width:s,height:l,transform:[r.x,r.y,r.zoom]})}):n);return en([e,t.nodes,t.nodeLookup,t.connectionMode,t.onerror],([n,,i,o,r])=>n.reduce((l,a)=>{const u=i.get(a.source),f=i.get(a.target);if(!u||!f)return l;const d=bc({id:a.id,sourceNode:u,targetNode:f,sourceHandle:a.sourceHandle||null,targetHandle:a.targetHandle||null,connectionMode:o,onError:r});return d&&l.push({...a,zIndex:fc({selected:a.selected,zIndex:a.zIndex,sourceNode:u,targetNode:f,elevateOnSelect:!1}),...d}),l},[]))}function Fd(t){return en([t.nodeLookup,t.onlyRenderVisibleElements,t.width,t.height,t.viewport,t.nodes],([e,n,i,o,r])=>{const s=[r.x,r.y,r.zoom];return n?hl(e,{x:0,y:0,width:i,height:o},s,!0):Array.from(e.values())})}const $i=Symbol();function Zd({nodes:t,edges:e,width:n,height:i,fitView:o,nodeOrigin:r,nodeExtent:s}){const l=Wd({nodes:t,edges:e,width:n,height:i,fitView:o,nodeOrigin:r,nodeExtent:s});function a(p){l.nodeTypes.set({...Al,...p})}function u(p){l.edgeTypes.set({...Hl,...p})}function f(p){const P=ie(l.edges);l.edges.set(gc(p,P))}const d=(p,P=!1)=>{var L;const R=ie(l.nodeLookup);for(const[N,Y]of p){const W=(L=R.get(N))==null?void 0:L.internals.userNode;W&&(W.position=Y.position,W.dragging=P)}l.nodes.update(N=>N)};function c(p){var Y,W,j;const P=ie(l.nodeLookup),R=ie(l.parentLookup),{changes:L,updatedInternals:N}=Cc(p,P,ie(l.parentLookup),ie(l.domNode),ie(l.nodeOrigin));if(N){if(kc(P,R,{nodeOrigin:r,nodeExtent:s}),!ie(l.fitViewOnInitDone)&&ie(l.fitViewOnInit)){const z=ie(l.fitViewOptions),Q=m({...z,nodes:z==null?void 0:z.nodes});l.fitViewOnInitDone.set(Q)}for(const z of L){const Q=(Y=P.get(z.id))==null?void 0:Y.internals.userNode;if(Q)switch(z.type){case"dimensions":{const ne={...Q.measured,...z.dimensions};z.setAttributes&&(Q.width=((W=z.dimensions)==null?void 0:W.width)??Q.width,Q.height=((j=z.dimensions)==null?void 0:j.height)??Q.height),Q.measured=ne;break}case"position":Q.position=z.position??Q.position;break}}l.nodes.update(z=>z),ie(l.nodesInitialized)||l.nodesInitialized.set(!0)}}function h(p){const P=ie(l.panZoom),R=ie(l.domNode);if(!P||!R)return Promise.resolve(!1);const{width:L,height:N}=Ji(R),Y=Po(ie(l.nodeLookup),p);return No({nodes:Y,width:L,height:N,minZoom:ie(l.minZoom),maxZoom:ie(l.maxZoom),panZoom:P},p)}function m(p){const P=ie(l.panZoom);if(!P)return!1;const R=Po(ie(l.nodeLookup),p);return No({nodes:R,width:ie(l.width),height:ie(l.height),minZoom:ie(l.minZoom),maxZoom:ie(l.maxZoom),panZoom:P},p),R.size>0}function b(p,P){const R=ie(l.panZoom);return R?R.scaleBy(p,P):Promise.resolve(!1)}function y(p){return b(1.2,p)}function g(p){return b(1/1.2,p)}function _(p){const P=ie(l.panZoom);P&&(P.setScaleExtent([p,ie(l.maxZoom)]),l.minZoom.set(p))}function w(p){const P=ie(l.panZoom);P&&(P.setScaleExtent([ie(l.minZoom),p]),l.maxZoom.set(p))}function E(p){const P=ie(l.panZoom);P&&(P.setTranslateExtent(p),l.translateExtent.set(p))}function T(p){let P=!1;return p.forEach(R=>{R.selected&&(R.selected=!1,P=!0)}),P}function H(p){var P;(P=ie(l.panZoom))==null||P.setClickDistance(p)}function S(p){T((p==null?void 0:p.nodes)||ie(l.nodes))&&l.nodes.set(ie(l.nodes)),T((p==null?void 0:p.edges)||ie(l.edges))&&l.edges.set(ie(l.edges))}l.deleteKeyPressed.subscribe(async p=>{var P;if(p){const R=ie(l.nodes),L=ie(l.edges),N=R.filter(z=>z.selected),Y=L.filter(z=>z.selected),{nodes:W,edges:j}=await nc({nodesToRemove:N,edgesToRemove:Y,nodes:R,edges:L,onBeforeDelete:ie(l.onbeforedelete)});(W.length||j.length)&&(l.nodes.update(z=>z.filter(Q=>!W.some(ne=>ne.id===Q.id))),l.edges.update(z=>z.filter(Q=>!j.some(ne=>ne.id===Q.id))),(P=ie(l.ondelete))==null||P({nodes:W,edges:j}))}});function V(p){const P=ie(l.multiselectionKeyPressed);l.nodes.update(R=>R.map(L=>{const N=p.includes(L.id),Y=P&&L.selected||N;return L.selected=Y,L})),P||l.edges.update(R=>R.map(L=>(L.selected=!1,L)))}function I(p){const P=ie(l.multiselectionKeyPressed);l.edges.update(R=>R.map(L=>{const N=p.includes(L.id),Y=P&&L.selected||N;return L.selected=Y,L})),P||l.nodes.update(R=>R.map(L=>(L.selected=!1,L)))}function K(p){var R;const P=(R=ie(l.nodes))==null?void 0:R.find(L=>L.id===p);if(!P){console.warn("012",Nn.error012(p));return}l.selectionRect.set(null),l.selectionRectMode.set(null),P.selected?P.selected&&ie(l.multiselectionKeyPressed)&&S({nodes:[P],edges:[]}):V([p])}function U(p){const P=ie(l.viewport);return Mc({delta:p,panZoom:ie(l.panZoom),transform:[P.x,P.y,P.zoom],translateExtent:ie(l.translateExtent),width:ie(l.width),height:ie(l.height)})}const Z=le(zi),O=p=>{Z.set({...p})};function k(){Z.set(zi)}function B(){l.fitViewOnInitDone.set(!1),l.selectionRect.set(null),l.selectionRectMode.set(null),l.snapGrid.set(null),l.isValidConnection.set(()=>!0),S(),k()}return{...l,visibleEdges:Kd(l),visibleNodes:Fd(l),connection:en([Z,l.viewport],([p,P])=>p.inProgress?{...p,to:ci(p.to,[P.x,P.y,P.zoom])}:{...p}),markers:en([l.edges,l.defaultMarkerColor,l.flowId],([p,P,R])=>wc(p,{defaultColor:P,id:R})),initialized:(()=>{let p=!1;const P=ie(l.nodes).length,R=ie(l.edges).length;return en([l.nodesInitialized,l.edgesInitialized,l.viewportInitialized],([L,N,Y])=>p||(P===0?p=Y:R===0?p=Y&&L:p=Y&&L&&N,p))})(),syncNodeStores:p=>Rd(l.nodes,p),syncEdgeStores:p=>Ld(l.edges,p),syncViewport:p=>Xd(l.panZoom,l.viewport,p),setNodeTypes:a,setEdgeTypes:u,addEdge:f,updateNodePositions:d,updateNodeInternals:c,zoomIn:y,zoomOut:g,fitView:p=>h(p),setMinZoom:_,setMaxZoom:w,setTranslateExtent:E,setPaneClickDistance:H,unselectNodesAndEdges:S,addSelectedNodes:V,addSelectedEdges:I,handleNodeSelection:K,panBy:U,updateConnection:O,cancelConnection:k,reset:B}}function Fe(){const t=Wn($i);if(!t)throw new Error("In order to use useStore you need to wrap your component in a <SvelteFlowProvider />");return t.getStore()}function qd({nodes:t,edges:e,width:n,height:i,fitView:o,nodeOrigin:r,nodeExtent:s}){const l=Zd({nodes:t,edges:e,width:n,height:i,fitView:o,nodeOrigin:r,nodeExtent:s});return Kn($i,{getStore:()=>l}),l}function Ud(t,e){const{panZoom:n,minZoom:i,maxZoom:o,initialViewport:r,viewport:s,dragging:l,translateExtent:a,paneClickDistance:u}=e,f=Wc({domNode:t,minZoom:i,maxZoom:o,translateExtent:a,viewport:r,paneClickDistance:u,onDraggingChange:l.set}),d=f.getViewport();return s.set(d),n.set(f),f.update(e),{update(c){f.update(c)}}}function Gd(t){let e,n,i,o,r;const s=t[35].default,l=it(s,t,t[34],null);return{c(){e=x("div"),l&&l.c(),this.h()},l(a){e=$(a,"DIV",{class:!0});var u=q(e);l&&l.l(u),u.forEach(C),this.h()},h(){v(e,"class","svelte-flow__zoom svelte-4xkw84")},m(a,u){ee(a,e,u),l&&l.m(e,null),i=!0,o||(r=tt(n=Ud.call(null,e,{viewport:t[18],minZoom:t[12],maxZoom:t[13],initialViewport:t[11],dragging:t[23],panZoom:t[19],onPanZoomStart:t[0],onPanZoom:t[1],onPanZoomEnd:t[2],zoomOnScroll:t[5],zoomOnDoubleClick:t[6],zoomOnPinch:t[7],panOnScroll:t[9],panOnDrag:t[10],panOnScrollSpeed:.5,panOnScrollMode:t[3]||St.Free,zoomActivationKeyPressed:t[14],preventScrolling:typeof t[4]=="boolean"?t[4]:!0,noPanClassName:"nopan",noWheelClassName:"nowheel",userSelectionActive:!!t[15],translateExtent:t[16],lib:t[17],paneClickDistance:t[8],onTransformChange:t[29]})),o=!0)},p(a,u){l&&l.p&&(!i||u[1]&8)&&ot(l,s,a,a[34],i?lt(s,a[34],u,null):rt(a[34]),null),n&&qe(n.update)&&u[0]&262143&&n.update.call(null,{viewport:a[18],minZoom:a[12],maxZoom:a[13],initialViewport:a[11],dragging:a[23],panZoom:a[19],onPanZoomStart:a[0],onPanZoom:a[1],onPanZoomEnd:a[2],zoomOnScroll:a[5],zoomOnDoubleClick:a[6],zoomOnPinch:a[7],panOnScroll:a[9],panOnDrag:a[10],panOnScrollSpeed:.5,panOnScrollMode:a[3]||St.Free,zoomActivationKeyPressed:a[14],preventScrolling:typeof a[4]=="boolean"?a[4]:!0,noPanClassName:"nopan",noWheelClassName:"nowheel",userSelectionActive:!!a[15],translateExtent:a[16],lib:a[17],paneClickDistance:a[8],onTransformChange:a[29]})},i(a){i||(F(l,a),i=!0)},o(a){J(l,a),i=!1},d(a){a&&C(e),l&&l.d(a),o=!1,r()}}}function Jd(t,e,n){let i,o,r,s,l,a,u,f,d,c,h,{$$slots:m={},$$scope:b}=e,{initialViewport:y=void 0}=e,{onMoveStart:g=void 0}=e,{onMove:_=void 0}=e,{onMoveEnd:w=void 0}=e,{panOnScrollMode:E}=e,{preventScrolling:T}=e,{zoomOnScroll:H}=e,{zoomOnDoubleClick:S}=e,{zoomOnPinch:V}=e,{panOnDrag:I}=e,{panOnScroll:K}=e,{paneClickDistance:U}=e;const{viewport:Z,panZoom:O,selectionRect:k,minZoom:B,maxZoom:p,dragging:P,translateExtent:R,lib:L,panActivationKeyPressed:N,zoomActivationKeyPressed:Y,viewportInitialized:W}=Fe();te(t,k,z=>n(15,d=z)),te(t,B,z=>n(12,a=z)),te(t,p,z=>n(13,u=z)),te(t,R,z=>n(16,c=z)),te(t,L,z=>n(17,h=z)),te(t,N,z=>n(33,l=z)),te(t,Y,z=>n(14,f=z)),te(t,W,z=>n(36,s=z));const j=z=>Z.set({x:z[0],y:z[1],zoom:z[2]});return Sn(()=>{Rt(W,s=!0,s)}),t.$$set=z=>{"initialViewport"in z&&n(30,y=z.initialViewport),"onMoveStart"in z&&n(0,g=z.onMoveStart),"onMove"in z&&n(1,_=z.onMove),"onMoveEnd"in z&&n(2,w=z.onMoveEnd),"panOnScrollMode"in z&&n(3,E=z.panOnScrollMode),"preventScrolling"in z&&n(4,T=z.preventScrolling),"zoomOnScroll"in z&&n(5,H=z.zoomOnScroll),"zoomOnDoubleClick"in z&&n(6,S=z.zoomOnDoubleClick),"zoomOnPinch"in z&&n(7,V=z.zoomOnPinch),"panOnDrag"in z&&n(31,I=z.panOnDrag),"panOnScroll"in z&&n(32,K=z.panOnScroll),"paneClickDistance"in z&&n(8,U=z.paneClickDistance),"$$scope"in z&&n(34,b=z.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&1073741824&&n(11,i=y||{x:0,y:0,zoom:1}),t.$$.dirty[1]&5&&n(10,o=l||I),t.$$.dirty[1]&6&&n(9,r=l||K)},[g,_,w,E,T,H,S,V,U,r,o,i,a,u,f,d,c,h,Z,O,k,B,p,P,R,L,N,Y,W,j,y,I,K,l,b,m]}class jd extends me{constructor(e){super(),_e(this,e,Jd,Gd,ve,{initialViewport:30,onMoveStart:0,onMove:1,onMoveEnd:2,panOnScrollMode:3,preventScrolling:4,zoomOnScroll:5,zoomOnDoubleClick:6,zoomOnPinch:7,panOnDrag:31,panOnScroll:32,paneClickDistance:8},null,[-1,-1])}}const Qd=jd;function xd(t){let e,n,i,o;const r=t[28].default,s=it(r,t,t[27],null);return{c(){e=x("div"),s&&s.c(),this.h()},l(l){e=$(l,"DIV",{class:!0});var a=q(e);s&&s.l(a),a.forEach(C),this.h()},h(){v(e,"class","svelte-flow__pane svelte-1esy7hx"),he(e,"draggable",t[0]===!0||Array.isArray(t[0])&&t[0].includes(0)),he(e,"dragging",t[4]),he(e,"selection",t[1])},m(l,a){ee(l,e,a),s&&s.m(e,null),t[29](e),n=!0,i||(o=[ke(e,"click",function(){qe(t[3]?void 0:Rn(t[15],t[2]))&&(t[3]?void 0:Rn(t[15],t[2])).apply(this,arguments)}),ke(e,"pointerdown",function(){qe(t[3]?t[16]:void 0)&&(t[3]?t[16]:void 0).apply(this,arguments)}),ke(e,"pointermove",function(){qe(t[3]?t[17]:void 0)&&(t[3]?t[17]:void 0).apply(this,arguments)}),ke(e,"pointerup",function(){qe(t[3]?t[18]:void 0)&&(t[3]?t[18]:void 0).apply(this,arguments)}),ke(e,"contextmenu",function(){qe(Rn(t[19],t[2]))&&Rn(t[19],t[2]).apply(this,arguments)})],i=!0)},p(l,a){t=l,s&&s.p&&(!n||a[0]&134217728)&&ot(s,r,t,t[27],n?lt(r,t[27],a,null):rt(t[27]),null),(!n||a[0]&1)&&he(e,"draggable",t[0]===!0||Array.isArray(t[0])&&t[0].includes(0)),(!n||a[0]&16)&&he(e,"dragging",t[4]),(!n||a[0]&2)&&he(e,"selection",t[1])},i(l){n||(F(s,l),n=!0)},o(l){J(s,l),n=!1},d(l){l&&C(e),s&&s.d(l),t[29](null),i=!1,dt(o)}}}function Rn(t,e){return n=>{n.target===e&&(t==null||t(n))}}function Ko(t){return e=>{const n=t.includes(e.id);return e.selected!==n&&(e.selected=n),e}}function $d(t,e,n){let i,o,r,s,l,a,u,f,d,c,h,m,b,{$$slots:y={},$$scope:g}=e,{panOnDrag:_=void 0}=e,{selectionOnDrag:w=void 0}=e;const E=ii(),{nodes:T,nodeLookup:H,edges:S,viewport:V,dragging:I,elementsSelectable:K,selectionRect:U,selectionRectMode:Z,selectionKeyPressed:O,selectionMode:k,panActivationKeyPressed:B,unselectNodesAndEdges:p}=Fe();te(t,H,A=>n(36,d=A)),te(t,S,A=>n(33,a=A)),te(t,V,A=>n(35,f=A)),te(t,I,A=>n(4,b=A)),te(t,K,A=>n(25,h=A)),te(t,U,A=>n(24,c=A)),te(t,Z,A=>n(23,l=A)),te(t,O,A=>n(22,s=A)),te(t,k,A=>n(34,u=A)),te(t,B,A=>n(26,m=A));let P,R=null,L=[],N=!1;function Y(A){if(N){N=!1;return}E("paneclick",{event:A}),p(),Z.set(null)}function W(A){var ce,ye;if(R=P.getBoundingClientRect(),!K||!o||A.button!==0||A.target!==P||!R)return;(ye=(ce=A.target)==null?void 0:ce.setPointerCapture)==null||ye.call(ce,A.pointerId);const{x:se,y:ge}=Ot(A,R);p(),U.set({width:0,height:0,startX:se,startY:ge,x:se,y:ge})}function j(A){if(!o||!R||!c)return;N=!0;const se=Ot(A,R),ge=c.startX??0,ce=c.startY??0,ye={...c,x:se.x<ge?se.x:ge,y:se.y<ce?se.y:ce,width:Math.abs(se.x-ge),height:Math.abs(se.y-ce)},pe=L.map(Ce=>Ce.id),Ne=Oi(L,a).map(Ce=>Ce.id);L=hl(d,ye,[f.x,f.y,f.zoom],u===xn.Partial,!0);const G=Oi(L,a).map(Ce=>Ce.id),Te=L.map(Ce=>Ce.id);(pe.length!==Te.length||Te.some(Ce=>!pe.includes(Ce)))&&T.update(Ce=>Ce.map(Ko(Te))),(Ne.length!==G.length||G.some(Ce=>!Ne.includes(Ce)))&&S.update(Ce=>Ce.map(Ko(G))),Z.set("user"),U.set(ye)}function z(A){var se,ge;A.button===0&&((ge=(se=A.target)==null?void 0:se.releasePointerCapture)==null||ge.call(se,A.pointerId),!o&&l==="user"&&A.target===P&&(Y==null||Y(A)),U.set(null),L.length>0&&Rt(Z,l="nodes",l),s&&(N=!1))}const Q=A=>{if(Array.isArray(i)&&(i!=null&&i.includes(2))){A.preventDefault();return}E("panecontextmenu",{event:A})};function ne(A){Cn[A?"unshift":"push"](()=>{P=A,n(2,P)})}return t.$$set=A=>{"panOnDrag"in A&&n(0,_=A.panOnDrag),"selectionOnDrag"in A&&n(20,w=A.selectionOnDrag),"$$scope"in A&&n(27,g=A.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&67108865&&n(21,i=m||_),t.$$.dirty[0]&24117248&&n(1,o=s||c||w&&i!==!0),t.$$.dirty[0]&41943042&&n(3,r=h&&(o||l==="user"))},[_,o,P,r,b,H,S,V,I,K,U,Z,O,k,B,Y,W,j,z,Q,w,i,s,l,c,h,m,g,y,ne]}class eh extends me{constructor(e){super(),_e(this,e,$d,xd,ve,{panOnDrag:0,selectionOnDrag:20},null,[-1,-1])}}const th=eh;function nh(t){let e,n;const i=t[3].default,o=it(i,t,t[2],null);return{c(){e=x("div"),o&&o.c(),this.h()},l(r){e=$(r,"DIV",{class:!0,style:!0});var s=q(e);o&&o.l(s),s.forEach(C),this.h()},h(){v(e,"class","svelte-flow__viewport xyflow__viewport svelte-1floaup"),be(e,"transform","translate("+t[0].x+"px, "+t[0].y+"px) scale("+t[0].zoom+")")},m(r,s){ee(r,e,s),o&&o.m(e,null),n=!0},p(r,[s]){o&&o.p&&(!n||s&4)&&ot(o,i,r,r[2],n?lt(i,r[2],s,null):rt(r[2]),null),(!n||s&1)&&be(e,"transform","translate("+r[0].x+"px, "+r[0].y+"px) scale("+r[0].zoom+")")},i(r){n||(F(o,r),n=!0)},o(r){J(o,r),n=!1},d(r){r&&C(e),o&&o.d(r)}}}function ih(t,e,n){let i,{$$slots:o={},$$scope:r}=e;const{viewport:s}=Fe();return te(t,s,l=>n(0,i=l)),t.$$set=l=>{"$$scope"in l&&n(2,r=l.$$scope)},[i,s,r,o]}class oh extends me{constructor(e){super(),_e(this,e,ih,nh,ve,{})}}const rh=oh;function Vl(t,e){const{store:n,onDrag:i,onDragStart:o,onDragStop:r,onNodeMouseDown:s}=e,l=Nc({onDrag:i,onDragStart:o,onDragStop:r,onNodeMouseDown:s,getStoreItems:()=>{const u=ie(n.snapGrid),f=ie(n.viewport);return{nodes:ie(n.nodes),nodeLookup:ie(n.nodeLookup),edges:ie(n.edges),nodeExtent:ie(n.nodeExtent),snapGrid:u||[0,0],snapToGrid:!!u,nodeOrigin:ie(n.nodeOrigin),multiSelectionActive:ie(n.multiselectionKeyPressed),domNode:ie(n.domNode),transform:[f.x,f.y,f.zoom],autoPanOnNodeDrag:ie(n.autoPanOnNodeDrag),nodesDraggable:ie(n.nodesDraggable),selectNodesOnDrag:ie(n.selectNodesOnDrag),nodeDragThreshold:ie(n.nodeDragThreshold),unselectNodesAndEdges:n.unselectNodesAndEdges,updateNodePositions:n.updateNodePositions,panBy:n.panBy}}});function a(u,f){if(f.disabled){l.destroy();return}l.update({domNode:u,noDragClassName:f.noDragClass,handleSelector:f.handleSelector,nodeId:f.nodeId,isSelectable:f.isSelectable,nodeClickDistance:f.nodeClickDistance})}return a(t,e),{update(u){a(t,u)},destroy(){l.destroy()}}}function lh({width:t,height:e,initialWidth:n,initialHeight:i,measuredWidth:o,measuredHeight:r}){if(o===void 0&&r===void 0){const s=t??n,l=e??i;return{width:s?`width:${s}px;`:"",height:l?`height:${l}px;`:""}}return{width:t?`width:${t}px;`:"",height:e?`height:${e}px;`:""}}function Fo(t){let e,n,i,o,r,s=`translate(${t[12]}px, ${t[13]}px)`,l,a,u;var f=t[27];function d(c,h){return{props:{data:c[2],id:c[1],selected:c[3]??!1,selectable:c[5]??c[28]??!0,deletable:c[7]??!0,sourcePosition:c[14],targetPosition:c[15],zIndex:c[16],dragging:c[9],draggable:c[4]??c[29]??!0,dragHandle:c[19],parentId:c[21],type:c[25],isConnectable:c[30],positionAbsoluteX:c[12],positionAbsoluteY:c[13],width:c[17],height:c[18]}}}return f&&(n=Fn(f,d(t))),{c(){e=x("div"),n&&ae(n.$$.fragment),this.h()},l(c){e=$(c,"DIV",{"data-id":!0,class:!0,style:!0});var h=q(e);n&&de(n.$$.fragment,h),h.forEach(C),this.h()},h(){v(e,"data-id",t[1]),v(e,"class",i=Re(["svelte-flow__node",`svelte-flow__node-${t[25]}`,t[23]])),v(e,"style",o=(t[10]??"")+";"+t[26].width+t[26].height),he(e,"dragging",t[9]),he(e,"selected",t[3]),he(e,"draggable",t[4]),he(e,"connectable",t[6]),he(e,"selectable",t[5]),he(e,"nopan",t[4]),he(e,"parent",t[11]),be(e,"z-index",t[16]),be(e,"transform",s),be(e,"visibility",t[20]?"visible":"hidden")},m(c,h){ee(c,e,h),n&&ue(n,e,null),t[54](e),l=!0,a||(u=[tt(r=Vl.call(null,e,{nodeId:t[1],isSelectable:t[5],disabled:!1,handleSelector:t[19],noDragClass:"nodrag",nodeClickDistance:t[22],onNodeMouseDown:t[33],onDrag:t[51],onDragStart:t[52],onDragStop:t[53],store:t[31]})),ke(e,"click",t[38]),ke(e,"mouseenter",t[55]),ke(e,"mouseleave",t[56]),ke(e,"mousemove",t[57]),ke(e,"contextmenu",t[58])],a=!0)},p(c,h){if(h[0]&134217728&&f!==(f=c[27])){if(n){Ue();const b=n;J(b.$$.fragment,1,0,()=>{fe(b,1)}),Ge()}f?(n=Fn(f,d(c)),ae(n.$$.fragment),F(n.$$.fragment,1),ue(n,e,null)):n=null}else if(f){const b={};h[0]&4&&(b.data=c[2]),h[0]&2&&(b.id=c[1]),h[0]&8&&(b.selected=c[3]??!1),h[0]&268435488&&(b.selectable=c[5]??c[28]??!0),h[0]&128&&(b.deletable=c[7]??!0),h[0]&16384&&(b.sourcePosition=c[14]),h[0]&32768&&(b.targetPosition=c[15]),h[0]&65536&&(b.zIndex=c[16]),h[0]&512&&(b.dragging=c[9]),h[0]&536870928&&(b.draggable=c[4]??c[29]??!0),h[0]&524288&&(b.dragHandle=c[19]),h[0]&2097152&&(b.parentId=c[21]),h[0]&33554432&&(b.type=c[25]),h[0]&1073741824&&(b.isConnectable=c[30]),h[0]&4096&&(b.positionAbsoluteX=c[12]),h[0]&8192&&(b.positionAbsoluteY=c[13]),h[0]&131072&&(b.width=c[17]),h[0]&262144&&(b.height=c[18]),n.$set(b)}(!l||h[0]&2)&&v(e,"data-id",c[1]),(!l||h[0]&41943040&&i!==(i=Re(["svelte-flow__node",`svelte-flow__node-${c[25]}`,c[23]])))&&v(e,"class",i),(!l||h[0]&67109888&&o!==(o=(c[10]??"")+";"+c[26].width+c[26].height))&&v(e,"style",o),r&&qe(r.update)&&h[0]&4718626&&r.update.call(null,{nodeId:c[1],isSelectable:c[5],disabled:!1,handleSelector:c[19],noDragClass:"nodrag",nodeClickDistance:c[22],onNodeMouseDown:c[33],onDrag:c[51],onDragStart:c[52],onDragStop:c[53],store:c[31]}),(!l||h[0]&41943552)&&he(e,"dragging",c[9]),(!l||h[0]&41943048)&&he(e,"selected",c[3]),(!l||h[0]&41943056)&&he(e,"draggable",c[4]),(!l||h[0]&41943104)&&he(e,"connectable",c[6]),(!l||h[0]&41943072)&&he(e,"selectable",c[5]),(!l||h[0]&41943056)&&he(e,"nopan",c[4]),(!l||h[0]&41945088)&&he(e,"parent",c[11]);const m=h[0]&67109888;(h[0]&67175424||m)&&be(e,"z-index",c[16]),(h[0]&67122176&&s!==(s=`translate(${c[12]}px, ${c[13]}px)`)||m)&&be(e,"transform",s),(h[0]&68158464||m)&&be(e,"visibility",c[20]?"visible":"hidden")},i(c){l||(n&&F(n.$$.fragment,c),l=!0)},o(c){n&&J(n.$$.fragment,c),l=!1},d(c){c&&C(e),n&&fe(n),t[54](null),a=!1,dt(u)}}}function sh(t){let e,n,i=!t[8]&&Fo(t);return{c(){i&&i.c(),e=He()},l(o){i&&i.l(o),e=He()},m(o,r){i&&i.m(o,r),ee(o,e,r),n=!0},p(o,r){o[8]?i&&(Ue(),J(i,1,1,()=>{i=null}),Ge()):i?(i.p(o,r),r[0]&256&&F(i,1)):(i=Fo(o),i.c(),F(i,1),i.m(e.parentNode,e))},i(o){n||(F(i),n=!0)},o(o){J(i),n=!1},d(o){o&&C(e),i&&i.d(o)}}}function ah(t,e,n){let i,o,r,s,l,a,u,f,{node:d}=e,{id:c}=e,{data:h={}}=e,{selected:m=!1}=e,{draggable:b=void 0}=e,{selectable:y=void 0}=e,{connectable:g=!0}=e,{deletable:_=!0}=e,{hidden:w=!1}=e,{dragging:E=!1}=e,{resizeObserver:T=null}=e,{style:H=void 0}=e,{type:S="default"}=e,{isParent:V=!1}=e,{positionX:I}=e,{positionY:K}=e,{sourcePosition:U=void 0}=e,{targetPosition:Z=void 0}=e,{zIndex:O}=e,{measuredWidth:k=void 0}=e,{measuredHeight:B=void 0}=e,{initialWidth:p=void 0}=e,{initialHeight:P=void 0}=e,{width:R=void 0}=e,{height:L=void 0}=e,{dragHandle:N=void 0}=e,{initialized:Y=!1}=e,{parentId:W=void 0}=e,{nodeClickDistance:j=void 0}=e,{class:z=""}=e;const Q=Fe(),{nodeTypes:ne,nodeDragThreshold:A,selectNodesOnDrag:se,handleNodeSelection:ge,updateNodeInternals:ce,elementsSelectable:ye,nodesDraggable:pe}=Q;te(t,ne,D=>n(50,l=D)),te(t,ye,D=>n(28,a=D)),te(t,pe,D=>n(29,u=D));let Ne,G=null;const Te=ii(),Ce=le(g);te(t,Ce,D=>n(30,f=D));let $e,et,Je;Kn("svelteflow__node_id",c),Kn("svelteflow__node_connectable",Ce),Hr(()=>{G&&(T==null||T.unobserve(G))});function st(D){y&&(!ie(se)||!b||ie(A)>0)&&ge(c),Te("nodeclick",{node:d.internals.userNode,event:D})}const ft=(D,Qe,ze,Ie)=>{Te("nodedrag",{event:D,targetNode:ze,nodes:Ie})},ct=(D,Qe,ze,Ie)=>{Te("nodedragstart",{event:D,targetNode:ze,nodes:Ie})},je=(D,Qe,ze,Ie)=>{Te("nodedragstop",{event:D,targetNode:ze,nodes:Ie})};function at(D){Cn[D?"unshift":"push"](()=>{Ne=D,n(24,Ne)})}const Ve=D=>Te("nodemouseenter",{node:d,event:D}),Me=D=>Te("nodemouseleave",{node:d,event:D}),Ee=D=>Te("nodemousemove",{node:d,event:D}),Ze=D=>Te("nodecontextmenu",{node:d,event:D});return t.$$set=D=>{"node"in D&&n(0,d=D.node),"id"in D&&n(1,c=D.id),"data"in D&&n(2,h=D.data),"selected"in D&&n(3,m=D.selected),"draggable"in D&&n(4,b=D.draggable),"selectable"in D&&n(5,y=D.selectable),"connectable"in D&&n(6,g=D.connectable),"deletable"in D&&n(7,_=D.deletable),"hidden"in D&&n(8,w=D.hidden),"dragging"in D&&n(9,E=D.dragging),"resizeObserver"in D&&n(39,T=D.resizeObserver),"style"in D&&n(10,H=D.style),"type"in D&&n(40,S=D.type),"isParent"in D&&n(11,V=D.isParent),"positionX"in D&&n(12,I=D.positionX),"positionY"in D&&n(13,K=D.positionY),"sourcePosition"in D&&n(14,U=D.sourcePosition),"targetPosition"in D&&n(15,Z=D.targetPosition),"zIndex"in D&&n(16,O=D.zIndex),"measuredWidth"in D&&n(41,k=D.measuredWidth),"measuredHeight"in D&&n(42,B=D.measuredHeight),"initialWidth"in D&&n(43,p=D.initialWidth),"initialHeight"in D&&n(44,P=D.initialHeight),"width"in D&&n(17,R=D.width),"height"in D&&n(18,L=D.height),"dragHandle"in D&&n(19,N=D.dragHandle),"initialized"in D&&n(20,Y=D.initialized),"parentId"in D&&n(21,W=D.parentId),"nodeClickDistance"in D&&n(22,j=D.nodeClickDistance),"class"in D&&n(23,z=D.class)},t.$$.update=()=>{t.$$.dirty[1]&512&&n(25,i=S||"default"),t.$$.dirty[0]&33554432|t.$$.dirty[1]&524288&&n(49,o=!!l[i]),t.$$.dirty[0]&33554432|t.$$.dirty[1]&524288&&n(27,r=l[i]||Il),t.$$.dirty[1]&262656&&(o||console.warn("003",Nn.error003(S))),t.$$.dirty[0]&393216|t.$$.dirty[1]&15360&&n(26,s=lh({width:R,height:L,initialWidth:p,initialHeight:P,measuredWidth:k,measuredHeight:B})),t.$$.dirty[0]&64&&Ce.set(!!g),t.$$.dirty[0]&50380802|t.$$.dirty[1]&229376&&(($e&&i!==$e||et&&U!==et||Je&&Z!==Je)&&requestAnimationFrame(()=>ce(new Map([[c,{id:c,nodeElement:Ne,force:!0}]]))),n(46,$e=i),n(47,et=U),n(48,Je=Z)),t.$$.dirty[0]&17825792|t.$$.dirty[1]&16640&&T&&(Ne!==G||!Y)&&(G&&T.unobserve(G),Ne&&T.observe(Ne),n(45,G=Ne))},[d,c,h,m,b,y,g,_,w,E,H,V,I,K,U,Z,O,R,L,N,Y,W,j,z,Ne,i,s,r,a,u,f,Q,ne,ge,ye,pe,Te,Ce,st,T,S,k,B,p,P,G,$e,et,Je,o,l,ft,ct,je,at,Ve,Me,Ee,Ze]}class uh extends me{constructor(e){super(),_e(this,e,ah,sh,Ar,{node:0,id:1,data:2,selected:3,draggable:4,selectable:5,connectable:6,deletable:7,hidden:8,dragging:9,resizeObserver:39,style:10,type:40,isParent:11,positionX:12,positionY:13,sourcePosition:14,targetPosition:15,zIndex:16,measuredWidth:41,measuredHeight:42,initialWidth:43,initialHeight:44,width:17,height:18,dragHandle:19,initialized:20,parentId:21,nodeClickDistance:22,class:23},null,[-1,-1])}}const fh=uh;const{Map:ch}=ws;function Zo(t,e,n){const i=t.slice();return i[21]=e[n],i}function qo(t,e){let n,i,o;return i=new fh({props:{node:e[21],id:e[21].id,data:e[21].data,selected:!!e[21].selected,hidden:!!e[21].hidden,draggable:!!(e[21].draggable||e[2]&&typeof e[21].draggable>"u"),selectable:!!(e[21].selectable||e[3]&&typeof e[21].selectable>"u"),connectable:!!(e[21].connectable||e[4]&&typeof e[21].connectable>"u"),deletable:e[21].deletable??!0,positionX:e[21].internals.positionAbsolute.x,positionY:e[21].internals.positionAbsolute.y,isParent:e[5].has(e[21].id),style:e[21].style,class:e[21].class,type:e[21].type??"default",sourcePosition:e[21].sourcePosition,targetPosition:e[21].targetPosition,dragging:e[21].dragging,zIndex:e[21].internals.z??0,dragHandle:e[21].dragHandle,initialized:Do(e[21]),width:e[21].width,height:e[21].height,initialWidth:e[21].initialWidth,initialHeight:e[21].initialHeight,measuredWidth:e[21].measured.width,measuredHeight:e[21].measured.height,parentId:e[21].parentId,resizeObserver:e[11],nodeClickDistance:e[0]}}),i.$on("nodeclick",e[12]),i.$on("nodemouseenter",e[13]),i.$on("nodemousemove",e[14]),i.$on("nodemouseleave",e[15]),i.$on("nodedrag",e[16]),i.$on("nodedragstart",e[17]),i.$on("nodedragstop",e[18]),i.$on("nodecontextmenu",e[19]),{key:t,first:null,c(){n=He(),ae(i.$$.fragment),this.h()},l(r){n=He(),de(i.$$.fragment,r),this.h()},h(){this.first=n},m(r,s){ee(r,n,s),ue(i,r,s),o=!0},p(r,s){e=r;const l={};s&2&&(l.node=e[21]),s&2&&(l.id=e[21].id),s&2&&(l.data=e[21].data),s&2&&(l.selected=!!e[21].selected),s&2&&(l.hidden=!!e[21].hidden),s&6&&(l.draggable=!!(e[21].draggable||e[2]&&typeof e[21].draggable>"u")),s&10&&(l.selectable=!!(e[21].selectable||e[3]&&typeof e[21].selectable>"u")),s&18&&(l.connectable=!!(e[21].connectable||e[4]&&typeof e[21].connectable>"u")),s&2&&(l.deletable=e[21].deletable??!0),s&2&&(l.positionX=e[21].internals.positionAbsolute.x),s&2&&(l.positionY=e[21].internals.positionAbsolute.y),s&34&&(l.isParent=e[5].has(e[21].id)),s&2&&(l.style=e[21].style),s&2&&(l.class=e[21].class),s&2&&(l.type=e[21].type??"default"),s&2&&(l.sourcePosition=e[21].sourcePosition),s&2&&(l.targetPosition=e[21].targetPosition),s&2&&(l.dragging=e[21].dragging),s&2&&(l.zIndex=e[21].internals.z??0),s&2&&(l.dragHandle=e[21].dragHandle),s&2&&(l.initialized=Do(e[21])),s&2&&(l.width=e[21].width),s&2&&(l.height=e[21].height),s&2&&(l.initialWidth=e[21].initialWidth),s&2&&(l.initialHeight=e[21].initialHeight),s&2&&(l.measuredWidth=e[21].measured.width),s&2&&(l.measuredHeight=e[21].measured.height),s&2&&(l.parentId=e[21].parentId),s&1&&(l.nodeClickDistance=e[0]),i.$set(l)},i(r){o||(F(i.$$.fragment,r),o=!0)},o(r){J(i.$$.fragment,r),o=!1},d(r){r&&C(n),fe(i,r)}}}function dh(t){let e,n=[],i=new ch,o,r=Ke(t[1]);const s=l=>l[21].id;for(let l=0;l<r.length;l+=1){let a=Zo(t,r,l),u=s(a);i.set(u,n[l]=qo(u,a))}return{c(){e=x("div");for(let l=0;l<n.length;l+=1)n[l].c();this.h()},l(l){e=$(l,"DIV",{class:!0});var a=q(e);for(let u=0;u<n.length;u+=1)n[u].l(a);a.forEach(C),this.h()},h(){v(e,"class","svelte-flow__nodes svelte-tf4uy4")},m(l,a){ee(l,e,a);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(e,null);o=!0},p(l,[a]){a&2111&&(r=Ke(l[1]),Ue(),n=Ri(n,a,s,1,l,r,i,e,Li,qo,null,Zo),Ge())},i(l){if(!o){for(let a=0;a<r.length;a+=1)F(n[a]);o=!0}},o(l){for(let a=0;a<n.length;a+=1)J(n[a]);o=!1},d(l){l&&C(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function hh(t,e,n){let i,o,r,s,l,{nodeClickDistance:a=0}=e;const{visibleNodes:u,nodesDraggable:f,nodesConnectable:d,elementsSelectable:c,updateNodeInternals:h,parentLookup:m}=Fe();te(t,u,V=>n(1,i=V)),te(t,f,V=>n(2,o=V)),te(t,d,V=>n(4,s=V)),te(t,c,V=>n(3,r=V)),te(t,m,V=>n(5,l=V));const b=typeof ResizeObserver>"u"?null:new ResizeObserver(V=>{const I=new Map;V.forEach(K=>{const U=K.target.getAttribute("data-id");I.set(U,{id:U,nodeElement:K.target,force:!0})}),h(I)});Hr(()=>{b==null||b.disconnect()});function y(V){Pe.call(this,t,V)}function g(V){Pe.call(this,t,V)}function _(V){Pe.call(this,t,V)}function w(V){Pe.call(this,t,V)}function E(V){Pe.call(this,t,V)}function T(V){Pe.call(this,t,V)}function H(V){Pe.call(this,t,V)}function S(V){Pe.call(this,t,V)}return t.$$set=V=>{"nodeClickDistance"in V&&n(0,a=V.nodeClickDistance)},[a,i,o,r,s,l,u,f,d,c,m,b,y,g,_,w,E,T,H,S]}class gh extends me{constructor(e){super(),_e(this,e,hh,dh,ve,{nodeClickDistance:0})}}const mh=gh;function Uo(t){let e,n,i,o,r,s,l,a;var u=t[27];function f(d,c){return{props:{id:d[0],source:d[1],target:d[2],sourceX:d[14],sourceY:d[15],targetX:d[16],targetY:d[17],sourcePosition:d[18],targetPosition:d[19],animated:d[6],selected:d[7],label:d[10],labelStyle:d[11],data:d[3],style:d[4],interactionWidth:d[21],selectable:d[24],deletable:d[8]??!0,type:d[23],sourceHandleId:d[12],targetHandleId:d[13],markerStart:d[26],markerEnd:d[25]}}}return u&&(i=Fn(u,f(t))),{c(){e=Oe("svg"),n=Oe("g"),i&&ae(i.$$.fragment),this.h()},l(d){e=Ae(d,"svg",{});var c=q(e);n=Ae(c,"g",{class:!0,"data-id":!0,"aria-label":!0,role:!0});var h=q(n);i&&de(i.$$.fragment,h),h.forEach(C),c.forEach(C),this.h()},h(){v(n,"class",o=Re(["svelte-flow__edge",t[22]])),v(n,"data-id",t[0]),v(n,"aria-label",r=t[20]===null?void 0:t[20]?t[20]:`Edge from ${t[1]} to ${t[2]}`),v(n,"role","img"),he(n,"animated",t[6]),he(n,"selected",t[7]),he(n,"selectable",t[24]),be(e,"z-index",t[5])},m(d,c){ee(d,e,c),X(e,n),i&&ue(i,n,null),s=!0,l||(a=[ke(n,"click",t[32]),ke(n,"contextmenu",t[41]),ke(n,"mouseenter",t[42]),ke(n,"mouseleave",t[43])],l=!0)},p(d,c){if(c[0]&134217728&&u!==(u=d[27])){if(i){Ue();const h=i;J(h.$$.fragment,1,0,()=>{fe(h,1)}),Ge()}u?(i=Fn(u,f(d)),ae(i.$$.fragment),F(i.$$.fragment,1),ue(i,n,null)):i=null}else if(u){const h={};c[0]&1&&(h.id=d[0]),c[0]&2&&(h.source=d[1]),c[0]&4&&(h.target=d[2]),c[0]&16384&&(h.sourceX=d[14]),c[0]&32768&&(h.sourceY=d[15]),c[0]&65536&&(h.targetX=d[16]),c[0]&131072&&(h.targetY=d[17]),c[0]&262144&&(h.sourcePosition=d[18]),c[0]&524288&&(h.targetPosition=d[19]),c[0]&64&&(h.animated=d[6]),c[0]&128&&(h.selected=d[7]),c[0]&1024&&(h.label=d[10]),c[0]&2048&&(h.labelStyle=d[11]),c[0]&8&&(h.data=d[3]),c[0]&16&&(h.style=d[4]),c[0]&2097152&&(h.interactionWidth=d[21]),c[0]&16777216&&(h.selectable=d[24]),c[0]&256&&(h.deletable=d[8]??!0),c[0]&8388608&&(h.type=d[23]),c[0]&4096&&(h.sourceHandleId=d[12]),c[0]&8192&&(h.targetHandleId=d[13]),c[0]&67108864&&(h.markerStart=d[26]),c[0]&33554432&&(h.markerEnd=d[25]),i.$set(h)}(!s||c[0]&4194304&&o!==(o=Re(["svelte-flow__edge",d[22]])))&&v(n,"class",o),(!s||c[0]&1)&&v(n,"data-id",d[0]),(!s||c[0]&1048582&&r!==(r=d[20]===null?void 0:d[20]?d[20]:`Edge from ${d[1]} to ${d[2]}`))&&v(n,"aria-label",r),(!s||c[0]&4194368)&&he(n,"animated",d[6]),(!s||c[0]&4194432)&&he(n,"selected",d[7]),(!s||c[0]&20971520)&&he(n,"selectable",d[24]),c[0]&32&&be(e,"z-index",d[5])},i(d){s||(i&&F(i.$$.fragment,d),s=!0)},o(d){i&&J(i.$$.fragment,d),s=!1},d(d){d&&C(e),i&&fe(i),l=!1,dt(a)}}}function _h(t){let e,n,i=!t[9]&&Uo(t);return{c(){i&&i.c(),e=He()},l(o){i&&i.l(o),e=He()},m(o,r){i&&i.m(o,r),ee(o,e,r),n=!0},p(o,r){o[9]?i&&(Ue(),J(i,1,1,()=>{i=null}),Ge()):i?(i.p(o,r),r[0]&512&&F(i,1)):(i=Uo(o),i.c(),F(i,1),i.m(e.parentNode,e))},i(o){n||(F(i),n=!0)},o(o){J(i),n=!1},d(o){o&&C(e),i&&i.d(o)}}}function yh(t,e,n){let i,o,r,s,l,a,u,f,d,{id:c}=e,{type:h="default"}=e,{source:m=""}=e,{target:b=""}=e,{data:y={}}=e,{style:g=void 0}=e,{zIndex:_=void 0}=e,{animated:w=!1}=e,{selected:E=!1}=e,{selectable:T=void 0}=e,{deletable:H=void 0}=e,{hidden:S=!1}=e,{label:V=void 0}=e,{labelStyle:I=void 0}=e,{markerStart:K=void 0}=e,{markerEnd:U=void 0}=e,{sourceHandle:Z=void 0}=e,{targetHandle:O=void 0}=e,{sourceX:k}=e,{sourceY:B}=e,{targetX:p}=e,{targetY:P}=e,{sourcePosition:R}=e,{targetPosition:L}=e,{ariaLabel:N=void 0}=e,{interactionWidth:Y=void 0}=e,{class:W=""}=e;Kn("svelteflow__edge_id",c);const{edgeLookup:j,edgeTypes:z,flowId:Q,elementsSelectable:ne}=Fe();te(t,j,G=>n(44,a=G)),te(t,z,G=>n(40,d=G)),te(t,Q,G=>n(39,f=G)),te(t,ne,G=>n(38,u=G));const A=ii(),se=zl();function ge(G){const Te=a.get(c);Te&&(se(c),A("edgeclick",{event:G,edge:Te}))}function ce(G,Te){const Ce=a.get(c);Ce&&A(Te,{event:G,edge:Ce})}const ye=G=>{ce(G,"edgecontextmenu")},pe=G=>{ce(G,"edgemouseenter")},Ne=G=>{ce(G,"edgemouseleave")};return t.$$set=G=>{"id"in G&&n(0,c=G.id),"type"in G&&n(34,h=G.type),"source"in G&&n(1,m=G.source),"target"in G&&n(2,b=G.target),"data"in G&&n(3,y=G.data),"style"in G&&n(4,g=G.style),"zIndex"in G&&n(5,_=G.zIndex),"animated"in G&&n(6,w=G.animated),"selected"in G&&n(7,E=G.selected),"selectable"in G&&n(35,T=G.selectable),"deletable"in G&&n(8,H=G.deletable),"hidden"in G&&n(9,S=G.hidden),"label"in G&&n(10,V=G.label),"labelStyle"in G&&n(11,I=G.labelStyle),"markerStart"in G&&n(36,K=G.markerStart),"markerEnd"in G&&n(37,U=G.markerEnd),"sourceHandle"in G&&n(12,Z=G.sourceHandle),"targetHandle"in G&&n(13,O=G.targetHandle),"sourceX"in G&&n(14,k=G.sourceX),"sourceY"in G&&n(15,B=G.sourceY),"targetX"in G&&n(16,p=G.targetX),"targetY"in G&&n(17,P=G.targetY),"sourcePosition"in G&&n(18,R=G.sourcePosition),"targetPosition"in G&&n(19,L=G.targetPosition),"ariaLabel"in G&&n(20,N=G.ariaLabel),"interactionWidth"in G&&n(21,Y=G.interactionWidth),"class"in G&&n(22,W=G.class)},t.$$.update=()=>{t.$$.dirty[1]&8&&n(23,i=h||"default"),t.$$.dirty[0]&8388608|t.$$.dirty[1]&512&&n(27,o=d[i]||Ol),t.$$.dirty[1]&288&&n(26,r=K?`url('#${Vi(K,f)}')`:void 0),t.$$.dirty[1]&320&&n(25,s=U?`url('#${Vi(U,f)}')`:void 0),t.$$.dirty[1]&144&&n(24,l=T??u)},[c,m,b,y,g,_,w,E,H,S,V,I,Z,O,k,B,p,P,R,L,N,Y,W,i,l,s,r,o,j,z,Q,ne,ge,ce,h,T,K,U,u,f,d,ye,pe,Ne]}class bh extends me{constructor(e){super(),_e(this,e,yh,_h,Ar,{id:0,type:34,source:1,target:2,data:3,style:4,zIndex:5,animated:6,selected:7,selectable:35,deletable:8,hidden:9,label:10,labelStyle:11,markerStart:36,markerEnd:37,sourceHandle:12,targetHandle:13,sourceX:14,sourceY:15,targetX:16,targetY:17,sourcePosition:18,targetPosition:19,ariaLabel:20,interactionWidth:21,class:22},null,[-1,-1])}}const wh=bh;function vh(t,e,n){let{onMount:i=void 0}=e,{onDestroy:o=void 0}=e;return Sn(()=>(i==null||i(),o)),t.$$set=r=>{"onMount"in r&&n(0,i=r.onMount),"onDestroy"in r&&n(1,o=r.onDestroy)},[i,o]}class kh extends me{constructor(e){super(),_e(this,e,vh,null,ve,{onMount:0,onDestroy:1})}}const ph=kh;function Go(t,e,n){const i=t.slice();return i[2]=e[n],i}function Jo(t,e){let n,i,o;const r=[e[2]];let s={};for(let l=0;l<r.length;l+=1)s=De(s,r[l]);return i=new zh({props:s}),{key:t,first:null,c(){n=He(),ae(i.$$.fragment),this.h()},l(l){n=He(),de(i.$$.fragment,l),this.h()},h(){this.first=n},m(l,a){ee(l,n,a),ue(i,l,a),o=!0},p(l,a){e=l;const u=a&1?Yt(r,[yn(e[2])]):{};i.$set(u)},i(l){o||(F(i.$$.fragment,l),o=!0)},o(l){J(i.$$.fragment,l),o=!1},d(l){l&&C(n),fe(i,l)}}}function Eh(t){let e,n=[],i=new Map,o,r=Ke(t[0]);const s=l=>l[2].id;for(let l=0;l<r.length;l+=1){let a=Go(t,r,l),u=s(a);i.set(u,n[l]=Jo(u,a))}return{c(){e=Oe("defs");for(let l=0;l<n.length;l+=1)n[l].c()},l(l){e=Ae(l,"defs",{});var a=q(e);for(let u=0;u<n.length;u+=1)n[u].l(a);a.forEach(C)},m(l,a){ee(l,e,a);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(e,null);o=!0},p(l,[a]){a&1&&(r=Ke(l[0]),Ue(),n=Ri(n,a,s,1,l,r,i,e,Li,Jo,null,Go),Ge())},i(l){if(!o){for(let a=0;a<r.length;a+=1)F(n[a]);o=!0}},o(l){for(let a=0;a<n.length;a+=1)J(n[a]);o=!1},d(l){l&&C(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function Sh(t,e,n){let i;const{markers:o}=Fe();return te(t,o,r=>n(0,i=r)),[i,o]}class Ch extends me{constructor(e){super(),_e(this,e,Sh,Eh,ve,{})}}const Mh=Ch;function Ph(t){let e;return{c(){e=Oe("polyline"),this.h()},l(n){e=Ae(n,"polyline",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,fill:!0,points:!0}),q(e).forEach(C),this.h()},h(){v(e,"stroke",t[6]),v(e,"stroke-linecap","round"),v(e,"stroke-linejoin","round"),v(e,"stroke-width",t[7]),v(e,"fill",t[6]),v(e,"points","-5,-4 0,0 -5,4 -5,-4")},m(n,i){ee(n,e,i)},p(n,i){i&64&&v(e,"stroke",n[6]),i&128&&v(e,"stroke-width",n[7]),i&64&&v(e,"fill",n[6])},d(n){n&&C(e)}}}function Nh(t){let e;return{c(){e=Oe("polyline"),this.h()},l(n){e=Ae(n,"polyline",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,fill:!0,points:!0}),q(e).forEach(C),this.h()},h(){v(e,"stroke",t[6]),v(e,"stroke-linecap","round"),v(e,"stroke-linejoin","round"),v(e,"stroke-width",t[7]),v(e,"fill","none"),v(e,"points","-5,-4 0,0 -5,4")},m(n,i){ee(n,e,i)},p(n,i){i&64&&v(e,"stroke",n[6]),i&128&&v(e,"stroke-width",n[7])},d(n){n&&C(e)}}}function Th(t){let e,n,i;function o(l,a){if(l[1]===$n.Arrow)return Nh;if(l[1]===$n.ArrowClosed)return Ph}let r=o(t),s=r&&r(t);return{c(){e=Oe("marker"),s&&s.c(),this.h()},l(l){e=Ae(l,"marker",{class:!0,id:!0,markerWidth:!0,markerHeight:!0,viewBox:!0,markerUnits:!0,orient:!0,refX:!0,refY:!0});var a=q(e);s&&s.l(a),a.forEach(C),this.h()},h(){v(e,"class","svelte-flow__arrowhead"),v(e,"id",t[0]),v(e,"markerWidth",n=`${t[2]}`),v(e,"markerHeight",i=`${t[3]}`),v(e,"viewBox","-10 -10 20 20"),v(e,"markerUnits",t[4]),v(e,"orient",t[5]),v(e,"refX","0"),v(e,"refY","0")},m(l,a){ee(l,e,a),s&&s.m(e,null)},p(l,[a]){r===(r=o(l))&&s?s.p(l,a):(s&&s.d(1),s=r&&r(l),s&&(s.c(),s.m(e,null))),a&1&&v(e,"id",l[0]),a&4&&n!==(n=`${l[2]}`)&&v(e,"markerWidth",n),a&8&&i!==(i=`${l[3]}`)&&v(e,"markerHeight",i),a&16&&v(e,"markerUnits",l[4]),a&32&&v(e,"orient",l[5])},i:Se,o:Se,d(l){l&&C(e),s&&s.d()}}}function Dh(t,e,n){let{id:i}=e,{type:o}=e,{width:r=12.5}=e,{height:s=12.5}=e,{markerUnits:l="strokeWidth"}=e,{orient:a="auto-start-reverse"}=e,{color:u=void 0}=e,{strokeWidth:f=void 0}=e;return t.$$set=d=>{"id"in d&&n(0,i=d.id),"type"in d&&n(1,o=d.type),"width"in d&&n(2,r=d.width),"height"in d&&n(3,s=d.height),"markerUnits"in d&&n(4,l=d.markerUnits),"orient"in d&&n(5,a=d.orient),"color"in d&&n(6,u=d.color),"strokeWidth"in d&&n(7,f=d.strokeWidth)},[i,o,r,s,l,a,u,f]}class Ih extends me{constructor(e){super(),_e(this,e,Dh,Th,ve,{id:0,type:1,width:2,height:3,markerUnits:4,orient:5,color:6,strokeWidth:7})}}const zh=Ih;function jo(t,e,n){const i=t.slice();return i[14]=e[n],i}function Qo(t,e){let n,i,o;return i=new wh({props:{id:e[14].id,source:e[14].source,target:e[14].target,data:e[14].data,style:e[14].style,animated:e[14].animated,selected:e[14].selected,selectable:e[14].selectable??e[1],deletable:e[14].deletable,hidden:e[14].hidden,label:e[14].label,labelStyle:e[14].labelStyle,markerStart:e[14].markerStart,markerEnd:e[14].markerEnd,sourceHandle:e[14].sourceHandle,targetHandle:e[14].targetHandle,sourceX:e[14].sourceX,sourceY:e[14].sourceY,targetX:e[14].targetX,targetY:e[14].targetY,sourcePosition:e[14].sourcePosition,targetPosition:e[14].targetPosition,ariaLabel:e[14].ariaLabel,interactionWidth:e[14].interactionWidth,class:e[14].class,type:e[14].type||"default",zIndex:e[14].zIndex}}),i.$on("edgeclick",e[7]),i.$on("edgecontextmenu",e[8]),i.$on("edgemouseenter",e[9]),i.$on("edgemouseleave",e[10]),{key:t,first:null,c(){n=He(),ae(i.$$.fragment),this.h()},l(r){n=He(),de(i.$$.fragment,r),this.h()},h(){this.first=n},m(r,s){ee(r,n,s),ue(i,r,s),o=!0},p(r,s){e=r;const l={};s&1&&(l.id=e[14].id),s&1&&(l.source=e[14].source),s&1&&(l.target=e[14].target),s&1&&(l.data=e[14].data),s&1&&(l.style=e[14].style),s&1&&(l.animated=e[14].animated),s&1&&(l.selected=e[14].selected),s&3&&(l.selectable=e[14].selectable??e[1]),s&1&&(l.deletable=e[14].deletable),s&1&&(l.hidden=e[14].hidden),s&1&&(l.label=e[14].label),s&1&&(l.labelStyle=e[14].labelStyle),s&1&&(l.markerStart=e[14].markerStart),s&1&&(l.markerEnd=e[14].markerEnd),s&1&&(l.sourceHandle=e[14].sourceHandle),s&1&&(l.targetHandle=e[14].targetHandle),s&1&&(l.sourceX=e[14].sourceX),s&1&&(l.sourceY=e[14].sourceY),s&1&&(l.targetX=e[14].targetX),s&1&&(l.targetY=e[14].targetY),s&1&&(l.sourcePosition=e[14].sourcePosition),s&1&&(l.targetPosition=e[14].targetPosition),s&1&&(l.ariaLabel=e[14].ariaLabel),s&1&&(l.interactionWidth=e[14].interactionWidth),s&1&&(l.class=e[14].class),s&1&&(l.type=e[14].type||"default"),s&1&&(l.zIndex=e[14].zIndex),i.$set(l)},i(r){o||(F(i.$$.fragment,r),o=!0)},o(r){J(i.$$.fragment,r),o=!1},d(r){r&&C(n),fe(i,r)}}}function xo(t){let e,n;return e=new ph({props:{onMount:t[11],onDestroy:t[12]}}),{c(){ae(e.$$.fragment)},l(i){de(e.$$.fragment,i)},m(i,o){ue(e,i,o),n=!0},p(i,o){const r={};o&4&&(r.onMount=i[11]),o&4&&(r.onDestroy=i[12]),e.$set(r)},i(i){n||(F(e.$$.fragment,i),n=!0)},o(i){J(e.$$.fragment,i),n=!1},d(i){fe(e,i)}}}function Oh(t){let e,n,i,o,r=[],s=new Map,l,a;i=new Mh({});let u=Ke(t[0]);const f=c=>c[14].id;for(let c=0;c<u.length;c+=1){let h=jo(t,u,c),m=f(h);s.set(m,r[c]=Qo(m,h))}let d=t[0].length>0&&xo(t);return{c(){e=x("div"),n=Oe("svg"),ae(i.$$.fragment),o=oe();for(let c=0;c<r.length;c+=1)r[c].c();l=oe(),d&&d.c(),this.h()},l(c){e=$(c,"DIV",{class:!0});var h=q(e);n=Ae(h,"svg",{class:!0});var m=q(n);de(i.$$.fragment,m),m.forEach(C),o=re(h);for(let b=0;b<r.length;b+=1)r[b].l(h);l=re(h),d&&d.l(h),h.forEach(C),this.h()},h(){v(n,"class","svelte-flow__marker"),v(e,"class","svelte-flow__edges")},m(c,h){ee(c,e,h),X(e,n),ue(i,n,null),X(e,o);for(let m=0;m<r.length;m+=1)r[m]&&r[m].m(e,null);X(e,l),d&&d.m(e,null),a=!0},p(c,[h]){h&3&&(u=Ke(c[0]),Ue(),r=Ri(r,h,f,1,c,u,s,e,Li,Qo,l,jo),Ge()),c[0].length>0?d?(d.p(c,h),h&1&&F(d,1)):(d=xo(c),d.c(),F(d,1),d.m(e,null)):d&&(Ue(),J(d,1,1,()=>{d=null}),Ge())},i(c){if(!a){F(i.$$.fragment,c);for(let h=0;h<u.length;h+=1)F(r[h]);F(d),a=!0}},o(c){J(i.$$.fragment,c);for(let h=0;h<r.length;h+=1)J(r[h]);J(d),a=!1},d(c){c&&C(e),fe(i);for(let h=0;h<r.length;h+=1)r[h].d();d&&d.d()}}}function Ah(t,e,n){let i,o,r,{defaultEdgeOptions:s}=e;const{visibleEdges:l,edgesInitialized:a,edges:{setDefaultOptions:u},elementsSelectable:f}=Fe();te(t,l,g=>n(0,i=g)),te(t,a,g=>n(2,r=g)),te(t,f,g=>n(1,o=g)),Sn(()=>{s&&u(s)});function d(g){Pe.call(this,t,g)}function c(g){Pe.call(this,t,g)}function h(g){Pe.call(this,t,g)}function m(g){Pe.call(this,t,g)}const b=()=>{Rt(a,r=!0,r)},y=()=>{Rt(a,r=!1,r)};return t.$$set=g=>{"defaultEdgeOptions"in g&&n(6,s=g.defaultEdgeOptions)},[i,o,r,l,a,f,s,d,c,h,m,b,y]}class Hh extends me{constructor(e){super(),_e(this,e,Ah,Oh,ve,{defaultEdgeOptions:6})}}const Vh=Hh;function $o(t){let e;return{c(){e=x("div"),this.h()},l(n){e=$(n,"DIV",{class:!0}),q(e).forEach(C),this.h()},h(){v(e,"class","svelte-flow__selection svelte-1iugwpu"),be(e,"width",typeof t[2]=="string"?t[2]:`${t[2]}px`),be(e,"height",typeof t[3]=="string"?t[3]:`${t[3]}px`),be(e,"transform",`translate(${t[0]}px, ${t[1]}px)`)},m(n,i){ee(n,e,i)},p(n,i){i&4&&be(e,"width",typeof n[2]=="string"?n[2]:`${n[2]}px`),i&8&&be(e,"height",typeof n[3]=="string"?n[3]:`${n[3]}px`),i&3&&be(e,"transform",`translate(${n[0]}px, ${n[1]}px)`)},d(n){n&&C(e)}}}function Rh(t){let e,n=t[4]&&$o(t);return{c(){n&&n.c(),e=He()},l(i){n&&n.l(i),e=He()},m(i,o){n&&n.m(i,o),ee(i,e,o)},p(i,[o]){i[4]?n?n.p(i,o):(n=$o(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:Se,o:Se,d(i){i&&C(e),n&&n.d(i)}}}function Lh(t,e,n){let{x:i=0}=e,{y:o=0}=e,{width:r=0}=e,{height:s=0}=e,{isVisible:l=!0}=e;return t.$$set=a=>{"x"in a&&n(0,i=a.x),"y"in a&&n(1,o=a.y),"width"in a&&n(2,r=a.width),"height"in a&&n(3,s=a.height),"isVisible"in a&&n(4,l=a.isVisible)},[i,o,r,s,l]}class Xh extends me{constructor(e){super(),_e(this,e,Lh,Rh,ve,{x:0,y:1,width:2,height:3,isVisible:4})}}const Rl=Xh;function Yh(t){var i,o,r,s;let e,n;return e=new Rl({props:{isVisible:!!(t[0]&&t[1]==="user"),width:(i=t[0])==null?void 0:i.width,height:(o=t[0])==null?void 0:o.height,x:(r=t[0])==null?void 0:r.x,y:(s=t[0])==null?void 0:s.y}}),{c(){ae(e.$$.fragment)},l(l){de(e.$$.fragment,l)},m(l,a){ue(e,l,a),n=!0},p(l,[a]){var f,d,c,h;const u={};a&3&&(u.isVisible=!!(l[0]&&l[1]==="user")),a&1&&(u.width=(f=l[0])==null?void 0:f.width),a&1&&(u.height=(d=l[0])==null?void 0:d.height),a&1&&(u.x=(c=l[0])==null?void 0:c.x),a&1&&(u.y=(h=l[0])==null?void 0:h.y),e.$set(u)},i(l){n||(F(e.$$.fragment,l),n=!0)},o(l){J(e.$$.fragment,l),n=!1},d(l){fe(e,l)}}}function Bh(t,e,n){let i,o;const{selectionRect:r,selectionRectMode:s}=Fe();return te(t,r,l=>n(0,i=l)),te(t,s,l=>n(1,o=l)),[i,o,r,s]}class Wh extends me{constructor(e){super(),_e(this,e,Bh,Yh,ve,{})}}const Kh=Wh;function er(t){let e,n,i,o,r;return n=new Rl({props:{width:"100%",height:"100%",x:0,y:0}}),{c(){e=x("div"),ae(n.$$.fragment),this.h()},l(s){e=$(s,"DIV",{class:!0,style:!0,role:!0,tabindex:!0});var l=q(e);de(n.$$.fragment,l),l.forEach(C),this.h()},h(){v(e,"class","selection-wrapper nopan svelte-5pxri"),be(e,"width",t[1].width+"px"),be(e,"height",t[1].height+"px"),be(e,"transform","translate("+t[1].x+"px, "+t[1].y+"px)"),v(e,"role","button"),v(e,"tabindex","-1")},m(s,l){ee(s,e,l),ue(n,e,null),i=!0,o||(r=[tt(Vl.call(null,e,{disabled:!1,store:t[2],onDrag:t[11],onDragStart:t[12],onDragStop:t[13]})),ke(e,"contextmenu",t[7]),ke(e,"click",t[8]),ke(e,"keyup",Zh)],o=!0)},p(s,l){(!i||l&2)&&be(e,"width",s[1].width+"px"),(!i||l&2)&&be(e,"height",s[1].height+"px"),(!i||l&2)&&be(e,"transform","translate("+s[1].x+"px, "+s[1].y+"px)")},i(s){i||(F(n.$$.fragment,s),i=!0)},o(s){J(n.$$.fragment,s),i=!1},d(s){s&&C(e),fe(n),o=!1,dt(r)}}}function Fh(t){let e=t[0]==="nodes"&&t[1]&&Kt(t[1].x)&&Kt(t[1].y),n,i,o=e&&er(t);return{c(){o&&o.c(),n=He()},l(r){o&&o.l(r),n=He()},m(r,s){o&&o.m(r,s),ee(r,n,s),i=!0},p(r,[s]){s&3&&(e=r[0]==="nodes"&&r[1]&&Kt(r[1].x)&&Kt(r[1].y)),e?o?(o.p(r,s),s&3&&F(o,1)):(o=er(r),o.c(),F(o,1),o.m(n.parentNode,n)):o&&(Ue(),J(o,1,1,()=>{o=null}),Ge())},i(r){i||(F(o),i=!0)},o(r){J(o),i=!1},d(r){r&&C(n),o&&o.d(r)}}}const Zh=()=>{};function qh(t,e,n){let i,o,r;const s=Fe(),{selectionRectMode:l,nodes:a,nodeLookup:u}=s;te(t,l,g=>n(0,r=g)),te(t,a,g=>n(9,i=g)),te(t,u,g=>n(10,o=g));const f=ii();let d=null;function c(g){const _=i.filter(w=>w.selected);f("selectioncontextmenu",{nodes:_,event:g})}function h(g){const _=i.filter(w=>w.selected);f("selectionclick",{nodes:_,event:g})}const m=(g,_,w,E)=>{f("nodedrag",{event:g,targetNode:null,nodes:E})},b=(g,_,w,E)=>{f("nodedragstart",{event:g,targetNode:null,nodes:E})},y=(g,_,w,E)=>{f("nodedragstop",{event:g,targetNode:null,nodes:E})};return t.$$.update=()=>{t.$$.dirty&1537&&r==="nodes"&&n(1,d=ui(o,{filter:g=>!!g.selected}))},[r,d,s,l,a,u,f,c,h,i,o,m,b,y]}class Uh extends me{constructor(e){super(),_e(this,e,qh,Fh,ve,{})}}const Gh=Uh;function kt(t,e){let{enabled:n=!0,trigger:i,type:o="keydown"}=e;function r(s){const l=Array.isArray(i)?i:[i],a={alt:s.altKey,ctrl:s.ctrlKey,shift:s.shiftKey,meta:s.metaKey};for(const u of l){const f={modifier:[],preventDefault:!1,enabled:!0,...u},{modifier:d,key:c,callback:h,preventDefault:m,enabled:b}=f;if(b){if(d.length&&!(Array.isArray(d)?d:[d]).map(_=>typeof _=="string"?[_]:_).some(_=>_.every(w=>a[w])))continue;if(s.key===c){m&&s.preventDefault();const y={node:t,trigger:f,originalEvent:s};t.dispatchEvent(new CustomEvent("shortcut",{detail:y})),h==null||h(y)}}}}return n&&t.addEventListener(o,r),{update:s=>{const{enabled:l=!0,type:a="keydown"}=s;n&&(!l||o!==a)?t.removeEventListener(o,r):!n&&l&&t.addEventListener(a,r),n=l,o=a,i=s.trigger},destroy:()=>{t.removeEventListener(o,r)}}}function Jh(t){let e,n,i,o,r,s,l,a,u,f,d,c;return{c:Se,l:Se,m(h,m){d||(c=[tt(e=kt.call(null,window,{trigger:We(t[0],t[11]),type:"keydown"})),tt(n=kt.call(null,window,{trigger:We(t[0],t[12]),type:"keyup"})),tt(i=kt.call(null,window,{trigger:We(t[1],t[13]),type:"keydown"})),tt(o=kt.call(null,window,{trigger:We(t[1],t[14]),type:"keyup"})),tt(r=kt.call(null,window,{trigger:We(t[2],t[15]),type:"keydown"})),tt(s=kt.call(null,window,{trigger:We(t[2],t[16]),type:"keyup"})),tt(l=kt.call(null,window,{trigger:We(t[3],t[17]),type:"keydown"})),tt(a=kt.call(null,window,{trigger:We(t[3],t[18]),type:"keyup"})),tt(u=kt.call(null,window,{trigger:We(t[4],t[19]),type:"keydown"})),tt(f=kt.call(null,window,{trigger:We(t[4],t[20]),type:"keyup"})),ke(window,"blur",t[10]),ke(window,"contextmenu",t[10])],d=!0)},p(h,[m]){e&&qe(e.update)&&m&1&&e.update.call(null,{trigger:We(h[0],h[11]),type:"keydown"}),n&&qe(n.update)&&m&1&&n.update.call(null,{trigger:We(h[0],h[12]),type:"keyup"}),i&&qe(i.update)&&m&2&&i.update.call(null,{trigger:We(h[1],h[13]),type:"keydown"}),o&&qe(o.update)&&m&2&&o.update.call(null,{trigger:We(h[1],h[14]),type:"keyup"}),r&&qe(r.update)&&m&4&&r.update.call(null,{trigger:We(h[2],h[15]),type:"keydown"}),s&&qe(s.update)&&m&4&&s.update.call(null,{trigger:We(h[2],h[16]),type:"keyup"}),l&&qe(l.update)&&m&8&&l.update.call(null,{trigger:We(h[3],h[17]),type:"keydown"}),a&&qe(a.update)&&m&8&&a.update.call(null,{trigger:We(h[3],h[18]),type:"keyup"}),u&&qe(u.update)&&m&16&&u.update.call(null,{trigger:We(h[4],h[19]),type:"keydown"}),f&&qe(f.update)&&m&16&&f.update.call(null,{trigger:We(h[4],h[20]),type:"keyup"})},i:Se,o:Se,d(h){d=!1,dt(c)}}}function Ll(t){return t!==null&&typeof t=="object"}function jh(t){return Ll(t)?t.modifier||[]:[]}function Qh(t){return t==null?"":Ll(t)?t.key:t}function We(t,e){return(Array.isArray(t)?t:[t]).map(i=>{const o=Qh(i);return{key:o,modifier:jh(i),enabled:o!==null,callback:e}})}function xh(t,e,n){let{selectionKey:i="Shift"}=e,{multiSelectionKey:o=ei()?"Meta":"Control"}=e,{deleteKey:r="Backspace"}=e,{panActivationKey:s=" "}=e,{zoomActivationKey:l=ei()?"Meta":"Control"}=e;const{selectionKeyPressed:a,multiselectionKeyPressed:u,deleteKeyPressed:f,panActivationKeyPressed:d,zoomActivationKeyPressed:c,selectionRect:h}=Fe();function m(){h.set(null),a.set(!1),u.set(!1),f.set(!1),d.set(!1),c.set(!1)}const b=()=>a.set(!0),y=()=>a.set(!1),g=()=>u.set(!0),_=()=>u.set(!1),w=I=>{!(I.originalEvent.ctrlKey||I.originalEvent.metaKey||I.originalEvent.shiftKey)&&!ac(I.originalEvent)&&f.set(!0)},E=()=>f.set(!1),T=()=>d.set(!0),H=()=>d.set(!1),S=()=>c.set(!0),V=()=>c.set(!1);return t.$$set=I=>{"selectionKey"in I&&n(0,i=I.selectionKey),"multiSelectionKey"in I&&n(1,o=I.multiSelectionKey),"deleteKey"in I&&n(2,r=I.deleteKey),"panActivationKey"in I&&n(3,s=I.panActivationKey),"zoomActivationKey"in I&&n(4,l=I.zoomActivationKey)},[i,o,r,s,l,a,u,f,d,c,m,b,y,g,_,w,E,T,H,S,V]}class $h extends me{constructor(e){super(),_e(this,e,xh,Jh,ve,{selectionKey:0,multiSelectionKey:1,deleteKey:2,panActivationKey:3,zoomActivationKey:4})}}const eg=$h,tg=t=>({}),tr=t=>({});function nr(t){let e,n,i,o;const r=t[13].connectionLine,s=it(r,t,t[12],tr);let l=!t[2]&&ir(t);return{c(){e=Oe("svg"),n=Oe("g"),s&&s.c(),l&&l.c(),this.h()},l(a){e=Ae(a,"svg",{width:!0,height:!0,class:!0,style:!0});var u=q(e);n=Ae(u,"g",{class:!0});var f=q(n);s&&s.l(f),l&&l.l(f),f.forEach(C),u.forEach(C),this.h()},h(){v(n,"class",i=Re(["svelte-flow__connection",Mo(t[3].isValid)])),v(e,"width",t[5]),v(e,"height",t[6]),v(e,"class","svelte-flow__connectionline"),v(e,"style",t[0])},m(a,u){ee(a,e,u),X(e,n),s&&s.m(n,null),l&&l.m(n,null),o=!0},p(a,u){s&&s.p&&(!o||u&4096)&&ot(s,r,a,a[12],o?lt(r,a[12],u,tg):rt(a[12]),tr),a[2]?l&&(l.d(1),l=null):l?l.p(a,u):(l=ir(a),l.c(),l.m(n,null)),(!o||u&8&&i!==(i=Re(["svelte-flow__connection",Mo(a[3].isValid)])))&&v(n,"class",i),(!o||u&32)&&v(e,"width",a[5]),(!o||u&64)&&v(e,"height",a[6]),(!o||u&1)&&v(e,"style",a[0])},i(a){o||(F(s,a),o=!0)},o(a){J(s,a),o=!1},d(a){a&&C(e),s&&s.d(a),l&&l.d()}}}function ir(t){let e;return{c(){e=Oe("path"),this.h()},l(n){e=Ae(n,"path",{d:!0,style:!0,fill:!0,class:!0}),q(e).forEach(C),this.h()},h(){v(e,"d",t[4]),v(e,"style",t[1]),v(e,"fill","none"),v(e,"class","svelte-flow__connection-path")},m(n,i){ee(n,e,i)},p(n,i){i&16&&v(e,"d",n[4]),i&2&&v(e,"style",n[1])},d(n){n&&C(e)}}}function ng(t){let e,n,i=t[3].inProgress&&nr(t);return{c(){i&&i.c(),e=He()},l(o){i&&i.l(o),e=He()},m(o,r){i&&i.m(o,r),ee(o,e,r),n=!0},p(o,[r]){o[3].inProgress?i?(i.p(o,r),r&8&&F(i,1)):(i=nr(o),i.c(),F(i,1),i.m(e.parentNode,e)):i&&(Ue(),J(i,1,1,()=>{i=null}),Ge())},i(o){n||(F(i),n=!0)},o(o){J(i),n=!1},d(o){o&&C(e),i&&i.d(o)}}}function ig(t,e,n){let i,o,r,s,{$$slots:l={},$$scope:a}=e,{containerStyle:u=""}=e,{style:f=""}=e,{isCustomComponent:d=!1}=e;const{width:c,height:h,connection:m,connectionLineType:b}=Fe();te(t,c,g=>n(5,r=g)),te(t,h,g=>n(6,s=g)),te(t,m,g=>n(3,o=g)),te(t,b,g=>n(11,i=g));let y=null;return t.$$set=g=>{"containerStyle"in g&&n(0,u=g.containerStyle),"style"in g&&n(1,f=g.style),"isCustomComponent"in g&&n(2,d=g.isCustomComponent),"$$scope"in g&&n(12,a=g.$$scope)},t.$$.update=()=>{if(t.$$.dirty&2060&&o.inProgress&&!d){const{from:g,to:_,fromPosition:w,toPosition:E}=o,T={sourceX:g.x,sourceY:g.y,sourcePosition:w,targetX:_.x,targetY:_.y,targetPosition:E};switch(i){case on.Bezier:n(4,[y]=bl(T),y);break;case on.Step:n(4,[y]=ti({...T,borderRadius:0}),y);break;case on.SmoothStep:n(4,[y]=ti(T),y);break;default:n(4,[y]=vl(T),y)}}},[u,f,d,o,y,r,s,c,h,m,b,i,a,l]}class og extends me{constructor(e){super(),_e(this,e,ig,ng,ve,{containerStyle:0,style:1,isCustomComponent:2})}}const rg=og;function lg(t){let e,n,i;const o=t[8].default,r=it(o,t,t[7],null);let s=[{class:n=Re(["svelte-flow__panel",t[1],...t[2]])},{style:t[0]},t[5]],l={};for(let a=0;a<s.length;a+=1)l=De(l,s[a]);return{c(){e=x("div"),r&&r.c(),this.h()},l(a){e=$(a,"DIV",{class:!0,style:!0});var u=q(e);r&&r.l(u),u.forEach(C),this.h()},h(){rn(e,l),be(e,"pointer-events",t[3]?"none":"")},m(a,u){ee(a,e,u),r&&r.m(e,null),i=!0},p(a,[u]){r&&r.p&&(!i||u&128)&&ot(r,o,a,a[7],i?lt(o,a[7],u,null):rt(a[7]),null),rn(e,l=Yt(s,[(!i||u&6&&n!==(n=Re(["svelte-flow__panel",a[1],...a[2]])))&&{class:n},(!i||u&1)&&{style:a[0]},u&32&&a[5]])),be(e,"pointer-events",a[3]?"none":"")},i(a){i||(F(r,a),i=!0)},o(a){J(r,a),i=!1},d(a){a&&C(e),r&&r.d(a)}}}function sg(t,e,n){let i;const o=["position","style","class"];let r=Le(e,o),s,{$$slots:l={},$$scope:a}=e,{position:u="top-right"}=e,{style:f=void 0}=e,{class:d=void 0}=e;const{selectionRectMode:c}=Fe();return te(t,c,h=>n(3,s=h)),t.$$set=h=>{e=De(De({},e),bt(h)),n(5,r=Le(e,o)),"position"in h&&n(6,u=h.position),"style"in h&&n(0,f=h.style),"class"in h&&n(1,d=h.class),"$$scope"in h&&n(7,a=h.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,i=`${u}`.split("-"))},[f,d,i,s,c,r,u,a,l]}class ag extends me{constructor(e){super(),_e(this,e,sg,lg,ve,{position:6,style:0,class:1})}}const Xl=ag;function or(t){let e,n;return e=new Xl({props:{position:t[1],class:"svelte-flow__attribution","data-message":"Feel free to remove the attribution or check out how you could support us: https://svelteflow.dev/support-us",$$slots:{default:[ug]},$$scope:{ctx:t}}}),{c(){ae(e.$$.fragment)},l(i){de(e.$$.fragment,i)},m(i,o){ue(e,i,o),n=!0},p(i,o){const r={};o&2&&(r.position=i[1]),o&4&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(F(e.$$.fragment,i),n=!0)},o(i){J(e.$$.fragment,i),n=!1},d(i){fe(e,i)}}}function ug(t){let e,n="Svelte Flow";return{c(){e=x("a"),e.textContent=n,this.h()},l(i){e=$(i,"A",{href:!0,target:!0,rel:!0,"aria-label":!0,"data-svelte-h":!0}),At(e)!=="svelte-2vm8e4"&&(e.textContent=n),this.h()},h(){v(e,"href","https://svelteflow.dev"),v(e,"target","_blank"),v(e,"rel","noopener noreferrer"),v(e,"aria-label","Svelte Flow attribution")},m(i,o){ee(i,e,o)},p:Se,d(i){i&&C(e)}}}function fg(t){var o;let e,n,i=!((o=t[0])!=null&&o.hideAttribution)&&or(t);return{c(){i&&i.c(),e=He()},l(r){i&&i.l(r),e=He()},m(r,s){i&&i.m(r,s),ee(r,e,s),n=!0},p(r,[s]){var l;(l=r[0])!=null&&l.hideAttribution?i&&(Ue(),J(i,1,1,()=>{i=null}),Ge()):i?(i.p(r,s),s&1&&F(i,1)):(i=or(r),i.c(),F(i,1),i.m(e.parentNode,e))},i(r){n||(F(i),n=!0)},o(r){J(i),n=!1},d(r){r&&C(e),i&&i.d(r)}}}function cg(t,e,n){let{proOptions:i=void 0}=e,{position:o="bottom-right"}=e;return t.$$set=r=>{"proOptions"in r&&n(0,i=r.proOptions),"position"in r&&n(1,o=r.position)},[i,o]}class dg extends me{constructor(e){super(),_e(this,e,cg,fg,ve,{proOptions:0,position:1})}}const hg=dg;function rr(t,{nodeTypes:e,edgeTypes:n,minZoom:i,maxZoom:o,translateExtent:r,paneClickDistance:s}){e!==void 0&&t.setNodeTypes(e),n!==void 0&&t.setEdgeTypes(n),i!==void 0&&t.setMinZoom(i),o!==void 0&&t.setMaxZoom(o),r!==void 0&&t.setTranslateExtent(r),s!==void 0&&t.setPaneClickDistance(s)}const gg=t=>Object.keys(t);function mg(t,e){gg(e).forEach(n=>{const i=e[n];i!==void 0&&t[n].set(i)})}function _g(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function yg(t="light"){return mt("light",n=>{if(t!=="system"){n(t);return}const i=_g(),o=()=>n(i!=null&&i.matches?"dark":"light");return n(i!=null&&i.matches?"dark":"light"),i==null||i.addEventListener("change",o),()=>{i==null||i.removeEventListener("change",o)}})}const bg=t=>({}),lr=t=>({slot:"connectionLine"});function wg(t){let e;const n=t[75].connectionLine,i=it(n,t,t[99],lr);return{c(){i&&i.c()},l(o){i&&i.l(o)},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r[3]&64)&&ot(i,n,o,o[99],e?lt(n,o[99],r,bg):rt(o[99]),lr)},i(o){e||(F(i,o),e=!0)},o(o){J(i,o),e=!1},d(o){i&&i.d(o)}}}function vg(t){let e,n,i,o,r,s,l,a,u,f,d,c;return e=new Vh({props:{defaultEdgeOptions:t[21]}}),e.$on("edgeclick",t[78]),e.$on("edgecontextmenu",t[79]),e.$on("edgemouseenter",t[80]),e.$on("edgemouseleave",t[81]),i=new rg({props:{containerStyle:t[7],style:t[6],isCustomComponent:t[34].connectionLine,$$slots:{connectionLine:[wg]},$$scope:{ctx:t}}}),u=new mh({props:{nodeClickDistance:t[23]}}),u.$on("nodeclick",t[82]),u.$on("nodemouseenter",t[83]),u.$on("nodemousemove",t[84]),u.$on("nodemouseleave",t[85]),u.$on("nodedragstart",t[86]),u.$on("nodedrag",t[87]),u.$on("nodedragstop",t[88]),u.$on("nodecontextmenu",t[89]),d=new Gh({}),d.$on("selectionclick",t[90]),d.$on("selectioncontextmenu",t[91]),d.$on("nodedragstart",t[92]),d.$on("nodedrag",t[93]),d.$on("nodedragstop",t[94]),{c(){ae(e.$$.fragment),n=oe(),ae(i.$$.fragment),o=oe(),r=x("div"),s=oe(),l=x("div"),a=oe(),ae(u.$$.fragment),f=oe(),ae(d.$$.fragment),this.h()},l(h){de(e.$$.fragment,h),n=re(h),de(i.$$.fragment,h),o=re(h),r=$(h,"DIV",{class:!0}),q(r).forEach(C),s=re(h),l=$(h,"DIV",{class:!0}),q(l).forEach(C),a=re(h),de(u.$$.fragment,h),f=re(h),de(d.$$.fragment,h),this.h()},h(){v(r,"class","svelte-flow__edgelabel-renderer"),v(l,"class","svelte-flow__viewport-portal")},m(h,m){ue(e,h,m),ee(h,n,m),ue(i,h,m),ee(h,o,m),ee(h,r,m),ee(h,s,m),ee(h,l,m),ee(h,a,m),ue(u,h,m),ee(h,f,m),ue(d,h,m),c=!0},p(h,m){const b={};m[0]&2097152&&(b.defaultEdgeOptions=h[21]),e.$set(b);const y={};m[0]&128&&(y.containerStyle=h[7]),m[0]&64&&(y.style=h[6]),m[1]&8&&(y.isCustomComponent=h[34].connectionLine),m[3]&64&&(y.$$scope={dirty:m,ctx:h}),i.$set(y);const g={};m[0]&8388608&&(g.nodeClickDistance=h[23]),u.$set(g)},i(h){c||(F(e.$$.fragment,h),F(i.$$.fragment,h),F(u.$$.fragment,h),F(d.$$.fragment,h),c=!0)},o(h){J(e.$$.fragment,h),J(i.$$.fragment,h),J(u.$$.fragment,h),J(d.$$.fragment,h),c=!1},d(h){h&&(C(n),C(o),C(r),C(s),C(l),C(a),C(f)),fe(e,h),fe(i,h),fe(u,h),fe(d,h)}}}function kg(t){let e,n,i,o;return e=new rh({props:{$$slots:{default:[vg]},$$scope:{ctx:t}}}),i=new Kh({}),{c(){ae(e.$$.fragment),n=oe(),ae(i.$$.fragment)},l(r){de(e.$$.fragment,r),n=re(r),de(i.$$.fragment,r)},m(r,s){ue(e,r,s),ee(r,n,s),ue(i,r,s),o=!0},p(r,s){const l={};s[0]&10485952|s[1]&8|s[3]&64&&(l.$$scope={dirty:s,ctx:r}),e.$set(l)},i(r){o||(F(e.$$.fragment,r),F(i.$$.fragment,r),o=!0)},o(r){J(e.$$.fragment,r),J(i.$$.fragment,r),o=!1},d(r){r&&C(n),fe(e,r),fe(i,r)}}}function pg(t){let e,n;return e=new th({props:{panOnDrag:t[17]===void 0?!0:t[17],selectionOnDrag:t[18],$$slots:{default:[kg]},$$scope:{ctx:t}}}),e.$on("paneclick",t[95]),e.$on("panecontextmenu",t[96]),{c(){ae(e.$$.fragment)},l(i){de(e.$$.fragment,i)},m(i,o){ue(e,i,o),n=!0},p(i,o){const r={};o[0]&131072&&(r.panOnDrag=i[17]===void 0?!0:i[17]),o[0]&262144&&(r.selectionOnDrag=i[18]),o[0]&10485952|o[1]&8|o[3]&64&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(F(e.$$.fragment,i),n=!0)},o(i){J(e.$$.fragment,i),n=!1},d(i){fe(e,i)}}}function Eg(t){let e,n,i,o,r,s,l,a,u,f,d,c;n=new eg({props:{selectionKey:t[1],deleteKey:t[5],panActivationKey:t[2],multiSelectionKey:t[3],zoomActivationKey:t[4]}}),o=new Qd({props:{initialViewport:t[31],onMoveStart:t[8],onMove:t[9],onMoveEnd:t[10],panOnScrollMode:t[11]===void 0?St.Free:t[11],preventScrolling:t[12]===void 0?!0:t[12],zoomOnScroll:t[13]===void 0?!0:t[13],zoomOnDoubleClick:t[14]===void 0?!0:t[14],zoomOnPinch:t[15]===void 0?!0:t[15],panOnScroll:t[16]===void 0?!1:t[16],panOnDrag:t[17]===void 0?!0:t[17],paneClickDistance:t[22]===void 0?0:t[22],$$slots:{default:[pg]},$$scope:{ctx:t}}}),s=new hg({props:{proOptions:t[20],position:t[19]}});const h=t[75].default,m=it(h,t,t[99],null);let b=[{style:t[24]},{class:a=Re(["svelte-flow",t[25],t[30]])},{"data-testid":"svelte-flow__wrapper"},t[33],{role:"application"}],y={};for(let g=0;g<b.length;g+=1)y=De(y,b[g]);return{c(){e=x("div"),ae(n.$$.fragment),i=oe(),ae(o.$$.fragment),r=oe(),ae(s.$$.fragment),l=oe(),m&&m.c(),this.h()},l(g){e=$(g,"DIV",{style:!0,class:!0,"data-testid":!0,role:!0});var _=q(e);de(n.$$.fragment,_),i=re(_),de(o.$$.fragment,_),r=re(_),de(s.$$.fragment,_),l=re(_),m&&m.l(_),_.forEach(C),this.h()},h(){rn(e,y),fs(()=>t[98].call(e)),he(e,"svelte-12wlba6",!0)},m(g,_){ee(g,e,_),ue(n,e,null),X(e,i),ue(o,e,null),X(e,r),ue(s,e,null),X(e,l),m&&m.m(e,null),t[97](e),u=cs(e,t[98].bind(e)),f=!0,d||(c=[ke(e,"dragover",t[76]),ke(e,"drop",t[77])],d=!0)},p(g,_){const w={};_[0]&2&&(w.selectionKey=g[1]),_[0]&32&&(w.deleteKey=g[5]),_[0]&4&&(w.panActivationKey=g[2]),_[0]&8&&(w.multiSelectionKey=g[3]),_[0]&16&&(w.zoomActivationKey=g[4]),n.$set(w);const E={};_[0]&256&&(E.onMoveStart=g[8]),_[0]&512&&(E.onMove=g[9]),_[0]&1024&&(E.onMoveEnd=g[10]),_[0]&2048&&(E.panOnScrollMode=g[11]===void 0?St.Free:g[11]),_[0]&4096&&(E.preventScrolling=g[12]===void 0?!0:g[12]),_[0]&8192&&(E.zoomOnScroll=g[13]===void 0?!0:g[13]),_[0]&16384&&(E.zoomOnDoubleClick=g[14]===void 0?!0:g[14]),_[0]&32768&&(E.zoomOnPinch=g[15]===void 0?!0:g[15]),_[0]&65536&&(E.panOnScroll=g[16]===void 0?!1:g[16]),_[0]&131072&&(E.panOnDrag=g[17]===void 0?!0:g[17]),_[0]&4194304&&(E.paneClickDistance=g[22]===void 0?0:g[22]),_[0]&10879168|_[1]&8|_[3]&64&&(E.$$scope={dirty:_,ctx:g}),o.$set(E);const T={};_[0]&1048576&&(T.proOptions=g[20]),_[0]&524288&&(T.position=g[19]),s.$set(T),m&&m.p&&(!f||_[3]&64)&&ot(m,h,g,g[99],f?lt(h,g[99],_,null):rt(g[99]),null),rn(e,y=Yt(b,[(!f||_[0]&16777216)&&{style:g[24]},(!f||_[0]&1107296256&&a!==(a=Re(["svelte-flow",g[25],g[30]])))&&{class:a},{"data-testid":"svelte-flow__wrapper"},_[1]&4&&g[33],{role:"application"}])),he(e,"svelte-12wlba6",!0)},i(g){f||(F(n.$$.fragment,g),F(o.$$.fragment,g),F(s.$$.fragment,g),F(m,g),f=!0)},o(g){J(n.$$.fragment,g),J(o.$$.fragment,g),J(s.$$.fragment,g),J(m,g),f=!1},d(g){g&&C(e),fe(n),fe(o),fe(s),m&&m.d(g),t[97](null),u(),d=!1,dt(c)}}}function Sg(t,e,n){let i;const o=["id","nodes","edges","fitView","fitViewOptions","minZoom","maxZoom","initialViewport","viewport","nodeTypes","edgeTypes","selectionKey","selectionMode","panActivationKey","multiSelectionKey","zoomActivationKey","nodesDraggable","nodesConnectable","nodeDragThreshold","elementsSelectable","snapGrid","deleteKey","connectionRadius","connectionLineType","connectionMode","connectionLineStyle","connectionLineContainerStyle","onMoveStart","onMove","onMoveEnd","isValidConnection","translateExtent","nodeExtent","onlyRenderVisibleElements","panOnScrollMode","preventScrolling","zoomOnScroll","zoomOnDoubleClick","zoomOnPinch","panOnScroll","panOnDrag","selectionOnDrag","autoPanOnConnect","autoPanOnNodeDrag","onerror","ondelete","onedgecreate","attributionPosition","proOptions","defaultEdgeOptions","width","height","colorMode","onconnect","onconnectstart","onconnectend","onbeforedelete","oninit","nodeOrigin","paneClickDistance","nodeClickDistance","defaultMarkerColor","style","class"];let r=Le(e,o),s,l,a=Se,u=()=>(a(),a=to(V,M=>n(100,l=M)),V),f,d=Se,c=()=>(d(),d=to(i,M=>n(30,f=M)),i);t.$$.on_destroy.push(()=>a()),t.$$.on_destroy.push(()=>d());let{$$slots:h={},$$scope:m}=e;const b=ds(h);let{id:y="1"}=e,{nodes:g}=e,{edges:_}=e,{fitView:w=void 0}=e,{fitViewOptions:E=void 0}=e,{minZoom:T=void 0}=e,{maxZoom:H=void 0}=e,{initialViewport:S=void 0}=e,{viewport:V=void 0}=e;u();let{nodeTypes:I=void 0}=e,{edgeTypes:K=void 0}=e,{selectionKey:U=void 0}=e,{selectionMode:Z=void 0}=e,{panActivationKey:O=void 0}=e,{multiSelectionKey:k=void 0}=e,{zoomActivationKey:B=void 0}=e,{nodesDraggable:p=void 0}=e,{nodesConnectable:P=void 0}=e,{nodeDragThreshold:R=void 0}=e,{elementsSelectable:L=void 0}=e,{snapGrid:N=void 0}=e,{deleteKey:Y=void 0}=e,{connectionRadius:W=void 0}=e,{connectionLineType:j=void 0}=e,{connectionMode:z=Ut.Strict}=e,{connectionLineStyle:Q=""}=e,{connectionLineContainerStyle:ne=""}=e,{onMoveStart:A=void 0}=e,{onMove:se=void 0}=e,{onMoveEnd:ge=void 0}=e,{isValidConnection:ce=void 0}=e,{translateExtent:ye=void 0}=e,{nodeExtent:pe=void 0}=e,{onlyRenderVisibleElements:Ne=void 0}=e,{panOnScrollMode:G=St.Free}=e,{preventScrolling:Te=!0}=e,{zoomOnScroll:Ce=!0}=e,{zoomOnDoubleClick:$e=!0}=e,{zoomOnPinch:et=!0}=e,{panOnScroll:Je=!1}=e,{panOnDrag:st=!0}=e,{selectionOnDrag:ft=void 0}=e,{autoPanOnConnect:ct=!0}=e,{autoPanOnNodeDrag:je=!0}=e,{onerror:at=void 0}=e,{ondelete:Ve=void 0}=e,{onedgecreate:Me=void 0}=e,{attributionPosition:Ee=void 0}=e,{proOptions:Ze=void 0}=e,{defaultEdgeOptions:D=void 0}=e,{width:Qe=void 0}=e,{height:ze=void 0}=e,{colorMode:Ie="light"}=e,{onconnect:Mt=void 0}=e,{onconnectstart:Pt=void 0}=e,{onconnectend:Nt=void 0}=e,{onbeforedelete:ht=void 0}=e,{oninit:gt=void 0}=e,{nodeOrigin:vt=void 0}=e,{paneClickDistance:Tt=0}=e,{nodeClickDistance:Dt=0}=e,{defaultMarkerColor:jt="#b1b1b7"}=e,{style:cn=void 0}=e,{class:dn=void 0}=e,Dn,Qt,xt;const Yl=l||S,xe=hs($i)?Fe():qd({nodes:ie(g),edges:ie(_),width:Qe,height:ze,fitView:w,nodeOrigin:vt,nodeExtent:pe});Sn(()=>(xe.width.set(Qt),xe.height.set(xt),xe.domNode.set(Dn),xe.syncNodeStores(g),xe.syncEdgeStores(_),xe.syncViewport(V),w!==void 0&&xe.fitViewOnInit.set(w),E&&xe.fitViewOptions.set(E),rr(xe,{nodeTypes:I,edgeTypes:K,minZoom:T,maxZoom:H,translateExtent:ye,paneClickDistance:Tt}),()=>{xe.reset()}));const{initialized:eo}=xe;te(t,eo,M=>n(74,s=M));let gi=!1;function Bl(M){Pe.call(this,t,M)}function Wl(M){Pe.call(this,t,M)}function Kl(M){Pe.call(this,t,M)}function Fl(M){Pe.call(this,t,M)}function Zl(M){Pe.call(this,t,M)}function ql(M){Pe.call(this,t,M)}function Ul(M){Pe.call(this,t,M)}function Gl(M){Pe.call(this,t,M)}function Jl(M){Pe.call(this,t,M)}function jl(M){Pe.call(this,t,M)}function Ql(M){Pe.call(this,t,M)}function xl(M){Pe.call(this,t,M)}function $l(M){Pe.call(this,t,M)}function es(M){Pe.call(this,t,M)}function ts(M){Pe.call(this,t,M)}function ns(M){Pe.call(this,t,M)}function is(M){Pe.call(this,t,M)}function os(M){Pe.call(this,t,M)}function rs(M){Pe.call(this,t,M)}function ls(M){Pe.call(this,t,M)}function ss(M){Pe.call(this,t,M)}function as(M){Cn[M?"unshift":"push"](()=>{Dn=M,n(28,Dn)})}function us(){Qt=this.clientWidth,xt=this.clientHeight,n(26,Qt),n(27,xt)}return t.$$set=M=>{e=De(De({},e),bt(M)),n(33,r=Le(e,o)),"id"in M&&n(35,y=M.id),"nodes"in M&&n(36,g=M.nodes),"edges"in M&&n(37,_=M.edges),"fitView"in M&&n(38,w=M.fitView),"fitViewOptions"in M&&n(39,E=M.fitViewOptions),"minZoom"in M&&n(40,T=M.minZoom),"maxZoom"in M&&n(41,H=M.maxZoom),"initialViewport"in M&&n(42,S=M.initialViewport),"viewport"in M&&u(n(0,V=M.viewport)),"nodeTypes"in M&&n(43,I=M.nodeTypes),"edgeTypes"in M&&n(44,K=M.edgeTypes),"selectionKey"in M&&n(1,U=M.selectionKey),"selectionMode"in M&&n(45,Z=M.selectionMode),"panActivationKey"in M&&n(2,O=M.panActivationKey),"multiSelectionKey"in M&&n(3,k=M.multiSelectionKey),"zoomActivationKey"in M&&n(4,B=M.zoomActivationKey),"nodesDraggable"in M&&n(46,p=M.nodesDraggable),"nodesConnectable"in M&&n(47,P=M.nodesConnectable),"nodeDragThreshold"in M&&n(48,R=M.nodeDragThreshold),"elementsSelectable"in M&&n(49,L=M.elementsSelectable),"snapGrid"in M&&n(50,N=M.snapGrid),"deleteKey"in M&&n(5,Y=M.deleteKey),"connectionRadius"in M&&n(51,W=M.connectionRadius),"connectionLineType"in M&&n(52,j=M.connectionLineType),"connectionMode"in M&&n(53,z=M.connectionMode),"connectionLineStyle"in M&&n(6,Q=M.connectionLineStyle),"connectionLineContainerStyle"in M&&n(7,ne=M.connectionLineContainerStyle),"onMoveStart"in M&&n(8,A=M.onMoveStart),"onMove"in M&&n(9,se=M.onMove),"onMoveEnd"in M&&n(10,ge=M.onMoveEnd),"isValidConnection"in M&&n(54,ce=M.isValidConnection),"translateExtent"in M&&n(55,ye=M.translateExtent),"nodeExtent"in M&&n(56,pe=M.nodeExtent),"onlyRenderVisibleElements"in M&&n(57,Ne=M.onlyRenderVisibleElements),"panOnScrollMode"in M&&n(11,G=M.panOnScrollMode),"preventScrolling"in M&&n(12,Te=M.preventScrolling),"zoomOnScroll"in M&&n(13,Ce=M.zoomOnScroll),"zoomOnDoubleClick"in M&&n(14,$e=M.zoomOnDoubleClick),"zoomOnPinch"in M&&n(15,et=M.zoomOnPinch),"panOnScroll"in M&&n(16,Je=M.panOnScroll),"panOnDrag"in M&&n(17,st=M.panOnDrag),"selectionOnDrag"in M&&n(18,ft=M.selectionOnDrag),"autoPanOnConnect"in M&&n(58,ct=M.autoPanOnConnect),"autoPanOnNodeDrag"in M&&n(59,je=M.autoPanOnNodeDrag),"onerror"in M&&n(60,at=M.onerror),"ondelete"in M&&n(61,Ve=M.ondelete),"onedgecreate"in M&&n(62,Me=M.onedgecreate),"attributionPosition"in M&&n(19,Ee=M.attributionPosition),"proOptions"in M&&n(20,Ze=M.proOptions),"defaultEdgeOptions"in M&&n(21,D=M.defaultEdgeOptions),"width"in M&&n(63,Qe=M.width),"height"in M&&n(64,ze=M.height),"colorMode"in M&&n(65,Ie=M.colorMode),"onconnect"in M&&n(66,Mt=M.onconnect),"onconnectstart"in M&&n(67,Pt=M.onconnectstart),"onconnectend"in M&&n(68,Nt=M.onconnectend),"onbeforedelete"in M&&n(69,ht=M.onbeforedelete),"oninit"in M&&n(70,gt=M.oninit),"nodeOrigin"in M&&n(71,vt=M.nodeOrigin),"paneClickDistance"in M&&n(22,Tt=M.paneClickDistance),"nodeClickDistance"in M&&n(23,Dt=M.nodeClickDistance),"defaultMarkerColor"in M&&n(72,jt=M.defaultMarkerColor),"style"in M&&n(24,cn=M.style),"class"in M&&n(25,dn=M.class),"$$scope"in M&&n(99,m=M.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&201326592&&Qt!==void 0&&xt!==void 0&&(xe.width.set(Qt),xe.height.set(xt)),t.$$.dirty[2]&6400&&!gi&&s&&(gt==null||gt(),n(73,gi=!0)),t.$$.dirty[1]&2097135632|t.$$.dirty[2]&1777&&mg(xe,{flowId:y,connectionLineType:j,connectionRadius:W,selectionMode:Z,snapGrid:N,defaultMarkerColor:jt,nodesDraggable:p,nodesConnectable:P,elementsSelectable:L,onlyRenderVisibleElements:Ne,isValidConnection:ce,autoPanOnConnect:ct,autoPanOnNodeDrag:je,onerror:at,ondelete:Ve,onedgecreate:Me,connectionMode:z,nodeDragThreshold:R,onconnect:Mt,onconnectstart:Pt,onconnectend:Nt,onbeforedelete:ht,nodeOrigin:vt}),t.$$.dirty[0]&4194304|t.$$.dirty[1]&16791040&&rr(xe,{nodeTypes:I,edgeTypes:K,minZoom:T,maxZoom:H,translateExtent:ye,paneClickDistance:Tt}),t.$$.dirty[2]&8&&c(n(29,i=yg(Ie)))},[V,U,O,k,B,Y,Q,ne,A,se,ge,G,Te,Ce,$e,et,Je,st,ft,Ee,Ze,D,Tt,Dt,cn,dn,Qt,xt,Dn,i,f,Yl,eo,r,b,y,g,_,w,E,T,H,S,I,K,Z,p,P,R,L,N,W,j,z,ce,ye,pe,Ne,ct,je,at,Ve,Me,Qe,ze,Ie,Mt,Pt,Nt,ht,gt,vt,jt,gi,s,h,Bl,Wl,Kl,Fl,Zl,ql,Ul,Gl,Jl,jl,Ql,xl,$l,es,ts,ns,is,os,rs,ls,ss,as,us,m]}class Cg extends me{constructor(e){super(),_e(this,e,Sg,Eg,ve,{id:35,nodes:36,edges:37,fitView:38,fitViewOptions:39,minZoom:40,maxZoom:41,initialViewport:42,viewport:0,nodeTypes:43,edgeTypes:44,selectionKey:1,selectionMode:45,panActivationKey:2,multiSelectionKey:3,zoomActivationKey:4,nodesDraggable:46,nodesConnectable:47,nodeDragThreshold:48,elementsSelectable:49,snapGrid:50,deleteKey:5,connectionRadius:51,connectionLineType:52,connectionMode:53,connectionLineStyle:6,connectionLineContainerStyle:7,onMoveStart:8,onMove:9,onMoveEnd:10,isValidConnection:54,translateExtent:55,nodeExtent:56,onlyRenderVisibleElements:57,panOnScrollMode:11,preventScrolling:12,zoomOnScroll:13,zoomOnDoubleClick:14,zoomOnPinch:15,panOnScroll:16,panOnDrag:17,selectionOnDrag:18,autoPanOnConnect:58,autoPanOnNodeDrag:59,onerror:60,ondelete:61,onedgecreate:62,attributionPosition:19,proOptions:20,defaultEdgeOptions:21,width:63,height:64,colorMode:65,onconnect:66,onconnectstart:67,onconnectend:68,onbeforedelete:69,oninit:70,nodeOrigin:71,paneClickDistance:22,nodeClickDistance:23,defaultMarkerColor:72,style:24,class:25},null,[-1,-1,-1,-1])}}const Mg=Cg,Pg=t=>({}),sr=t=>({class:"button-svg"});function Ng(t){let e,n,i,o,r;const s=t[8].default,l=it(s,t,t[7],sr);let a=[{type:"button"},{class:n=Re(["svelte-flow__controls-button",t[0]])},t[6]],u={};for(let f=0;f<a.length;f+=1)u=De(u,a[f]);return{c(){e=x("button"),l&&l.c(),this.h()},l(f){e=$(f,"BUTTON",{type:!0,class:!0});var d=q(e);l&&l.l(d),d.forEach(C),this.h()},h(){rn(e,u),be(e,"--xy-controls-button-background-color-props",t[1]),be(e,"--xy-controls-button-background-color-hover-props",t[2]),be(e,"--xy-controls-button-color-props",t[3]),be(e,"--xy-controls-button-color-hover-props",t[4]),be(e,"--xy-controls-button-border-color-props",t[5])},m(f,d){ee(f,e,d),l&&l.m(e,null),e.autofocus&&e.focus(),i=!0,o||(r=ke(e,"click",t[9]),o=!0)},p(f,[d]){l&&l.p&&(!i||d&128)&&ot(l,s,f,f[7],i?lt(s,f[7],d,Pg):rt(f[7]),sr),rn(e,u=Yt(a,[{type:"button"},(!i||d&1&&n!==(n=Re(["svelte-flow__controls-button",f[0]])))&&{class:n},d&64&&f[6]])),be(e,"--xy-controls-button-background-color-props",f[1]),be(e,"--xy-controls-button-background-color-hover-props",f[2]),be(e,"--xy-controls-button-color-props",f[3]),be(e,"--xy-controls-button-color-hover-props",f[4]),be(e,"--xy-controls-button-border-color-props",f[5])},i(f){i||(F(l,f),i=!0)},o(f){J(l,f),i=!1},d(f){f&&C(e),l&&l.d(f),o=!1,r()}}}function Tg(t,e,n){const i=["class","bgColor","bgColorHover","color","colorHover","borderColor"];let o=Le(e,i),{$$slots:r={},$$scope:s}=e,{class:l=void 0}=e,{bgColor:a=void 0}=e,{bgColorHover:u=void 0}=e,{color:f=void 0}=e,{colorHover:d=void 0}=e,{borderColor:c=void 0}=e;function h(m){Pe.call(this,t,m)}return t.$$set=m=>{e=De(De({},e),bt(m)),n(6,o=Le(e,i)),"class"in m&&n(0,l=m.class),"bgColor"in m&&n(1,a=m.bgColor),"bgColorHover"in m&&n(2,u=m.bgColorHover),"color"in m&&n(3,f=m.color),"colorHover"in m&&n(4,d=m.colorHover),"borderColor"in m&&n(5,c=m.borderColor),"$$scope"in m&&n(7,s=m.$$scope)},[l,a,u,f,d,c,o,s,r,h]}class Dg extends me{constructor(e){super(),_e(this,e,Tg,Ng,ve,{class:0,bgColor:1,bgColorHover:2,color:3,colorHover:4,borderColor:5})}}const ni=Dg;function Ig(t){let e,n;return{c(){e=Oe("svg"),n=Oe("path"),this.h()},l(i){e=Ae(i,"svg",{xmlns:!0,viewBox:!0});var o=q(e);n=Ae(o,"path",{d:!0}),q(n).forEach(C),o.forEach(C),this.h()},h(){v(n,"d","M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"),v(e,"xmlns","http://www.w3.org/2000/svg"),v(e,"viewBox","0 0 32 32")},m(i,o){ee(i,e,o),X(e,n)},p:Se,i:Se,o:Se,d(i){i&&C(e)}}}class zg extends me{constructor(e){super(),_e(this,e,null,Ig,ve,{})}}const Og=zg;function Ag(t){let e,n;return{c(){e=Oe("svg"),n=Oe("path"),this.h()},l(i){e=Ae(i,"svg",{xmlns:!0,viewBox:!0});var o=q(e);n=Ae(o,"path",{d:!0}),q(n).forEach(C),o.forEach(C),this.h()},h(){v(n,"d","M0 0h32v4.2H0z"),v(e,"xmlns","http://www.w3.org/2000/svg"),v(e,"viewBox","0 0 32 5")},m(i,o){ee(i,e,o),X(e,n)},p:Se,i:Se,o:Se,d(i){i&&C(e)}}}class Hg extends me{constructor(e){super(),_e(this,e,null,Ag,ve,{})}}const Vg=Hg;function Rg(t){let e,n;return{c(){e=Oe("svg"),n=Oe("path"),this.h()},l(i){e=Ae(i,"svg",{xmlns:!0,viewBox:!0});var o=q(e);n=Ae(o,"path",{d:!0}),q(n).forEach(C),o.forEach(C),this.h()},h(){v(n,"d","M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"),v(e,"xmlns","http://www.w3.org/2000/svg"),v(e,"viewBox","0 0 32 30")},m(i,o){ee(i,e,o),X(e,n)},p:Se,i:Se,o:Se,d(i){i&&C(e)}}}class Lg extends me{constructor(e){super(),_e(this,e,null,Rg,ve,{})}}const Xg=Lg;function Yg(t){let e,n;return{c(){e=Oe("svg"),n=Oe("path"),this.h()},l(i){e=Ae(i,"svg",{xmlns:!0,viewBox:!0});var o=q(e);n=Ae(o,"path",{d:!0}),q(n).forEach(C),o.forEach(C),this.h()},h(){v(n,"d","M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"),v(e,"xmlns","http://www.w3.org/2000/svg"),v(e,"viewBox","0 0 25 32")},m(i,o){ee(i,e,o),X(e,n)},p:Se,i:Se,o:Se,d(i){i&&C(e)}}}class Bg extends me{constructor(e){super(),_e(this,e,null,Yg,ve,{})}}const Wg=Bg;function Kg(t){let e,n;return{c(){e=Oe("svg"),n=Oe("path"),this.h()},l(i){e=Ae(i,"svg",{xmlns:!0,viewBox:!0});var o=q(e);n=Ae(o,"path",{d:!0}),q(n).forEach(C),o.forEach(C),this.h()},h(){v(n,"d","M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"),v(e,"xmlns","http://www.w3.org/2000/svg"),v(e,"viewBox","0 0 25 32")},m(i,o){ee(i,e,o),X(e,n)},p:Se,i:Se,o:Se,d(i){i&&C(e)}}}class Fg extends me{constructor(e){super(),_e(this,e,null,Kg,ve,{})}}const Zg=Fg,qg=t=>({}),ar=t=>({}),Ug=t=>({}),ur=t=>({});function fr(t){let e,n,i,o;const r=[{class:"svelte-flow__controls-zoomin"},{title:"zoom in"},{"aria-label":"zoom in"},{disabled:t[9]},t[17]];let s={$$slots:{default:[Gg]},$$scope:{ctx:t}};for(let u=0;u<r.length;u+=1)s=De(s,r[u]);e=new ni({props:s}),e.$on("click",t[18]);const l=[{class:"svelte-flow__controls-zoomout"},{title:"zoom out"},{"aria-label":"zoom out"},{disabled:t[10]},t[17]];let a={$$slots:{default:[Jg]},$$scope:{ctx:t}};for(let u=0;u<l.length;u+=1)a=De(a,l[u]);return i=new ni({props:a}),i.$on("click",t[19]),{c(){ae(e.$$.fragment),n=oe(),ae(i.$$.fragment)},l(u){de(e.$$.fragment,u),n=re(u),de(i.$$.fragment,u)},m(u,f){ue(e,u,f),ee(u,n,f),ue(i,u,f),o=!0},p(u,f){const d=f[0]&131584?Yt(r,[r[0],r[1],r[2],f[0]&512&&{disabled:u[9]},f[0]&131072&&yn(u[17])]):{};f[1]&32&&(d.$$scope={dirty:f,ctx:u}),e.$set(d);const c=f[0]&132096?Yt(l,[l[0],l[1],l[2],f[0]&1024&&{disabled:u[10]},f[0]&131072&&yn(u[17])]):{};f[1]&32&&(c.$$scope={dirty:f,ctx:u}),i.$set(c)},i(u){o||(F(e.$$.fragment,u),F(i.$$.fragment,u),o=!0)},o(u){J(e.$$.fragment,u),J(i.$$.fragment,u),o=!1},d(u){u&&C(n),fe(e,u),fe(i,u)}}}function Gg(t){let e,n;return e=new Og({}),{c(){ae(e.$$.fragment)},l(i){de(e.$$.fragment,i)},m(i,o){ue(e,i,o),n=!0},i(i){n||(F(e.$$.fragment,i),n=!0)},o(i){J(e.$$.fragment,i),n=!1},d(i){fe(e,i)}}}function Jg(t){let e,n;return e=new Vg({}),{c(){ae(e.$$.fragment)},l(i){de(e.$$.fragment,i)},m(i,o){ue(e,i,o),n=!0},i(i){n||(F(e.$$.fragment,i),n=!0)},o(i){J(e.$$.fragment,i),n=!1},d(i){fe(e,i)}}}function cr(t){let e,n;const i=[{class:"svelte-flow__controls-fitview"},{title:"fit view"},{"aria-label":"fit view"},t[17]];let o={$$slots:{default:[jg]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=De(o,i[r]);return e=new ni({props:o}),e.$on("click",t[20]),{c(){ae(e.$$.fragment)},l(r){de(e.$$.fragment,r)},m(r,s){ue(e,r,s),n=!0},p(r,s){const l=s[0]&131072?Yt(i,[i[0],i[1],i[2],yn(r[17])]):{};s[1]&32&&(l.$$scope={dirty:s,ctx:r}),e.$set(l)},i(r){n||(F(e.$$.fragment,r),n=!0)},o(r){J(e.$$.fragment,r),n=!1},d(r){fe(e,r)}}}function jg(t){let e,n;return e=new Xg({}),{c(){ae(e.$$.fragment)},l(i){de(e.$$.fragment,i)},m(i,o){ue(e,i,o),n=!0},i(i){n||(F(e.$$.fragment,i),n=!0)},o(i){J(e.$$.fragment,i),n=!1},d(i){fe(e,i)}}}function dr(t){let e,n;const i=[{class:"svelte-flow__controls-interactive"},{title:"toggle interactivity"},{"aria-label":"toggle interactivity"},t[17]];let o={$$slots:{default:[$g]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=De(o,i[r]);return e=new ni({props:o}),e.$on("click",t[21]),{c(){ae(e.$$.fragment)},l(r){de(e.$$.fragment,r)},m(r,s){ue(e,r,s),n=!0},p(r,s){const l=s[0]&131072?Yt(i,[i[0],i[1],i[2],yn(r[17])]):{};s[0]&256|s[1]&32&&(l.$$scope={dirty:s,ctx:r}),e.$set(l)},i(r){n||(F(e.$$.fragment,r),n=!0)},o(r){J(e.$$.fragment,r),n=!1},d(r){fe(e,r)}}}function Qg(t){let e,n;return e=new Wg({}),{c(){ae(e.$$.fragment)},l(i){de(e.$$.fragment,i)},m(i,o){ue(e,i,o),n=!0},i(i){n||(F(e.$$.fragment,i),n=!0)},o(i){J(e.$$.fragment,i),n=!1},d(i){fe(e,i)}}}function xg(t){let e,n;return e=new Zg({}),{c(){ae(e.$$.fragment)},l(i){de(e.$$.fragment,i)},m(i,o){ue(e,i,o),n=!0},i(i){n||(F(e.$$.fragment,i),n=!0)},o(i){J(e.$$.fragment,i),n=!1},d(i){fe(e,i)}}}function $g(t){let e,n,i,o;const r=[xg,Qg],s=[];function l(a,u){return a[8]?0:1}return e=l(t),n=s[e]=r[e](t),{c(){n.c(),i=He()},l(a){n.l(a),i=He()},m(a,u){s[e].m(a,u),ee(a,i,u),o=!0},p(a,u){let f=e;e=l(a),e!==f&&(Ue(),J(s[f],1,1,()=>{s[f]=null}),Ge(),n=s[e],n||(n=s[e]=r[e](a),n.c()),F(n,1),n.m(i.parentNode,i))},i(a){o||(F(n),o=!0)},o(a){J(n),o=!1},d(a){a&&C(i),s[e].d(a)}}}function e1(t){let e,n,i,o,r,s;const l=t[35].before,a=it(l,t,t[36],ur);let u=t[1]&&fr(t),f=t[2]&&cr(t),d=t[3]&&dr(t);const c=t[35].default,h=it(c,t,t[36],null),m=t[35].after,b=it(m,t,t[36],ar);return{c(){a&&a.c(),e=oe(),u&&u.c(),n=oe(),f&&f.c(),i=oe(),d&&d.c(),o=oe(),h&&h.c(),r=oe(),b&&b.c()},l(y){a&&a.l(y),e=re(y),u&&u.l(y),n=re(y),f&&f.l(y),i=re(y),d&&d.l(y),o=re(y),h&&h.l(y),r=re(y),b&&b.l(y)},m(y,g){a&&a.m(y,g),ee(y,e,g),u&&u.m(y,g),ee(y,n,g),f&&f.m(y,g),ee(y,i,g),d&&d.m(y,g),ee(y,o,g),h&&h.m(y,g),ee(y,r,g),b&&b.m(y,g),s=!0},p(y,g){a&&a.p&&(!s||g[1]&32)&&ot(a,l,y,y[36],s?lt(l,y[36],g,Ug):rt(y[36]),ur),y[1]?u?(u.p(y,g),g[0]&2&&F(u,1)):(u=fr(y),u.c(),F(u,1),u.m(n.parentNode,n)):u&&(Ue(),J(u,1,1,()=>{u=null}),Ge()),y[2]?f?(f.p(y,g),g[0]&4&&F(f,1)):(f=cr(y),f.c(),F(f,1),f.m(i.parentNode,i)):f&&(Ue(),J(f,1,1,()=>{f=null}),Ge()),y[3]?d?(d.p(y,g),g[0]&8&&F(d,1)):(d=dr(y),d.c(),F(d,1),d.m(o.parentNode,o)):d&&(Ue(),J(d,1,1,()=>{d=null}),Ge()),h&&h.p&&(!s||g[1]&32)&&ot(h,c,y,y[36],s?lt(c,y[36],g,null):rt(y[36]),null),b&&b.p&&(!s||g[1]&32)&&ot(b,m,y,y[36],s?lt(m,y[36],g,qg):rt(y[36]),ar)},i(y){s||(F(a,y),F(u),F(f),F(d),F(h,y),F(b,y),s=!0)},o(y){J(a,y),J(u),J(f),J(d),J(h,y),J(b,y),s=!1},d(y){y&&(C(e),C(n),C(i),C(o),C(r)),a&&a.d(y),u&&u.d(y),f&&f.d(y),d&&d.d(y),h&&h.d(y),b&&b.d(y)}}}function t1(t){let e,n;return e=new Xl({props:{class:Re(["svelte-flow__controls",t[7],t[6]]),position:t[0],"data-testid":"svelte-flow__controls","aria-label":t[4]??"Svelte Flow controls",style:t[5],$$slots:{default:[e1]},$$scope:{ctx:t}}}),{c(){ae(e.$$.fragment)},l(i){de(e.$$.fragment,i)},m(i,o){ue(e,i,o),n=!0},p(i,o){const r={};o[0]&192&&(r.class=Re(["svelte-flow__controls",i[7],i[6]])),o[0]&1&&(r.position=i[0]),o[0]&16&&(r["aria-label"]=i[4]??"Svelte Flow controls"),o[0]&32&&(r.style=i[5]),o[0]&1806|o[1]&32&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(F(e.$$.fragment,i),n=!0)},o(i){J(e.$$.fragment,i),n=!1},d(i){fe(e,i)}}}function n1(t,e,n){let i,o,r,s,l,a,u,f,d,c,{$$slots:h={},$$scope:m}=e,{position:b="bottom-left"}=e,{showZoom:y=!0}=e,{showFitView:g=!0}=e,{showLock:_=!0}=e,{buttonBgColor:w=void 0}=e,{buttonBgColorHover:E=void 0}=e,{buttonColor:T=void 0}=e,{buttonColorHover:H=void 0}=e,{buttonBorderColor:S=void 0}=e,{ariaLabel:V=void 0}=e,{style:I=void 0}=e,{orientation:K="vertical"}=e,{fitViewOptions:U=void 0}=e,{class:Z=""}=e;const{zoomIn:O,zoomOut:k,fitView:B,viewport:p,minZoom:P,maxZoom:R,nodesDraggable:L,nodesConnectable:N,elementsSelectable:Y}=Fe();te(t,p,A=>n(30,a=A)),te(t,P,A=>n(31,u=A)),te(t,R,A=>n(29,l=A)),te(t,L,A=>n(34,c=A)),te(t,N,A=>n(33,d=A)),te(t,Y,A=>n(32,f=A));const W={bgColor:w,bgColorHover:E,color:T,colorHover:H,borderColor:S},j=()=>{O()},z=()=>{k()},Q=()=>{B(U)},ne=()=>{n(8,i=!i),L.set(i),N.set(i),Y.set(i)};return t.$$set=A=>{"position"in A&&n(0,b=A.position),"showZoom"in A&&n(1,y=A.showZoom),"showFitView"in A&&n(2,g=A.showFitView),"showLock"in A&&n(3,_=A.showLock),"buttonBgColor"in A&&n(22,w=A.buttonBgColor),"buttonBgColorHover"in A&&n(23,E=A.buttonBgColorHover),"buttonColor"in A&&n(24,T=A.buttonColor),"buttonColorHover"in A&&n(25,H=A.buttonColorHover),"buttonBorderColor"in A&&n(26,S=A.buttonBorderColor),"ariaLabel"in A&&n(4,V=A.ariaLabel),"style"in A&&n(5,I=A.style),"orientation"in A&&n(27,K=A.orientation),"fitViewOptions"in A&&n(28,U=A.fitViewOptions),"class"in A&&n(6,Z=A.class),"$$scope"in A&&n(36,m=A.$$scope)},t.$$.update=()=>{t.$$.dirty[1]&14&&n(8,i=c||d||f),t.$$.dirty[0]&1073741824|t.$$.dirty[1]&1&&n(10,o=a.zoom<=u),t.$$.dirty[0]&1610612736&&n(9,r=a.zoom>=l),t.$$.dirty[0]&134217728&&n(7,s=K==="horizontal"?"horizontal":"vertical")},[b,y,g,_,V,I,Z,s,i,r,o,p,P,R,L,N,Y,W,j,z,Q,ne,w,E,T,H,S,K,U,l,a,u,f,d,c,h,m]}class i1 extends me{constructor(e){super(),_e(this,e,n1,t1,ve,{position:0,showZoom:1,showFitView:2,showLock:3,buttonBgColor:22,buttonBgColorHover:23,buttonColor:24,buttonColorHover:25,buttonBorderColor:26,ariaLabel:4,style:5,orientation:27,fitViewOptions:28,class:6},null,[-1,-1])}}const o1=i1;var Lt;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(Lt||(Lt={}));function r1(t){let e,n;return{c(){e=Oe("circle"),this.h()},l(i){e=Ae(i,"circle",{cx:!0,cy:!0,r:!0,class:!0}),q(e).forEach(C),this.h()},h(){v(e,"cx",t[0]),v(e,"cy",t[0]),v(e,"r",t[0]),v(e,"class",n=Re(["svelte-flow__background-pattern","dots",t[1]]))},m(i,o){ee(i,e,o)},p(i,[o]){o&1&&v(e,"cx",i[0]),o&1&&v(e,"cy",i[0]),o&1&&v(e,"r",i[0]),o&2&&n!==(n=Re(["svelte-flow__background-pattern","dots",i[1]]))&&v(e,"class",n)},i:Se,o:Se,d(i){i&&C(e)}}}function l1(t,e,n){let{radius:i=5}=e,{class:o=""}=e;return t.$$set=r=>{"radius"in r&&n(0,i=r.radius),"class"in r&&n(1,o=r.class)},[i,o]}class s1 extends me{constructor(e){super(),_e(this,e,l1,r1,ve,{radius:0,class:1})}}const a1=s1;function u1(t){let e,n,i;return{c(){e=Oe("path"),this.h()},l(o){e=Ae(o,"path",{"stroke-width":!0,d:!0,class:!0}),q(e).forEach(C),this.h()},h(){v(e,"stroke-width",t[0]),v(e,"d",n=`M${t[1][0]/2} 0 V${t[1][1]} M0 ${t[1][1]/2} H${t[1][0]}`),v(e,"class",i=Re(["svelte-flow__background-pattern",t[2],t[3]]))},m(o,r){ee(o,e,r)},p(o,[r]){r&1&&v(e,"stroke-width",o[0]),r&2&&n!==(n=`M${o[1][0]/2} 0 V${o[1][1]} M0 ${o[1][1]/2} H${o[1][0]}`)&&v(e,"d",n),r&12&&i!==(i=Re(["svelte-flow__background-pattern",o[2],o[3]]))&&v(e,"class",i)},i:Se,o:Se,d(o){o&&C(e)}}}function f1(t,e,n){let{lineWidth:i=1}=e,{dimensions:o}=e,{variant:r=void 0}=e,{class:s=""}=e;return t.$$set=l=>{"lineWidth"in l&&n(0,i=l.lineWidth),"dimensions"in l&&n(1,o=l.dimensions),"variant"in l&&n(2,r=l.variant),"class"in l&&n(3,s=l.class)},[i,o,r,s]}class c1 extends me{constructor(e){super(),_e(this,e,f1,u1,ve,{lineWidth:0,dimensions:1,variant:2,class:3})}}const d1=c1;function h1(t){let e,n;return e=new d1({props:{dimensions:t[6],variant:t[0],lineWidth:t[1],class:t[4]}}),{c(){ae(e.$$.fragment)},l(i){de(e.$$.fragment,i)},m(i,o){ue(e,i,o),n=!0},p(i,o){const r={};o&64&&(r.dimensions=i[6]),o&1&&(r.variant=i[0]),o&2&&(r.lineWidth=i[1]),o&16&&(r.class=i[4]),e.$set(r)},i(i){n||(F(e.$$.fragment,i),n=!0)},o(i){J(e.$$.fragment,i),n=!1},d(i){fe(e,i)}}}function g1(t){let e,n;return e=new a1({props:{radius:t[7]/2,class:t[4]}}),{c(){ae(e.$$.fragment)},l(i){de(e.$$.fragment,i)},m(i,o){ue(e,i,o),n=!0},p(i,o){const r={};o&128&&(r.radius=i[7]/2),o&16&&(r.class=i[4]),e.$set(r)},i(i){n||(F(e.$$.fragment,i),n=!0)},o(i){J(e.$$.fragment,i),n=!1},d(i){fe(e,i)}}}function m1(t){let e,n,i,o,r,s,l,a,u,f,d,c,h;const m=[g1,h1],b=[];function y(g,_){return g[14]?0:1}return i=y(t),o=b[i]=m[i](t),{c(){e=Oe("svg"),n=Oe("pattern"),o.c(),f=Oe("rect"),this.h()},l(g){e=Ae(g,"svg",{class:!0,"data-testid":!0});var _=q(e);n=Ae(_,"pattern",{id:!0,x:!0,y:!0,width:!0,height:!0,patternUnits:!0,patternTransform:!0});var w=q(n);o.l(w),w.forEach(C),f=Ae(_,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),q(f).forEach(C),_.forEach(C),this.h()},h(){v(n,"id",t[11]),v(n,"x",r=t[9].x%t[8][0]),v(n,"y",s=t[9].y%t[8][1]),v(n,"width",l=t[8][0]),v(n,"height",a=t[8][1]),v(n,"patternUnits","userSpaceOnUse"),v(n,"patternTransform",u=`translate(-${t[10][0]},-${t[10][1]})`),v(f,"x","0"),v(f,"y","0"),v(f,"width","100%"),v(f,"height","100%"),v(f,"fill",d=`url(#${t[11]})`),v(e,"class",c=no(Re(["svelte-flow__background",t[5]]))+" svelte-1r7pe8d"),v(e,"data-testid","svelte-flow__background"),be(e,"--xy-background-color-props",t[2]),be(e,"--xy-background-pattern-color-props",t[3])},m(g,_){ee(g,e,_),X(e,n),b[i].m(n,null),X(e,f),h=!0},p(g,[_]){o.p(g,_),(!h||_&2048)&&v(n,"id",g[11]),(!h||_&768&&r!==(r=g[9].x%g[8][0]))&&v(n,"x",r),(!h||_&768&&s!==(s=g[9].y%g[8][1]))&&v(n,"y",s),(!h||_&256&&l!==(l=g[8][0]))&&v(n,"width",l),(!h||_&256&&a!==(a=g[8][1]))&&v(n,"height",a),(!h||_&1024&&u!==(u=`translate(-${g[10][0]},-${g[10][1]})`))&&v(n,"patternTransform",u),(!h||_&2048&&d!==(d=`url(#${g[11]})`))&&v(f,"fill",d),(!h||_&32&&c!==(c=no(Re(["svelte-flow__background",g[5]]))+" svelte-1r7pe8d"))&&v(e,"class",c),_&4&&be(e,"--xy-background-color-props",g[2]),_&8&&be(e,"--xy-background-pattern-color-props",g[3])},i(g){h||(F(o),h=!0)},o(g){J(o),h=!1},d(g){g&&C(e),b[i].d()}}}const _1={[Lt.Dots]:1,[Lt.Lines]:1,[Lt.Cross]:6};function y1(t,e,n){let i,o,r,s,l,a,u,{id:f=void 0}=e,{variant:d=Lt.Dots}=e,{gap:c=20}=e,{size:h=1}=e,{lineWidth:m=1}=e,{bgColor:b=void 0}=e,{patternColor:y=void 0}=e,{patternClass:g=void 0}=e,{class:_=""}=e;const{viewport:w,flowId:E}=Fe();te(t,w,I=>n(9,a=I)),te(t,E,I=>n(18,u=I));const T=h||_1[d],H=d===Lt.Dots,S=d===Lt.Cross,V=Array.isArray(c)?c:[c,c];return t.$$set=I=>{"id"in I&&n(15,f=I.id),"variant"in I&&n(0,d=I.variant),"gap"in I&&n(16,c=I.gap),"size"in I&&n(17,h=I.size),"lineWidth"in I&&n(1,m=I.lineWidth),"bgColor"in I&&n(2,b=I.bgColor),"patternColor"in I&&n(3,y=I.patternColor),"patternClass"in I&&n(4,g=I.patternClass),"class"in I&&n(5,_=I.class)},t.$$.update=()=>{t.$$.dirty&294912&&n(11,i=`background-pattern-${u}-${f||""}`),t.$$.dirty&512&&n(8,o=[V[0]*a.zoom||1,V[1]*a.zoom||1]),t.$$.dirty&512&&n(7,r=T*a.zoom),t.$$.dirty&384&&n(6,s=S?[r,r]:o),t.$$.dirty&192&&n(10,l=H?[r/2,r/2]:[s[0]/2,s[1]/2])},[d,m,b,y,g,_,s,r,o,a,l,i,w,E,H,f,c,h,u]}class b1 extends me{constructor(e){super(),_e(this,e,y1,m1,ve,{id:15,variant:0,gap:16,size:17,lineWidth:1,bgColor:2,patternColor:3,patternClass:4,class:5})}}const w1=b1;function v1(t){let e,n,i,o,r,s=t[0].name+"",l,a,u,f=t[0].name+"",d,c,h,m,b,y='<th class="text-left third svelte-1i27hy3">Start</th> <th class="svelte-1i27hy3">Duration</th> <th class="text-right third svelte-1i27hy3">Finish</th>',g,_,w,E=t[0].es+"",T,H,S,V=t[0].expected+"",I,K,U,Z=t[0].ef+"",O,k,B,p,P=t[0].ls+"",R,L,N,Y=t[0].lf+"",W,j,z,Q,ne,A,se='<th class="text-left third svelte-1i27hy3">Min</th> <th class="svelte-1i27hy3">Likely</th> <th class="text-right third svelte-1i27hy3">Max</th>',ge,ce,ye,pe=t[0].min+"",Ne,G,Te,Ce=t[0].likely+"",$e,et,Je,st=t[0].max+"",ft,ct,je,at,Ve;return n=new fn({props:{type:"target",position:"left",isConnectable:t[1]}}),je=new fn({props:{type:"source",position:"right",isConnectable:t[1]}}),{c(){e=x("div"),ae(n.$$.fragment),i=oe(),o=x("div"),r=x("div"),l=Xe(s),a=oe(),u=x("div"),d=Xe(f),h=oe(),m=x("table"),b=x("tr"),b.innerHTML=y,g=oe(),_=x("tr"),w=x("td"),T=Xe(E),H=oe(),S=x("td"),I=Xe(V),K=oe(),U=x("td"),O=Xe(Z),k=oe(),B=x("tr"),p=x("td"),R=Xe(P),L=oe(),N=x("td"),W=Xe(Y),j=oe(),z=x("hr"),Q=oe(),ne=x("table"),A=x("tr"),A.innerHTML=se,ge=oe(),ce=x("tr"),ye=x("td"),Ne=Xe(pe),G=oe(),Te=x("td"),$e=Xe(Ce),et=oe(),Je=x("td"),ft=Xe(st),ct=oe(),ae(je.$$.fragment),this.h()},l(Me){e=$(Me,"DIV",{class:!0});var Ee=q(e);de(n.$$.fragment,Ee),i=re(Ee),o=$(Ee,"DIV",{class:!0});var Ze=q(o);r=$(Ze,"DIV",{class:!0});var D=q(r);l=Ye(D,s),D.forEach(C),a=re(Ze),u=$(Ze,"DIV",{class:!0});var Qe=q(u);d=Ye(Qe,f),Qe.forEach(C),Ze.forEach(C),h=re(Ee),m=$(Ee,"TABLE",{style:!0,class:!0});var ze=q(m);b=$(ze,"TR",{"data-svelte-h":!0}),At(b)!=="svelte-1kap4rr"&&(b.innerHTML=y),g=re(ze),_=$(ze,"TR",{});var Ie=q(_);w=$(Ie,"TD",{class:!0});var Mt=q(w);T=Ye(Mt,E),Mt.forEach(C),H=re(Ie),S=$(Ie,"TD",{class:!0,rowspan:!0});var Pt=q(S);I=Ye(Pt,V),Pt.forEach(C),K=re(Ie),U=$(Ie,"TD",{class:!0});var Nt=q(U);O=Ye(Nt,Z),Nt.forEach(C),Ie.forEach(C),k=re(ze),B=$(ze,"TR",{});var ht=q(B);p=$(ht,"TD",{class:!0});var gt=q(p);R=Ye(gt,P),gt.forEach(C),L=re(ht),N=$(ht,"TD",{class:!0});var vt=q(N);W=Ye(vt,Y),vt.forEach(C),ht.forEach(C),ze.forEach(C),j=re(Ee),z=$(Ee,"HR",{class:!0}),Q=re(Ee),ne=$(Ee,"TABLE",{style:!0,class:!0});var Tt=q(ne);A=$(Tt,"TR",{"data-svelte-h":!0}),At(A)!=="svelte-11mrgyi"&&(A.innerHTML=se),ge=re(Tt),ce=$(Tt,"TR",{});var Dt=q(ce);ye=$(Dt,"TD",{class:!0});var jt=q(ye);Ne=Ye(jt,pe),jt.forEach(C),G=re(Dt),Te=$(Dt,"TD",{class:!0});var cn=q(Te);$e=Ye(cn,Ce),cn.forEach(C),et=re(Dt),Je=$(Dt,"TD",{class:!0});var dn=q(Je);ft=Ye(dn,st),dn.forEach(C),Dt.forEach(C),Tt.forEach(C),ct=re(Ee),de(je.$$.fragment,Ee),Ee.forEach(C),this.h()},h(){v(r,"class","heading-text svelte-1i27hy3"),v(u,"class","heading-full svelte-1i27hy3"),v(o,"class",c="heading "+t[3]+" svelte-1i27hy3"),v(w,"class","text-left"),v(S,"class","text-center va-middle"),v(S,"rowspan","2"),v(U,"class","text-right"),v(p,"class","text-left"),v(N,"class","text-right"),be(m,"width","99.9%"),v(m,"class","svelte-1i27hy3"),v(z,"class","svelte-1i27hy3"),v(ye,"class","text-left"),v(Te,"class","text-center"),v(Je,"class","text-right"),be(ne,"width","99.9%"),v(ne,"class","svelte-1i27hy3"),v(e,"class",at="critical-path-node "+t[2]+" svelte-1i27hy3")},m(Me,Ee){ee(Me,e,Ee),ue(n,e,null),X(e,i),X(e,o),X(o,r),X(r,l),X(o,a),X(o,u),X(u,d),X(e,h),X(e,m),X(m,b),X(m,g),X(m,_),X(_,w),X(w,T),X(_,H),X(_,S),X(S,I),X(_,K),X(_,U),X(U,O),X(m,k),X(m,B),X(B,p),X(p,R),X(B,L),X(B,N),X(N,W),X(e,j),X(e,z),X(e,Q),X(e,ne),X(ne,A),X(ne,ge),X(ne,ce),X(ce,ye),X(ye,Ne),X(ce,G),X(ce,Te),X(Te,$e),X(ce,et),X(ce,Je),X(Je,ft),X(e,ct),ue(je,e,null),Ve=!0},p(Me,[Ee]){const Ze={};Ee&2&&(Ze.isConnectable=Me[1]),n.$set(Ze),(!Ve||Ee&1)&&s!==(s=Me[0].name+"")&&Be(l,s),(!Ve||Ee&1)&&f!==(f=Me[0].name+"")&&Be(d,f),(!Ve||Ee&8&&c!==(c="heading "+Me[3]+" svelte-1i27hy3"))&&v(o,"class",c),(!Ve||Ee&1)&&E!==(E=Me[0].es+"")&&Be(T,E),(!Ve||Ee&1)&&V!==(V=Me[0].expected+"")&&Be(I,V),(!Ve||Ee&1)&&Z!==(Z=Me[0].ef+"")&&Be(O,Z),(!Ve||Ee&1)&&P!==(P=Me[0].ls+"")&&Be(R,P),(!Ve||Ee&1)&&Y!==(Y=Me[0].lf+"")&&Be(W,Y),(!Ve||Ee&1)&&pe!==(pe=Me[0].min+"")&&Be(Ne,pe),(!Ve||Ee&1)&&Ce!==(Ce=Me[0].likely+"")&&Be($e,Ce),(!Ve||Ee&1)&&st!==(st=Me[0].max+"")&&Be(ft,st);const D={};Ee&2&&(D.isConnectable=Me[1]),je.$set(D),(!Ve||Ee&4&&at!==(at="critical-path-node "+Me[2]+" svelte-1i27hy3"))&&v(e,"class",at)},i(Me){Ve||(F(n.$$.fragment,Me),F(je.$$.fragment,Me),Ve=!0)},o(Me){J(n.$$.fragment,Me),J(je.$$.fragment,Me),Ve=!1},d(Me){Me&&C(e),fe(n),fe(je)}}}function k1(t,e,n){let i,o,{data:r}=e,{isConnectable:s=!0}=e,{id:l}=e,{selected:a=!1}=e,{selectable:u=!0}=e,{deletable:f=!1}=e,{sourcePosition:d=void 0}=e,{targetPosition:c=void 0}=e,{zIndex:h=0}=e,{dragging:m=!1}=e,{draggable:b=!0}=e,{dragHandle:y=void 0}=e,{parentId:g=void 0}=e,{type:_="default"}=e,{positionAbsoluteX:w=void 0}=e,{positionAbsoluteY:E=void 0}=e,{width:T=void 0}=e,{height:H=void 0}=e;return t.$$set=S=>{"data"in S&&n(0,r=S.data),"isConnectable"in S&&n(1,s=S.isConnectable),"id"in S&&n(4,l=S.id),"selected"in S&&n(5,a=S.selected),"selectable"in S&&n(6,u=S.selectable),"deletable"in S&&n(7,f=S.deletable),"sourcePosition"in S&&n(8,d=S.sourcePosition),"targetPosition"in S&&n(9,c=S.targetPosition),"zIndex"in S&&n(10,h=S.zIndex),"dragging"in S&&n(11,m=S.dragging),"draggable"in S&&n(12,b=S.draggable),"dragHandle"in S&&n(13,y=S.dragHandle),"parentId"in S&&n(14,g=S.parentId),"type"in S&&n(15,_=S.type),"positionAbsoluteX"in S&&n(16,w=S.positionAbsoluteX),"positionAbsoluteY"in S&&n(17,E=S.positionAbsoluteY),"width"in S&&n(18,T=S.width),"height"in S&&n(19,H=S.height)},t.$$.update=()=>{t.$$.dirty&1&&n(3,i=Number(r.progress)>=100?"bg-emerald":r.slack===0?"bg-darkSteel":"bg-darkBlue"),t.$$.dirty&1&&n(2,o=r.slack===0?"critical":"normal")},[r,s,o,i,l,a,u,f,d,c,h,m,b,y,g,_,w,E,T,H]}class p1 extends me{constructor(e){super(),_e(this,e,k1,v1,ve,{data:0,isConnectable:1,id:4,selected:5,selectable:6,deletable:7,sourcePosition:8,targetPosition:9,zIndex:10,dragging:11,draggable:12,dragHandle:13,parentId:14,type:15,positionAbsoluteX:16,positionAbsoluteY:17,width:18,height:19})}}function E1(t,e,n={}){const{nodeWidth:i=250,nodeHeight:o=150,horizontalSpacing:r=100,verticalSpacing:s=50,startX:l=50,startY:a=50}=n;if(!(t!=null&&t.length))return console.warn("No nodes provided for layout"),[];const u=new Map(t.map(_=>[_.id,{..._,level:0,column:0}])),f=new Map,d=new Map;t.forEach(_=>{f.set(_.id,[]),d.set(_.id,[])}),e.filter(_=>!_.source||!_.target?(console.warn("Invalid edge missing source or target:",_),!1):u.has(_.source)?u.has(_.target)?!0:(console.warn("Edge references non-existent target node:",_),!1):(console.warn("Edge references non-existent source node:",_),!1)).forEach(_=>{f.get(_.source).push(_.target),d.get(_.target).push(_.source)});const h=t.filter(_=>d.get(_.id).length===0);h.length===0&&(console.warn("No root nodes found (possible circular dependency)"),h.push(t[0]));const m=h.map(_=>_.id),b=new Set;let y=0;for(;m.length>0;){const _=m.shift();if(b.has(_))continue;b.add(_);const w=u.get(_),E=d.get(_)||[],T=Math.max(0,...E.map(S=>{var V;return(((V=u.get(S))==null?void 0:V.level)||0)+1}));w.level=T,y=Math.max(y,T),(f.get(_)||[]).forEach(S=>{b.has(S)||m.push(S)})}const g=new Array(y+1).fill(0).map(()=>[]);return u.forEach(_=>{g[_.level].push(_)}),g.forEach((_,w)=>{const E=l+w*(i+r);_.forEach((T,H)=>{const S=a+H*(o+s);T.position={x:E,y:S}})}),Array.from(u.values())}function hr(t){let e,n;return e=new w1({props:{variant:"dots",gap:t[5][0],size:1}}),{c(){ae(e.$$.fragment)},l(i){de(e.$$.fragment,i)},m(i,o){ue(e,i,o),n=!0},p:Se,i(i){n||(F(e.$$.fragment,i),n=!0)},o(i){J(e.$$.fragment,i),n=!1},d(i){fe(e,i)}}}function gr(t){let e,n;return e=new o1({}),{c(){ae(e.$$.fragment)},l(i){de(e.$$.fragment,i)},m(i,o){ue(e,i,o),n=!0},i(i){n||(F(e.$$.fragment,i),n=!0)},o(i){J(e.$$.fragment,i),n=!1},d(i){fe(e,i)}}}function S1(t){let e,n,i,o=t[0]&&hr(t),r=t[1]&&gr();return{c(){o&&o.c(),e=oe(),r&&r.c(),n=He()},l(s){o&&o.l(s),e=re(s),r&&r.l(s),n=He()},m(s,l){o&&o.m(s,l),ee(s,e,l),r&&r.m(s,l),ee(s,n,l),i=!0},p(s,l){s[0]?o?(o.p(s,l),l&1&&F(o,1)):(o=hr(s),o.c(),F(o,1),o.m(e.parentNode,e)):o&&(Ue(),J(o,1,1,()=>{o=null}),Ge()),s[1]?r?l&2&&F(r,1):(r=gr(),r.c(),F(r,1),r.m(n.parentNode,n)):r&&(Ue(),J(r,1,1,()=>{r=null}),Ge())},i(s){i||(F(o),F(r),i=!0)},o(s){J(o),J(r),i=!1},d(s){s&&(C(e),C(n)),o&&o.d(s),r&&r.d(s)}}}function C1(t){let e,n,i;return n=new Mg({props:{nodes:t[2],edges:t[3],nodeTypes:t[4],viewport:Rr,nodesDraggable:!0,nodesConnectable:!1,elementsSelectable:!0,minZoom:.5,maxZoom:2,snapToGrid:!0,snapGrid:t[5],$$slots:{default:[S1]},$$scope:{ctx:t}}}),n.$on("viewportChange",t[7]),n.$on("nodedragstop",t[6]),{c(){e=x("div"),ae(n.$$.fragment),this.h()},l(o){e=$(o,"DIV",{style:!0});var r=q(e);de(n.$$.fragment,r),r.forEach(C),this.h()},h(){be(e,"width","100%"),be(e,"height","100%")},m(o,r){ee(o,e,r),ue(n,e,null),i=!0},p(o,[r]){const s={};r&2051&&(s.$$scope={dirty:r,ctx:o}),n.$set(s)},i(o){i||(F(n.$$.fragment,o),i=!0)},o(o){J(n.$$.fragment,o),i=!1},d(o){o&&C(e),fe(n)}}}const mr=200,_r=120;function M1(t,e,n){let i,o,r;te(t,Vr,m=>n(8,i=m)),te(t,gs,m=>n(0,o=m)),te(t,ms,m=>n(1,r=m));const s=le([]),l=le([]),a={default:p1},u=[20,20],f=Math.ceil(mr/u[0])*u[0]+40,d=Math.ceil(_r/u[1])*u[1]+20;function c(m){const b=ie(s);_s(b)}function h(m){Rr.set(m.detail)}return t.$$.update=()=>{if(t.$$.dirty&256&&i.map){const m=Object.values(i.map).map(g=>({id:g.id,position:{x:Math.round((g.x||0)/u[0])*u[0],y:Math.round((g.y||0)/u[1])*u[1]},data:{...g,label:g.name||g.id},type:"default"})),b=Object.values(i.map).flatMap(g=>g.predecessors.map(_=>{const w=i.map[_],E=g,T=w.slack===0&&E.slack===0,H=Number(w.progress)>=100&&Number(E.progress)<100;return{id:`${_}-${g.id}`,source:_,target:g.id,type:"default",class:T?"critical-path":"normal-path",animated:H}})),y=m.filter(g=>!g.position.x&&!g.position.y);if(y.length>0){const _=E1(y,b,{nodeWidth:mr,nodeHeight:_r,horizontalSpacing:f,verticalSpacing:d}).map(E=>({...E,position:{x:Math.round(E.position.x/u[0])*u[0],y:Math.round(E.position.y/u[1])*u[1]}})),w=m.map(E=>E.position.x||E.position.y?E:_.find(T=>T.id===E.id)||E);s.set(w)}else s.set(m);l.set(b)}},[o,r,s,l,a,u,c,h,i]}class P1 extends me{constructor(e){super(),_e(this,e,M1,C1,ve,{})}}function yr(t,e,n){const i=t.slice();return i[38]=e[n],i[39]=e,i[40]=n,i}function br(t,e,n){const i=t.slice();return i[41]=e[n],i}function wr(t,e,n){const i=t.slice();return i[38]=e[n],i[44]=e,i[45]=n,i}function vr(t,e,n){const i=t.slice();return i[46]=e[n],i}function kr(t){let e,n=t[46]+"",i;return{c(){e=x("th"),i=Xe(n)},l(o){e=$(o,"TH",{});var r=q(e);i=Ye(r,n),r.forEach(C)},m(o,r){ee(o,e,r),X(e,i)},p(o,r){r[0]&2&&n!==(n=o[46]+"")&&Be(i,n)},d(o){o&&C(e)}}}function pr(t){let e,n,i,o,r;function s(){t[24].call(n,t[44],t[45])}function l(){return t[25](t[41])}function a(...c){return t[26](t[41],t[45],...c)}function u(...c){return t[27](t[41],t[45],...c)}function f(...c){return t[28](t[41],t[45],...c)}function d(...c){return t[29](t[41],t[45],...c)}return{c(){e=x("td"),n=x("input"),this.h()},l(c){e=$(c,"TD",{class:!0,"data-row-id":!0,"data-col-index":!0});var h=q(e);n=$(h,"INPUT",{type:!0,class:!0}),h.forEach(C),this.h()},h(){v(n,"type","text"),v(n,"class","metro-input svelte-1je47ti"),v(e,"class","data-cell svelte-1je47ti"),v(e,"data-row-id",i=t[41]),v(e,"data-col-index",t[45]),he(e,"selected-cell",t[2]&&t[2].rowId===t[41]&&t[2].colIndex===t[45]),he(e,"highlight",t[4]&&t[3]&&t[3].colIndex===t[45]&&t[15](t[41],t[45]))},m(c,h){ee(c,e,h),X(e,n),Xt(n,t[38]),o||(r=[ke(n,"input",s),ke(n,"paste",t[16]),ke(n,"blur",l),ke(n,"keydown",a),ke(e,"pointerdown",u),ke(e,"click",f),ke(e,"keydown",d)],o=!0)},p(c,h){t=c,h[0]&2&&n.value!==t[38]&&Xt(n,t[38]),h[0]&2&&i!==(i=t[41])&&v(e,"data-row-id",i),h[0]&6&&he(e,"selected-cell",t[2]&&t[2].rowId===t[41]&&t[2].colIndex===t[45]),h[0]&32794&&he(e,"highlight",t[4]&&t[3]&&t[3].colIndex===t[45]&&t[15](t[41],t[45]))},d(c){c&&C(e),o=!1,dt(r)}}}function Er(t){var f,d;let e,n,i,o,r,s;function l(){return t[23](t[41])}let a=Ke(((d=(f=t[1])==null?void 0:f.getRow)==null?void 0:d.call(f,t[41]))??[]),u=[];for(let c=0;c<a.length;c+=1)u[c]=pr(wr(t,a,c));return{c(){e=x("tr"),n=x("td"),i=x("span"),o=oe();for(let c=0;c<u.length;c+=1)u[c].c();this.h()},l(c){e=$(c,"TR",{});var h=q(e);n=$(h,"TD",{class:!0});var m=q(n);i=$(m,"SPAN",{class:!0,style:!0,role:!0,"aria-label":!0}),q(i).forEach(C),m.forEach(C),o=re(h);for(let b=0;b<u.length;b+=1)u[b].l(h);h.forEach(C),this.h()},h(){v(i,"class","mif-cross-light"),be(i,"cursor","pointer"),v(i,"role","button"),v(i,"aria-label","Delete row"),v(n,"class","svelte-1je47ti")},m(c,h){ee(c,e,h),X(e,n),X(n,i),X(e,o);for(let m=0;m<u.length;m+=1)u[m]&&u[m].m(e,null);r||(s=ke(i,"click",l),r=!0)},p(c,h){var m,b;if(t=c,h[0]&1699870){a=Ke(((b=(m=t[1])==null?void 0:m.getRow)==null?void 0:b.call(m,t[41]))??[]);let y;for(y=0;y<a.length;y+=1){const g=wr(t,a,y);u[y]?u[y].p(g,h):(u[y]=pr(g),u[y].c(),u[y].m(e,null))}for(;y<u.length;y+=1)u[y].d(1);u.length=a.length}},d(c){c&&C(e),Ft(u,c),r=!1,s()}}}function Sr(t){let e,n,i,o;function r(){t[30].call(n,t[39],t[40])}return{c(){e=x("td"),n=x("input"),this.h()},l(s){e=$(s,"TD",{class:!0});var l=q(e);n=$(l,"INPUT",{type:!0,class:!0}),l.forEach(C),this.h()},h(){v(n,"type","text"),v(n,"class","metro-input svelte-1je47ti"),v(e,"class","svelte-1je47ti")},m(s,l){ee(s,e,l),X(e,n),Xt(n,t[38]),i||(o=[ke(n,"input",r),ke(n,"paste",t[16]),ke(n,"blur",t[17])],i=!0)},p(s,l){t=s,l[0]&64&&n.value!==t[38]&&Xt(n,t[38])},d(s){s&&C(e),i=!1,dt(o)}}}function N1(t){var w,E,T,H;let e,n,i,o,r,s,l,a,u,f,d='<span class="mif-chevron-thin-right"></span>',c,h=Ke(((E=(w=t[1])==null?void 0:w.getHeader)==null?void 0:E.call(w))??[]),m=[];for(let S=0;S<h.length;S+=1)m[S]=kr(vr(t,h,S));let b=Ke(((H=(T=t[1])==null?void 0:T.getAllIds)==null?void 0:H.call(T))??[]),y=[];for(let S=0;S<b.length;S+=1)y[S]=Er(br(t,b,S));let g=Ke(t[6]),_=[];for(let S=0;S<g.length;S+=1)_[S]=Sr(yr(t,g,S));return{c(){e=x("table"),n=x("thead"),i=x("tr"),o=x("th"),r=oe();for(let S=0;S<m.length;S+=1)m[S].c();s=oe(),l=x("tbody");for(let S=0;S<y.length;S+=1)y[S].c();a=oe(),u=x("tr"),f=x("td"),f.innerHTML=d,c=oe();for(let S=0;S<_.length;S+=1)_[S].c();this.h()},l(S){e=$(S,"TABLE",{class:!0});var V=q(e);n=$(V,"THEAD",{});var I=q(n);i=$(I,"TR",{});var K=q(i);o=$(K,"TH",{}),q(o).forEach(C),r=re(K);for(let O=0;O<m.length;O+=1)m[O].l(K);K.forEach(C),I.forEach(C),s=re(V),l=$(V,"TBODY",{});var U=q(l);for(let O=0;O<y.length;O+=1)y[O].l(U);a=re(U),u=$(U,"TR",{});var Z=q(u);f=$(Z,"TD",{class:!0,"data-svelte-h":!0}),At(f)!=="svelte-qk2oid"&&(f.innerHTML=d),c=re(Z);for(let O=0;O<_.length;O+=1)_[O].l(Z);Z.forEach(C),U.forEach(C),V.forEach(C),this.h()},h(){v(f,"class","svelte-1je47ti"),v(e,"class","table subcompact table-border cell-border striped")},m(S,V){ee(S,e,V),X(e,n),X(n,i),X(i,o),X(i,r);for(let I=0;I<m.length;I+=1)m[I]&&m[I].m(i,null);X(e,s),X(e,l);for(let I=0;I<y.length;I+=1)y[I]&&y[I].m(l,null);X(l,a),X(l,u),X(u,f),X(u,c);for(let I=0;I<_.length;I+=1)_[I]&&_[I].m(u,null);t[31](e)},p(S,V){var I,K,U,Z;if(V[0]&2){h=Ke(((K=(I=S[1])==null?void 0:I.getHeader)==null?void 0:K.call(I))??[]);let O;for(O=0;O<h.length;O+=1){const k=vr(S,h,O);m[O]?m[O].p(k,V):(m[O]=kr(k),m[O].c(),m[O].m(i,null))}for(;O<m.length;O+=1)m[O].d(1);m.length=h.length}if(V[0]&1962014){b=Ke(((Z=(U=S[1])==null?void 0:U.getAllIds)==null?void 0:Z.call(U))??[]);let O;for(O=0;O<b.length;O+=1){const k=br(S,b,O);y[O]?y[O].p(k,V):(y[O]=Er(k),y[O].c(),y[O].m(l,a))}for(;O<y.length;O+=1)y[O].d(1);y.length=b.length}if(V[0]&196672){g=Ke(S[6]);let O;for(O=0;O<g.length;O+=1){const k=yr(S,g,O);_[O]?_[O].p(k,V):(_[O]=Sr(k),_[O].c(),_[O].m(u,null))}for(;O<_.length;O+=1)_[O].d(1);_.length=g.length}},i:Se,o:Se,d(S){S&&C(e),Ft(m,S),Ft(y,S),Ft(_,S),t[31](null)}}}function T1(t,e,n){let i,o,r,s,l,a,{name:u}=e,f=Ei(u);te(t,f,N=>n(1,i=N));let d=le([]);te(t,d,N=>n(6,o=N)),d.reset=()=>d.update(N=>{var Y;return(Y=i==null?void 0:i.getHeader())!=null&&Y.length?Array(i.getHeader().length).fill(""):[]});let c=le(null);te(t,c,N=>n(3,l=N));let h=le(null);te(t,h,N=>n(22,s=N));let m=le(!1);te(t,m,N=>n(4,a=N));let b,y=le(null);te(t,y,N=>n(2,r=N)),Sn(()=>{const N=W=>{if(!a||!l)return;const j=document.elementFromPoint(W.clientX,W.clientY);if(!j)return;const z=j.closest("td.data-cell");if(!z)return;const Q=z.getAttribute("data-row-id"),ne=parseInt(z.getAttribute("data-col-index"));if(ne===l.colIndex){h.set({rowId:Q,colIndex:ne});const A=document.querySelectorAll(`td.data-cell[data-col-index="${ne}"]`),se=i.getAllIds(),ge=se.indexOf(l.rowId),ce=se.indexOf(Q);if(ge!==-1&&ce!==-1){const[ye,pe]=ge<ce?[ge,ce]:[ce,ge];A.forEach(Ne=>{const G=Ne.getAttribute("data-row-id"),Te=se.indexOf(G);Te>=ye&&Te<=pe?Ne.classList.add("highlight"):Ne.classList.remove("highlight")})}}},Y=W=>{if(a&&l&&s){const j=document.elementFromPoint(W.clientX,W.clientY);if(j){const z=j.closest("td.data-cell");if(z){const Q=z.getAttribute("data-row-id"),ne=parseInt(z.getAttribute("data-col-index"));if(ne===l.colIndex){const A=i.getRow(l.rowId);if(A){const se=A[ne];g(l.rowId,Q,ne,se)}}}}}document.querySelectorAll("td.data-cell").forEach(j=>{j.classList.remove("highlight")}),m.set(!1),c.set(null),h.set(null),y.set(null)};return document.addEventListener("pointermove",N),document.addEventListener("pointerup",Y),()=>{document.removeEventListener("pointermove",N),document.removeEventListener("pointerup",Y)}});function g(N,Y,W,j){const z=i.getAllIds(),Q=z.indexOf(N),ne=z.indexOf(Y);if(Q===-1||ne===-1)return;const[A,se]=Q<ne?[Q,ne]:[ne,Q],ge=new io(i.getHeader());z.forEach((ce,ye)=>{const pe=i.getRow(ce);if(pe){const Ne=[...pe];ye>=A&&ye<=se&&(Ne[W]=j),ge.add_or_replace_row(ce,Ne)}}),f.set(ge)}function _(N,Y,W){const j=W.currentTarget.getBoundingClientRect(),z=W.clientX-j.left,Q=W.clientY-j.top;z>j.width-8&&Q>j.height-8&&(m.set(!0),c.set({rowId:N,colIndex:Y}),h.set({rowId:N,colIndex:Y}),y.set({rowId:N,colIndex:Y}),W.preventDefault(),W.stopPropagation())}function w(N,Y,W){const j=W.currentTarget.getBoundingClientRect(),z=W.clientX-j.left,Q=W.clientY-j.top;z>j.width-8&&Q>j.height-8||(y.set({rowId:N,colIndex:Y}),W.stopPropagation())}function E(){setTimeout(()=>{var N;!a&&((N=document.activeElement)==null?void 0:N.tagName)!=="INPUT"&&y.set(null)},0)}function T(N,Y){if(!a||!l||!s||l.colIndex!==Y)return!1;const W=i.getAllIds(),j=W.indexOf(l.rowId),z=W.indexOf(N),Q=W.indexOf(s.rowId);if(j===-1||z===-1||Q===-1)return!1;const[ne,A]=j<Q?[j,Q]:[Q,j];return z>=ne&&z<=A}function H(N){N.preventDefault();let W=(N.clipboardData||window.clipboardData).getData("text").split(/\n|\r/).filter(j=>j.length).map(j=>j.split(/\t/));f.update(j=>{let z=new io(W[0]);return W.slice(1).forEach(Q=>{z.add_or_replace_row(Q[0],Q)}),z}),d.reset()}function S(){o.join("")!==""&&(f.update(N=>(N.add_or_replace_row(o[0],o),N)),d.reset())}function V(N){f.update(Y=>(Y.delete_row(N),Y))}function I(N){const Y=i.getRow(N);f.update(W=>(W.add_or_replace_row(N,Y),W))}function K(N,Y,W){if(W.key==="Enter"||W.key==="ArrowDown"||W.key==="ArrowUp"){W.preventDefault();const j=i.getAllIds(),z=j.indexOf(N);let Q;if(W.key==="ArrowUp"?Q=z>0?z-1:z:Q=z<j.length-1?z+1:z,Q!==z){const ne=j[Q],A=document.querySelector(`td.data-cell[data-row-id="${ne}"][data-col-index="${Y}"] input`);A&&(y.set({rowId:ne,colIndex:Y}),A.focus())}}}const U=N=>V(N);function Z(N,Y){N[Y]=this.value}const O=N=>{I(N),E()},k=(N,Y,W)=>K(N,Y,W),B=(N,Y,W)=>_(N,Y,W),p=(N,Y,W)=>w(N,Y,W),P=(N,Y,W)=>K(N,Y,W);function R(N,Y){N[Y]=this.value,d.set(o)}function L(N){Cn[N?"unshift":"push"](()=>{b=N,n(5,b)})}return t.$$set=N=>{"name"in N&&n(21,u=N.name)},t.$$.update=()=>{t.$$.dirty[0]&4,t.$$.dirty[0]&8,t.$$.dirty[0]&4194304,t.$$.dirty[0]&16,t.$$.dirty[0]&3&&i!=null&&i.getHeader()&&d.set(Array(i.getHeader().length).fill(""))},[d,i,r,l,a,b,o,f,c,h,m,y,_,w,E,T,H,S,V,I,K,u,s,U,Z,O,k,B,p,P,R,L]}class Cr extends me{constructor(e){super(),_e(this,e,T1,N1,ve,{name:21},null,[-1,-1])}}function Mr(t,e,n){const i=t.slice();return i[14]=e[n],i[15]=e,i[16]=n,i}function Pr(t,e,n){const i=t.slice();i[17]=e[n];const o=O1(i[17]);return i[18]=o,i}function Nr(t){let e,n,i,o,r,s,l,a,u=t[14].isEditing?"Save":"Edit",f,d,c,h='<span class="mif-bin"></span>',m,b,y,g,_;function w(I,K){if(I[14].isEditing)return I1;if(I[14].content)return D1}let E=w(t),T=E&&E(t),H=t[14].tool_calls&&t[14].tool_calls.length>0&&Tr(t);function S(){return t[9](t[16])}function V(){return t[10](t[16])}return{c(){e=x("div"),n=x("div"),T&&T.c(),i=oe(),H&&H.c(),o=oe(),r=x("div"),s=x("button"),l=x("span"),a=oe(),f=Xe(u),d=oe(),c=x("button"),c.innerHTML=h,b=oe(),this.h()},l(I){e=$(I,"DIV",{class:!0});var K=q(e);n=$(K,"DIV",{class:!0});var U=q(n);T&&T.l(U),i=re(U),H&&H.l(U),o=re(U),r=$(U,"DIV",{class:!0});var Z=q(r);s=$(Z,"BUTTON",{class:!0});var O=q(s);l=$(O,"SPAN",{class:!0}),q(l).forEach(C),a=re(O),f=Ye(O,u),O.forEach(C),d=re(Z),c=$(Z,"BUTTON",{class:!0,"data-svelte-h":!0}),At(c)!=="svelte-vji6vz"&&(c.innerHTML=h),Z.forEach(C),U.forEach(C),b=re(K),K.forEach(C),this.h()},h(){v(l,"class","mif-pencil"),v(s,"class","button small"),v(c,"class","button small alert"),v(r,"class","message-actions svelte-1e67x8p"),v(n,"class",m="message-content "+(t[14].role==="user"?"bg-darkBlue fg-white":"bg-lightGray")+" svelte-1e67x8p"),v(e,"class",y="message "+t[14].role+" svelte-1e67x8p")},m(I,K){ee(I,e,K),X(e,n),T&&T.m(n,null),X(n,i),H&&H.m(n,null),X(n,o),X(n,r),X(r,s),X(s,l),X(s,a),X(s,f),X(r,d),X(r,c),X(e,b),g||(_=[ke(s,"click",S),ke(c,"click",V)],g=!0)},p(I,K){t=I,E===(E=w(t))&&T?T.p(t,K):(T&&T.d(1),T=E&&E(t),T&&(T.c(),T.m(n,i))),t[14].tool_calls&&t[14].tool_calls.length>0?H?H.p(t,K):(H=Tr(t),H.c(),H.m(n,o)):H&&(H.d(1),H=null),K&1&&u!==(u=t[14].isEditing?"Save":"Edit")&&Be(f,u),K&1&&m!==(m="message-content "+(t[14].role==="user"?"bg-darkBlue fg-white":"bg-lightGray")+" svelte-1e67x8p")&&v(n,"class",m),K&1&&y!==(y="message "+t[14].role+" svelte-1e67x8p")&&v(e,"class",y)},d(I){I&&C(e),T&&T.d(),H&&H.d(),g=!1,dt(_)}}}function D1(t){let e,n=t[14].content+"",i;return{c(){e=x("div"),i=Xe(n)},l(o){e=$(o,"DIV",{});var r=q(e);i=Ye(r,n),r.forEach(C)},m(o,r){ee(o,e,r),X(e,i)},p(o,r){r&1&&n!==(n=o[14].content+"")&&Be(i,n)},d(o){o&&C(e)}}}function I1(t){let e,n,i;function o(){t[8].call(e,t[15],t[16])}return{c(){e=x("textarea"),this.h()},l(r){e=$(r,"TEXTAREA",{"data-role":!0,class:!0}),q(e).forEach(C),this.h()},h(){v(e,"data-role","textarea"),v(e,"class","w-100")},m(r,s){ee(r,e,s),Xt(e,t[14].content),n||(i=ke(e,"input",o),n=!0)},p(r,s){t=r,s&1&&Xt(e,t[14].content)},d(r){r&&C(e),n=!1,i()}}}function Tr(t){let e,n,i="Tool Calls:",o,r=Ke(t[14].tool_calls),s=[];for(let l=0;l<r.length;l+=1)s[l]=Dr(Pr(t,r,l));return{c(){e=x("div"),n=x("strong"),n.textContent=i,o=oe();for(let l=0;l<s.length;l+=1)s[l].c();this.h()},l(l){e=$(l,"DIV",{class:!0});var a=q(e);n=$(a,"STRONG",{"data-svelte-h":!0}),At(n)!=="svelte-lg2hf7"&&(n.textContent=i),o=re(a);for(let u=0;u<s.length;u+=1)s[u].l(a);a.forEach(C),this.h()},h(){v(e,"class","tool-usage svelte-1e67x8p")},m(l,a){ee(l,e,a),X(e,n),X(e,o);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(e,null)},p(l,a){if(a&1){r=Ke(l[14].tool_calls);let u;for(u=0;u<r.length;u+=1){const f=Pr(l,r,u);s[u]?s[u].p(f,a):(s[u]=Dr(f),s[u].c(),s[u].m(e,null))}for(;u<s.length;u+=1)s[u].d(1);s.length=r.length}},d(l){l&&C(e),Ft(s,l)}}}function Dr(t){let e,n,i=t[18].name+"",o,r,s,l=t[18].args+"",a,u;return{c(){e=x("div"),n=x("span"),o=Xe(i),r=oe(),s=x("div"),a=Xe(l),u=oe(),this.h()},l(f){e=$(f,"DIV",{class:!0});var d=q(e);n=$(d,"SPAN",{class:!0});var c=q(n);o=Ye(c,i),c.forEach(C),r=re(d),s=$(d,"DIV",{class:!0});var h=q(s);a=Ye(h,l),h.forEach(C),u=re(d),d.forEach(C),this.h()},h(){v(n,"class","tool-name svelte-1e67x8p"),v(s,"class","tool-args"),v(e,"class","tool-call svelte-1e67x8p")},m(f,d){ee(f,e,d),X(e,n),X(n,o),X(e,r),X(e,s),X(s,a),X(e,u)},p(f,d){d&1&&i!==(i=f[18].name+"")&&Be(o,i),d&1&&l!==(l=f[18].args+"")&&Be(a,l)},d(f){f&&C(e)}}}function Ir(t){let e,n=t[14].role!=="developer"&&t[14].role!=="tool"&&Nr(t);return{c(){n&&n.c(),e=He()},l(i){n&&n.l(i),e=He()},m(i,o){n&&n.m(i,o),ee(i,e,o)},p(i,o){i[14].role!=="developer"&&i[14].role!=="tool"?n?n.p(i,o):(n=Nr(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(i){i&&C(e),n&&n.d(i)}}}function z1(t){let e,n,i,o,r,s,l,a,u,f,d,c,h,m,b,y,g=Ke(t[0]),_=[];for(let w=0;w<g.length;w+=1)_[w]=Ir(Mr(t,g,w));return{c(){e=x("div");for(let w=0;w<_.length;w+=1)_[w].c();n=oe(),i=x("div"),o=x("form"),r=x("input"),l=oe(),a=x("button"),u=x("span"),d=oe(),c=x("button"),h=x("span"),this.h()},l(w){e=$(w,"DIV",{class:!0});var E=q(e);for(let I=0;I<_.length;I+=1)_[I].l(E);E.forEach(C),n=re(w),i=$(w,"DIV",{class:!0});var T=q(i);o=$(T,"FORM",{class:!0});var H=q(o);r=$(H,"INPUT",{type:!0,placeholder:!0,"data-role":!0,class:!0}),l=re(H),a=$(H,"BUTTON",{type:!0,class:!0});var S=q(a);u=$(S,"SPAN",{class:!0}),q(u).forEach(C),S.forEach(C),d=re(H),c=$(H,"BUTTON",{type:!0,class:!0});var V=q(c);h=$(V,"SPAN",{class:!0}),q(h).forEach(C),V.forEach(C),H.forEach(C),T.forEach(C),this.h()},h(){v(e,"class","chat-container svelte-1e67x8p"),v(r,"type","text"),v(r,"placeholder","Type your message..."),v(r,"data-role","input"),r.disabled=s=t[3].isThinking||t[3].isRecording||t[3].isSpeaking,v(r,"class","svelte-1e67x8p"),v(u,"class","mif-space-shuttle"),v(a,"type","submit"),v(a,"class","button primary send-button svelte-1e67x8p"),a.disabled=f=t[3].isThinking||t[3].isRecording||t[3].isSpeaking,v(h,"class","mif-bin"),v(c,"type","button"),v(c,"class","button alert clear-button svelte-1e67x8p"),c.disabled=m=t[3].isThinking||t[3].isRecording||t[3].isSpeaking,v(o,"class","input-form svelte-1e67x8p"),v(i,"class","input-container svelte-1e67x8p")},m(w,E){ee(w,e,E);for(let T=0;T<_.length;T+=1)_[T]&&_[T].m(e,null);t[11](e),ee(w,n,E),ee(w,i,E),X(i,o),X(o,r),Xt(r,t[2]),X(o,l),X(o,a),X(a,u),X(o,d),X(o,c),X(c,h),b||(y=[ke(r,"input",t[12]),ke(c,"click",t[6]),ke(o,"submit",t[7])],b=!0)},p(w,[E]){if(E&49){g=Ke(w[0]);let T;for(T=0;T<g.length;T+=1){const H=Mr(w,g,T);_[T]?_[T].p(H,E):(_[T]=Ir(H),_[T].c(),_[T].m(e,null))}for(;T<_.length;T+=1)_[T].d(1);_.length=g.length}E&8&&s!==(s=w[3].isThinking||w[3].isRecording||w[3].isSpeaking)&&(r.disabled=s),E&4&&r.value!==w[2]&&Xt(r,w[2]),E&8&&f!==(f=w[3].isThinking||w[3].isRecording||w[3].isSpeaking)&&(a.disabled=f),E&8&&m!==(m=w[3].isThinking||w[3].isRecording||w[3].isSpeaking)&&(c.disabled=m)},i:Se,o:Se,d(w){w&&(C(e),C(n),C(i)),Ft(_,w),t[11](null),b=!1,dt(y)}}}function O1(t){if(!t.function)return"";const e=JSON.parse(t.function.arguments||"{}");return{name:t.function.name,args:JSON.stringify(e,null,2)}}function A1(t,e,n){let i,o;te(t,Bt,g=>n(0,i=g)),te(t,oo,g=>n(3,o=g));let r,s="";function l(g){Rt(Bt,i=i.filter((_,w)=>w!==g),i)}function a(g){Rt(Bt,i[g].isEditing=!i[g].isEditing,i),Rt(Bt,i=[...i],i)}function u(){Bt.reset()}function f(){r&&n(1,r.scrollTop=r.scrollHeight,r)}function d(g){g.preventDefault(),s.trim()&&(Rt(Bt,i=[...i,{role:"user",content:s}],i),n(2,s=""),oo.handleTextInput())}function c(g,_){g[_].content=this.value,Bt.set(i)}const h=g=>a(g),m=g=>l(g);function b(g){Cn[g?"unshift":"push"](()=>{r=g,n(1,r)})}function y(){s=this.value,n(2,s)}return t.$$.update=()=>{t.$$.dirty&1&&i&&setTimeout(f,0)},[i,r,s,o,l,a,u,d,c,h,m,b,y]}class H1 extends me{constructor(e){super(),_e(this,e,A1,z1,ve,{})}}function zr(t,e,n){const i=t.slice();return i[9]=e[n],i}function V1(t){let e,n=`<span class="mif-checkmark fg-green mr-2"></span>
                No suggestions at this time - your project planning looks good!`;return{c(){e=x("div"),e.innerHTML=n,this.h()},l(i){e=$(i,"DIV",{class:!0,"data-svelte-h":!0}),At(e)!=="svelte-8agedn"&&(e.innerHTML=n),this.h()},h(){v(e,"class","text-muted")},m(i,o){ee(i,e,o)},p:Se,d(i){i&&C(e)}}}function R1(t){let e,n=Ke(t[0]),i=[];for(let o=0;o<n.length;o+=1)i[o]=Or(zr(t,n,o));return{c(){e=x("ul");for(let o=0;o<i.length;o+=1)i[o].c();this.h()},l(o){e=$(o,"UL",{class:!0});var r=q(e);for(let s=0;s<i.length;s+=1)i[s].l(r);r.forEach(C),this.h()},h(){v(e,"class","mt-0 mb-0")},m(o,r){ee(o,e,r);for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(e,null)},p(o,r){if(r&1){n=Ke(o[0]);let s;for(s=0;s<n.length;s+=1){const l=zr(o,n,s);i[s]?i[s].p(l,r):(i[s]=Or(l),i[s].c(),i[s].m(e,null))}for(;s<i.length;s+=1)i[s].d(1);i.length=n.length}},d(o){o&&C(e),Ft(i,o)}}}function Or(t){let e,n,i,o=t[9].text+"",r,s,l,a=new Date(t[9].timestamp).toLocaleString()+"",u,f;return{c(){e=x("li"),n=x("span"),i=oe(),r=Xe(o),s=oe(),l=x("small"),u=Xe(a),f=oe(),this.h()},l(d){e=$(d,"LI",{class:!0});var c=q(e);n=$(c,"SPAN",{class:!0}),q(n).forEach(C),i=re(c),r=Ye(c,o),s=re(c),l=$(c,"SMALL",{class:!0});var h=q(l);u=Ye(h,a),h.forEach(C),f=re(c),c.forEach(C),this.h()},h(){v(n,"class","mif-lightbulb fg-amber mr-2"),v(l,"class","text-muted ml-2"),v(e,"class","mt-1")},m(d,c){ee(d,e,c),X(e,n),X(e,i),X(e,r),X(e,s),X(e,l),X(l,u),X(e,f)},p(d,c){c&1&&o!==(o=d[9].text+"")&&Be(r,o),c&1&&a!==(a=new Date(d[9].timestamp).toLocaleString()+"")&&Be(u,a)},d(d){d&&C(e)}}}function L1(t){let e,n,i="AI Suggestions",o,r;function s(u,f){return u[0].length>0?R1:V1}let l=s(t),a=l(t);return{c(){e=x("div"),n=x("div"),n.textContent=i,o=oe(),r=x("div"),a.c(),this.h()},l(u){e=$(u,"DIV",{class:!0});var f=q(e);n=$(f,"DIV",{class:!0,"data-svelte-h":!0}),At(n)!=="svelte-r0c7jt"&&(n.textContent=i),o=re(f),r=$(f,"DIV",{class:!0});var d=q(r);a.l(d),d.forEach(C),f.forEach(C),this.h()},h(){v(n,"class","text-leader"),v(r,"class","border bd-default p-2 mt-2"),v(e,"class","p-2")},m(u,f){ee(u,e,f),X(e,n),X(e,o),X(e,r),a.m(r,null)},p(u,[f]){l===(l=s(u))&&a?a.p(u,f):(a.d(1),a=l(u),a&&(a.c(),a.m(r,null)))},i:Se,o:Se,d(u){u&&C(e),a.d()}}}function X1(t,e,n){let i,o,r,s,l;te(t,Vr,d=>n(4,i=d)),te(t,bs,d=>n(7,s=d)),te(t,ys,d=>n(0,l=d));const a=Ei("tasks");te(t,a,d=>n(6,r=d));const u=Ei("resources");te(t,u,d=>n(5,o=d));function f(){const d=[],c=s;if(c!=null&&c.projectName||d.push("Define a project name in the Project Charter"),(!(c!=null&&c.startDate)||!(c!=null&&c.endDate))&&d.push("Set project start and end dates in the Project Charter"),!r||r.toJSON().length<=1)d.push("Start by adding some initial tasks to your project");else{const h=r.toJSON().slice(1);h.filter(y=>!y[6]).length>0&&d.push("Review tasks without dependencies to ensure proper sequencing"),h.filter(y=>!y[5]).length>0&&d.push("Assign resources to tasks that currently have none")}return(!o||o.toJSON().length<=1)&&d.push("Add resource availability information to enable proper resource planning"),i!=null&&i.length||d.push("Calculate the critical path to identify crucial project tasks"),d}return f(),[l,a,u]}class Y1 extends me{constructor(e){super(),_e(this,e,X1,L1,ve,{})}}function B1(t){let e,n,i,o='<li><a href="#_target_1">Tasks</a></li> <li><a href="#_target_2">Resources</a></li> <li><a href="#_target_3">Instructions</a></li> <li><a href="#_target_4">Suggestions</a></li>',r,s,l,a,u,f,d,c,h,m,b,y,g,_,w,E,T;return a=new Cr({props:{name:"tasks"}}),d=new Cr({props:{name:"resources"}}),m=new H1({}),g=new Y1({}),E=new P1({}),{c(){e=x("div"),n=x("div"),i=x("ul"),i.innerHTML=o,r=oe(),s=x("div"),l=x("div"),ae(a.$$.fragment),u=oe(),f=x("div"),ae(d.$$.fragment),c=oe(),h=x("div"),ae(m.$$.fragment),b=oe(),y=x("div"),ae(g.$$.fragment),_=oe(),w=x("div"),ae(E.$$.fragment),this.h()},l(H){e=$(H,"DIV",{"data-role":!0,class:!0,"data-split-sizes":!0});var S=q(e);n=$(S,"DIV",{class:!0});var V=q(n);i=$(V,"UL",{"data-role":!0,"data-expand":!0,"data-svelte-h":!0}),At(i)!=="svelte-13li787"&&(i.innerHTML=o),r=re(V),s=$(V,"DIV",{class:!0});var I=q(s);l=$(I,"DIV",{id:!0});var K=q(l);de(a.$$.fragment,K),K.forEach(C),u=re(I),f=$(I,"DIV",{id:!0});var U=q(f);de(d.$$.fragment,U),U.forEach(C),c=re(I),h=$(I,"DIV",{id:!0});var Z=q(h);de(m.$$.fragment,Z),Z.forEach(C),b=re(I),y=$(I,"DIV",{id:!0});var O=q(y);de(g.$$.fragment,O),O.forEach(C),I.forEach(C),V.forEach(C),_=re(S),w=$(S,"DIV",{class:!0});var k=q(w);de(E.$$.fragment,k),k.forEach(C),S.forEach(C),this.h()},h(){v(i,"data-role","tabs"),v(i,"data-expand","true"),v(l,"id","_target_1"),v(f,"id","_target_2"),v(h,"id","_target_3"),v(y,"id","_target_4"),v(s,"class","border bd-default no-border-top p-2 scrollable svelte-1bqzv3n"),v(n,"class",""),v(w,"class","d-flex flex-justify-center flex-align-center"),v(e,"data-role","splitter"),v(e,"class","h-100"),v(e,"data-split-sizes","30, 70")},m(H,S){ee(H,e,S),X(e,n),X(n,i),X(n,r),X(n,s),X(s,l),ue(a,l,null),X(s,u),X(s,f),ue(d,f,null),X(s,c),X(s,h),ue(m,h,null),X(s,b),X(s,y),ue(g,y,null),X(e,_),X(e,w),ue(E,w,null),T=!0},p:Se,i(H){T||(F(a.$$.fragment,H),F(d.$$.fragment,H),F(m.$$.fragment,H),F(g.$$.fragment,H),F(E.$$.fragment,H),T=!0)},o(H){J(a.$$.fragment,H),J(d.$$.fragment,H),J(m.$$.fragment,H),J(g.$$.fragment,H),J(E.$$.fragment,H),T=!1},d(H){H&&C(e),fe(a),fe(d),fe(m),fe(g),fe(E)}}}class Q1 extends me{constructor(e){super(),_e(this,e,null,B1,ve,{})}}export{Q1 as component};
