import{s as be,C as nt,f as de,g as he,h as x,d as N,j as S,D as ae,i as Q,v as He,E as it,F as ot,G as rt,y as Vt,I as An,z as G,a as ke,l as je,c as ve,m as xe,n as $e,J as Ye,K as Ne,L as yt,M as et,N as We,O as J,k as fe,P as Te,e as Xe,Q as Oe,R as Vn,o as jn,A as Xn,S as xn,p as Oi,T as cr,U as dr,q as Yn,V as Ce,r as $,w as Me,W as xt,B as bi,X as Ll,Y as Bl,Z as Wl,_ as Kl,$ as ji,H as xi}from"../chunks/scheduler.427c93e9.js";import{S as ge,i as me,a as V,t as L,b as ie,d as se,m as oe,e as re,g as Ke,c as Fe}from"../chunks/index.d4e4d1b7.js";import{c as Fl}from"../chunks/criticalPath.store.f4604709.js";import{a as hr,s as Zl,b as ql,c as Gl}from"../chunks/xyflow.store.63219a7c.js";import{w as ne,r as ht,d as Ut}from"../chunks/index.113f7b86.js";import{e as $t,u as Ii,o as Hi}from"../chunks/each.5e3737eb.js";import{T as Ul}from"../chunks/table-form.e4655797.js";const Jl=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function At(t,e){const n={},i={},o={$$scope:1};let r=t.length;for(;r--;){const s=t[r],l=e[r];if(l){for(const a in s)a in l||(i[a]=1);for(const a in l)o[a]||(n[a]=l[a],o[a]=1);t[r]=l}else for(const a in s)o[a]=1}for(const s in i)s in n||(n[s]=void 0);return n}function dn(t){return typeof t=="object"&&t!==null?t:{}}function Ve(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,i;n<t.length;n++)(i=Ve(t[n]))!==""&&(e+=(e&&" ")+i);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var Ql={value:()=>{}};function $n(){for(var t=0,e=arguments.length,n={},i;t<e;++t){if(!(i=arguments[t]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new Tn(n)}function Tn(t){this._=t}function jl(t,e){return t.trim().split(/^|\s+/).map(function(n){var i="",o=n.indexOf(".");if(o>=0&&(i=n.slice(o+1),n=n.slice(0,o)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}Tn.prototype=$n.prototype={constructor:Tn,on:function(t,e){var n=this._,i=jl(t+"",n),o,r=-1,s=i.length;if(arguments.length<2){for(;++r<s;)if((o=(t=i[r]).type)&&(o=xl(n[o],t.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++r<s;)if(o=(t=i[r]).type)n[o]=$i(n[o],t.name,e);else if(e==null)for(o in n)n[o]=$i(n[o],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Tn(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var n=new Array(o),i=0,o,r;i<o;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],o=0,r=i.length;o<r;++o)i[o].value.apply(e,n)}};function xl(t,e){for(var n=0,i=t.length,o;n<i;++n)if((o=t[n]).name===e)return o.value}function $i(t,e,n){for(var i=0,o=t.length;i<o;++i)if(t[i].name===e){t[i]=Ql,t=t.slice(0,i).concat(t.slice(i+1));break}return n!=null&&t.push({name:e,value:n}),t}var wi="http://www.w3.org/1999/xhtml";const eo={svg:"http://www.w3.org/2000/svg",xhtml:wi,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ei(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),eo.hasOwnProperty(e)?{space:eo[e],local:t}:t}function $l(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===wi&&e.documentElement.namespaceURI===wi?e.createElement(t):e.createElementNS(n,t)}}function es(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function gr(t){var e=ei(t);return(e.local?es:$l)(e)}function ts(){}function Ai(t){return t==null?ts:function(){return this.querySelector(t)}}function ns(t){typeof t!="function"&&(t=Ai(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r=e[o],s=r.length,l=i[o]=new Array(s),a,u,f=0;f<s;++f)(a=r[f])&&(u=t.call(a,a.__data__,f,r))&&("__data__"in a&&(u.__data__=a.__data__),l[f]=u);return new at(i,this._parents)}function is(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function os(){return[]}function mr(t){return t==null?os:function(){return this.querySelectorAll(t)}}function rs(t){return function(){return is(t.apply(this,arguments))}}function ls(t){typeof t=="function"?t=rs(t):t=mr(t);for(var e=this._groups,n=e.length,i=[],o=[],r=0;r<n;++r)for(var s=e[r],l=s.length,a,u=0;u<l;++u)(a=s[u])&&(i.push(t.call(a,a.__data__,u,s)),o.push(a));return new at(i,o)}function yr(t){return function(){return this.matches(t)}}function _r(t){return function(e){return e.matches(t)}}var ss=Array.prototype.find;function as(t){return function(){return ss.call(this.children,t)}}function us(){return this.firstElementChild}function fs(t){return this.select(t==null?us:as(typeof t=="function"?t:_r(t)))}var cs=Array.prototype.filter;function ds(){return Array.from(this.children)}function hs(t){return function(){return cs.call(this.children,t)}}function gs(t){return this.selectAll(t==null?ds:hs(typeof t=="function"?t:_r(t)))}function ms(t){typeof t!="function"&&(t=yr(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r=e[o],s=r.length,l=i[o]=[],a,u=0;u<s;++u)(a=r[u])&&t.call(a,a.__data__,u,r)&&l.push(a);return new at(i,this._parents)}function br(t){return new Array(t.length)}function ys(){return new at(this._enter||this._groups.map(br),this._parents)}function Rn(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Rn.prototype={constructor:Rn,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function _s(t){return function(){return t}}function bs(t,e,n,i,o,r){for(var s=0,l,a=e.length,u=r.length;s<u;++s)(l=e[s])?(l.__data__=r[s],i[s]=l):n[s]=new Rn(t,r[s]);for(;s<a;++s)(l=e[s])&&(o[s]=l)}function ws(t,e,n,i,o,r,s){var l,a,u=new Map,f=e.length,c=r.length,d=new Array(f),h;for(l=0;l<f;++l)(a=e[l])&&(d[l]=h=s.call(a,a.__data__,l,e)+"",u.has(h)?o[l]=a:u.set(h,a));for(l=0;l<c;++l)h=s.call(t,r[l],l,r)+"",(a=u.get(h))?(i[l]=a,a.__data__=r[l],u.delete(h)):n[l]=new Rn(t,r[l]);for(l=0;l<f;++l)(a=e[l])&&u.get(d[l])===a&&(o[l]=a)}function ks(t){return t.__data__}function vs(t,e){if(!arguments.length)return Array.from(this,ks);var n=e?ws:bs,i=this._parents,o=this._groups;typeof t!="function"&&(t=_s(t));for(var r=o.length,s=new Array(r),l=new Array(r),a=new Array(r),u=0;u<r;++u){var f=i[u],c=o[u],d=c.length,h=Es(t.call(f,f&&f.__data__,u,i)),m=h.length,y=l[u]=new Array(m),w=s[u]=new Array(m),g=a[u]=new Array(d);n(f,c,y,w,g,h,e);for(var v=0,k=0,E,H;v<m;++v)if(E=y[v]){for(v>=k&&(k=v+1);!(H=w[k])&&++k<m;);E._next=H||null}}return s=new at(s,i),s._enter=l,s._exit=a,s}function Es(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ss(){return new at(this._exit||this._groups.map(br),this._parents)}function ps(t,e,n){var i=this.enter(),o=this,r=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),e!=null&&(o=e(o),o&&(o=o.selection())),n==null?r.remove():n(r),i&&o?i.merge(o).order():o}function Cs(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,o=n.length,r=i.length,s=Math.min(o,r),l=new Array(o),a=0;a<s;++a)for(var u=n[a],f=i[a],c=u.length,d=l[a]=new Array(c),h,m=0;m<c;++m)(h=u[m]||f[m])&&(d[m]=h);for(;a<o;++a)l[a]=n[a];return new at(l,this._parents)}function Ms(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i=t[e],o=i.length-1,r=i[o],s;--o>=0;)(s=i[o])&&(r&&s.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(s,r),r=s);return this}function Ps(t){t||(t=Ns);function e(c,d){return c&&d?t(c.__data__,d.__data__):!c-!d}for(var n=this._groups,i=n.length,o=new Array(i),r=0;r<i;++r){for(var s=n[r],l=s.length,a=o[r]=new Array(l),u,f=0;f<l;++f)(u=s[f])&&(a[f]=u);a.sort(e)}return new at(o,this._parents).order()}function Ns(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function zs(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Ds(){return Array.from(this)}function Ts(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,r=i.length;o<r;++o){var s=i[o];if(s)return s}return null}function Os(){let t=0;for(const e of this)++t;return t}function Is(){return!this.node()}function Hs(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var o=e[n],r=0,s=o.length,l;r<s;++r)(l=o[r])&&t.call(l,l.__data__,r,o);return this}function As(t){return function(){this.removeAttribute(t)}}function Vs(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Xs(t,e){return function(){this.setAttribute(t,e)}}function Ys(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Rs(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Ls(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Bs(t,e){var n=ei(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((e==null?n.local?Vs:As:typeof e=="function"?n.local?Ls:Rs:n.local?Ys:Xs)(n,e))}function wr(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Ws(t){return function(){this.style.removeProperty(t)}}function Ks(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Fs(t,e,n){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function Zs(t,e,n){return arguments.length>1?this.each((e==null?Ws:typeof e=="function"?Fs:Ks)(t,e,n??"")):en(this.node(),t)}function en(t,e){return t.style.getPropertyValue(e)||wr(t).getComputedStyle(t,null).getPropertyValue(e)}function qs(t){return function(){delete this[t]}}function Gs(t,e){return function(){this[t]=e}}function Us(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Js(t,e){return arguments.length>1?this.each((e==null?qs:typeof e=="function"?Us:Gs)(t,e)):this.node()[t]}function kr(t){return t.trim().split(/^|\s+/)}function Vi(t){return t.classList||new vr(t)}function vr(t){this._node=t,this._names=kr(t.getAttribute("class")||"")}vr.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Er(t,e){for(var n=Vi(t),i=-1,o=e.length;++i<o;)n.add(e[i])}function Sr(t,e){for(var n=Vi(t),i=-1,o=e.length;++i<o;)n.remove(e[i])}function Qs(t){return function(){Er(this,t)}}function js(t){return function(){Sr(this,t)}}function xs(t,e){return function(){(e.apply(this,arguments)?Er:Sr)(this,t)}}function $s(t,e){var n=kr(t+"");if(arguments.length<2){for(var i=Vi(this.node()),o=-1,r=n.length;++o<r;)if(!i.contains(n[o]))return!1;return!0}return this.each((typeof e=="function"?xs:e?Qs:js)(n,e))}function ea(){this.textContent=""}function ta(t){return function(){this.textContent=t}}function na(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function ia(t){return arguments.length?this.each(t==null?ea:(typeof t=="function"?na:ta)(t)):this.node().textContent}function oa(){this.innerHTML=""}function ra(t){return function(){this.innerHTML=t}}function la(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function sa(t){return arguments.length?this.each(t==null?oa:(typeof t=="function"?la:ra)(t)):this.node().innerHTML}function aa(){this.nextSibling&&this.parentNode.appendChild(this)}function ua(){return this.each(aa)}function fa(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ca(){return this.each(fa)}function da(t){var e=typeof t=="function"?t:gr(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function ha(){return null}function ga(t,e){var n=typeof t=="function"?t:gr(t),i=e==null?ha:typeof e=="function"?e:Ai(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function ma(){var t=this.parentNode;t&&t.removeChild(this)}function ya(){return this.each(ma)}function _a(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ba(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function wa(t){return this.select(t?ba:_a)}function ka(t){return arguments.length?this.property("__data__",t):this.node().__data__}function va(t){return function(e){t.call(this,e,this.__data__)}}function Ea(t){return t.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{type:e,name:n}})}function Sa(t){return function(){var e=this.__on;if(e){for(var n=0,i=-1,o=e.length,r;n<o;++n)r=e[n],(!t.type||r.type===t.type)&&r.name===t.name?this.removeEventListener(r.type,r.listener,r.options):e[++i]=r;++i?e.length=i:delete this.__on}}}function pa(t,e,n){return function(){var i=this.__on,o,r=va(e);if(i){for(var s=0,l=i.length;s<l;++s)if((o=i[s]).type===t.type&&o.name===t.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=r,o.options=n),o.value=e;return}}this.addEventListener(t.type,r,n),o={type:t.type,name:t.name,value:e,listener:r,options:n},i?i.push(o):this.__on=[o]}}function Ca(t,e,n){var i=Ea(t+""),o,r=i.length,s;if(arguments.length<2){var l=this.node().__on;if(l){for(var a=0,u=l.length,f;a<u;++a)for(o=0,f=l[a];o<r;++o)if((s=i[o]).type===f.type&&s.name===f.name)return f.value}return}for(l=e?pa:Sa,o=0;o<r;++o)this.each(l(i[o],e,n));return this}function pr(t,e,n){var i=wr(t),o=i.CustomEvent;typeof o=="function"?o=new o(e,n):(o=i.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function Ma(t,e){return function(){return pr(this,t,e)}}function Pa(t,e){return function(){return pr(this,t,e.apply(this,arguments))}}function Na(t,e){return this.each((typeof e=="function"?Pa:Ma)(t,e))}function*za(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,r=i.length,s;o<r;++o)(s=i[o])&&(yield s)}var Cr=[null];function at(t,e){this._groups=t,this._parents=e}function wn(){return new at([[document.documentElement]],Cr)}function Da(){return this}at.prototype=wn.prototype={constructor:at,select:ns,selectAll:ls,selectChild:fs,selectChildren:gs,filter:ms,data:vs,enter:ys,exit:Ss,join:ps,merge:Cs,selection:Da,order:Ms,sort:Ps,call:zs,nodes:Ds,node:Ts,size:Os,empty:Is,each:Hs,attr:Bs,style:Zs,property:Js,classed:$s,text:ia,html:sa,raise:ua,lower:ca,append:da,insert:ga,remove:ya,clone:wa,datum:ka,on:Ca,dispatch:Na,[Symbol.iterator]:za};function gt(t){return typeof t=="string"?new at([[document.querySelector(t)]],[document.documentElement]):new at([[t]],Cr)}function Ta(t){let e;for(;e=t.sourceEvent;)t=e;return t}function kt(t,e){if(t=Ta(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}}return[t.pageX,t.pageY]}const Oa={passive:!1},hn={capture:!0,passive:!1};function fi(t){t.stopImmediatePropagation()}function Jt(t){t.preventDefault(),t.stopImmediatePropagation()}function Mr(t){var e=t.document.documentElement,n=gt(t).on("dragstart.drag",Jt,hn);"onselectstart"in e?n.on("selectstart.drag",Jt,hn):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Pr(t,e){var n=t.document.documentElement,i=gt(t).on("dragstart.drag",null);e&&(i.on("click.drag",Jt,hn),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const pn=t=>()=>t;function ki(t,{sourceEvent:e,subject:n,target:i,identifier:o,active:r,x:s,y:l,dx:a,dy:u,dispatch:f}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:r,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:f}})}ki.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function Ia(t){return!t.ctrlKey&&!t.button}function Ha(){return this.parentNode}function Aa(t,e){return e??{x:t.x,y:t.y}}function Va(){return navigator.maxTouchPoints||"ontouchstart"in this}function Xa(){var t=Ia,e=Ha,n=Aa,i=Va,o={},r=$n("start","drag","end"),s=0,l,a,u,f,c=0;function d(E){E.on("mousedown.drag",h).filter(i).on("touchstart.drag",w).on("touchmove.drag",g,Oa).on("touchend.drag touchcancel.drag",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(E,H){if(!(f||!t.call(this,E,H))){var K=k(this,e.call(this,E,H),E,H,"mouse");K&&(gt(E.view).on("mousemove.drag",m,hn).on("mouseup.drag",y,hn),Mr(E.view),fi(E),u=!1,l=E.clientX,a=E.clientY,K("start",E))}}function m(E){if(Jt(E),!u){var H=E.clientX-l,K=E.clientY-a;u=H*H+K*K>c}o.mouse("drag",E)}function y(E){gt(E.view).on("mousemove.drag mouseup.drag",null),Pr(E.view,u),Jt(E),o.mouse("end",E)}function w(E,H){if(t.call(this,E,H)){var K=E.changedTouches,P=e.call(this,E,H),X=K.length,A,B;for(A=0;A<X;++A)(B=k(this,P,E,H,K[A].identifier,K[A]))&&(fi(E),B("start",E,K[A]))}}function g(E){var H=E.changedTouches,K=H.length,P,X;for(P=0;P<K;++P)(X=o[H[P].identifier])&&(Jt(E),X("drag",E,H[P]))}function v(E){var H=E.changedTouches,K=H.length,P,X;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),P=0;P<K;++P)(X=o[H[P].identifier])&&(fi(E),X("end",E,H[P]))}function k(E,H,K,P,X,A){var B=r.copy(),q=kt(A||K,H),W,Z,b;if((b=n.call(E,new ki("beforestart",{sourceEvent:K,target:d,identifier:X,active:s,x:q[0],y:q[1],dx:0,dy:0,dispatch:B}),P))!=null)return W=b.x-q[0]||0,Z=b.y-q[1]||0,function I(_,C,D){var T=q,Y;switch(_){case"start":o[X]=I,Y=s++;break;case"end":delete o[X],--s;case"drag":q=kt(D||C,H),Y=s;break}B.call(_,E,new ki(_,{sourceEvent:C,subject:b,target:d,identifier:X,active:Y,x:q[0]+W,y:q[1]+Z,dx:q[0]-T[0],dy:q[1]-T[1],dispatch:B}),P)}}return d.filter=function(E){return arguments.length?(t=typeof E=="function"?E:pn(!!E),d):t},d.container=function(E){return arguments.length?(e=typeof E=="function"?E:pn(E),d):e},d.subject=function(E){return arguments.length?(n=typeof E=="function"?E:pn(E),d):n},d.touchable=function(E){return arguments.length?(i=typeof E=="function"?E:pn(!!E),d):i},d.on=function(){var E=r.on.apply(r,arguments);return E===r?d:E},d.clickDistance=function(E){return arguments.length?(c=(E=+E)*E,d):Math.sqrt(c)},d}function Xi(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Nr(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function kn(){}var gn=.7,Ln=1/gn,Qt="\\s*([+-]?\\d+)\\s*",mn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",vt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ya=/^#([0-9a-f]{3,8})$/,Ra=new RegExp(`^rgb\\(${Qt},${Qt},${Qt}\\)$`),La=new RegExp(`^rgb\\(${vt},${vt},${vt}\\)$`),Ba=new RegExp(`^rgba\\(${Qt},${Qt},${Qt},${mn}\\)$`),Wa=new RegExp(`^rgba\\(${vt},${vt},${vt},${mn}\\)$`),Ka=new RegExp(`^hsl\\(${mn},${vt},${vt}\\)$`),Fa=new RegExp(`^hsla\\(${mn},${vt},${vt},${mn}\\)$`),to={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Xi(kn,yn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:no,formatHex:no,formatHex8:Za,formatHsl:qa,formatRgb:io,toString:io});function no(){return this.rgb().formatHex()}function Za(){return this.rgb().formatHex8()}function qa(){return zr(this).formatHsl()}function io(){return this.rgb().formatRgb()}function yn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Ya.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?oo(e):n===3?new tt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Cn(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Cn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Ra.exec(t))?new tt(e[1],e[2],e[3],1):(e=La.exec(t))?new tt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Ba.exec(t))?Cn(e[1],e[2],e[3],e[4]):(e=Wa.exec(t))?Cn(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Ka.exec(t))?so(e[1],e[2]/100,e[3]/100,1):(e=Fa.exec(t))?so(e[1],e[2]/100,e[3]/100,e[4]):to.hasOwnProperty(t)?oo(to[t]):t==="transparent"?new tt(NaN,NaN,NaN,0):null}function oo(t){return new tt(t>>16&255,t>>8&255,t&255,1)}function Cn(t,e,n,i){return i<=0&&(t=e=n=NaN),new tt(t,e,n,i)}function Ga(t){return t instanceof kn||(t=yn(t)),t?(t=t.rgb(),new tt(t.r,t.g,t.b,t.opacity)):new tt}function vi(t,e,n,i){return arguments.length===1?Ga(t):new tt(t,e,n,i??1)}function tt(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}Xi(tt,vi,Nr(kn,{brighter(t){return t=t==null?Ln:Math.pow(Ln,t),new tt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?gn:Math.pow(gn,t),new tt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new tt(Rt(this.r),Rt(this.g),Rt(this.b),Bn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ro,formatHex:ro,formatHex8:Ua,formatRgb:lo,toString:lo}));function ro(){return`#${Xt(this.r)}${Xt(this.g)}${Xt(this.b)}`}function Ua(){return`#${Xt(this.r)}${Xt(this.g)}${Xt(this.b)}${Xt((isNaN(this.opacity)?1:this.opacity)*255)}`}function lo(){const t=Bn(this.opacity);return`${t===1?"rgb(":"rgba("}${Rt(this.r)}, ${Rt(this.g)}, ${Rt(this.b)}${t===1?")":`, ${t})`}`}function Bn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Rt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Xt(t){return t=Rt(t),(t<16?"0":"")+t.toString(16)}function so(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new mt(t,e,n,i)}function zr(t){if(t instanceof mt)return new mt(t.h,t.s,t.l,t.opacity);if(t instanceof kn||(t=yn(t)),!t)return new mt;if(t instanceof mt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,o=Math.min(e,n,i),r=Math.max(e,n,i),s=NaN,l=r-o,a=(r+o)/2;return l?(e===r?s=(n-i)/l+(n<i)*6:n===r?s=(i-e)/l+2:s=(e-n)/l+4,l/=a<.5?r+o:2-r-o,s*=60):l=a>0&&a<1?0:s,new mt(s,l,a,t.opacity)}function Ja(t,e,n,i){return arguments.length===1?zr(t):new mt(t,e,n,i??1)}function mt(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}Xi(mt,Ja,Nr(kn,{brighter(t){return t=t==null?Ln:Math.pow(Ln,t),new mt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?gn:Math.pow(gn,t),new mt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,o=2*n-i;return new tt(ci(t>=240?t-240:t+120,o,i),ci(t,o,i),ci(t<120?t+240:t-120,o,i),this.opacity)},clamp(){return new mt(ao(this.h),Mn(this.s),Mn(this.l),Bn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Bn(this.opacity);return`${t===1?"hsl(":"hsla("}${ao(this.h)}, ${Mn(this.s)*100}%, ${Mn(this.l)*100}%${t===1?")":`, ${t})`}`}}));function ao(t){return t=(t||0)%360,t<0?t+360:t}function Mn(t){return Math.max(0,Math.min(1,t||0))}function ci(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Dr=t=>()=>t;function Qa(t,e){return function(n){return t+n*e}}function ja(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function xa(t){return(t=+t)==1?Tr:function(e,n){return n-e?ja(e,n,t):Dr(isNaN(e)?n:e)}}function Tr(t,e){var n=e-t;return n?Qa(t,n):Dr(isNaN(t)?e:t)}const uo=function t(e){var n=xa(e);function i(o,r){var s=n((o=vi(o)).r,(r=vi(r)).r),l=n(o.g,r.g),a=n(o.b,r.b),u=Tr(o.opacity,r.opacity);return function(f){return o.r=s(f),o.g=l(f),o.b=a(f),o.opacity=u(f),o+""}}return i.gamma=t,i}(1);function It(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Ei=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,di=new RegExp(Ei.source,"g");function $a(t){return function(){return t}}function eu(t){return function(e){return t(e)+""}}function tu(t,e){var n=Ei.lastIndex=di.lastIndex=0,i,o,r,s=-1,l=[],a=[];for(t=t+"",e=e+"";(i=Ei.exec(t))&&(o=di.exec(e));)(r=o.index)>n&&(r=e.slice(n,r),l[s]?l[s]+=r:l[++s]=r),(i=i[0])===(o=o[0])?l[s]?l[s]+=o:l[++s]=o:(l[++s]=null,a.push({i:s,x:It(i,o)})),n=di.lastIndex;return n<e.length&&(r=e.slice(n),l[s]?l[s]+=r:l[++s]=r),l.length<2?a[0]?eu(a[0].x):$a(e):(e=a.length,function(u){for(var f=0,c;f<e;++f)l[(c=a[f]).i]=c.x(u);return l.join("")})}var fo=180/Math.PI,Si={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Or(t,e,n,i,o,r){var s,l,a;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(a=t*n+e*i)&&(n-=t*a,i-=e*a),(l=Math.sqrt(n*n+i*i))&&(n/=l,i/=l,a/=l),t*i<e*n&&(t=-t,e=-e,a=-a,s=-s),{translateX:o,translateY:r,rotate:Math.atan2(e,t)*fo,skewX:Math.atan(a)*fo,scaleX:s,scaleY:l}}var Pn;function nu(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Si:Or(e.a,e.b,e.c,e.d,e.e,e.f)}function iu(t){return t==null||(Pn||(Pn=document.createElementNS("http://www.w3.org/2000/svg","g")),Pn.setAttribute("transform",t),!(t=Pn.transform.baseVal.consolidate()))?Si:(t=t.matrix,Or(t.a,t.b,t.c,t.d,t.e,t.f))}function Ir(t,e,n,i){function o(u){return u.length?u.pop()+" ":""}function r(u,f,c,d,h,m){if(u!==c||f!==d){var y=h.push("translate(",null,e,null,n);m.push({i:y-4,x:It(u,c)},{i:y-2,x:It(f,d)})}else(c||d)&&h.push("translate("+c+e+d+n)}function s(u,f,c,d){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),d.push({i:c.push(o(c)+"rotate(",null,i)-2,x:It(u,f)})):f&&c.push(o(c)+"rotate("+f+i)}function l(u,f,c,d){u!==f?d.push({i:c.push(o(c)+"skewX(",null,i)-2,x:It(u,f)}):f&&c.push(o(c)+"skewX("+f+i)}function a(u,f,c,d,h,m){if(u!==c||f!==d){var y=h.push(o(h)+"scale(",null,",",null,")");m.push({i:y-4,x:It(u,c)},{i:y-2,x:It(f,d)})}else(c!==1||d!==1)&&h.push(o(h)+"scale("+c+","+d+")")}return function(u,f){var c=[],d=[];return u=t(u),f=t(f),r(u.translateX,u.translateY,f.translateX,f.translateY,c,d),s(u.rotate,f.rotate,c,d),l(u.skewX,f.skewX,c,d),a(u.scaleX,u.scaleY,f.scaleX,f.scaleY,c,d),u=f=null,function(h){for(var m=-1,y=d.length,w;++m<y;)c[(w=d[m]).i]=w.x(h);return c.join("")}}}var ou=Ir(nu,"px, ","px)","deg)"),ru=Ir(iu,", ",")",")"),lu=1e-12;function co(t){return((t=Math.exp(t))+1/t)/2}function su(t){return((t=Math.exp(t))-1/t)/2}function au(t){return((t=Math.exp(2*t))-1)/(t+1)}const uu=function t(e,n,i){function o(r,s){var l=r[0],a=r[1],u=r[2],f=s[0],c=s[1],d=s[2],h=f-l,m=c-a,y=h*h+m*m,w,g;if(y<lu)g=Math.log(d/u)/e,w=function(P){return[l+P*h,a+P*m,u*Math.exp(e*P*g)]};else{var v=Math.sqrt(y),k=(d*d-u*u+i*y)/(2*u*n*v),E=(d*d-u*u-i*y)/(2*d*n*v),H=Math.log(Math.sqrt(k*k+1)-k),K=Math.log(Math.sqrt(E*E+1)-E);g=(K-H)/e,w=function(P){var X=P*g,A=co(H),B=u/(n*v)*(A*au(e*X+H)-su(H));return[l+B*h,a+B*m,u*A/co(e*X+H)]}}return w.duration=g*1e3*e/Math.SQRT2,w}return o.rho=function(r){var s=Math.max(.001,+r),l=s*s,a=l*l;return t(s,l,a)},o}(Math.SQRT2,2,4);var tn=0,fn=0,an=0,Hr=1e3,Wn,cn,Kn=0,Lt=0,ti=0,_n=typeof performance=="object"&&performance.now?performance:Date,Ar=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Yi(){return Lt||(Ar(fu),Lt=_n.now()+ti)}function fu(){Lt=0}function Fn(){this._call=this._time=this._next=null}Fn.prototype=Vr.prototype={constructor:Fn,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Yi():+n)+(e==null?0:+e),!this._next&&cn!==this&&(cn?cn._next=this:Wn=this,cn=this),this._call=t,this._time=n,pi()},stop:function(){this._call&&(this._call=null,this._time=1/0,pi())}};function Vr(t,e,n){var i=new Fn;return i.restart(t,e,n),i}function cu(){Yi(),++tn;for(var t=Wn,e;t;)(e=Lt-t._time)>=0&&t._call.call(void 0,e),t=t._next;--tn}function ho(){Lt=(Kn=_n.now())+ti,tn=fn=0;try{cu()}finally{tn=0,hu(),Lt=0}}function du(){var t=_n.now(),e=t-Kn;e>Hr&&(ti-=e,Kn=t)}function hu(){for(var t,e=Wn,n,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Wn=n);cn=t,pi(i)}function pi(t){if(!tn){fn&&(fn=clearTimeout(fn));var e=t-Lt;e>24?(t<1/0&&(fn=setTimeout(ho,t-_n.now()-ti)),an&&(an=clearInterval(an))):(an||(Kn=_n.now(),an=setInterval(du,Hr)),tn=1,Ar(ho))}}function go(t,e,n){var i=new Fn;return e=e==null?0:+e,i.restart(o=>{i.stop(),t(o+e)},e,n),i}var gu=$n("start","end","cancel","interrupt"),mu=[],Xr=0,mo=1,Ci=2,On=3,yo=4,Mi=5,In=6;function ni(t,e,n,i,o,r){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;yu(t,n,{name:e,index:i,group:o,on:gu,tween:mu,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:Xr})}function Ri(t,e){var n=_t(t,e);if(n.state>Xr)throw new Error("too late; already scheduled");return n}function St(t,e){var n=_t(t,e);if(n.state>On)throw new Error("too late; already running");return n}function _t(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function yu(t,e,n){var i=t.__transition,o;i[e]=n,n.timer=Vr(r,0,n.time);function r(u){n.state=mo,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var f,c,d,h;if(n.state!==mo)return a();for(f in i)if(h=i[f],h.name===n.name){if(h.state===On)return go(s);h.state===yo?(h.state=In,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[f]):+f<e&&(h.state=In,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[f])}if(go(function(){n.state===On&&(n.state=yo,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=Ci,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Ci){for(n.state=On,o=new Array(d=n.tween.length),f=0,c=-1;f<d;++f)(h=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(o[++c]=h);o.length=c+1}}function l(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(a),n.state=Mi,1),c=-1,d=o.length;++c<d;)o[c].call(t,f);n.state===Mi&&(n.on.call("end",t,t.__data__,n.index,n.group),a())}function a(){n.state=In,n.timer.stop(),delete i[e];for(var u in i)return;delete t.__transition}}function Hn(t,e){var n=t.__transition,i,o,r=!0,s;if(n){e=e==null?null:e+"";for(s in n){if((i=n[s]).name!==e){r=!1;continue}o=i.state>Ci&&i.state<Mi,i.state=In,i.timer.stop(),i.on.call(o?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete n[s]}r&&delete t.__transition}}function _u(t){return this.each(function(){Hn(this,t)})}function bu(t,e){var n,i;return function(){var o=St(this,t),r=o.tween;if(r!==n){i=n=r;for(var s=0,l=i.length;s<l;++s)if(i[s].name===e){i=i.slice(),i.splice(s,1);break}}o.tween=i}}function wu(t,e,n){var i,o;if(typeof n!="function")throw new Error;return function(){var r=St(this,t),s=r.tween;if(s!==i){o=(i=s).slice();for(var l={name:e,value:n},a=0,u=o.length;a<u;++a)if(o[a].name===e){o[a]=l;break}a===u&&o.push(l)}r.tween=o}}function ku(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i=_t(this.node(),n).tween,o=0,r=i.length,s;o<r;++o)if((s=i[o]).name===t)return s.value;return null}return this.each((e==null?bu:wu)(n,t,e))}function Li(t,e,n){var i=t._id;return t.each(function(){var o=St(this,i);(o.value||(o.value={}))[e]=n.apply(this,arguments)}),function(o){return _t(o,i).value[e]}}function Yr(t,e){var n;return(typeof e=="number"?It:e instanceof yn?uo:(n=yn(e))?(e=n,uo):tu)(t,e)}function vu(t){return function(){this.removeAttribute(t)}}function Eu(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Su(t,e,n){var i,o=n+"",r;return function(){var s=this.getAttribute(t);return s===o?null:s===i?r:r=e(i=s,n)}}function pu(t,e,n){var i,o=n+"",r;return function(){var s=this.getAttributeNS(t.space,t.local);return s===o?null:s===i?r:r=e(i=s,n)}}function Cu(t,e,n){var i,o,r;return function(){var s,l=n(this),a;return l==null?void this.removeAttribute(t):(s=this.getAttribute(t),a=l+"",s===a?null:s===i&&a===o?r:(o=a,r=e(i=s,l)))}}function Mu(t,e,n){var i,o,r;return function(){var s,l=n(this),a;return l==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),a=l+"",s===a?null:s===i&&a===o?r:(o=a,r=e(i=s,l)))}}function Pu(t,e){var n=ei(t),i=n==="transform"?ru:Yr;return this.attrTween(t,typeof e=="function"?(n.local?Mu:Cu)(n,i,Li(this,"attr."+t,e)):e==null?(n.local?Eu:vu)(n):(n.local?pu:Su)(n,i,e))}function Nu(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function zu(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Du(t,e){var n,i;function o(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&zu(t,r)),n}return o._value=e,o}function Tu(t,e){var n,i;function o(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&Nu(t,r)),n}return o._value=e,o}function Ou(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var i=ei(t);return this.tween(n,(i.local?Du:Tu)(i,e))}function Iu(t,e){return function(){Ri(this,t).delay=+e.apply(this,arguments)}}function Hu(t,e){return e=+e,function(){Ri(this,t).delay=e}}function Au(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Iu:Hu)(e,t)):_t(this.node(),e).delay}function Vu(t,e){return function(){St(this,t).duration=+e.apply(this,arguments)}}function Xu(t,e){return e=+e,function(){St(this,t).duration=e}}function Yu(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Vu:Xu)(e,t)):_t(this.node(),e).duration}function Ru(t,e){if(typeof e!="function")throw new Error;return function(){St(this,t).ease=e}}function Lu(t){var e=this._id;return arguments.length?this.each(Ru(e,t)):_t(this.node(),e).ease}function Bu(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;St(this,t).ease=n}}function Wu(t){if(typeof t!="function")throw new Error;return this.each(Bu(this._id,t))}function Ku(t){typeof t!="function"&&(t=yr(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r=e[o],s=r.length,l=i[o]=[],a,u=0;u<s;++u)(a=r[u])&&t.call(a,a.__data__,u,r)&&l.push(a);return new Ot(i,this._parents,this._name,this._id)}function Fu(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,o=n.length,r=Math.min(i,o),s=new Array(i),l=0;l<r;++l)for(var a=e[l],u=n[l],f=a.length,c=s[l]=new Array(f),d,h=0;h<f;++h)(d=a[h]||u[h])&&(c[h]=d);for(;l<i;++l)s[l]=e[l];return new Ot(s,this._parents,this._name,this._id)}function Zu(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function qu(t,e,n){var i,o,r=Zu(e)?Ri:St;return function(){var s=r(this,t),l=s.on;l!==i&&(o=(i=l).copy()).on(e,n),s.on=o}}function Gu(t,e){var n=this._id;return arguments.length<2?_t(this.node(),n).on.on(t):this.each(qu(n,t,e))}function Uu(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Ju(){return this.on("end.remove",Uu(this._id))}function Qu(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Ai(t));for(var i=this._groups,o=i.length,r=new Array(o),s=0;s<o;++s)for(var l=i[s],a=l.length,u=r[s]=new Array(a),f,c,d=0;d<a;++d)(f=l[d])&&(c=t.call(f,f.__data__,d,l))&&("__data__"in f&&(c.__data__=f.__data__),u[d]=c,ni(u[d],e,n,d,u,_t(f,n)));return new Ot(r,this._parents,e,n)}function ju(t){var e=this._name,n=this._id;typeof t!="function"&&(t=mr(t));for(var i=this._groups,o=i.length,r=[],s=[],l=0;l<o;++l)for(var a=i[l],u=a.length,f,c=0;c<u;++c)if(f=a[c]){for(var d=t.call(f,f.__data__,c,a),h,m=_t(f,n),y=0,w=d.length;y<w;++y)(h=d[y])&&ni(h,e,n,y,d,m);r.push(d),s.push(f)}return new Ot(r,s,e,n)}var xu=wn.prototype.constructor;function $u(){return new xu(this._groups,this._parents)}function ef(t,e){var n,i,o;return function(){var r=en(this,t),s=(this.style.removeProperty(t),en(this,t));return r===s?null:r===n&&s===i?o:o=e(n=r,i=s)}}function Rr(t){return function(){this.style.removeProperty(t)}}function tf(t,e,n){var i,o=n+"",r;return function(){var s=en(this,t);return s===o?null:s===i?r:r=e(i=s,n)}}function nf(t,e,n){var i,o,r;return function(){var s=en(this,t),l=n(this),a=l+"";return l==null&&(a=l=(this.style.removeProperty(t),en(this,t))),s===a?null:s===i&&a===o?r:(o=a,r=e(i=s,l))}}function of(t,e){var n,i,o,r="style."+e,s="end."+r,l;return function(){var a=St(this,t),u=a.on,f=a.value[r]==null?l||(l=Rr(e)):void 0;(u!==n||o!==f)&&(i=(n=u).copy()).on(s,o=f),a.on=i}}function rf(t,e,n){var i=(t+="")=="transform"?ou:Yr;return e==null?this.styleTween(t,ef(t,i)).on("end.style."+t,Rr(t)):typeof e=="function"?this.styleTween(t,nf(t,i,Li(this,"style."+t,e))).each(of(this._id,t)):this.styleTween(t,tf(t,i,e),n).on("end.style."+t,null)}function lf(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function sf(t,e,n){var i,o;function r(){var s=e.apply(this,arguments);return s!==o&&(i=(o=s)&&lf(t,s,n)),i}return r._value=e,r}function af(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,sf(t,e,n??""))}function uf(t){return function(){this.textContent=t}}function ff(t){return function(){var e=t(this);this.textContent=e??""}}function cf(t){return this.tween("text",typeof t=="function"?ff(Li(this,"text",t)):uf(t==null?"":t+""))}function df(t){return function(e){this.textContent=t.call(this,e)}}function hf(t){var e,n;function i(){var o=t.apply(this,arguments);return o!==n&&(e=(n=o)&&df(o)),e}return i._value=t,i}function gf(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,hf(t))}function mf(){for(var t=this._name,e=this._id,n=Lr(),i=this._groups,o=i.length,r=0;r<o;++r)for(var s=i[r],l=s.length,a,u=0;u<l;++u)if(a=s[u]){var f=_t(a,e);ni(a,t,n,u,s,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Ot(i,this._parents,t,n)}function yf(){var t,e,n=this,i=n._id,o=n.size();return new Promise(function(r,s){var l={value:s},a={value:function(){--o===0&&r()}};n.each(function(){var u=St(this,i),f=u.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(a)),u.on=e}),o===0&&r()})}var _f=0;function Ot(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function Lr(){return++_f}var zt=wn.prototype;Ot.prototype={constructor:Ot,select:Qu,selectAll:ju,selectChild:zt.selectChild,selectChildren:zt.selectChildren,filter:Ku,merge:Fu,selection:$u,transition:mf,call:zt.call,nodes:zt.nodes,node:zt.node,size:zt.size,empty:zt.empty,each:zt.each,on:Gu,attr:Pu,attrTween:Ou,style:rf,styleTween:af,text:cf,textTween:gf,remove:Ju,tween:ku,delay:Au,duration:Yu,ease:Lu,easeVarying:Wu,end:yf,[Symbol.iterator]:zt[Symbol.iterator]};function bf(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var wf={time:null,delay:0,duration:250,ease:bf};function kf(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function vf(t){var e,n;t instanceof Ot?(e=t._id,t=t._name):(e=Lr(),(n=wf).time=Yi(),t=t==null?null:t+"");for(var i=this._groups,o=i.length,r=0;r<o;++r)for(var s=i[r],l=s.length,a,u=0;u<l;++u)(a=s[u])&&ni(a,t,e,u,s,n||kf(a,e));return new Ot(i,this._parents,t,e)}wn.prototype.interrupt=_u;wn.prototype.transition=vf;const Nn=t=>()=>t;function Ef(t,{sourceEvent:e,target:n,transform:i,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function Dt(t,e,n){this.k=t,this.x=e,this.y=n}Dt.prototype={constructor:Dt,scale:function(t){return t===1?this:new Dt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Dt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ii=new Dt(1,0,0);Br.prototype=Dt.prototype;function Br(t){for(;!t.__zoom;)if(!(t=t.parentNode))return ii;return t.__zoom}function hi(t){t.stopImmediatePropagation()}function un(t){t.preventDefault(),t.stopImmediatePropagation()}function Sf(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function pf(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function _o(){return this.__zoom||ii}function Cf(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Mf(){return navigator.maxTouchPoints||"ontouchstart"in this}function Pf(t,e,n){var i=t.invertX(e[0][0])-n[0][0],o=t.invertX(e[1][0])-n[1][0],r=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o),s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s))}function Nf(){var t=Sf,e=pf,n=Pf,i=Cf,o=Mf,r=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],l=250,a=uu,u=$n("start","zoom","end"),f,c,d,h=500,m=150,y=0,w=10;function g(b){b.property("__zoom",_o).on("wheel.zoom",X,{passive:!1}).on("mousedown.zoom",A).on("dblclick.zoom",B).filter(o).on("touchstart.zoom",q).on("touchmove.zoom",W).on("touchend.zoom touchcancel.zoom",Z).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(b,I,_,C){var D=b.selection?b.selection():b;D.property("__zoom",_o),b!==D?H(b,I,_,C):D.interrupt().each(function(){K(this,arguments).event(C).start().zoom(null,typeof I=="function"?I.apply(this,arguments):I).end()})},g.scaleBy=function(b,I,_,C){g.scaleTo(b,function(){var D=this.__zoom.k,T=typeof I=="function"?I.apply(this,arguments):I;return D*T},_,C)},g.scaleTo=function(b,I,_,C){g.transform(b,function(){var D=e.apply(this,arguments),T=this.__zoom,Y=_==null?E(D):typeof _=="function"?_.apply(this,arguments):_,F=T.invert(Y),U=typeof I=="function"?I.apply(this,arguments):I;return n(k(v(T,U),Y,F),D,s)},_,C)},g.translateBy=function(b,I,_,C){g.transform(b,function(){return n(this.__zoom.translate(typeof I=="function"?I.apply(this,arguments):I,typeof _=="function"?_.apply(this,arguments):_),e.apply(this,arguments),s)},null,C)},g.translateTo=function(b,I,_,C,D){g.transform(b,function(){var T=e.apply(this,arguments),Y=this.__zoom,F=C==null?E(T):typeof C=="function"?C.apply(this,arguments):C;return n(ii.translate(F[0],F[1]).scale(Y.k).translate(typeof I=="function"?-I.apply(this,arguments):-I,typeof _=="function"?-_.apply(this,arguments):-_),T,s)},C,D)};function v(b,I){return I=Math.max(r[0],Math.min(r[1],I)),I===b.k?b:new Dt(I,b.x,b.y)}function k(b,I,_){var C=I[0]-_[0]*b.k,D=I[1]-_[1]*b.k;return C===b.x&&D===b.y?b:new Dt(b.k,C,D)}function E(b){return[(+b[0][0]+ +b[1][0])/2,(+b[0][1]+ +b[1][1])/2]}function H(b,I,_,C){b.on("start.zoom",function(){K(this,arguments).event(C).start()}).on("interrupt.zoom end.zoom",function(){K(this,arguments).event(C).end()}).tween("zoom",function(){var D=this,T=arguments,Y=K(D,T).event(C),F=e.apply(D,T),U=_==null?E(F):typeof _=="function"?_.apply(D,T):_,ee=Math.max(F[1][0]-F[0][0],F[1][1]-F[0][1]),O=D.__zoom,j=typeof I=="function"?I.apply(D,T):I,te=a(O.invert(U).concat(ee/O.k),j.invert(U).concat(ee/j.k));return function(z){if(z===1)z=j;else{var le=te(z),ye=ee/le[2];z=new Dt(ye,U[0]-le[0]*ye,U[1]-le[1]*ye)}Y.zoom(null,z)}})}function K(b,I,_){return!_&&b.__zooming||new P(b,I)}function P(b,I){this.that=b,this.args=I,this.active=0,this.sourceEvent=null,this.extent=e.apply(b,I),this.taps=0}P.prototype={event:function(b){return b&&(this.sourceEvent=b),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(b,I){return this.mouse&&b!=="mouse"&&(this.mouse[1]=I.invert(this.mouse[0])),this.touch0&&b!=="touch"&&(this.touch0[1]=I.invert(this.touch0[0])),this.touch1&&b!=="touch"&&(this.touch1[1]=I.invert(this.touch1[0])),this.that.__zoom=I,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(b){var I=gt(this.that).datum();u.call(b,this.that,new Ef(b,{sourceEvent:this.sourceEvent,target:g,type:b,transform:this.that.__zoom,dispatch:u}),I)}};function X(b,...I){if(!t.apply(this,arguments))return;var _=K(this,I).event(b),C=this.__zoom,D=Math.max(r[0],Math.min(r[1],C.k*Math.pow(2,i.apply(this,arguments)))),T=kt(b);if(_.wheel)(_.mouse[0][0]!==T[0]||_.mouse[0][1]!==T[1])&&(_.mouse[1]=C.invert(_.mouse[0]=T)),clearTimeout(_.wheel);else{if(C.k===D)return;_.mouse=[T,C.invert(T)],Hn(this),_.start()}un(b),_.wheel=setTimeout(Y,m),_.zoom("mouse",n(k(v(C,D),_.mouse[0],_.mouse[1]),_.extent,s));function Y(){_.wheel=null,_.end()}}function A(b,...I){if(d||!t.apply(this,arguments))return;var _=b.currentTarget,C=K(this,I,!0).event(b),D=gt(b.view).on("mousemove.zoom",U,!0).on("mouseup.zoom",ee,!0),T=kt(b,_),Y=b.clientX,F=b.clientY;Mr(b.view),hi(b),C.mouse=[T,this.__zoom.invert(T)],Hn(this),C.start();function U(O){if(un(O),!C.moved){var j=O.clientX-Y,te=O.clientY-F;C.moved=j*j+te*te>y}C.event(O).zoom("mouse",n(k(C.that.__zoom,C.mouse[0]=kt(O,_),C.mouse[1]),C.extent,s))}function ee(O){D.on("mousemove.zoom mouseup.zoom",null),Pr(O.view,C.moved),un(O),C.event(O).end()}}function B(b,...I){if(t.apply(this,arguments)){var _=this.__zoom,C=kt(b.changedTouches?b.changedTouches[0]:b,this),D=_.invert(C),T=_.k*(b.shiftKey?.5:2),Y=n(k(v(_,T),C,D),e.apply(this,I),s);un(b),l>0?gt(this).transition().duration(l).call(H,Y,C,b):gt(this).call(g.transform,Y,C,b)}}function q(b,...I){if(t.apply(this,arguments)){var _=b.touches,C=_.length,D=K(this,I,b.changedTouches.length===C).event(b),T,Y,F,U;for(hi(b),Y=0;Y<C;++Y)F=_[Y],U=kt(F,this),U=[U,this.__zoom.invert(U),F.identifier],D.touch0?!D.touch1&&D.touch0[2]!==U[2]&&(D.touch1=U,D.taps=0):(D.touch0=U,T=!0,D.taps=1+!!f);f&&(f=clearTimeout(f)),T&&(D.taps<2&&(c=U[0],f=setTimeout(function(){f=null},h)),Hn(this),D.start())}}function W(b,...I){if(this.__zooming){var _=K(this,I).event(b),C=b.changedTouches,D=C.length,T,Y,F,U;for(un(b),T=0;T<D;++T)Y=C[T],F=kt(Y,this),_.touch0&&_.touch0[2]===Y.identifier?_.touch0[0]=F:_.touch1&&_.touch1[2]===Y.identifier&&(_.touch1[0]=F);if(Y=_.that.__zoom,_.touch1){var ee=_.touch0[0],O=_.touch0[1],j=_.touch1[0],te=_.touch1[1],z=(z=j[0]-ee[0])*z+(z=j[1]-ee[1])*z,le=(le=te[0]-O[0])*le+(le=te[1]-O[1])*le;Y=v(Y,Math.sqrt(z/le)),F=[(ee[0]+j[0])/2,(ee[1]+j[1])/2],U=[(O[0]+te[0])/2,(O[1]+te[1])/2]}else if(_.touch0)F=_.touch0[0],U=_.touch0[1];else return;_.zoom("touch",n(k(Y,F,U),_.extent,s))}}function Z(b,...I){if(this.__zooming){var _=K(this,I).event(b),C=b.changedTouches,D=C.length,T,Y;for(hi(b),d&&clearTimeout(d),d=setTimeout(function(){d=null},h),T=0;T<D;++T)Y=C[T],_.touch0&&_.touch0[2]===Y.identifier?delete _.touch0:_.touch1&&_.touch1[2]===Y.identifier&&delete _.touch1;if(_.touch1&&!_.touch0&&(_.touch0=_.touch1,delete _.touch1),_.touch0)_.touch0[1]=this.__zoom.invert(_.touch0[0]);else if(_.end(),_.taps===2&&(Y=kt(Y,this),Math.hypot(c[0]-Y[0],c[1]-Y[1])<w)){var F=gt(this).on("dblclick.zoom");F&&F.apply(this,arguments)}}}return g.wheelDelta=function(b){return arguments.length?(i=typeof b=="function"?b:Nn(+b),g):i},g.filter=function(b){return arguments.length?(t=typeof b=="function"?b:Nn(!!b),g):t},g.touchable=function(b){return arguments.length?(o=typeof b=="function"?b:Nn(!!b),g):o},g.extent=function(b){return arguments.length?(e=typeof b=="function"?b:Nn([[+b[0][0],+b[0][1]],[+b[1][0],+b[1][1]]]),g):e},g.scaleExtent=function(b){return arguments.length?(r[0]=+b[0],r[1]=+b[1],g):[r[0],r[1]]},g.translateExtent=function(b){return arguments.length?(s[0][0]=+b[0][0],s[1][0]=+b[1][0],s[0][1]=+b[0][1],s[1][1]=+b[1][1],g):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},g.constrain=function(b){return arguments.length?(n=b,g):n},g.duration=function(b){return arguments.length?(l=+b,g):l},g.interpolate=function(b){return arguments.length?(a=b,g):a},g.on=function(){var b=u.on.apply(u,arguments);return b===u?g:b},g.clickDistance=function(b){return arguments.length?(y=(b=+b)*b,g):Math.sqrt(y)},g.tapDistance=function(b){return arguments.length?(w=+b,g):w},g}const vn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:n,targetHandle:i})=>`Couldn't create edge for ${t} handle id: "${t==="source"?n:i}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(t="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${t}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID."},Zn=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]];var Bt;(function(t){t.Strict="strict",t.Loose="loose"})(Bt||(Bt={}));var Et;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(Et||(Et={}));var qn;(function(t){t.Partial="partial",t.Full="full"})(qn||(qn={}));const Pi={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var jt;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(jt||(jt={}));var Gn;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(Gn||(Gn={}));var ce;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(ce||(ce={}));const bo={[ce.Left]:ce.Right,[ce.Right]:ce.Left,[ce.Top]:ce.Bottom,[ce.Bottom]:ce.Top};function zf(t,e){if(!t&&!e)return!0;if(!t||!e||t.size!==e.size)return!1;if(!t.size&&!e.size)return!0;for(const n of t.keys())if(!e.has(n))return!1;return!0}function wo(t,e,n){if(!n)return;const i=[];t.forEach((o,r)=>{e!=null&&e.has(r)||i.push(o)}),i.length&&n(i)}function ko(t){return t===null?null:t?"valid":"invalid"}const Df=t=>"id"in t&&"source"in t&&"target"in t,Wr=t=>"id"in t&&"internals"in t&&!("source"in t)&&!("target"in t),En=(t,e=[0,0])=>{const{width:n,height:i}=Kt(t),o=t.origin??e,r=n*o[0],s=i*o[1];return{x:t.position.x-r,y:t.position.y-s}},oi=(t,e={})=>{if(t.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return t.forEach(i=>{if(e.filter===void 0||e.filter(i)){const o=Di(i);n=Bi(n,o)}}),Wi(n)},Kr=(t,e,[n,i,o]=[0,0,1],r=!1,s=!1)=>{const l={...li(e,[n,i,o]),width:e.width/o,height:e.height/o},a=[];for(const u of t.values()){const{measured:f,selectable:c=!0,hidden:d=!1}=u;if(s&&!c||d)continue;const h=f.width??u.width??u.initialWidth??null,m=f.height??u.height??u.initialHeight??null,y=Ki(l,ri(u)),w=(h??0)*(m??0),g=r&&y>0;(!u.internals.handleBounds||g||y>=w||u.dragging)&&a.push(u)}return a},Ni=(t,e)=>{const n=new Set;return t.forEach(i=>{n.add(i.id)}),e.filter(i=>n.has(i.source)||n.has(i.target))};function vo(t,e){const n=new Map,i=e!=null&&e.nodes?new Set(e.nodes.map(o=>o.id)):null;return t.forEach(o=>{o.measured.width&&o.measured.height&&((e==null?void 0:e.includeHiddenNodes)||!o.hidden)&&(!i||i.has(o.id))&&n.set(o.id,o)}),n}async function Eo({nodes:t,width:e,height:n,panZoom:i,minZoom:o,maxZoom:r},s){if(t.size===0)return Promise.resolve(!1);const l=oi(t),a=qr(l,e,n,(s==null?void 0:s.minZoom)??o,(s==null?void 0:s.maxZoom)??r,(s==null?void 0:s.padding)??.1);return await i.setViewport(a,{duration:s==null?void 0:s.duration}),Promise.resolve(!0)}function Tf({nodeId:t,nextPosition:e,nodeLookup:n,nodeOrigin:i=[0,0],nodeExtent:o,onError:r}){const s=n.get(t),l=s.parentId?n.get(s.parentId):void 0,{x:a,y:u}=l?l.internals.positionAbsolute:{x:0,y:0},f=s.origin??i;let c=o;if(s.extent==="parent"&&!s.expandParent)if(!l)r==null||r("005",vn.error005());else{const h=l.measured.width,m=l.measured.height;h&&m&&(c=[[a,u],[a+h,u+m]])}else l&&on(s.extent)&&(c=[[s.extent[0][0]+a,s.extent[0][1]+u],[s.extent[1][0]+a,s.extent[1][1]+u]]);const d=on(c)?Wt(e,c,s.measured):e;return{position:{x:d.x-a+s.measured.width*f[0],y:d.y-u+s.measured.height*f[1]},positionAbsolute:d}}async function Of({nodesToRemove:t=[],edgesToRemove:e=[],nodes:n,edges:i,onBeforeDelete:o}){const r=new Set(t.map(d=>d.id)),s=[];for(const d of n){if(d.deletable===!1)continue;const h=r.has(d.id),m=!h&&d.parentId&&s.find(y=>y.id===d.parentId);(h||m)&&s.push(d)}const l=new Set(e.map(d=>d.id)),a=i.filter(d=>d.deletable!==!1),f=Ni(s,a);for(const d of a)l.has(d.id)&&!f.find(m=>m.id===d.id)&&f.push(d);if(!o)return{edges:f,nodes:s};const c=await o({nodes:s,edges:f});return typeof c=="boolean"?c?{edges:f,nodes:s}:{edges:[],nodes:[]}:c}const nn=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),Wt=(t={x:0,y:0},e,n)=>({x:nn(t.x,e[0][0],e[1][0]-((n==null?void 0:n.width)??0)),y:nn(t.y,e[0][1],e[1][1]-((n==null?void 0:n.height)??0))});function Fr(t,e,n){const{width:i,height:o}=Kt(n),{x:r,y:s}=n.internals.positionAbsolute;return Wt(t,[[r,s],[r+i,s+o]],e)}const So=(t,e,n)=>t<e?nn(Math.abs(t-e),1,e)/e:t>n?-nn(Math.abs(t-n),1,e)/e:0,Zr=(t,e,n=15,i=40)=>{const o=So(t.x,i,e.width-i)*n,r=So(t.y,i,e.height-i)*n;return[o,r]},Bi=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),zi=({x:t,y:e,width:n,height:i})=>({x:t,y:e,x2:t+n,y2:e+i}),Wi=({x:t,y:e,x2:n,y2:i})=>({x:t,y:e,width:n-t,height:i-e}),ri=(t,e=[0,0])=>{var o,r;const{x:n,y:i}=Wr(t)?t.internals.positionAbsolute:En(t,e);return{x:n,y:i,width:((o=t.measured)==null?void 0:o.width)??t.width??t.initialWidth??0,height:((r=t.measured)==null?void 0:r.height)??t.height??t.initialHeight??0}},Di=(t,e=[0,0])=>{var o,r;const{x:n,y:i}=Wr(t)?t.internals.positionAbsolute:En(t,e);return{x:n,y:i,x2:n+(((o=t.measured)==null?void 0:o.width)??t.width??t.initialWidth??0),y2:i+(((r=t.measured)==null?void 0:r.height)??t.height??t.initialHeight??0)}},If=(t,e)=>Wi(Bi(zi(t),zi(e))),Ki=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),i=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*i)},Yt=t=>!isNaN(t)&&isFinite(t),Hf=(t,e)=>{},Fi=(t,e=[1,1])=>({x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}),li=({x:t,y:e},[n,i,o],r=!1,s=[1,1])=>{const l={x:(t-n)/o,y:(e-i)/o};return r?Fi(l,s):l},Af=({x:t,y:e},[n,i,o])=>({x:t*o+n,y:e*o+i}),qr=(t,e,n,i,o,r)=>{const s=e/(t.width*(1+r)),l=n/(t.height*(1+r)),a=Math.min(s,l),u=nn(a,i,o),f=t.x+t.width/2,c=t.y+t.height/2,d=e/2-f*u,h=n/2-c*u;return{x:d,y:h,zoom:u}},Un=()=>{var t;return typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)==null?void 0:t.indexOf("Mac"))>=0};function on(t){return t!==void 0&&t!=="parent"}function Kt(t){var e,n;return{width:((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth??0,height:((n=t.measured)==null?void 0:n.height)??t.height??t.initialHeight??0}}function po(t){var e,n;return(((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth)!==void 0&&(((n=t.measured)==null?void 0:n.height)??t.height??t.initialHeight)!==void 0}function gi(t,{snapGrid:e=[0,0],snapToGrid:n=!1,transform:i,containerBounds:o}){const{x:r,y:s}=Tt(t),l=li({x:r-((o==null?void 0:o.left)??0),y:s-((o==null?void 0:o.top)??0)},i),{x:a,y:u}=n?Fi(l,e):l;return{xSnapped:a,ySnapped:u,...l}}const Zi=t=>({width:t.offsetWidth,height:t.offsetHeight}),Vf=t=>{var e;return((e=t==null?void 0:t.getRootNode)==null?void 0:e.call(t))||(window==null?void 0:window.document)},Xf=["INPUT","SELECT","TEXTAREA"];function Yf(t){var i,o;const e=((o=(i=t.composedPath)==null?void 0:i.call(t))==null?void 0:o[0])||t.target;return(e==null?void 0:e.nodeType)!==1?!1:Xf.includes(e.nodeName)||e.hasAttribute("contenteditable")||!!e.closest(".nokey")}const Gr=t=>"clientX"in t,Tt=(t,e)=>{var r,s;const n=Gr(t),i=n?t.clientX:(r=t.touches)==null?void 0:r[0].clientX,o=n?t.clientY:(s=t.touches)==null?void 0:s[0].clientY;return{x:i-((e==null?void 0:e.left)??0),y:o-((e==null?void 0:e.top)??0)}},Co=(t,e,n,i,o)=>{const r=e.querySelectorAll(`.${t}`);return!r||!r.length?null:Array.from(r).map(s=>{const l=s.getBoundingClientRect();return{id:s.getAttribute("data-handleid"),type:t,nodeId:o,position:s.getAttribute("data-handlepos"),x:(l.left-n.left)/i,y:(l.top-n.top)/i,...Zi(s)}})};function Rf({sourceX:t,sourceY:e,targetX:n,targetY:i,sourceControlX:o,sourceControlY:r,targetControlX:s,targetControlY:l}){const a=t*.125+o*.375+s*.375+n*.125,u=e*.125+r*.375+l*.375+i*.125,f=Math.abs(a-t),c=Math.abs(u-e);return[a,u,f,c]}function zn(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function Mo({pos:t,x1:e,y1:n,x2:i,y2:o,c:r}){switch(t){case ce.Left:return[e-zn(e-i,r),n];case ce.Right:return[e+zn(i-e,r),n];case ce.Top:return[e,n-zn(n-o,r)];case ce.Bottom:return[e,n+zn(o-n,r)]}}function Ur({sourceX:t,sourceY:e,sourcePosition:n=ce.Bottom,targetX:i,targetY:o,targetPosition:r=ce.Top,curvature:s=.25}){const[l,a]=Mo({pos:n,x1:t,y1:e,x2:i,y2:o,c:s}),[u,f]=Mo({pos:r,x1:i,y1:o,x2:t,y2:e,c:s}),[c,d,h,m]=Rf({sourceX:t,sourceY:e,targetX:i,targetY:o,sourceControlX:l,sourceControlY:a,targetControlX:u,targetControlY:f});return[`M${t},${e} C${l},${a} ${u},${f} ${i},${o}`,c,d,h,m]}function Jr({sourceX:t,sourceY:e,targetX:n,targetY:i}){const o=Math.abs(n-t)/2,r=n<t?n+o:n-o,s=Math.abs(i-e)/2,l=i<e?i+s:i-s;return[r,l,o,s]}function Lf({sourceNode:t,targetNode:e,selected:n=!1,zIndex:i=0,elevateOnSelect:o=!1}){if(!o)return i;const r=n||e.selected||t.selected,s=Math.max(t.internals.z||0,e.internals.z||0,1e3);return i+(r?s:0)}function Bf({sourceNode:t,targetNode:e,width:n,height:i,transform:o}){const r=Bi(Di(t),Di(e));r.x===r.x2&&(r.x2+=1),r.y===r.y2&&(r.y2+=1);const s={x:-o[0]/o[2],y:-o[1]/o[2],width:n/o[2],height:i/o[2]};return Ki(s,Wi(r))>0}const Wf=({source:t,sourceHandle:e,target:n,targetHandle:i})=>`xy-edge__${t}${e||""}-${n}${i||""}`,Kf=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),Ff=(t,e)=>{if(!t.source||!t.target)return e;let n;return Df(t)?n={...t}:n={...t,id:Wf(t)},Kf(n,e)?e:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,e.concat(n))};function Qr({sourceX:t,sourceY:e,targetX:n,targetY:i}){const[o,r,s,l]=Jr({sourceX:t,sourceY:e,targetX:n,targetY:i});return[`M ${t},${e}L ${n},${i}`,o,r,s,l]}const Po={[ce.Left]:{x:-1,y:0},[ce.Right]:{x:1,y:0},[ce.Top]:{x:0,y:-1},[ce.Bottom]:{x:0,y:1}},Zf=({source:t,sourcePosition:e=ce.Bottom,target:n})=>e===ce.Left||e===ce.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},No=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function qf({source:t,sourcePosition:e=ce.Bottom,target:n,targetPosition:i=ce.Top,center:o,offset:r}){const s=Po[e],l=Po[i],a={x:t.x+s.x*r,y:t.y+s.y*r},u={x:n.x+l.x*r,y:n.y+l.y*r},f=Zf({source:a,sourcePosition:e,target:u}),c=f.x!==0?"x":"y",d=f[c];let h=[],m,y;const w={x:0,y:0},g={x:0,y:0},[v,k,E,H]=Jr({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(s[c]*l[c]===-1){m=o.x??v,y=o.y??k;const P=[{x:m,y:a.y},{x:m,y:u.y}],X=[{x:a.x,y},{x:u.x,y}];s[c]===d?h=c==="x"?P:X:h=c==="x"?X:P}else{const P=[{x:a.x,y:u.y}],X=[{x:u.x,y:a.y}];if(c==="x"?h=s.x===d?X:P:h=s.y===d?P:X,e===i){const Z=Math.abs(t[c]-n[c]);if(Z<=r){const b=Math.min(r-1,r-Z);s[c]===d?w[c]=(a[c]>t[c]?-1:1)*b:g[c]=(u[c]>n[c]?-1:1)*b}}if(e!==i){const Z=c==="x"?"y":"x",b=s[c]===l[Z],I=a[Z]>u[Z],_=a[Z]<u[Z];(s[c]===1&&(!b&&I||b&&_)||s[c]!==1&&(!b&&_||b&&I))&&(h=c==="x"?P:X)}const A={x:a.x+w.x,y:a.y+w.y},B={x:u.x+g.x,y:u.y+g.y},q=Math.max(Math.abs(A.x-h[0].x),Math.abs(B.x-h[0].x)),W=Math.max(Math.abs(A.y-h[0].y),Math.abs(B.y-h[0].y));q>=W?(m=(A.x+B.x)/2,y=h[0].y):(m=h[0].x,y=(A.y+B.y)/2)}return[[t,{x:a.x+w.x,y:a.y+w.y},...h,{x:u.x+g.x,y:u.y+g.y},n],m,y,E,H]}function Gf(t,e,n,i){const o=Math.min(No(t,e)/2,No(e,n)/2,i),{x:r,y:s}=e;if(t.x===r&&r===n.x||t.y===s&&s===n.y)return`L${r} ${s}`;if(t.y===s){const u=t.x<n.x?-1:1,f=t.y<n.y?1:-1;return`L ${r+o*u},${s}Q ${r},${s} ${r},${s+o*f}`}const l=t.x<n.x?1:-1,a=t.y<n.y?-1:1;return`L ${r},${s+o*a}Q ${r},${s} ${r+o*l},${s}`}function Jn({sourceX:t,sourceY:e,sourcePosition:n=ce.Bottom,targetX:i,targetY:o,targetPosition:r=ce.Top,borderRadius:s=5,centerX:l,centerY:a,offset:u=20}){const[f,c,d,h,m]=qf({source:{x:t,y:e},sourcePosition:n,target:{x:i,y:o},targetPosition:r,center:{x:l,y:a},offset:u});return[f.reduce((w,g,v)=>{let k="";return v>0&&v<f.length-1?k=Gf(f[v-1],g,f[v+1],s):k=`${v===0?"M":"L"}${g.x} ${g.y}`,w+=k,w},""),c,d,h,m]}function zo(t){var e;return t&&!!(t.internals.handleBounds||(e=t.handles)!=null&&e.length)&&!!(t.measured.width||t.width||t.initialWidth)}function Uf(t){var c;const{sourceNode:e,targetNode:n}=t;if(!zo(e)||!zo(n))return null;const i=e.internals.handleBounds||Do(e.handles),o=n.internals.handleBounds||Do(n.handles),r=To((i==null?void 0:i.source)??[],t.sourceHandle),s=To(t.connectionMode===Bt.Strict?(o==null?void 0:o.target)??[]:((o==null?void 0:o.target)??[]).concat((o==null?void 0:o.source)??[]),t.targetHandle);if(!r||!s)return(c=t.onError)==null||c.call(t,"008",vn.error008(r?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const l=(r==null?void 0:r.position)||ce.Bottom,a=(s==null?void 0:s.position)||ce.Top,u=bn(e,r,l),f=bn(n,s,a);return{sourceX:u.x,sourceY:u.y,targetX:f.x,targetY:f.y,sourcePosition:l,targetPosition:a}}function Do(t){if(!t)return null;const e=[],n=[];for(const i of t)i.width=i.width??1,i.height=i.height??1,i.type==="source"?e.push(i):i.type==="target"&&n.push(i);return{source:e,target:n}}function bn(t,e,n=ce.Left,i=!1){const o=((e==null?void 0:e.x)??0)+t.internals.positionAbsolute.x,r=((e==null?void 0:e.y)??0)+t.internals.positionAbsolute.y,{width:s,height:l}=e??Kt(t);if(i)return{x:o+s/2,y:r+l/2};switch((e==null?void 0:e.position)??n){case ce.Top:return{x:o+s/2,y:r};case ce.Right:return{x:o+s,y:r+l/2};case ce.Bottom:return{x:o+s/2,y:r+l};case ce.Left:return{x:o,y:r+l/2}}}function To(t,e){return t&&(e?t.find(n=>n.id===e):t[0])||null}function Ti(t,e){return t?typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(i=>`${i}=${t[i]}`).join("&")}`:""}function Jf(t,{id:e,defaultColor:n,defaultMarkerStart:i,defaultMarkerEnd:o}){const r=new Set;return t.reduce((s,l)=>([l.markerStart||i,l.markerEnd||o].forEach(a=>{if(a&&typeof a=="object"){const u=Ti(a,e);r.has(u)||(s.push({id:u,color:a.color||n,...a}),r.add(u))}}),s),[]).sort((s,l)=>s.id.localeCompare(l.id))}const qi={nodeOrigin:[0,0],nodeExtent:Zn,elevateNodesOnSelect:!0,defaults:{}},Qf={...qi,checkEquality:!0};function Gi(t,e){const n={...t};for(const i in e)e[i]!==void 0&&(n[i]=e[i]);return n}function jf(t,e,n){const i=Gi(qi,n);for(const o of t.values())if(o.parentId)Ui(o,t,e,i);else{const r=En(o,i.nodeOrigin),s=on(o.extent)?o.extent:i.nodeExtent,l=Wt(r,s,Kt(o));o.internals.positionAbsolute=l}}function jr(t,e,n,i){var l,a;const o=Gi(Qf,i),r=new Map(e),s=o!=null&&o.elevateNodesOnSelect?1e3:0;e.clear(),n.clear();for(const u of t){let f=r.get(u.id);if(o.checkEquality&&u===(f==null?void 0:f.internals.userNode))e.set(u.id,f);else{const c=En(u,o.nodeOrigin),d=on(u.extent)?u.extent:o.nodeExtent,h=Wt(c,d,Kt(u));f={...o.defaults,...u,measured:{width:(l=u.measured)==null?void 0:l.width,height:(a=u.measured)==null?void 0:a.height},internals:{positionAbsolute:h,handleBounds:u.measured?f==null?void 0:f.internals.handleBounds:void 0,z:xr(u,s),userNode:u}},e.set(u.id,f)}u.parentId&&Ui(f,e,n,i)}}function xf(t,e){if(!t.parentId)return;const n=e.get(t.parentId);n?n.set(t.id,t):e.set(t.parentId,new Map([[t.id,t]]))}function Ui(t,e,n,i){const{elevateNodesOnSelect:o,nodeOrigin:r,nodeExtent:s}=Gi(qi,i),l=t.parentId,a=e.get(l);if(!a){console.warn(`Parent node ${l} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}xf(t,n);const u=o?1e3:0,{x:f,y:c,z:d}=$f(t,a,r,s,u),{positionAbsolute:h}=t.internals,m=f!==h.x||c!==h.y;(m||d!==t.internals.z)&&e.set(t.id,{...t,internals:{...t.internals,positionAbsolute:m?{x:f,y:c}:h,z:d}})}function xr(t,e){return(Yt(t.zIndex)?t.zIndex:0)+(t.selected?e:0)}function $f(t,e,n,i,o){const{x:r,y:s}=e.internals.positionAbsolute,l=Kt(t),a=En(t,n),u=on(t.extent)?Wt(a,t.extent,l):a;let f=Wt({x:r+u.x,y:s+u.y},i,l);t.extent==="parent"&&(f=Fr(f,l,e));const c=xr(t,o),d=e.internals.z??0;return{x:f.x,y:f.y,z:d>c?d:c}}function ec(t,e,n,i=[0,0]){var s;const o=[],r=new Map;for(const l of t){const a=e.get(l.parentId);if(!a)continue;const u=((s=r.get(l.parentId))==null?void 0:s.expandedRect)??ri(a),f=If(u,l.rect);r.set(l.parentId,{expandedRect:f,parent:a})}return r.size>0&&r.forEach(({expandedRect:l,parent:a},u)=>{var k;const f=a.internals.positionAbsolute,c=Kt(a),d=a.origin??i,h=l.x<f.x?Math.round(Math.abs(f.x-l.x)):0,m=l.y<f.y?Math.round(Math.abs(f.y-l.y)):0,y=Math.max(c.width,Math.round(l.width)),w=Math.max(c.height,Math.round(l.height)),g=(y-c.width)*d[0],v=(w-c.height)*d[1];(h>0||m>0||g||v)&&(o.push({id:u,type:"position",position:{x:a.position.x-h+g,y:a.position.y-m+v}}),(k=n.get(u))==null||k.forEach(E=>{t.some(H=>H.id===E.id)||o.push({id:E.id,type:"position",position:{x:E.position.x+h,y:E.position.y+m}})})),(c.width<l.width||c.height<l.height||h||m)&&o.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:y+(h?d[0]*h-g:0),height:w+(m?d[1]*m-v:0)}})}),o}function tc(t,e,n,i,o,r){const s=i==null?void 0:i.querySelector(".xyflow__viewport");let l=!1;if(!s)return{changes:[],updatedInternals:l};const a=[],u=window.getComputedStyle(s),{m22:f}=new window.DOMMatrixReadOnly(u.transform),c=[];for(const d of t.values()){const h=e.get(d.id);if(!h)continue;if(h.hidden){e.set(h.id,{...h,internals:{...h.internals,handleBounds:void 0}}),l=!0;continue}const m=Zi(d.nodeElement),y=h.measured.width!==m.width||h.measured.height!==m.height;if(!!(m.width&&m.height&&(y||!h.internals.handleBounds||d.force))){const g=d.nodeElement.getBoundingClientRect(),v=on(h.extent)?h.extent:r;let{positionAbsolute:k}=h.internals;h.parentId&&h.extent==="parent"?k=Fr(k,m,e.get(h.parentId)):v&&(k=Wt(k,v,m));const E={...h,measured:m,internals:{...h.internals,positionAbsolute:k,handleBounds:{source:Co("source",d.nodeElement,g,f,h.id),target:Co("target",d.nodeElement,g,f,h.id)}}};e.set(h.id,E),h.parentId&&Ui(E,e,n,{nodeOrigin:o}),l=!0,y&&(a.push({id:h.id,type:"dimensions",dimensions:m}),h.expandParent&&h.parentId&&c.push({id:h.id,parentId:h.parentId,rect:ri(E,o)}))}}if(c.length>0){const d=ec(c,e,n,o);a.push(...d)}return{changes:a,updatedInternals:l}}async function nc({delta:t,panZoom:e,transform:n,translateExtent:i,width:o,height:r}){if(!e||!t.x&&!t.y)return Promise.resolve(!1);const s=await e.setViewportConstrained({x:n[0]+t.x,y:n[1]+t.y,zoom:n[2]},[[0,0],[o,r]],i),l=!!s&&(s.x!==n[0]||s.y!==n[1]||s.k!==n[2]);return Promise.resolve(l)}function Oo(t,e,n,i,o,r){let s=o;const l=i.get(s)||new Map;i.set(s,l.set(n,e)),s=`${o}-${t}`;const a=i.get(s)||new Map;if(i.set(s,a.set(n,e)),r){s=`${o}-${t}-${r}`;const u=i.get(s)||new Map;i.set(s,u.set(n,e))}}function $r(t,e,n){t.clear(),e.clear();for(const i of n){const{source:o,target:r,sourceHandle:s=null,targetHandle:l=null}=i,a={edgeId:i.id,source:o,target:r,sourceHandle:s,targetHandle:l},u=`${o}-${s}--${r}-${l}`,f=`${r}-${l}--${o}-${s}`;Oo("source",a,f,t,o,s),Oo("target",a,u,t,r,l),e.set(i.id,i)}}function el(t,e){if(!t.parentId)return!1;const n=e.get(t.parentId);return n?n.selected?!0:el(n,e):!1}function Io(t,e,n){var o;let i=t;do{if((o=i==null?void 0:i.matches)!=null&&o.call(i,e))return!0;if(i===n)return!1;i=i==null?void 0:i.parentElement}while(i);return!1}function ic(t,e,n,i){const o=new Map;for(const[r,s]of t)if((s.selected||s.id===i)&&(!s.parentId||!el(s,t))&&(s.draggable||e&&typeof s.draggable>"u")){const l=t.get(r);l&&o.set(r,{id:r,position:l.position||{x:0,y:0},distance:{x:n.x-l.internals.positionAbsolute.x,y:n.y-l.internals.positionAbsolute.y},extent:l.extent,parentId:l.parentId,origin:l.origin,expandParent:l.expandParent,internals:{positionAbsolute:l.internals.positionAbsolute||{x:0,y:0}},measured:{width:l.measured.width??0,height:l.measured.height??0}})}return o}function mi({nodeId:t,dragItems:e,nodeLookup:n,dragging:i=!0}){var s,l,a;const o=[];for(const[u,f]of e){const c=(s=n.get(u))==null?void 0:s.internals.userNode;c&&o.push({...c,position:f.position,dragging:i})}if(!t)return[o[0],o];const r=(l=n.get(t))==null?void 0:l.internals.userNode;return[r?{...r,position:((a=e.get(t))==null?void 0:a.position)||r.position,dragging:i}:o[0],o]}function oc({onNodeMouseDown:t,getStoreItems:e,onDragStart:n,onDrag:i,onDragStop:o}){let r={x:null,y:null},s=0,l=new Map,a=!1,u={x:0,y:0},f=null,c=!1,d=null,h=!1;function m({noDragClassName:w,handleSelector:g,domNode:v,isSelectable:k,nodeId:E,nodeClickDistance:H=0}){d=gt(v);function K({x:B,y:q},W){const{nodeLookup:Z,nodeExtent:b,snapGrid:I,snapToGrid:_,nodeOrigin:C,onNodeDrag:D,onSelectionDrag:T,onError:Y,updateNodePositions:F}=e();r={x:B,y:q};let U=!1,ee={x:0,y:0,x2:0,y2:0};if(l.size>1&&b){const O=oi(l);ee=zi(O)}for(const[O,j]of l){if(!Z.has(O))continue;let te={x:B-j.distance.x,y:q-j.distance.y};_&&(te=Fi(te,I));let z=[[b[0][0],b[0][1]],[b[1][0],b[1][1]]];if(l.size>1&&b&&!j.extent){const{positionAbsolute:ue}=j.internals,we=ue.x-ee.x+b[0][0],Ee=ue.x+j.measured.width-ee.x2+b[1][0],Ie=ue.y-ee.y+b[0][1],R=ue.y+j.measured.height-ee.y2+b[1][1];z=[[we,Ie],[Ee,R]]}const{position:le,positionAbsolute:ye}=Tf({nodeId:O,nextPosition:te,nodeLookup:Z,nodeExtent:z,nodeOrigin:C,onError:Y});U=U||j.position.x!==le.x||j.position.y!==le.y,j.position=le,j.internals.positionAbsolute=ye}if(U&&(F(l,!0),W&&(i||D||!E&&T))){const[O,j]=mi({nodeId:E,dragItems:l,nodeLookup:Z});i==null||i(W,l,O,j),D==null||D(W,O,j),E||T==null||T(W,j)}}async function P(){if(!f)return;const{transform:B,panBy:q,autoPanSpeed:W}=e(),[Z,b]=Zr(u,f,W);(Z!==0||b!==0)&&(r.x=(r.x??0)-Z/B[2],r.y=(r.y??0)-b/B[2],await q({x:Z,y:b})&&K(r,null)),s=requestAnimationFrame(P)}function X(B){var U;const{nodeLookup:q,multiSelectionActive:W,nodesDraggable:Z,transform:b,snapGrid:I,snapToGrid:_,selectNodesOnDrag:C,onNodeDragStart:D,onSelectionDragStart:T,unselectNodesAndEdges:Y}=e();c=!0,(!C||!k)&&!W&&E&&((U=q.get(E))!=null&&U.selected||Y()),k&&C&&E&&(t==null||t(E));const F=gi(B.sourceEvent,{transform:b,snapGrid:I,snapToGrid:_,containerBounds:f});if(r=F,l=ic(q,Z,F,E),l.size>0&&(n||D||!E&&T)){const[ee,O]=mi({nodeId:E,dragItems:l,nodeLookup:q});n==null||n(B.sourceEvent,l,ee,O),D==null||D(B.sourceEvent,ee,O),E||T==null||T(B.sourceEvent,O)}}const A=Xa().clickDistance(H).on("start",B=>{const{domNode:q,nodeDragThreshold:W,transform:Z,snapGrid:b,snapToGrid:I}=e();f=(q==null?void 0:q.getBoundingClientRect())||null,h=!1,W===0&&X(B),r=gi(B.sourceEvent,{transform:Z,snapGrid:b,snapToGrid:I,containerBounds:f}),u=Tt(B.sourceEvent,f)}).on("drag",B=>{const{autoPanOnNodeDrag:q,transform:W,snapGrid:Z,snapToGrid:b,nodeDragThreshold:I,nodeLookup:_}=e(),C=gi(B.sourceEvent,{transform:W,snapGrid:Z,snapToGrid:b,containerBounds:f});if((B.sourceEvent.type==="touchmove"&&B.sourceEvent.touches.length>1||E&&!_.has(E))&&(h=!0),!h){if(!a&&q&&c&&(a=!0,P()),!c){const D=C.xSnapped-(r.x??0),T=C.ySnapped-(r.y??0);Math.sqrt(D*D+T*T)>I&&X(B)}(r.x!==C.xSnapped||r.y!==C.ySnapped)&&l&&c&&(u=Tt(B.sourceEvent,f),K(C,B.sourceEvent))}}).on("end",B=>{if(!(!c||h)&&(a=!1,c=!1,cancelAnimationFrame(s),l.size>0)){const{nodeLookup:q,updateNodePositions:W,onNodeDragStop:Z,onSelectionDragStop:b}=e();if(W(l,!1),o||Z||!E&&b){const[I,_]=mi({nodeId:E,dragItems:l,nodeLookup:q,dragging:!1});o==null||o(B.sourceEvent,l,I,_),Z==null||Z(B.sourceEvent,I,_),E||b==null||b(B.sourceEvent,_)}}}).filter(B=>{const q=B.target;return!B.button&&(!w||!Io(q,`.${w}`,v))&&(!g||Io(q,g,v))});d.call(A)}function y(){d==null||d.on(".drag",null)}return{update:m,destroy:y}}function rc(t,e,n){const i=[],o={x:t.x-n,y:t.y-n,width:n*2,height:n*2};for(const r of e.values())Ki(o,ri(r))>0&&i.push(r);return i}const lc=250;function sc(t,e,n,i){var l,a;let o=[],r=1/0;const s=rc(t,n,e+lc);for(const u of s){const f=[...((l=u.internals.handleBounds)==null?void 0:l.source)??[],...((a=u.internals.handleBounds)==null?void 0:a.target)??[]];for(const c of f){if(i.nodeId===c.nodeId&&i.type===c.type&&i.id===c.id)continue;const{x:d,y:h}=bn(u,c,c.position,!0),m=Math.sqrt(Math.pow(d-t.x,2)+Math.pow(h-t.y,2));m>e||(m<r?(o=[{...c,x:d,y:h}],r=m):m===r&&o.push({...c,x:d,y:h}))}}if(!o.length)return null;if(o.length>1){const u=i.type==="source"?"target":"source";return o.find(f=>f.type===u)??o[0]}return o[0]}function tl(t,e,n,i,o,r=!1){var u,f,c;const s=i.get(t);if(!s)return null;const l=o==="strict"?(u=s.internals.handleBounds)==null?void 0:u[e]:[...((f=s.internals.handleBounds)==null?void 0:f.source)??[],...((c=s.internals.handleBounds)==null?void 0:c.target)??[]],a=(n?l==null?void 0:l.find(d=>d.id===n):l==null?void 0:l[0])??null;return a&&r?{...a,...bn(s,a,a.position,!0)}:a}function nl(t,e){return t||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function ac(t,e){let n=null;return e?n=!0:t&&!e&&(n=!1),n}const il=()=>!0;function uc(t,{connectionMode:e,connectionRadius:n,handleId:i,nodeId:o,edgeUpdaterType:r,isTarget:s,domNode:l,nodeLookup:a,lib:u,autoPanOnConnect:f,flowId:c,panBy:d,cancelConnection:h,onConnectStart:m,onConnect:y,onConnectEnd:w,isValidConnection:g=il,onReconnectEnd:v,updateConnection:k,getTransform:E,getFromHandle:H,autoPanSpeed:K}){const P=Vf(t.target);let X=0,A;const{x:B,y:q}=Tt(t),W=P==null?void 0:P.elementFromPoint(B,q),Z=nl(r,W),b=l==null?void 0:l.getBoundingClientRect();if(!b||!Z)return;const I=tl(o,Z,i,a,e);if(!I)return;let _=Tt(t,b),C=!1,D=null,T=!1,Y=null;function F(){if(!f||!b)return;const[ye,ue]=Zr(_,b,K);d({x:ye,y:ue}),X=requestAnimationFrame(F)}const U={...I,nodeId:o,type:Z,position:I.position},ee=a.get(o),j={inProgress:!0,isValid:null,from:bn(ee,U,ce.Left,!0),fromHandle:U,fromPosition:U.position,fromNode:ee,to:_,toHandle:null,toPosition:bo[U.position],toNode:null};k(j);let te=j;m==null||m(t,{nodeId:o,handleId:i,handleType:Z});function z(ye){if(!H()||!U){le(ye);return}const ue=E();_=Tt(ye,b),A=sc(li(_,ue,!1,[1,1]),n,a,U),C||(F(),C=!0);const we=ol(ye,{handle:A,connectionMode:e,fromNodeId:o,fromHandleId:i,fromType:s?"target":"source",isValidConnection:g,doc:P,lib:u,flowId:c,nodeLookup:a});Y=we.handleDomNode,D=we.connection,T=ac(!!A,we.isValid);const Ee={...te,isValid:T,to:A&&T?Af({x:A.x,y:A.y},ue):_,toHandle:we.toHandle,toPosition:T&&we.toHandle?we.toHandle.position:bo[U.position],toNode:we.toHandle?a.get(we.toHandle.nodeId):null};T&&A&&te.toHandle&&Ee.toHandle&&te.toHandle.type===Ee.toHandle.type&&te.toHandle.nodeId===Ee.toHandle.nodeId&&te.toHandle.id===Ee.toHandle.id&&te.to.x===Ee.to.x&&te.to.y===Ee.to.y||(k(Ee),te=Ee)}function le(ye){(A||Y)&&D&&T&&(y==null||y(D));const{inProgress:ue,...we}=te,Ee={...we,toPosition:te.toHandle?te.toPosition:null};w==null||w(ye,Ee),r&&(v==null||v(ye,Ee)),h(),cancelAnimationFrame(X),C=!1,T=!1,D=null,Y=null,P.removeEventListener("mousemove",z),P.removeEventListener("mouseup",le),P.removeEventListener("touchmove",z),P.removeEventListener("touchend",le)}P.addEventListener("mousemove",z),P.addEventListener("mouseup",le),P.addEventListener("touchmove",z),P.addEventListener("touchend",le)}function ol(t,{handle:e,connectionMode:n,fromNodeId:i,fromHandleId:o,fromType:r,doc:s,lib:l,flowId:a,isValidConnection:u=il,nodeLookup:f}){const c=r==="target",d=e?s.querySelector(`.${l}-flow__handle[data-id="${a}-${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`):null,{x:h,y:m}=Tt(t),y=s.elementFromPoint(h,m),w=y!=null&&y.classList.contains(`${l}-flow__handle`)?y:d,g={handleDomNode:w,isValid:!1,connection:null,toHandle:null};if(w){const v=nl(void 0,w),k=w.getAttribute("data-nodeid"),E=w.getAttribute("data-handleid"),H=w.classList.contains("connectable"),K=w.classList.contains("connectableend");if(!k||!v)return g;const P={source:c?k:i,sourceHandle:c?E:o,target:c?i:k,targetHandle:c?o:E};g.connection=P;const A=H&&K&&(n===Bt.Strict?c&&v==="source"||!c&&v==="target":k!==i||E!==o);g.isValid=A&&u(P),g.toHandle=tl(k,v,E,f,n,!1)}return g}const fc={onPointerDown:uc,isValid:ol},cc=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,si=t=>({x:t.x,y:t.y,zoom:t.k}),yi=({x:t,y:e,zoom:n})=>ii.translate(t,e).scale(n),Gt=(t,e)=>t.target.closest(`.${e}`),rl=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),_i=(t,e=0,n=()=>{})=>{const i=typeof e=="number"&&e>0;return i||n(),i?t.transition().duration(e).on("end",n):t},ll=t=>{const e=t.ctrlKey&&Un()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e};function dc({zoomPanValues:t,noWheelClassName:e,d3Selection:n,d3Zoom:i,panOnScrollMode:o,panOnScrollSpeed:r,zoomOnPinch:s,onPanZoomStart:l,onPanZoom:a,onPanZoomEnd:u}){return f=>{if(Gt(f,e))return!1;f.preventDefault(),f.stopImmediatePropagation();const c=n.property("__zoom").k||1;if(f.ctrlKey&&s){const w=kt(f),g=ll(f),v=c*Math.pow(2,g);i.scaleTo(n,v,w,f);return}const d=f.deltaMode===1?20:1;let h=o===Et.Vertical?0:f.deltaX*d,m=o===Et.Horizontal?0:f.deltaY*d;!Un()&&f.shiftKey&&o!==Et.Vertical&&(h=f.deltaY*d,m=0),i.translateBy(n,-(h/c)*r,-(m/c)*r,{internal:!0});const y=si(n.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling||(t.isPanScrolling=!0,l==null||l(f,y)),t.isPanScrolling&&(a==null||a(f,y),t.panScrollTimeout=setTimeout(()=>{u==null||u(f,y),t.isPanScrolling=!1},150))}}function hc({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:n}){return function(i,o){if(!e&&i.type==="wheel"&&!i.ctrlKey||Gt(i,t))return null;i.preventDefault(),n.call(this,i,o)}}function gc({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:n}){return i=>{var r,s,l;if((r=i.sourceEvent)!=null&&r.internal)return;const o=si(i.transform);t.mouseButton=((s=i.sourceEvent)==null?void 0:s.button)||0,t.isZoomingOrPanning=!0,t.prevViewport=o,((l=i.sourceEvent)==null?void 0:l.type)==="mousedown"&&e(!0),n&&(n==null||n(i.sourceEvent,o))}}function mc({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:n,onTransformChange:i,onPanZoom:o}){return r=>{var s,l;t.usedRightMouseButton=!!(n&&rl(e,t.mouseButton??0)),(s=r.sourceEvent)!=null&&s.sync||i([r.transform.x,r.transform.y,r.transform.k]),o&&!((l=r.sourceEvent)!=null&&l.internal)&&(o==null||o(r.sourceEvent,si(r.transform)))}}function yc({zoomPanValues:t,panOnDrag:e,panOnScroll:n,onDraggingChange:i,onPanZoomEnd:o,onPaneContextMenu:r}){return s=>{var l;if(!((l=s.sourceEvent)!=null&&l.internal)&&(t.isZoomingOrPanning=!1,r&&rl(e,t.mouseButton??0)&&!t.usedRightMouseButton&&s.sourceEvent&&r(s.sourceEvent),t.usedRightMouseButton=!1,i(!1),o&&cc(t.prevViewport,s.transform))){const a=si(s.transform);t.prevViewport=a,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{o==null||o(s.sourceEvent,a)},n?150:0)}}}function _c({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:n,panOnDrag:i,panOnScroll:o,zoomOnDoubleClick:r,userSelectionActive:s,noWheelClassName:l,noPanClassName:a,lib:u}){return f=>{var m;const c=t||e,d=n&&f.ctrlKey;if(f.button===1&&f.type==="mousedown"&&(Gt(f,`${u}-flow__node`)||Gt(f,`${u}-flow__edge`)))return!0;if(!i&&!c&&!o&&!r&&!n||s||Gt(f,l)&&f.type==="wheel"||Gt(f,a)&&(f.type!=="wheel"||o&&f.type==="wheel"&&!t)||!n&&f.ctrlKey&&f.type==="wheel")return!1;if(!n&&f.type==="touchstart"&&((m=f.touches)==null?void 0:m.length)>1)return f.preventDefault(),!1;if(!c&&!o&&!d&&f.type==="wheel"||!i&&(f.type==="mousedown"||f.type==="touchstart")||Array.isArray(i)&&!i.includes(f.button)&&f.type==="mousedown")return!1;const h=Array.isArray(i)&&i.includes(f.button)||!f.button||f.button<=1;return(!f.ctrlKey||f.type==="wheel")&&h}}function bc({domNode:t,minZoom:e,maxZoom:n,paneClickDistance:i,translateExtent:o,viewport:r,onPanZoom:s,onPanZoomStart:l,onPanZoomEnd:a,onDraggingChange:u}){const f={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},c=t.getBoundingClientRect(),d=Nf().clickDistance(!Yt(i)||i<0?0:i).scaleExtent([e,n]).translateExtent(o),h=gt(t).call(d);k({x:r.x,y:r.y,zoom:nn(r.zoom,e,n)},[[0,0],[c.width,c.height]],o);const m=h.on("wheel.zoom"),y=h.on("dblclick.zoom");d.wheelDelta(ll);function w(W,Z){return h?new Promise(b=>{d==null||d.transform(_i(h,Z==null?void 0:Z.duration,()=>b(!0)),W)}):Promise.resolve(!1)}function g({noWheelClassName:W,noPanClassName:Z,onPaneContextMenu:b,userSelectionActive:I,panOnScroll:_,panOnDrag:C,panOnScrollMode:D,panOnScrollSpeed:T,preventScrolling:Y,zoomOnPinch:F,zoomOnScroll:U,zoomOnDoubleClick:ee,zoomActivationKeyPressed:O,lib:j,onTransformChange:te}){I&&!f.isZoomingOrPanning&&v();const le=_&&!O&&!I?dc({zoomPanValues:f,noWheelClassName:W,d3Selection:h,d3Zoom:d,panOnScrollMode:D,panOnScrollSpeed:T,zoomOnPinch:F,onPanZoomStart:l,onPanZoom:s,onPanZoomEnd:a}):hc({noWheelClassName:W,preventScrolling:Y,d3ZoomHandler:m});if(h.on("wheel.zoom",le,{passive:!1}),!I){const ue=gc({zoomPanValues:f,onDraggingChange:u,onPanZoomStart:l});d.on("start",ue);const we=mc({zoomPanValues:f,panOnDrag:C,onPaneContextMenu:!!b,onPanZoom:s,onTransformChange:te});d.on("zoom",we);const Ee=yc({zoomPanValues:f,panOnDrag:C,panOnScroll:_,onPaneContextMenu:b,onPanZoomEnd:a,onDraggingChange:u});d.on("end",Ee)}const ye=_c({zoomActivationKeyPressed:O,panOnDrag:C,zoomOnScroll:U,panOnScroll:_,zoomOnDoubleClick:ee,zoomOnPinch:F,userSelectionActive:I,noPanClassName:Z,noWheelClassName:W,lib:j});d.filter(ye),ee?h.on("dblclick.zoom",y):h.on("dblclick.zoom",null)}function v(){d.on("zoom",null)}async function k(W,Z,b){const I=yi(W),_=d==null?void 0:d.constrain()(I,Z,b);return _&&await w(_),new Promise(C=>C(_))}async function E(W,Z){const b=yi(W);return await w(b,Z),new Promise(I=>I(b))}function H(W){if(h){const Z=yi(W),b=h.property("__zoom");(b.k!==W.zoom||b.x!==W.x||b.y!==W.y)&&(d==null||d.transform(h,Z,null,{sync:!0}))}}function K(){const W=h?Br(h.node()):{x:0,y:0,k:1};return{x:W.x,y:W.y,zoom:W.k}}function P(W,Z){return h?new Promise(b=>{d==null||d.scaleTo(_i(h,Z==null?void 0:Z.duration,()=>b(!0)),W)}):Promise.resolve(!1)}function X(W,Z){return h?new Promise(b=>{d==null||d.scaleBy(_i(h,Z==null?void 0:Z.duration,()=>b(!0)),W)}):Promise.resolve(!1)}function A(W){d==null||d.scaleExtent(W)}function B(W){d==null||d.translateExtent(W)}function q(W){const Z=!Yt(W)||W<0?0:W;d==null||d.clickDistance(Z)}return{update:g,destroy:v,setViewport:E,setViewportConstrained:k,getViewport:K,scaleTo:P,scaleBy:X,setScaleExtent:A,setTranslateExtent:B,syncViewport:H,setClickDistance:q}}var Ho;(function(t){t.Line="line",t.Handle="handle"})(Ho||(Ho={}));function wc(t){let e,n,i,o,r,s;const l=t[45].default,a=nt(l,t,t[44],null);return{c(){e=de("div"),a&&a.c(),this.h()},l(u){e=he(u,"DIV",{"data-handleid":!0,"data-nodeid":!0,"data-handlepos":!0,"data-id":!0,class:!0,style:!0,role:!0,tabindex:!0});var f=x(e);a&&a.l(f),f.forEach(N),this.h()},h(){S(e,"data-handleid",t[6]),S(e,"data-nodeid",t[14]),S(e,"data-handlepos",t[2]),S(e,"data-id",n=t[13]+"-"+t[14]+"-"+(t[0]||null)+"-"+t[1]),S(e,"class",i=Ve(["svelte-flow__handle",`svelte-flow__handle-${t[2]}`,"nodrag","nopan",t[2],t[4]])),S(e,"style",t[3]),S(e,"role","button"),S(e,"tabindex","-1"),ae(e,"valid",t[7]),ae(e,"connectingto",t[5]),ae(e,"connectingfrom",t[9]),ae(e,"source",!t[11]),ae(e,"target",t[11]),ae(e,"connectablestart",t[12]),ae(e,"connectableend",t[12]),ae(e,"connectable",t[12]),ae(e,"connectionindicator",t[12]&&(!t[10]||t[8]))},m(u,f){Q(u,e,f),a&&a.m(e,null),o=!0,r||(s=[He(e,"mousedown",t[32]),He(e,"touchstart",t[32])],r=!0)},p(u,f){a&&a.p&&(!o||f[1]&8192)&&it(a,l,u,u[44],o?rt(l,u[44],f,null):ot(u[44]),null),(!o||f[0]&64)&&S(e,"data-handleid",u[6]),(!o||f[0]&4)&&S(e,"data-handlepos",u[2]),(!o||f[0]&8195&&n!==(n=u[13]+"-"+u[14]+"-"+(u[0]||null)+"-"+u[1]))&&S(e,"data-id",n),(!o||f[0]&20&&i!==(i=Ve(["svelte-flow__handle",`svelte-flow__handle-${u[2]}`,"nodrag","nopan",u[2],u[4]])))&&S(e,"class",i),(!o||f[0]&8)&&S(e,"style",u[3]),(!o||f[0]&148)&&ae(e,"valid",u[7]),(!o||f[0]&52)&&ae(e,"connectingto",u[5]),(!o||f[0]&532)&&ae(e,"connectingfrom",u[9]),(!o||f[0]&2068)&&ae(e,"source",!u[11]),(!o||f[0]&2068)&&ae(e,"target",u[11]),(!o||f[0]&4116)&&ae(e,"connectablestart",u[12]),(!o||f[0]&4116)&&ae(e,"connectableend",u[12]),(!o||f[0]&4116)&&ae(e,"connectable",u[12]),(!o||f[0]&5396)&&ae(e,"connectionindicator",u[12]&&(!u[10]||u[8]))},i(u){o||(V(a,u),o=!0)},o(u){L(a,u),o=!1},d(u){u&&N(e),a&&a.d(u),r=!1,Vt(s)}}}function kc(t,e,n){let i,o,r,s,l,a,u,f,c,d,h,m,y,w,g,v,k,E,H,K,P,X,A,B,q,{$$slots:W={},$$scope:Z}=e,{id:b=void 0}=e,{type:I="source"}=e,{position:_=ce.Top}=e,{style:C=void 0}=e,{isValidConnection:D=void 0}=e,{onconnect:T=void 0}=e,{ondisconnect:Y=void 0}=e,{isConnectable:F=void 0}=e,{class:U=void 0}=e;const ee=An("svelteflow__node_id"),O=An("svelteflow__node_connectable");G(t,O,M=>n(43,q=M));const j=Le(),{connectionMode:te,domNode:z,nodeLookup:le,connectionRadius:ye,viewport:ue,isValidConnection:we,lib:Ee,addEdge:Ie,onedgecreate:R,panBy:Pe,cancelConnection:Se,updateConnection:Je,autoPanOnConnect:Qe,edges:Ze,connectionLookup:lt,onconnect:ut,onconnectstart:ft,onconnectend:qe,flowId:st,connection:Ae}=j;G(t,te,M=>n(40,d=M)),G(t,z,M=>n(55,A=M)),G(t,le,M=>n(54,X=M)),G(t,ye,M=>n(56,B=M)),G(t,ue,M=>n(46,y=M)),G(t,we,M=>n(51,E=M)),G(t,Ee,M=>n(53,P=M)),G(t,R,M=>n(50,k=M)),G(t,Qe,M=>n(52,K=M)),G(t,Ze,M=>n(42,m=M)),G(t,lt,M=>n(41,h=M)),G(t,ut,M=>n(49,v=M)),G(t,ft,M=>n(48,g=M)),G(t,qe,M=>n(47,w=M)),G(t,st,M=>n(13,H=M)),G(t,Ae,M=>n(39,c=M));function pe(M){const Ge=Gr(M);(Ge&&M.button===0||!Ge)&&fc.onPointerDown(M,{handleId:r,nodeId:ee,isTarget:i,connectionRadius:B,domNode:A,nodeLookup:X,connectionMode:d,lib:P,autoPanOnConnect:K,flowId:H,isValidConnection:D??E,updateConnection:Je,cancelConnection:Se,panBy:Pe,onConnect:De=>{const ze=k?k(De):De;ze&&(Ie(ze),v==null||v(De))},onConnectStart:(De,ze)=>{g==null||g(De,{nodeId:ze.nodeId,handleId:ze.handleId,handleType:ze.handleType})},onConnectEnd:(De,ze)=>{w==null||w(De,ze)},getTransform:()=>[y.x,y.y,y.zoom],getFromHandle:()=>c.fromHandle})}let _e=null,Be;return t.$$set=M=>{"id"in M&&n(0,b=M.id),"type"in M&&n(1,I=M.type),"position"in M&&n(2,_=M.position),"style"in M&&n(3,C=M.style),"isValidConnection"in M&&n(33,D=M.isValidConnection),"onconnect"in M&&n(34,T=M.onconnect),"ondisconnect"in M&&n(35,Y=M.ondisconnect),"isConnectable"in M&&n(36,F=M.isConnectable),"class"in M&&n(4,U=M.class),"$$scope"in M&&n(44,Z=M.$$scope)},t.$$.update=()=>{var M,Ge,De,ze,pt,Ct,Mt,ct,dt;if(t.$$.dirty[0]&2&&n(11,i=I==="target"),t.$$.dirty[1]&4128&&n(12,o=F!==void 0?F:q),t.$$.dirty[0]&1&&n(6,r=b||null),t.$$.dirty[0]&3|t.$$.dirty[1]&3096&&(T||Y)&&n(38,Be=h.get(`${ee}-${I}${b?`-${b}`:""}`)),t.$$.dirty[1]&216){if(_e&&!zf(Be,_e)){const bt=Be??new Map;wo(_e,bt,Y),wo(bt,_e,T)}n(37,_e=Be??new Map)}t.$$.dirty[1]&256&&n(10,s=!!c.fromHandle),t.$$.dirty[0]&66|t.$$.dirty[1]&256&&n(9,l=((M=c.fromHandle)==null?void 0:M.nodeId)===ee&&((Ge=c.fromHandle)==null?void 0:Ge.type)===I&&((De=c.fromHandle)==null?void 0:De.id)===r),t.$$.dirty[0]&66|t.$$.dirty[1]&256&&n(5,a=((ze=c.toHandle)==null?void 0:ze.nodeId)===ee&&((pt=c.toHandle)==null?void 0:pt.type)===I&&((Ct=c.toHandle)==null?void 0:Ct.id)===r),t.$$.dirty[0]&66|t.$$.dirty[1]&768&&n(8,u=d===Bt.Strict?((Mt=c.fromHandle)==null?void 0:Mt.type)!==I:ee!==((ct=c.fromHandle)==null?void 0:ct.nodeId)||r!==((dt=c.fromHandle)==null?void 0:dt.id)),t.$$.dirty[0]&32|t.$$.dirty[1]&256&&n(7,f=a&&c.isValid)},[b,I,_,C,U,a,r,f,u,l,s,i,o,H,ee,O,te,z,le,ye,ue,we,Ee,R,Qe,Ze,lt,ut,ft,qe,st,Ae,pe,D,T,Y,F,_e,Be,c,d,h,m,q,Z,W]}class vc extends ge{constructor(e){super(),me(this,e,kc,wc,be,{id:0,type:1,position:2,style:3,isValidConnection:33,onconnect:34,ondisconnect:35,isConnectable:36,class:4},null,[-1,-1])}}const rn=vc;function Ec(t){var a;let e,n,i=((a=t[0])==null?void 0:a.label)+"",o,r,s,l;return e=new rn({props:{type:"target",position:t[1]??ce.Top}}),s=new rn({props:{type:"source",position:t[2]??ce.Bottom}}),{c(){ie(e.$$.fragment),n=ke(),o=je(i),r=ke(),ie(s.$$.fragment)},l(u){se(e.$$.fragment,u),n=ve(u),o=xe(u,i),r=ve(u),se(s.$$.fragment,u)},m(u,f){oe(e,u,f),Q(u,n,f),Q(u,o,f),Q(u,r,f),oe(s,u,f),l=!0},p(u,[f]){var h;const c={};f&2&&(c.position=u[1]??ce.Top),e.$set(c),(!l||f&1)&&i!==(i=((h=u[0])==null?void 0:h.label)+"")&&$e(o,i);const d={};f&4&&(d.position=u[2]??ce.Bottom),s.$set(d)},i(u){l||(V(e.$$.fragment,u),V(s.$$.fragment,u),l=!0)},o(u){L(e.$$.fragment,u),L(s.$$.fragment,u),l=!1},d(u){u&&(N(n),N(o),N(r)),re(e,u),re(s,u)}}}function Sc(t,e,n){const i=["data","targetPosition","sourcePosition"];Ye(e,i);let{data:o={label:"Node"}}=e,{targetPosition:r=void 0}=e,{sourcePosition:s=void 0}=e;return t.$$set=l=>{e=Ne(Ne({},e),yt(l)),n(3,Ye(e,i)),"data"in l&&n(0,o=l.data),"targetPosition"in l&&n(1,r=l.targetPosition),"sourcePosition"in l&&n(2,s=l.sourcePosition)},[o,r,s]}class pc extends ge{constructor(e){super(),me(this,e,Sc,Ec,be,{data:0,targetPosition:1,sourcePosition:2})}}const sl=pc;function Cc(t){var s;let e=((s=t[0])==null?void 0:s.label)+"",n,i,o,r;return o=new rn({props:{type:"source",position:t[1]??ce.Bottom}}),{c(){n=je(e),i=ke(),ie(o.$$.fragment)},l(l){n=xe(l,e),i=ve(l),se(o.$$.fragment,l)},m(l,a){Q(l,n,a),Q(l,i,a),oe(o,l,a),r=!0},p(l,[a]){var f;(!r||a&1)&&e!==(e=((f=l[0])==null?void 0:f.label)+"")&&$e(n,e);const u={};a&2&&(u.position=l[1]??ce.Bottom),o.$set(u)},i(l){r||(V(o.$$.fragment,l),r=!0)},o(l){L(o.$$.fragment,l),r=!1},d(l){l&&(N(n),N(i)),re(o,l)}}}function Mc(t,e,n){const i=["data","sourcePosition"];Ye(e,i);let{data:o={label:"Node"}}=e,{sourcePosition:r=void 0}=e;return t.$$set=s=>{e=Ne(Ne({},e),yt(s)),n(2,Ye(e,i)),"data"in s&&n(0,o=s.data),"sourcePosition"in s&&n(1,r=s.sourcePosition)},[o,r]}class Pc extends ge{constructor(e){super(),me(this,e,Mc,Cc,be,{data:0,sourcePosition:1})}}const Nc=Pc;function zc(t){var s;let e=((s=t[0])==null?void 0:s.label)+"",n,i,o,r;return o=new rn({props:{type:"target",position:t[1]??ce.Top}}),{c(){n=je(e),i=ke(),ie(o.$$.fragment)},l(l){n=xe(l,e),i=ve(l),se(o.$$.fragment,l)},m(l,a){Q(l,n,a),Q(l,i,a),oe(o,l,a),r=!0},p(l,[a]){var f;(!r||a&1)&&e!==(e=((f=l[0])==null?void 0:f.label)+"")&&$e(n,e);const u={};a&2&&(u.position=l[1]??ce.Top),o.$set(u)},i(l){r||(V(o.$$.fragment,l),r=!0)},o(l){L(o.$$.fragment,l),r=!1},d(l){l&&(N(n),N(i)),re(o,l)}}}function Dc(t,e,n){const i=["data","targetPosition"];Ye(e,i);let{data:o={label:"Node"}}=e,{targetPosition:r=void 0}=e;return t.$$set=s=>{e=Ne(Ne({},e),yt(s)),n(2,Ye(e,i)),"data"in s&&n(0,o=s.data),"targetPosition"in s&&n(1,r=s.targetPosition)},[o,r]}class Tc extends ge{constructor(e){super(),me(this,e,Dc,zc,be,{data:0,targetPosition:1})}}const Oc=Tc;function Ic(t,e,n){const i=[];return Ye(e,i),t.$$set=o=>{e=Ne(Ne({},e),yt(o)),n(0,Ye(e,i))},[]}class Hc extends ge{constructor(e){super(),me(this,e,Ic,null,be,{})}}const Ac=Hc;function Ao(t,e,n){if(!e)return;const i=n?e.querySelector(n):e;i&&i.appendChild(t)}function Vc(t,{target:e,domNode:n}){return Ao(t,n,e),{async update({target:i,domNode:o}){Ao(t,o,i)},destroy(){t.parentNode&&t.parentNode.removeChild(t)}}}function Xc(t){let e,n,i,o,r;const s=t[3].default,l=nt(s,t,t[2],null);return{c(){e=de("div"),l&&l.c()},l(a){e=he(a,"DIV",{});var u=x(e);l&&l.l(u),u.forEach(N)},m(a,u){Q(a,e,u),l&&l.m(e,null),i=!0,o||(r=et(n=Vc.call(null,e,{target:".svelte-flow__edgelabel-renderer",domNode:t[0]})),o=!0)},p(a,[u]){l&&l.p&&(!i||u&4)&&it(l,s,a,a[2],i?rt(s,a[2],u,null):ot(a[2]),null),n&&We(n.update)&&u&1&&n.update.call(null,{target:".svelte-flow__edgelabel-renderer",domNode:a[0]})},i(a){i||(V(l,a),i=!0)},o(a){L(l,a),i=!1},d(a){a&&N(e),l&&l.d(a),o=!1,r()}}}function Yc(t,e,n){let i,{$$slots:o={},$$scope:r}=e;const{domNode:s}=Le();return G(t,s,l=>n(0,i=l)),t.$$set=l=>{"$$scope"in l&&n(2,r=l.$$scope)},[i,s,r,o]}class Rc extends ge{constructor(e){super(),me(this,e,Yc,Xc,be,{})}}const Lc=Rc;function al(){const{edgeLookup:t,selectionRect:e,selectionRectMode:n,multiselectionKeyPressed:i,addSelectedEdges:o,unselectNodesAndEdges:r,elementsSelectable:s}=Le();return l=>{const a=J(t).get(l);if(!a){console.warn("012",vn.error012(l));return}(a.selectable||J(s)&&typeof a.selectable>"u")&&(e.set(null),n.set(null),a.selected?a.selected&&J(i)&&r({nodes:[],edges:[a]}):o([l]))}}function Bc(t){let e,n,i=`translate(-50%, -50%) translate(${t[1]}px,${t[2]}px)`,o,r,s;const l=t[5].default,a=nt(l,t,t[7],null);return{c(){e=de("div"),a&&a.c(),this.h()},l(u){e=he(u,"DIV",{class:!0,style:!0,role:!0,tabindex:!0});var f=x(e);a&&a.l(f),f.forEach(N),this.h()},h(){S(e,"class","svelte-flow__edge-label"),S(e,"style",n="pointer-events: all;"+t[0]),S(e,"role","button"),S(e,"tabindex","-1"),fe(e,"transform",i)},m(u,f){Q(u,e,f),a&&a.m(e,null),o=!0,r||(s=[He(e,"keyup",Kc),He(e,"click",t[6])],r=!0)},p(u,f){a&&a.p&&(!o||f&128)&&it(a,l,u,u[7],o?rt(l,u[7],f,null):ot(u[7]),null),(!o||f&1&&n!==(n="pointer-events: all;"+u[0]))&&S(e,"style",n);const c=f&1;(f&7&&i!==(i=`translate(-50%, -50%) translate(${u[1]}px,${u[2]}px)`)||c)&&fe(e,"transform",i)},i(u){o||(V(a,u),o=!0)},o(u){L(a,u),o=!1},d(u){u&&N(e),a&&a.d(u),r=!1,Vt(s)}}}function Wc(t){let e,n;return e=new Lc({props:{$$slots:{default:[Bc]},$$scope:{ctx:t}}}),{c(){ie(e.$$.fragment)},l(i){se(e.$$.fragment,i)},m(i,o){oe(e,i,o),n=!0},p(i,[o]){const r={};o&135&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(V(e.$$.fragment,i),n=!0)},o(i){L(e.$$.fragment,i),n=!1},d(i){re(e,i)}}}const Kc=()=>{};function Fc(t,e,n){let{$$slots:i={},$$scope:o}=e,{style:r=void 0}=e,{x:s=void 0}=e,{y:l=void 0}=e;const a=al(),u=An("svelteflow__edge_id"),f=()=>{u&&a(u)};return t.$$set=c=>{"style"in c&&n(0,r=c.style),"x"in c&&n(1,s=c.x),"y"in c&&n(2,l=c.y),"$$scope"in c&&n(7,o=c.$$scope)},[r,s,l,a,u,i,f,o]}class Zc extends ge{constructor(e){super(),me(this,e,Fc,Wc,be,{style:0,x:1,y:2})}}const qc=Zc;function Gc(t){let e;return{c(){e=Te("path"),this.h()},l(n){e=Oe(n,"path",{d:!0,"stroke-opacity":!0,"stroke-width":!0,fill:!0,class:!0}),x(e).forEach(N),this.h()},h(){S(e,"d",t[1]),S(e,"stroke-opacity",0),S(e,"stroke-width",t[10]),S(e,"fill","none"),S(e,"class","svelte-flow__edge-interaction")},m(n,i){Q(n,e,i)},p(n,i){i&2&&S(e,"d",n[1])},d(n){n&&N(e)}}}function Vo(t){let e,n;return e=new qc({props:{x:t[3],y:t[4],style:t[5],$$slots:{default:[Uc]},$$scope:{ctx:t}}}),{c(){ie(e.$$.fragment)},l(i){se(e.$$.fragment,i)},m(i,o){oe(e,i,o),n=!0},p(i,o){const r={};o&8&&(r.x=i[3]),o&16&&(r.y=i[4]),o&32&&(r.style=i[5]),o&4100&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(V(e.$$.fragment,i),n=!0)},o(i){L(e.$$.fragment,i),n=!1},d(i){re(e,i)}}}function Uc(t){let e;return{c(){e=je(t[2])},l(n){e=xe(n,t[2])},m(n,i){Q(n,e,i)},p(n,i){i&4&&$e(e,n[2])},d(n){n&&N(e)}}}function Jc(t){let e,n,i,o,r,s,l=t[10]&&Gc(t),a=t[2]&&Vo(t);return{c(){e=Te("path"),i=ke(),l&&l.c(),o=ke(),a&&a.c(),r=Xe(),this.h()},l(u){e=Oe(u,"path",{id:!0,d:!0,class:!0,"marker-start":!0,"marker-end":!0,fill:!0,style:!0}),x(e).forEach(N),i=ve(u),l&&l.l(u),o=ve(u),a&&a.l(u),r=Xe(),this.h()},h(){S(e,"id",t[0]),S(e,"d",t[1]),S(e,"class",n=Ve(["svelte-flow__edge-path",t[9]])),S(e,"marker-start",t[6]),S(e,"marker-end",t[7]),S(e,"fill","none"),S(e,"style",t[8])},m(u,f){Q(u,e,f),Q(u,i,f),l&&l.m(u,f),Q(u,o,f),a&&a.m(u,f),Q(u,r,f),s=!0},p(u,[f]){(!s||f&1)&&S(e,"id",u[0]),(!s||f&2)&&S(e,"d",u[1]),(!s||f&512&&n!==(n=Ve(["svelte-flow__edge-path",u[9]])))&&S(e,"class",n),(!s||f&64)&&S(e,"marker-start",u[6]),(!s||f&128)&&S(e,"marker-end",u[7]),(!s||f&256)&&S(e,"style",u[8]),u[10]&&l.p(u,f),u[2]?a?(a.p(u,f),f&4&&V(a,1)):(a=Vo(u),a.c(),V(a,1),a.m(r.parentNode,r)):a&&(Ke(),L(a,1,1,()=>{a=null}),Fe())},i(u){s||(V(a),s=!0)},o(u){L(a),s=!1},d(u){u&&(N(e),N(i),N(o),N(r)),l&&l.d(u),a&&a.d(u)}}}function Qc(t,e,n){let{id:i=void 0}=e,{path:o}=e,{label:r=void 0}=e,{labelX:s=void 0}=e,{labelY:l=void 0}=e,{labelStyle:a=void 0}=e,{markerStart:u=void 0}=e,{markerEnd:f=void 0}=e,{style:c=void 0}=e,{interactionWidth:d=20}=e,{class:h=void 0}=e,m=d===void 0?20:d;return t.$$set=y=>{"id"in y&&n(0,i=y.id),"path"in y&&n(1,o=y.path),"label"in y&&n(2,r=y.label),"labelX"in y&&n(3,s=y.labelX),"labelY"in y&&n(4,l=y.labelY),"labelStyle"in y&&n(5,a=y.labelStyle),"markerStart"in y&&n(6,u=y.markerStart),"markerEnd"in y&&n(7,f=y.markerEnd),"style"in y&&n(8,c=y.style),"interactionWidth"in y&&n(11,d=y.interactionWidth),"class"in y&&n(9,h=y.class)},[i,o,r,s,l,a,u,f,c,h,m,d]}class jc extends ge{constructor(e){super(),me(this,e,Qc,Jc,be,{id:0,path:1,label:2,labelX:3,labelY:4,labelStyle:5,markerStart:6,markerEnd:7,style:8,interactionWidth:11,class:9})}}const ai=jc;function xc(t){let e,n;return e=new ai({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){ie(e.$$.fragment)},l(i){se(e.$$.fragment,i)},m(i,o){oe(e,i,o),n=!0},p(i,[o]){const r={};o&256&&(r.path=i[8]),o&128&&(r.labelX=i[7]),o&64&&(r.labelY=i[6]),o&1&&(r.label=i[0]),o&2&&(r.labelStyle=i[1]),o&8&&(r.markerStart=i[3]),o&16&&(r.markerEnd=i[4]),o&32&&(r.interactionWidth=i[5]),o&4&&(r.style=i[2]),e.$set(r)},i(i){n||(V(e.$$.fragment,i),n=!0)},o(i){L(e.$$.fragment,i),n=!1},d(i){re(e,i)}}}function $c(t,e,n){let i,o,r;const s=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","sourcePosition","targetX","targetY","targetPosition"];Ye(e,s);let{label:l=void 0}=e,{labelStyle:a=void 0}=e,{style:u=void 0}=e,{markerStart:f=void 0}=e,{markerEnd:c=void 0}=e,{interactionWidth:d=void 0}=e,{sourceX:h}=e,{sourceY:m}=e,{sourcePosition:y}=e,{targetX:w}=e,{targetY:g}=e,{targetPosition:v}=e;return t.$$set=k=>{e=Ne(Ne({},e),yt(k)),n(15,Ye(e,s)),"label"in k&&n(0,l=k.label),"labelStyle"in k&&n(1,a=k.labelStyle),"style"in k&&n(2,u=k.style),"markerStart"in k&&n(3,f=k.markerStart),"markerEnd"in k&&n(4,c=k.markerEnd),"interactionWidth"in k&&n(5,d=k.interactionWidth),"sourceX"in k&&n(9,h=k.sourceX),"sourceY"in k&&n(10,m=k.sourceY),"sourcePosition"in k&&n(11,y=k.sourcePosition),"targetX"in k&&n(12,w=k.targetX),"targetY"in k&&n(13,g=k.targetY),"targetPosition"in k&&n(14,v=k.targetPosition)},t.$$.update=()=>{t.$$.dirty&32256&&n(8,[i,o,r]=Ur({sourceX:h,sourceY:m,targetX:w,targetY:g,sourcePosition:y,targetPosition:v}),i,(n(7,o),n(9,h),n(10,m),n(12,w),n(13,g),n(11,y),n(14,v)),(n(6,r),n(9,h),n(10,m),n(12,w),n(13,g),n(11,y),n(14,v)))},[l,a,u,f,c,d,r,o,i,h,m,y,w,g,v]}class ed extends ge{constructor(e){super(),me(this,e,$c,xc,be,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,sourcePosition:11,targetX:12,targetY:13,targetPosition:14})}}const ul=ed;function td(t){let e,n;return e=new ai({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){ie(e.$$.fragment)},l(i){se(e.$$.fragment,i)},m(i,o){oe(e,i,o),n=!0},p(i,[o]){const r={};o&256&&(r.path=i[8]),o&128&&(r.labelX=i[7]),o&64&&(r.labelY=i[6]),o&1&&(r.label=i[0]),o&2&&(r.labelStyle=i[1]),o&8&&(r.markerStart=i[3]),o&16&&(r.markerEnd=i[4]),o&32&&(r.interactionWidth=i[5]),o&4&&(r.style=i[2]),e.$set(r)},i(i){n||(V(e.$$.fragment,i),n=!0)},o(i){L(e.$$.fragment,i),n=!1},d(i){re(e,i)}}}function nd(t,e,n){let i,o,r;const s=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","sourcePosition","targetX","targetY","targetPosition"];Ye(e,s);let{label:l=void 0}=e,{labelStyle:a=void 0}=e,{style:u=void 0}=e,{markerStart:f=void 0}=e,{markerEnd:c=void 0}=e,{interactionWidth:d=void 0}=e,{sourceX:h}=e,{sourceY:m}=e,{sourcePosition:y}=e,{targetX:w}=e,{targetY:g}=e,{targetPosition:v}=e;return t.$$set=k=>{e=Ne(Ne({},e),yt(k)),n(15,Ye(e,s)),"label"in k&&n(0,l=k.label),"labelStyle"in k&&n(1,a=k.labelStyle),"style"in k&&n(2,u=k.style),"markerStart"in k&&n(3,f=k.markerStart),"markerEnd"in k&&n(4,c=k.markerEnd),"interactionWidth"in k&&n(5,d=k.interactionWidth),"sourceX"in k&&n(9,h=k.sourceX),"sourceY"in k&&n(10,m=k.sourceY),"sourcePosition"in k&&n(11,y=k.sourcePosition),"targetX"in k&&n(12,w=k.targetX),"targetY"in k&&n(13,g=k.targetY),"targetPosition"in k&&n(14,v=k.targetPosition)},t.$$.update=()=>{t.$$.dirty&32256&&n(8,[i,o,r]=Jn({sourceX:h,sourceY:m,targetX:w,targetY:g,sourcePosition:y,targetPosition:v}),i,(n(7,o),n(9,h),n(10,m),n(12,w),n(13,g),n(11,y),n(14,v)),(n(6,r),n(9,h),n(10,m),n(12,w),n(13,g),n(11,y),n(14,v)))},[l,a,u,f,c,d,r,o,i,h,m,y,w,g,v]}class id extends ge{constructor(e){super(),me(this,e,nd,td,be,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,sourcePosition:11,targetX:12,targetY:13,targetPosition:14})}}const od=id;function rd(t){let e,n;return e=new ai({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){ie(e.$$.fragment)},l(i){se(e.$$.fragment,i)},m(i,o){oe(e,i,o),n=!0},p(i,[o]){const r={};o&256&&(r.path=i[8]),o&128&&(r.labelX=i[7]),o&64&&(r.labelY=i[6]),o&1&&(r.label=i[0]),o&2&&(r.labelStyle=i[1]),o&8&&(r.markerStart=i[3]),o&16&&(r.markerEnd=i[4]),o&32&&(r.interactionWidth=i[5]),o&4&&(r.style=i[2]),e.$set(r)},i(i){n||(V(e.$$.fragment,i),n=!0)},o(i){L(e.$$.fragment,i),n=!1},d(i){re(e,i)}}}function ld(t,e,n){let i,o,r;const s=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","targetX","targetY"];Ye(e,s);let{label:l=void 0}=e,{labelStyle:a=void 0}=e,{style:u=void 0}=e,{markerStart:f=void 0}=e,{markerEnd:c=void 0}=e,{interactionWidth:d=void 0}=e,{sourceX:h}=e,{sourceY:m}=e,{targetX:y}=e,{targetY:w}=e;return t.$$set=g=>{e=Ne(Ne({},e),yt(g)),n(13,Ye(e,s)),"label"in g&&n(0,l=g.label),"labelStyle"in g&&n(1,a=g.labelStyle),"style"in g&&n(2,u=g.style),"markerStart"in g&&n(3,f=g.markerStart),"markerEnd"in g&&n(4,c=g.markerEnd),"interactionWidth"in g&&n(5,d=g.interactionWidth),"sourceX"in g&&n(9,h=g.sourceX),"sourceY"in g&&n(10,m=g.sourceY),"targetX"in g&&n(11,y=g.targetX),"targetY"in g&&n(12,w=g.targetY)},t.$$.update=()=>{t.$$.dirty&7680&&n(8,[i,o,r]=Qr({sourceX:h,sourceY:m,targetX:y,targetY:w}),i,(n(7,o),n(9,h),n(10,m),n(11,y),n(12,w)),(n(6,r),n(9,h),n(10,m),n(11,y),n(12,w)))},[l,a,u,f,c,d,r,o,i,h,m,y,w]}class sd extends ge{constructor(e){super(),me(this,e,ld,rd,be,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,targetX:11,targetY:12})}}const ad=sd;function ud(t){let e,n;return e=new ai({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){ie(e.$$.fragment)},l(i){se(e.$$.fragment,i)},m(i,o){oe(e,i,o),n=!0},p(i,[o]){const r={};o&256&&(r.path=i[8]),o&128&&(r.labelX=i[7]),o&64&&(r.labelY=i[6]),o&1&&(r.label=i[0]),o&2&&(r.labelStyle=i[1]),o&8&&(r.markerStart=i[3]),o&16&&(r.markerEnd=i[4]),o&32&&(r.interactionWidth=i[5]),o&4&&(r.style=i[2]),e.$set(r)},i(i){n||(V(e.$$.fragment,i),n=!0)},o(i){L(e.$$.fragment,i),n=!1},d(i){re(e,i)}}}function fd(t,e,n){let i,o,r;const s=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","sourcePosition","targetX","targetY","targetPosition"];Ye(e,s);let{label:l=void 0}=e,{labelStyle:a=void 0}=e,{style:u=void 0}=e,{markerStart:f=void 0}=e,{markerEnd:c=void 0}=e,{interactionWidth:d=void 0}=e,{sourceX:h}=e,{sourceY:m}=e,{sourcePosition:y}=e,{targetX:w}=e,{targetY:g}=e,{targetPosition:v}=e;return t.$$set=k=>{e=Ne(Ne({},e),yt(k)),n(15,Ye(e,s)),"label"in k&&n(0,l=k.label),"labelStyle"in k&&n(1,a=k.labelStyle),"style"in k&&n(2,u=k.style),"markerStart"in k&&n(3,f=k.markerStart),"markerEnd"in k&&n(4,c=k.markerEnd),"interactionWidth"in k&&n(5,d=k.interactionWidth),"sourceX"in k&&n(9,h=k.sourceX),"sourceY"in k&&n(10,m=k.sourceY),"sourcePosition"in k&&n(11,y=k.sourcePosition),"targetX"in k&&n(12,w=k.targetX),"targetY"in k&&n(13,g=k.targetY),"targetPosition"in k&&n(14,v=k.targetPosition)},t.$$.update=()=>{t.$$.dirty&32256&&n(8,[i,o,r]=Jn({sourceX:h,sourceY:m,targetX:w,targetY:g,sourcePosition:y,targetPosition:v,borderRadius:0}),i,(n(7,o),n(9,h),n(10,m),n(12,w),n(13,g),n(11,y),n(14,v)),(n(6,r),n(9,h),n(10,m),n(12,w),n(13,g),n(11,y),n(14,v)))},[l,a,u,f,c,d,r,o,i,h,m,y,w,g,v]}class cd extends ge{constructor(e){super(),me(this,e,fd,ud,be,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,sourcePosition:11,targetX:12,targetY:13,targetPosition:14})}}const dd=cd;function hd(t,e){const n=t.set,i=e.set,o=J(t),r=J(e);let l=o.length===0&&r.length>0?r:o;t.set(l);const a=u=>{const f=n(u);return l=f,i(l),f};t.set=e.set=a,t.update=e.update=u=>a(u(l))}function gd(t,e){const n=t.set,i=e.set;let o=J(e);t.set(o);const r=s=>{n(s),i(s),o=s};t.set=e.set=r,t.update=e.update=s=>r(s(o))}const md=(t,e,n)=>{if(!n)return;const i=J(t),o=e.set,r=n.set;let s=n?J(n):{x:0,y:0,zoom:1};e.set(s),e.set=l=>(o(l),r(l),s=l,l),n.set=l=>(i==null||i.syncViewport(l),o(l),r(l),s=l,l),e.update=l=>{e.set(l(s))},n.update=l=>{n.set(l(s))}},yd=(t,e,n,i=[0,0],o=Zn)=>{const{subscribe:r,set:s,update:l}=ne([]);let a=t,u={},f=!0;const c=y=>(jr(y,e,n,{elevateNodesOnSelect:f,nodeOrigin:i,nodeExtent:o,defaults:u,checkEquality:!1}),a=y,s(a),a),d=y=>c(y(a)),h=y=>{u=y},m=y=>{f=y.elevateNodesOnSelect??f};return c(a),{subscribe:r,set:c,update:d,setDefaultOptions:h,setOptions:m}},_d=(t,e,n,i)=>{const{subscribe:o,set:r,update:s}=ne([]);let l=t,a=i||{};const u=d=>{const h=a?d.map(m=>({...a,...m})):d;$r(e,n,h),l=h,r(l)},f=d=>u(d(l)),c=d=>{a=d};return u(l),{subscribe:o,set:u,update:f,setDefaultOptions:c}},fl={input:Nc,output:Oc,default:sl,group:Ac},cl={straight:ad,smoothstep:od,default:ul,step:dd},bd=({nodes:t=[],edges:e=[],width:n,height:i,fitView:o,nodeOrigin:r,nodeExtent:s})=>{const l=new Map,a=new Map,u=new Map,f=new Map,c=r??[0,0],d=s??Zn;jr(t,l,a,{nodeExtent:d,nodeOrigin:c,elevateNodesOnSelect:!1,checkEquality:!1}),$r(u,f,e);let h={x:0,y:0,zoom:1};if(o&&n&&i){const m=oi(l,{filter:y=>!!((y.width||y.initialWidth)&&(y.height||y.initialHeight))});h=qr(m,n,i,.5,2,.1)}return{flowId:ne(null),nodes:yd(t,l,a,c,d),nodeLookup:ht(l),parentLookup:ht(a),edgeLookup:ht(f),visibleNodes:ht([]),edges:_d(e,u,f),visibleEdges:ht([]),connectionLookup:ht(u),height:ne(500),width:ne(500),minZoom:ne(.5),maxZoom:ne(2),nodeOrigin:ne(c),nodeDragThreshold:ne(1),nodeExtent:ne(d),translateExtent:ne(Zn),autoPanOnNodeDrag:ne(!0),autoPanOnConnect:ne(!0),fitViewOnInit:ne(!1),fitViewOnInitDone:ne(!1),fitViewOptions:ne(void 0),panZoom:ne(null),snapGrid:ne(null),dragging:ne(!1),selectionRect:ne(null),selectionKeyPressed:ne(!1),multiselectionKeyPressed:ne(!1),deleteKeyPressed:ne(!1),panActivationKeyPressed:ne(!1),zoomActivationKeyPressed:ne(!1),selectionRectMode:ne(null),selectionMode:ne(qn.Partial),nodeTypes:ne(fl),edgeTypes:ne(cl),viewport:ne(h),connectionMode:ne(Bt.Strict),domNode:ne(null),connection:ht(Pi),connectionLineType:ne(jt.Bezier),connectionRadius:ne(20),isValidConnection:ne(()=>!0),nodesDraggable:ne(!0),nodesConnectable:ne(!0),elementsSelectable:ne(!0),selectNodesOnDrag:ne(!0),markers:ht([]),defaultMarkerColor:ne("#b1b1b7"),lib:ht("svelte"),onlyRenderVisibleElements:ne(!1),onerror:ne(Hf),ondelete:ne(void 0),onedgecreate:ne(void 0),onconnect:ne(void 0),onconnectstart:ne(void 0),onconnectend:ne(void 0),onbeforedelete:ne(void 0),nodesInitialized:ne(!1),edgesInitialized:ne(!1),viewportInitialized:ne(!1),initialized:ht(!1)}};function wd(t){const e=Ut([t.edges,t.nodes,t.nodeLookup,t.onlyRenderVisibleElements,t.viewport,t.width,t.height],([n,,i,o,r,s,l])=>o&&s&&l?n.filter(u=>{const f=i.get(u.source),c=i.get(u.target);return f&&c&&Bf({sourceNode:f,targetNode:c,width:s,height:l,transform:[r.x,r.y,r.zoom]})}):n);return Ut([e,t.nodes,t.nodeLookup,t.connectionMode,t.onerror],([n,,i,o,r])=>n.reduce((l,a)=>{const u=i.get(a.source),f=i.get(a.target);if(!u||!f)return l;const c=Uf({id:a.id,sourceNode:u,targetNode:f,sourceHandle:a.sourceHandle||null,targetHandle:a.targetHandle||null,connectionMode:o,onError:r});return c&&l.push({...a,zIndex:Lf({selected:a.selected,zIndex:a.zIndex,sourceNode:u,targetNode:f,elevateOnSelect:!1}),...c}),l},[]))}function kd(t){return Ut([t.nodeLookup,t.onlyRenderVisibleElements,t.width,t.height,t.viewport,t.nodes],([e,n,i,o,r])=>{const s=[r.x,r.y,r.zoom];return n?Kr(e,{x:0,y:0,width:i,height:o},s,!0):Array.from(e.values())})}const Ji=Symbol();function vd({nodes:t,edges:e,width:n,height:i,fitView:o,nodeOrigin:r,nodeExtent:s}){const l=bd({nodes:t,edges:e,width:n,height:i,fitView:o,nodeOrigin:r,nodeExtent:s});function a(_){l.nodeTypes.set({...fl,..._})}function u(_){l.edgeTypes.set({...cl,..._})}function f(_){const C=J(l.edges);l.edges.set(Ff(_,C))}const c=(_,C=!1)=>{var T;const D=J(l.nodeLookup);for(const[Y,F]of _){const U=(T=D.get(Y))==null?void 0:T.internals.userNode;U&&(U.position=F.position,U.dragging=C)}l.nodes.update(Y=>Y)};function d(_){var F,U,ee;const C=J(l.nodeLookup),D=J(l.parentLookup),{changes:T,updatedInternals:Y}=tc(_,C,J(l.parentLookup),J(l.domNode),J(l.nodeOrigin));if(Y){if(jf(C,D,{nodeOrigin:r,nodeExtent:s}),!J(l.fitViewOnInitDone)&&J(l.fitViewOnInit)){const O=J(l.fitViewOptions),j=m({...O,nodes:O==null?void 0:O.nodes});l.fitViewOnInitDone.set(j)}for(const O of T){const j=(F=C.get(O.id))==null?void 0:F.internals.userNode;if(j)switch(O.type){case"dimensions":{const te={...j.measured,...O.dimensions};O.setAttributes&&(j.width=((U=O.dimensions)==null?void 0:U.width)??j.width,j.height=((ee=O.dimensions)==null?void 0:ee.height)??j.height),j.measured=te;break}case"position":j.position=O.position??j.position;break}}l.nodes.update(O=>O),J(l.nodesInitialized)||l.nodesInitialized.set(!0)}}function h(_){const C=J(l.panZoom),D=J(l.domNode);if(!C||!D)return Promise.resolve(!1);const{width:T,height:Y}=Zi(D),F=vo(J(l.nodeLookup),_);return Eo({nodes:F,width:T,height:Y,minZoom:J(l.minZoom),maxZoom:J(l.maxZoom),panZoom:C},_)}function m(_){const C=J(l.panZoom);if(!C)return!1;const D=vo(J(l.nodeLookup),_);return Eo({nodes:D,width:J(l.width),height:J(l.height),minZoom:J(l.minZoom),maxZoom:J(l.maxZoom),panZoom:C},_),D.size>0}function y(_,C){const D=J(l.panZoom);return D?D.scaleBy(_,C):Promise.resolve(!1)}function w(_){return y(1.2,_)}function g(_){return y(1/1.2,_)}function v(_){const C=J(l.panZoom);C&&(C.setScaleExtent([_,J(l.maxZoom)]),l.minZoom.set(_))}function k(_){const C=J(l.panZoom);C&&(C.setScaleExtent([J(l.minZoom),_]),l.maxZoom.set(_))}function E(_){const C=J(l.panZoom);C&&(C.setTranslateExtent(_),l.translateExtent.set(_))}function H(_){let C=!1;return _.forEach(D=>{D.selected&&(D.selected=!1,C=!0)}),C}function K(_){var C;(C=J(l.panZoom))==null||C.setClickDistance(_)}function P(_){H((_==null?void 0:_.nodes)||J(l.nodes))&&l.nodes.set(J(l.nodes)),H((_==null?void 0:_.edges)||J(l.edges))&&l.edges.set(J(l.edges))}l.deleteKeyPressed.subscribe(async _=>{var C;if(_){const D=J(l.nodes),T=J(l.edges),Y=D.filter(O=>O.selected),F=T.filter(O=>O.selected),{nodes:U,edges:ee}=await Of({nodesToRemove:Y,edgesToRemove:F,nodes:D,edges:T,onBeforeDelete:J(l.onbeforedelete)});(U.length||ee.length)&&(l.nodes.update(O=>O.filter(j=>!U.some(te=>te.id===j.id))),l.edges.update(O=>O.filter(j=>!ee.some(te=>te.id===j.id))),(C=J(l.ondelete))==null||C({nodes:U,edges:ee}))}});function X(_){const C=J(l.multiselectionKeyPressed);l.nodes.update(D=>D.map(T=>{const Y=_.includes(T.id),F=C&&T.selected||Y;return T.selected=F,T})),C||l.edges.update(D=>D.map(T=>(T.selected=!1,T)))}function A(_){const C=J(l.multiselectionKeyPressed);l.edges.update(D=>D.map(T=>{const Y=_.includes(T.id),F=C&&T.selected||Y;return T.selected=F,T})),C||l.nodes.update(D=>D.map(T=>(T.selected=!1,T)))}function B(_){var D;const C=(D=J(l.nodes))==null?void 0:D.find(T=>T.id===_);if(!C){console.warn("012",vn.error012(_));return}l.selectionRect.set(null),l.selectionRectMode.set(null),C.selected?C.selected&&J(l.multiselectionKeyPressed)&&P({nodes:[C],edges:[]}):X([_])}function q(_){const C=J(l.viewport);return nc({delta:_,panZoom:J(l.panZoom),transform:[C.x,C.y,C.zoom],translateExtent:J(l.translateExtent),width:J(l.width),height:J(l.height)})}const W=ne(Pi),Z=_=>{W.set({..._})};function b(){W.set(Pi)}function I(){l.fitViewOnInitDone.set(!1),l.selectionRect.set(null),l.selectionRectMode.set(null),l.snapGrid.set(null),l.isValidConnection.set(()=>!0),P(),b()}return{...l,visibleEdges:wd(l),visibleNodes:kd(l),connection:Ut([W,l.viewport],([_,C])=>_.inProgress?{..._,to:li(_.to,[C.x,C.y,C.zoom])}:{..._}),markers:Ut([l.edges,l.defaultMarkerColor,l.flowId],([_,C,D])=>Jf(_,{defaultColor:C,id:D})),initialized:(()=>{let _=!1;const C=J(l.nodes).length,D=J(l.edges).length;return Ut([l.nodesInitialized,l.edgesInitialized,l.viewportInitialized],([T,Y,F])=>_||(C===0?_=F:D===0?_=F&&T:_=F&&T&&Y,_))})(),syncNodeStores:_=>hd(l.nodes,_),syncEdgeStores:_=>gd(l.edges,_),syncViewport:_=>md(l.panZoom,l.viewport,_),setNodeTypes:a,setEdgeTypes:u,addEdge:f,updateNodePositions:c,updateNodeInternals:d,zoomIn:w,zoomOut:g,fitView:_=>h(_),setMinZoom:v,setMaxZoom:k,setTranslateExtent:E,setPaneClickDistance:K,unselectNodesAndEdges:P,addSelectedNodes:X,addSelectedEdges:A,handleNodeSelection:B,panBy:q,updateConnection:Z,cancelConnection:b,reset:I}}function Le(){const t=An(Ji);if(!t)throw new Error("In order to use useStore you need to wrap your component in a <SvelteFlowProvider />");return t.getStore()}function Ed({nodes:t,edges:e,width:n,height:i,fitView:o,nodeOrigin:r,nodeExtent:s}){const l=vd({nodes:t,edges:e,width:n,height:i,fitView:o,nodeOrigin:r,nodeExtent:s});return Vn(Ji,{getStore:()=>l}),l}function Sd(t,e){const{panZoom:n,minZoom:i,maxZoom:o,initialViewport:r,viewport:s,dragging:l,translateExtent:a,paneClickDistance:u}=e,f=bc({domNode:t,minZoom:i,maxZoom:o,translateExtent:a,viewport:r,paneClickDistance:u,onDraggingChange:l.set}),c=f.getViewport();return s.set(c),n.set(f),f.update(e),{update(d){f.update(d)}}}function pd(t){let e,n,i,o,r;const s=t[35].default,l=nt(s,t,t[34],null);return{c(){e=de("div"),l&&l.c(),this.h()},l(a){e=he(a,"DIV",{class:!0});var u=x(e);l&&l.l(u),u.forEach(N),this.h()},h(){S(e,"class","svelte-flow__zoom svelte-4xkw84")},m(a,u){Q(a,e,u),l&&l.m(e,null),i=!0,o||(r=et(n=Sd.call(null,e,{viewport:t[18],minZoom:t[12],maxZoom:t[13],initialViewport:t[11],dragging:t[23],panZoom:t[19],onPanZoomStart:t[0],onPanZoom:t[1],onPanZoomEnd:t[2],zoomOnScroll:t[5],zoomOnDoubleClick:t[6],zoomOnPinch:t[7],panOnScroll:t[9],panOnDrag:t[10],panOnScrollSpeed:.5,panOnScrollMode:t[3]||Et.Free,zoomActivationKeyPressed:t[14],preventScrolling:typeof t[4]=="boolean"?t[4]:!0,noPanClassName:"nopan",noWheelClassName:"nowheel",userSelectionActive:!!t[15],translateExtent:t[16],lib:t[17],paneClickDistance:t[8],onTransformChange:t[29]})),o=!0)},p(a,u){l&&l.p&&(!i||u[1]&8)&&it(l,s,a,a[34],i?rt(s,a[34],u,null):ot(a[34]),null),n&&We(n.update)&&u[0]&262143&&n.update.call(null,{viewport:a[18],minZoom:a[12],maxZoom:a[13],initialViewport:a[11],dragging:a[23],panZoom:a[19],onPanZoomStart:a[0],onPanZoom:a[1],onPanZoomEnd:a[2],zoomOnScroll:a[5],zoomOnDoubleClick:a[6],zoomOnPinch:a[7],panOnScroll:a[9],panOnDrag:a[10],panOnScrollSpeed:.5,panOnScrollMode:a[3]||Et.Free,zoomActivationKeyPressed:a[14],preventScrolling:typeof a[4]=="boolean"?a[4]:!0,noPanClassName:"nopan",noWheelClassName:"nowheel",userSelectionActive:!!a[15],translateExtent:a[16],lib:a[17],paneClickDistance:a[8],onTransformChange:a[29]})},i(a){i||(V(l,a),i=!0)},o(a){L(l,a),i=!1},d(a){a&&N(e),l&&l.d(a),o=!1,r()}}}function Cd(t,e,n){let i,o,r,s,l,a,u,f,c,d,h,{$$slots:m={},$$scope:y}=e,{initialViewport:w=void 0}=e,{onMoveStart:g=void 0}=e,{onMove:v=void 0}=e,{onMoveEnd:k=void 0}=e,{panOnScrollMode:E}=e,{preventScrolling:H}=e,{zoomOnScroll:K}=e,{zoomOnDoubleClick:P}=e,{zoomOnPinch:X}=e,{panOnDrag:A}=e,{panOnScroll:B}=e,{paneClickDistance:q}=e;const{viewport:W,panZoom:Z,selectionRect:b,minZoom:I,maxZoom:_,dragging:C,translateExtent:D,lib:T,panActivationKeyPressed:Y,zoomActivationKeyPressed:F,viewportInitialized:U}=Le();G(t,b,O=>n(15,c=O)),G(t,I,O=>n(12,a=O)),G(t,_,O=>n(13,u=O)),G(t,D,O=>n(16,d=O)),G(t,T,O=>n(17,h=O)),G(t,Y,O=>n(33,l=O)),G(t,F,O=>n(14,f=O)),G(t,U,O=>n(36,s=O));const ee=O=>W.set({x:O[0],y:O[1],zoom:O[2]});return jn(()=>{Xn(U,s=!0,s)}),t.$$set=O=>{"initialViewport"in O&&n(30,w=O.initialViewport),"onMoveStart"in O&&n(0,g=O.onMoveStart),"onMove"in O&&n(1,v=O.onMove),"onMoveEnd"in O&&n(2,k=O.onMoveEnd),"panOnScrollMode"in O&&n(3,E=O.panOnScrollMode),"preventScrolling"in O&&n(4,H=O.preventScrolling),"zoomOnScroll"in O&&n(5,K=O.zoomOnScroll),"zoomOnDoubleClick"in O&&n(6,P=O.zoomOnDoubleClick),"zoomOnPinch"in O&&n(7,X=O.zoomOnPinch),"panOnDrag"in O&&n(31,A=O.panOnDrag),"panOnScroll"in O&&n(32,B=O.panOnScroll),"paneClickDistance"in O&&n(8,q=O.paneClickDistance),"$$scope"in O&&n(34,y=O.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&1073741824&&n(11,i=w||{x:0,y:0,zoom:1}),t.$$.dirty[1]&5&&n(10,o=l||A),t.$$.dirty[1]&6&&n(9,r=l||B)},[g,v,k,E,H,K,P,X,q,r,o,i,a,u,f,c,d,h,W,Z,b,I,_,C,D,T,Y,F,U,ee,w,A,B,l,y,m]}class Md extends ge{constructor(e){super(),me(this,e,Cd,pd,be,{initialViewport:30,onMoveStart:0,onMove:1,onMoveEnd:2,panOnScrollMode:3,preventScrolling:4,zoomOnScroll:5,zoomOnDoubleClick:6,zoomOnPinch:7,panOnDrag:31,panOnScroll:32,paneClickDistance:8},null,[-1,-1])}}const Pd=Md;function Nd(t){let e,n,i,o;const r=t[28].default,s=nt(r,t,t[27],null);return{c(){e=de("div"),s&&s.c(),this.h()},l(l){e=he(l,"DIV",{class:!0});var a=x(e);s&&s.l(a),a.forEach(N),this.h()},h(){S(e,"class","svelte-flow__pane svelte-1esy7hx"),ae(e,"draggable",t[0]===!0||Array.isArray(t[0])&&t[0].includes(0)),ae(e,"dragging",t[4]),ae(e,"selection",t[1])},m(l,a){Q(l,e,a),s&&s.m(e,null),t[29](e),n=!0,i||(o=[He(e,"click",function(){We(t[3]?void 0:Dn(t[15],t[2]))&&(t[3]?void 0:Dn(t[15],t[2])).apply(this,arguments)}),He(e,"pointerdown",function(){We(t[3]?t[16]:void 0)&&(t[3]?t[16]:void 0).apply(this,arguments)}),He(e,"pointermove",function(){We(t[3]?t[17]:void 0)&&(t[3]?t[17]:void 0).apply(this,arguments)}),He(e,"pointerup",function(){We(t[3]?t[18]:void 0)&&(t[3]?t[18]:void 0).apply(this,arguments)}),He(e,"contextmenu",function(){We(Dn(t[19],t[2]))&&Dn(t[19],t[2]).apply(this,arguments)})],i=!0)},p(l,a){t=l,s&&s.p&&(!n||a[0]&134217728)&&it(s,r,t,t[27],n?rt(r,t[27],a,null):ot(t[27]),null),(!n||a[0]&1)&&ae(e,"draggable",t[0]===!0||Array.isArray(t[0])&&t[0].includes(0)),(!n||a[0]&16)&&ae(e,"dragging",t[4]),(!n||a[0]&2)&&ae(e,"selection",t[1])},i(l){n||(V(s,l),n=!0)},o(l){L(s,l),n=!1},d(l){l&&N(e),s&&s.d(l),t[29](null),i=!1,Vt(o)}}}function Dn(t,e){return n=>{n.target===e&&(t==null||t(n))}}function Xo(t){return e=>{const n=t.includes(e.id);return e.selected!==n&&(e.selected=n),e}}function zd(t,e,n){let i,o,r,s,l,a,u,f,c,d,h,m,y,{$$slots:w={},$$scope:g}=e,{panOnDrag:v=void 0}=e,{selectionOnDrag:k=void 0}=e;const E=xn(),{nodes:H,nodeLookup:K,edges:P,viewport:X,dragging:A,elementsSelectable:B,selectionRect:q,selectionRectMode:W,selectionKeyPressed:Z,selectionMode:b,panActivationKeyPressed:I,unselectNodesAndEdges:_}=Le();G(t,K,z=>n(36,c=z)),G(t,P,z=>n(33,a=z)),G(t,X,z=>n(35,f=z)),G(t,A,z=>n(4,y=z)),G(t,B,z=>n(25,h=z)),G(t,q,z=>n(24,d=z)),G(t,W,z=>n(23,l=z)),G(t,Z,z=>n(22,s=z)),G(t,b,z=>n(34,u=z)),G(t,I,z=>n(26,m=z));let C,D=null,T=[],Y=!1;function F(z){if(Y){Y=!1;return}E("paneclick",{event:z}),_(),W.set(null)}function U(z){var ue,we;if(D=C.getBoundingClientRect(),!B||!o||z.button!==0||z.target!==C||!D)return;(we=(ue=z.target)==null?void 0:ue.setPointerCapture)==null||we.call(ue,z.pointerId);const{x:le,y:ye}=Tt(z,D);_(),q.set({width:0,height:0,startX:le,startY:ye,x:le,y:ye})}function ee(z){if(!o||!D||!d)return;Y=!0;const le=Tt(z,D),ye=d.startX??0,ue=d.startY??0,we={...d,x:le.x<ye?le.x:ye,y:le.y<ue?le.y:ue,width:Math.abs(le.x-ye),height:Math.abs(le.y-ue)},Ee=T.map(Se=>Se.id),Ie=Ni(T,a).map(Se=>Se.id);T=Kr(c,we,[f.x,f.y,f.zoom],u===qn.Partial,!0);const R=Ni(T,a).map(Se=>Se.id),Pe=T.map(Se=>Se.id);(Ee.length!==Pe.length||Pe.some(Se=>!Ee.includes(Se)))&&H.update(Se=>Se.map(Xo(Pe))),(Ie.length!==R.length||R.some(Se=>!Ie.includes(Se)))&&P.update(Se=>Se.map(Xo(R))),W.set("user"),q.set(we)}function O(z){var le,ye;z.button===0&&((ye=(le=z.target)==null?void 0:le.releasePointerCapture)==null||ye.call(le,z.pointerId),!o&&l==="user"&&z.target===C&&(F==null||F(z)),q.set(null),T.length>0&&Xn(W,l="nodes",l),s&&(Y=!1))}const j=z=>{if(Array.isArray(i)&&(i!=null&&i.includes(2))){z.preventDefault();return}E("panecontextmenu",{event:z})};function te(z){Oi[z?"unshift":"push"](()=>{C=z,n(2,C)})}return t.$$set=z=>{"panOnDrag"in z&&n(0,v=z.panOnDrag),"selectionOnDrag"in z&&n(20,k=z.selectionOnDrag),"$$scope"in z&&n(27,g=z.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&67108865&&n(21,i=m||v),t.$$.dirty[0]&24117248&&n(1,o=s||d||k&&i!==!0),t.$$.dirty[0]&41943042&&n(3,r=h&&(o||l==="user"))},[v,o,C,r,y,K,P,X,A,B,q,W,Z,b,I,F,U,ee,O,j,k,i,s,l,d,h,m,g,w,te]}class Dd extends ge{constructor(e){super(),me(this,e,zd,Nd,be,{panOnDrag:0,selectionOnDrag:20},null,[-1,-1])}}const Td=Dd;function Od(t){let e,n;const i=t[3].default,o=nt(i,t,t[2],null);return{c(){e=de("div"),o&&o.c(),this.h()},l(r){e=he(r,"DIV",{class:!0,style:!0});var s=x(e);o&&o.l(s),s.forEach(N),this.h()},h(){S(e,"class","svelte-flow__viewport xyflow__viewport svelte-1floaup"),fe(e,"transform","translate("+t[0].x+"px, "+t[0].y+"px) scale("+t[0].zoom+")")},m(r,s){Q(r,e,s),o&&o.m(e,null),n=!0},p(r,[s]){o&&o.p&&(!n||s&4)&&it(o,i,r,r[2],n?rt(i,r[2],s,null):ot(r[2]),null),(!n||s&1)&&fe(e,"transform","translate("+r[0].x+"px, "+r[0].y+"px) scale("+r[0].zoom+")")},i(r){n||(V(o,r),n=!0)},o(r){L(o,r),n=!1},d(r){r&&N(e),o&&o.d(r)}}}function Id(t,e,n){let i,{$$slots:o={},$$scope:r}=e;const{viewport:s}=Le();return G(t,s,l=>n(0,i=l)),t.$$set=l=>{"$$scope"in l&&n(2,r=l.$$scope)},[i,s,r,o]}class Hd extends ge{constructor(e){super(),me(this,e,Id,Od,be,{})}}const Ad=Hd;function dl(t,e){const{store:n,onDrag:i,onDragStart:o,onDragStop:r,onNodeMouseDown:s}=e,l=oc({onDrag:i,onDragStart:o,onDragStop:r,onNodeMouseDown:s,getStoreItems:()=>{const u=J(n.snapGrid),f=J(n.viewport);return{nodes:J(n.nodes),nodeLookup:J(n.nodeLookup),edges:J(n.edges),nodeExtent:J(n.nodeExtent),snapGrid:u||[0,0],snapToGrid:!!u,nodeOrigin:J(n.nodeOrigin),multiSelectionActive:J(n.multiselectionKeyPressed),domNode:J(n.domNode),transform:[f.x,f.y,f.zoom],autoPanOnNodeDrag:J(n.autoPanOnNodeDrag),nodesDraggable:J(n.nodesDraggable),selectNodesOnDrag:J(n.selectNodesOnDrag),nodeDragThreshold:J(n.nodeDragThreshold),unselectNodesAndEdges:n.unselectNodesAndEdges,updateNodePositions:n.updateNodePositions,panBy:n.panBy}}});function a(u,f){if(f.disabled){l.destroy();return}l.update({domNode:u,noDragClassName:f.noDragClass,handleSelector:f.handleSelector,nodeId:f.nodeId,isSelectable:f.isSelectable,nodeClickDistance:f.nodeClickDistance})}return a(t,e),{update(u){a(t,u)},destroy(){l.destroy()}}}function Vd({width:t,height:e,initialWidth:n,initialHeight:i,measuredWidth:o,measuredHeight:r}){if(o===void 0&&r===void 0){const s=t??n,l=e??i;return{width:s?`width:${s}px;`:"",height:l?`height:${l}px;`:""}}return{width:t?`width:${t}px;`:"",height:e?`height:${e}px;`:""}}function Yo(t){let e,n,i,o,r,s=`translate(${t[12]}px, ${t[13]}px)`,l,a,u;var f=t[27];function c(d,h){return{props:{data:d[2],id:d[1],selected:d[3]??!1,selectable:d[5]??d[28]??!0,deletable:d[7]??!0,sourcePosition:d[14],targetPosition:d[15],zIndex:d[16],dragging:d[9],draggable:d[4]??d[29]??!0,dragHandle:d[19],parentId:d[21],type:d[25],isConnectable:d[30],positionAbsoluteX:d[12],positionAbsoluteY:d[13],width:d[17],height:d[18]}}}return f&&(n=Yn(f,c(t))),{c(){e=de("div"),n&&ie(n.$$.fragment),this.h()},l(d){e=he(d,"DIV",{"data-id":!0,class:!0,style:!0});var h=x(e);n&&se(n.$$.fragment,h),h.forEach(N),this.h()},h(){S(e,"data-id",t[1]),S(e,"class",i=Ve(["svelte-flow__node",`svelte-flow__node-${t[25]}`,t[23]])),S(e,"style",o=(t[10]??"")+";"+t[26].width+t[26].height),ae(e,"dragging",t[9]),ae(e,"selected",t[3]),ae(e,"draggable",t[4]),ae(e,"connectable",t[6]),ae(e,"selectable",t[5]),ae(e,"nopan",t[4]),ae(e,"parent",t[11]),fe(e,"z-index",t[16]),fe(e,"transform",s),fe(e,"visibility",t[20]?"visible":"hidden")},m(d,h){Q(d,e,h),n&&oe(n,e,null),t[54](e),l=!0,a||(u=[et(r=dl.call(null,e,{nodeId:t[1],isSelectable:t[5],disabled:!1,handleSelector:t[19],noDragClass:"nodrag",nodeClickDistance:t[22],onNodeMouseDown:t[33],onDrag:t[51],onDragStart:t[52],onDragStop:t[53],store:t[31]})),He(e,"click",t[38]),He(e,"mouseenter",t[55]),He(e,"mouseleave",t[56]),He(e,"mousemove",t[57]),He(e,"contextmenu",t[58])],a=!0)},p(d,h){if(h[0]&134217728&&f!==(f=d[27])){if(n){Ke();const y=n;L(y.$$.fragment,1,0,()=>{re(y,1)}),Fe()}f?(n=Yn(f,c(d)),ie(n.$$.fragment),V(n.$$.fragment,1),oe(n,e,null)):n=null}else if(f){const y={};h[0]&4&&(y.data=d[2]),h[0]&2&&(y.id=d[1]),h[0]&8&&(y.selected=d[3]??!1),h[0]&268435488&&(y.selectable=d[5]??d[28]??!0),h[0]&128&&(y.deletable=d[7]??!0),h[0]&16384&&(y.sourcePosition=d[14]),h[0]&32768&&(y.targetPosition=d[15]),h[0]&65536&&(y.zIndex=d[16]),h[0]&512&&(y.dragging=d[9]),h[0]&536870928&&(y.draggable=d[4]??d[29]??!0),h[0]&524288&&(y.dragHandle=d[19]),h[0]&2097152&&(y.parentId=d[21]),h[0]&33554432&&(y.type=d[25]),h[0]&1073741824&&(y.isConnectable=d[30]),h[0]&4096&&(y.positionAbsoluteX=d[12]),h[0]&8192&&(y.positionAbsoluteY=d[13]),h[0]&131072&&(y.width=d[17]),h[0]&262144&&(y.height=d[18]),n.$set(y)}(!l||h[0]&2)&&S(e,"data-id",d[1]),(!l||h[0]&41943040&&i!==(i=Ve(["svelte-flow__node",`svelte-flow__node-${d[25]}`,d[23]])))&&S(e,"class",i),(!l||h[0]&67109888&&o!==(o=(d[10]??"")+";"+d[26].width+d[26].height))&&S(e,"style",o),r&&We(r.update)&&h[0]&4718626&&r.update.call(null,{nodeId:d[1],isSelectable:d[5],disabled:!1,handleSelector:d[19],noDragClass:"nodrag",nodeClickDistance:d[22],onNodeMouseDown:d[33],onDrag:d[51],onDragStart:d[52],onDragStop:d[53],store:d[31]}),(!l||h[0]&41943552)&&ae(e,"dragging",d[9]),(!l||h[0]&41943048)&&ae(e,"selected",d[3]),(!l||h[0]&41943056)&&ae(e,"draggable",d[4]),(!l||h[0]&41943104)&&ae(e,"connectable",d[6]),(!l||h[0]&41943072)&&ae(e,"selectable",d[5]),(!l||h[0]&41943056)&&ae(e,"nopan",d[4]),(!l||h[0]&41945088)&&ae(e,"parent",d[11]);const m=h[0]&67109888;(h[0]&67175424||m)&&fe(e,"z-index",d[16]),(h[0]&67122176&&s!==(s=`translate(${d[12]}px, ${d[13]}px)`)||m)&&fe(e,"transform",s),(h[0]&68158464||m)&&fe(e,"visibility",d[20]?"visible":"hidden")},i(d){l||(n&&V(n.$$.fragment,d),l=!0)},o(d){n&&L(n.$$.fragment,d),l=!1},d(d){d&&N(e),n&&re(n),t[54](null),a=!1,Vt(u)}}}function Xd(t){let e,n,i=!t[8]&&Yo(t);return{c(){i&&i.c(),e=Xe()},l(o){i&&i.l(o),e=Xe()},m(o,r){i&&i.m(o,r),Q(o,e,r),n=!0},p(o,r){o[8]?i&&(Ke(),L(i,1,1,()=>{i=null}),Fe()):i?(i.p(o,r),r[0]&256&&V(i,1)):(i=Yo(o),i.c(),V(i,1),i.m(e.parentNode,e))},i(o){n||(V(i),n=!0)},o(o){L(i),n=!1},d(o){o&&N(e),i&&i.d(o)}}}function Yd(t,e,n){let i,o,r,s,l,a,u,f,{node:c}=e,{id:d}=e,{data:h={}}=e,{selected:m=!1}=e,{draggable:y=void 0}=e,{selectable:w=void 0}=e,{connectable:g=!0}=e,{deletable:v=!0}=e,{hidden:k=!1}=e,{dragging:E=!1}=e,{resizeObserver:H=null}=e,{style:K=void 0}=e,{type:P="default"}=e,{isParent:X=!1}=e,{positionX:A}=e,{positionY:B}=e,{sourcePosition:q=void 0}=e,{targetPosition:W=void 0}=e,{zIndex:Z}=e,{measuredWidth:b=void 0}=e,{measuredHeight:I=void 0}=e,{initialWidth:_=void 0}=e,{initialHeight:C=void 0}=e,{width:D=void 0}=e,{height:T=void 0}=e,{dragHandle:Y=void 0}=e,{initialized:F=!1}=e,{parentId:U=void 0}=e,{nodeClickDistance:ee=void 0}=e,{class:O=""}=e;const j=Le(),{nodeTypes:te,nodeDragThreshold:z,selectNodesOnDrag:le,handleNodeSelection:ye,updateNodeInternals:ue,elementsSelectable:we,nodesDraggable:Ee}=j;G(t,te,M=>n(50,l=M)),G(t,we,M=>n(28,a=M)),G(t,Ee,M=>n(29,u=M));let Ie,R=null;const Pe=xn(),Se=ne(g);G(t,Se,M=>n(30,f=M));let Je,Qe,Ze;Vn("svelteflow__node_id",d),Vn("svelteflow__node_connectable",Se),dr(()=>{R&&(H==null||H.unobserve(R))});function lt(M){w&&(!J(le)||!y||J(z)>0)&&ye(d),Pe("nodeclick",{node:c.internals.userNode,event:M})}const ut=(M,Ge,De,ze)=>{Pe("nodedrag",{event:M,targetNode:De,nodes:ze})},ft=(M,Ge,De,ze)=>{Pe("nodedragstart",{event:M,targetNode:De,nodes:ze})},qe=(M,Ge,De,ze)=>{Pe("nodedragstop",{event:M,targetNode:De,nodes:ze})};function st(M){Oi[M?"unshift":"push"](()=>{Ie=M,n(24,Ie)})}const Ae=M=>Pe("nodemouseenter",{node:c,event:M}),pe=M=>Pe("nodemouseleave",{node:c,event:M}),_e=M=>Pe("nodemousemove",{node:c,event:M}),Be=M=>Pe("nodecontextmenu",{node:c,event:M});return t.$$set=M=>{"node"in M&&n(0,c=M.node),"id"in M&&n(1,d=M.id),"data"in M&&n(2,h=M.data),"selected"in M&&n(3,m=M.selected),"draggable"in M&&n(4,y=M.draggable),"selectable"in M&&n(5,w=M.selectable),"connectable"in M&&n(6,g=M.connectable),"deletable"in M&&n(7,v=M.deletable),"hidden"in M&&n(8,k=M.hidden),"dragging"in M&&n(9,E=M.dragging),"resizeObserver"in M&&n(39,H=M.resizeObserver),"style"in M&&n(10,K=M.style),"type"in M&&n(40,P=M.type),"isParent"in M&&n(11,X=M.isParent),"positionX"in M&&n(12,A=M.positionX),"positionY"in M&&n(13,B=M.positionY),"sourcePosition"in M&&n(14,q=M.sourcePosition),"targetPosition"in M&&n(15,W=M.targetPosition),"zIndex"in M&&n(16,Z=M.zIndex),"measuredWidth"in M&&n(41,b=M.measuredWidth),"measuredHeight"in M&&n(42,I=M.measuredHeight),"initialWidth"in M&&n(43,_=M.initialWidth),"initialHeight"in M&&n(44,C=M.initialHeight),"width"in M&&n(17,D=M.width),"height"in M&&n(18,T=M.height),"dragHandle"in M&&n(19,Y=M.dragHandle),"initialized"in M&&n(20,F=M.initialized),"parentId"in M&&n(21,U=M.parentId),"nodeClickDistance"in M&&n(22,ee=M.nodeClickDistance),"class"in M&&n(23,O=M.class)},t.$$.update=()=>{t.$$.dirty[1]&512&&n(25,i=P||"default"),t.$$.dirty[0]&33554432|t.$$.dirty[1]&524288&&n(49,o=!!l[i]),t.$$.dirty[0]&33554432|t.$$.dirty[1]&524288&&n(27,r=l[i]||sl),t.$$.dirty[1]&262656&&(o||console.warn("003",vn.error003(P))),t.$$.dirty[0]&393216|t.$$.dirty[1]&15360&&n(26,s=Vd({width:D,height:T,initialWidth:_,initialHeight:C,measuredWidth:b,measuredHeight:I})),t.$$.dirty[0]&64&&Se.set(!!g),t.$$.dirty[0]&50380802|t.$$.dirty[1]&229376&&((Je&&i!==Je||Qe&&q!==Qe||Ze&&W!==Ze)&&requestAnimationFrame(()=>ue(new Map([[d,{id:d,nodeElement:Ie,force:!0}]]))),n(46,Je=i),n(47,Qe=q),n(48,Ze=W)),t.$$.dirty[0]&17825792|t.$$.dirty[1]&16640&&H&&(Ie!==R||!F)&&(R&&H.unobserve(R),Ie&&H.observe(Ie),n(45,R=Ie))},[c,d,h,m,y,w,g,v,k,E,K,X,A,B,q,W,Z,D,T,Y,F,U,ee,O,Ie,i,s,r,a,u,f,j,te,ye,we,Ee,Pe,Se,lt,H,P,b,I,_,C,R,Je,Qe,Ze,o,l,ut,ft,qe,st,Ae,pe,_e,Be]}class Rd extends ge{constructor(e){super(),me(this,e,Yd,Xd,cr,{node:0,id:1,data:2,selected:3,draggable:4,selectable:5,connectable:6,deletable:7,hidden:8,dragging:9,resizeObserver:39,style:10,type:40,isParent:11,positionX:12,positionY:13,sourcePosition:14,targetPosition:15,zIndex:16,measuredWidth:41,measuredHeight:42,initialWidth:43,initialHeight:44,width:17,height:18,dragHandle:19,initialized:20,parentId:21,nodeClickDistance:22,class:23},null,[-1,-1])}}const Ld=Rd;const{Map:Bd}=Jl;function Ro(t,e,n){const i=t.slice();return i[21]=e[n],i}function Lo(t,e){let n,i,o;return i=new Ld({props:{node:e[21],id:e[21].id,data:e[21].data,selected:!!e[21].selected,hidden:!!e[21].hidden,draggable:!!(e[21].draggable||e[2]&&typeof e[21].draggable>"u"),selectable:!!(e[21].selectable||e[3]&&typeof e[21].selectable>"u"),connectable:!!(e[21].connectable||e[4]&&typeof e[21].connectable>"u"),deletable:e[21].deletable??!0,positionX:e[21].internals.positionAbsolute.x,positionY:e[21].internals.positionAbsolute.y,isParent:e[5].has(e[21].id),style:e[21].style,class:e[21].class,type:e[21].type??"default",sourcePosition:e[21].sourcePosition,targetPosition:e[21].targetPosition,dragging:e[21].dragging,zIndex:e[21].internals.z??0,dragHandle:e[21].dragHandle,initialized:po(e[21]),width:e[21].width,height:e[21].height,initialWidth:e[21].initialWidth,initialHeight:e[21].initialHeight,measuredWidth:e[21].measured.width,measuredHeight:e[21].measured.height,parentId:e[21].parentId,resizeObserver:e[11],nodeClickDistance:e[0]}}),i.$on("nodeclick",e[12]),i.$on("nodemouseenter",e[13]),i.$on("nodemousemove",e[14]),i.$on("nodemouseleave",e[15]),i.$on("nodedrag",e[16]),i.$on("nodedragstart",e[17]),i.$on("nodedragstop",e[18]),i.$on("nodecontextmenu",e[19]),{key:t,first:null,c(){n=Xe(),ie(i.$$.fragment),this.h()},l(r){n=Xe(),se(i.$$.fragment,r),this.h()},h(){this.first=n},m(r,s){Q(r,n,s),oe(i,r,s),o=!0},p(r,s){e=r;const l={};s&2&&(l.node=e[21]),s&2&&(l.id=e[21].id),s&2&&(l.data=e[21].data),s&2&&(l.selected=!!e[21].selected),s&2&&(l.hidden=!!e[21].hidden),s&6&&(l.draggable=!!(e[21].draggable||e[2]&&typeof e[21].draggable>"u")),s&10&&(l.selectable=!!(e[21].selectable||e[3]&&typeof e[21].selectable>"u")),s&18&&(l.connectable=!!(e[21].connectable||e[4]&&typeof e[21].connectable>"u")),s&2&&(l.deletable=e[21].deletable??!0),s&2&&(l.positionX=e[21].internals.positionAbsolute.x),s&2&&(l.positionY=e[21].internals.positionAbsolute.y),s&34&&(l.isParent=e[5].has(e[21].id)),s&2&&(l.style=e[21].style),s&2&&(l.class=e[21].class),s&2&&(l.type=e[21].type??"default"),s&2&&(l.sourcePosition=e[21].sourcePosition),s&2&&(l.targetPosition=e[21].targetPosition),s&2&&(l.dragging=e[21].dragging),s&2&&(l.zIndex=e[21].internals.z??0),s&2&&(l.dragHandle=e[21].dragHandle),s&2&&(l.initialized=po(e[21])),s&2&&(l.width=e[21].width),s&2&&(l.height=e[21].height),s&2&&(l.initialWidth=e[21].initialWidth),s&2&&(l.initialHeight=e[21].initialHeight),s&2&&(l.measuredWidth=e[21].measured.width),s&2&&(l.measuredHeight=e[21].measured.height),s&2&&(l.parentId=e[21].parentId),s&1&&(l.nodeClickDistance=e[0]),i.$set(l)},i(r){o||(V(i.$$.fragment,r),o=!0)},o(r){L(i.$$.fragment,r),o=!1},d(r){r&&N(n),re(i,r)}}}function Wd(t){let e,n=[],i=new Bd,o,r=$t(t[1]);const s=l=>l[21].id;for(let l=0;l<r.length;l+=1){let a=Ro(t,r,l),u=s(a);i.set(u,n[l]=Lo(u,a))}return{c(){e=de("div");for(let l=0;l<n.length;l+=1)n[l].c();this.h()},l(l){e=he(l,"DIV",{class:!0});var a=x(e);for(let u=0;u<n.length;u+=1)n[u].l(a);a.forEach(N),this.h()},h(){S(e,"class","svelte-flow__nodes svelte-tf4uy4")},m(l,a){Q(l,e,a);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(e,null);o=!0},p(l,[a]){a&2111&&(r=$t(l[1]),Ke(),n=Ii(n,a,s,1,l,r,i,e,Hi,Lo,null,Ro),Fe())},i(l){if(!o){for(let a=0;a<r.length;a+=1)V(n[a]);o=!0}},o(l){for(let a=0;a<n.length;a+=1)L(n[a]);o=!1},d(l){l&&N(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function Kd(t,e,n){let i,o,r,s,l,{nodeClickDistance:a=0}=e;const{visibleNodes:u,nodesDraggable:f,nodesConnectable:c,elementsSelectable:d,updateNodeInternals:h,parentLookup:m}=Le();G(t,u,X=>n(1,i=X)),G(t,f,X=>n(2,o=X)),G(t,c,X=>n(4,s=X)),G(t,d,X=>n(3,r=X)),G(t,m,X=>n(5,l=X));const y=typeof ResizeObserver>"u"?null:new ResizeObserver(X=>{const A=new Map;X.forEach(B=>{const q=B.target.getAttribute("data-id");A.set(q,{id:q,nodeElement:B.target,force:!0})}),h(A)});dr(()=>{y==null||y.disconnect()});function w(X){Ce.call(this,t,X)}function g(X){Ce.call(this,t,X)}function v(X){Ce.call(this,t,X)}function k(X){Ce.call(this,t,X)}function E(X){Ce.call(this,t,X)}function H(X){Ce.call(this,t,X)}function K(X){Ce.call(this,t,X)}function P(X){Ce.call(this,t,X)}return t.$$set=X=>{"nodeClickDistance"in X&&n(0,a=X.nodeClickDistance)},[a,i,o,r,s,l,u,f,c,d,m,y,w,g,v,k,E,H,K,P]}class Fd extends ge{constructor(e){super(),me(this,e,Kd,Wd,be,{nodeClickDistance:0})}}const Zd=Fd;function Bo(t){let e,n,i,o,r,s,l,a;var u=t[27];function f(c,d){return{props:{id:c[0],source:c[1],target:c[2],sourceX:c[14],sourceY:c[15],targetX:c[16],targetY:c[17],sourcePosition:c[18],targetPosition:c[19],animated:c[6],selected:c[7],label:c[10],labelStyle:c[11],data:c[3],style:c[4],interactionWidth:c[21],selectable:c[24],deletable:c[8]??!0,type:c[23],sourceHandleId:c[12],targetHandleId:c[13],markerStart:c[26],markerEnd:c[25]}}}return u&&(i=Yn(u,f(t))),{c(){e=Te("svg"),n=Te("g"),i&&ie(i.$$.fragment),this.h()},l(c){e=Oe(c,"svg",{});var d=x(e);n=Oe(d,"g",{class:!0,"data-id":!0,"aria-label":!0,role:!0});var h=x(n);i&&se(i.$$.fragment,h),h.forEach(N),d.forEach(N),this.h()},h(){S(n,"class",o=Ve(["svelte-flow__edge",t[22]])),S(n,"data-id",t[0]),S(n,"aria-label",r=t[20]===null?void 0:t[20]?t[20]:`Edge from ${t[1]} to ${t[2]}`),S(n,"role","img"),ae(n,"animated",t[6]),ae(n,"selected",t[7]),ae(n,"selectable",t[24]),fe(e,"z-index",t[5])},m(c,d){Q(c,e,d),$(e,n),i&&oe(i,n,null),s=!0,l||(a=[He(n,"click",t[32]),He(n,"contextmenu",t[41]),He(n,"mouseenter",t[42]),He(n,"mouseleave",t[43])],l=!0)},p(c,d){if(d[0]&134217728&&u!==(u=c[27])){if(i){Ke();const h=i;L(h.$$.fragment,1,0,()=>{re(h,1)}),Fe()}u?(i=Yn(u,f(c)),ie(i.$$.fragment),V(i.$$.fragment,1),oe(i,n,null)):i=null}else if(u){const h={};d[0]&1&&(h.id=c[0]),d[0]&2&&(h.source=c[1]),d[0]&4&&(h.target=c[2]),d[0]&16384&&(h.sourceX=c[14]),d[0]&32768&&(h.sourceY=c[15]),d[0]&65536&&(h.targetX=c[16]),d[0]&131072&&(h.targetY=c[17]),d[0]&262144&&(h.sourcePosition=c[18]),d[0]&524288&&(h.targetPosition=c[19]),d[0]&64&&(h.animated=c[6]),d[0]&128&&(h.selected=c[7]),d[0]&1024&&(h.label=c[10]),d[0]&2048&&(h.labelStyle=c[11]),d[0]&8&&(h.data=c[3]),d[0]&16&&(h.style=c[4]),d[0]&2097152&&(h.interactionWidth=c[21]),d[0]&16777216&&(h.selectable=c[24]),d[0]&256&&(h.deletable=c[8]??!0),d[0]&8388608&&(h.type=c[23]),d[0]&4096&&(h.sourceHandleId=c[12]),d[0]&8192&&(h.targetHandleId=c[13]),d[0]&67108864&&(h.markerStart=c[26]),d[0]&33554432&&(h.markerEnd=c[25]),i.$set(h)}(!s||d[0]&4194304&&o!==(o=Ve(["svelte-flow__edge",c[22]])))&&S(n,"class",o),(!s||d[0]&1)&&S(n,"data-id",c[0]),(!s||d[0]&1048582&&r!==(r=c[20]===null?void 0:c[20]?c[20]:`Edge from ${c[1]} to ${c[2]}`))&&S(n,"aria-label",r),(!s||d[0]&4194368)&&ae(n,"animated",c[6]),(!s||d[0]&4194432)&&ae(n,"selected",c[7]),(!s||d[0]&20971520)&&ae(n,"selectable",c[24]),d[0]&32&&fe(e,"z-index",c[5])},i(c){s||(i&&V(i.$$.fragment,c),s=!0)},o(c){i&&L(i.$$.fragment,c),s=!1},d(c){c&&N(e),i&&re(i),l=!1,Vt(a)}}}function qd(t){let e,n,i=!t[9]&&Bo(t);return{c(){i&&i.c(),e=Xe()},l(o){i&&i.l(o),e=Xe()},m(o,r){i&&i.m(o,r),Q(o,e,r),n=!0},p(o,r){o[9]?i&&(Ke(),L(i,1,1,()=>{i=null}),Fe()):i?(i.p(o,r),r[0]&512&&V(i,1)):(i=Bo(o),i.c(),V(i,1),i.m(e.parentNode,e))},i(o){n||(V(i),n=!0)},o(o){L(i),n=!1},d(o){o&&N(e),i&&i.d(o)}}}function Gd(t,e,n){let i,o,r,s,l,a,u,f,c,{id:d}=e,{type:h="default"}=e,{source:m=""}=e,{target:y=""}=e,{data:w={}}=e,{style:g=void 0}=e,{zIndex:v=void 0}=e,{animated:k=!1}=e,{selected:E=!1}=e,{selectable:H=void 0}=e,{deletable:K=void 0}=e,{hidden:P=!1}=e,{label:X=void 0}=e,{labelStyle:A=void 0}=e,{markerStart:B=void 0}=e,{markerEnd:q=void 0}=e,{sourceHandle:W=void 0}=e,{targetHandle:Z=void 0}=e,{sourceX:b}=e,{sourceY:I}=e,{targetX:_}=e,{targetY:C}=e,{sourcePosition:D}=e,{targetPosition:T}=e,{ariaLabel:Y=void 0}=e,{interactionWidth:F=void 0}=e,{class:U=""}=e;Vn("svelteflow__edge_id",d);const{edgeLookup:ee,edgeTypes:O,flowId:j,elementsSelectable:te}=Le();G(t,ee,R=>n(44,a=R)),G(t,O,R=>n(40,c=R)),G(t,j,R=>n(39,f=R)),G(t,te,R=>n(38,u=R));const z=xn(),le=al();function ye(R){const Pe=a.get(d);Pe&&(le(d),z("edgeclick",{event:R,edge:Pe}))}function ue(R,Pe){const Se=a.get(d);Se&&z(Pe,{event:R,edge:Se})}const we=R=>{ue(R,"edgecontextmenu")},Ee=R=>{ue(R,"edgemouseenter")},Ie=R=>{ue(R,"edgemouseleave")};return t.$$set=R=>{"id"in R&&n(0,d=R.id),"type"in R&&n(34,h=R.type),"source"in R&&n(1,m=R.source),"target"in R&&n(2,y=R.target),"data"in R&&n(3,w=R.data),"style"in R&&n(4,g=R.style),"zIndex"in R&&n(5,v=R.zIndex),"animated"in R&&n(6,k=R.animated),"selected"in R&&n(7,E=R.selected),"selectable"in R&&n(35,H=R.selectable),"deletable"in R&&n(8,K=R.deletable),"hidden"in R&&n(9,P=R.hidden),"label"in R&&n(10,X=R.label),"labelStyle"in R&&n(11,A=R.labelStyle),"markerStart"in R&&n(36,B=R.markerStart),"markerEnd"in R&&n(37,q=R.markerEnd),"sourceHandle"in R&&n(12,W=R.sourceHandle),"targetHandle"in R&&n(13,Z=R.targetHandle),"sourceX"in R&&n(14,b=R.sourceX),"sourceY"in R&&n(15,I=R.sourceY),"targetX"in R&&n(16,_=R.targetX),"targetY"in R&&n(17,C=R.targetY),"sourcePosition"in R&&n(18,D=R.sourcePosition),"targetPosition"in R&&n(19,T=R.targetPosition),"ariaLabel"in R&&n(20,Y=R.ariaLabel),"interactionWidth"in R&&n(21,F=R.interactionWidth),"class"in R&&n(22,U=R.class)},t.$$.update=()=>{t.$$.dirty[1]&8&&n(23,i=h||"default"),t.$$.dirty[0]&8388608|t.$$.dirty[1]&512&&n(27,o=c[i]||ul),t.$$.dirty[1]&288&&n(26,r=B?`url('#${Ti(B,f)}')`:void 0),t.$$.dirty[1]&320&&n(25,s=q?`url('#${Ti(q,f)}')`:void 0),t.$$.dirty[1]&144&&n(24,l=H??u)},[d,m,y,w,g,v,k,E,K,P,X,A,W,Z,b,I,_,C,D,T,Y,F,U,i,l,s,r,o,ee,O,j,te,ye,ue,h,H,B,q,u,f,c,we,Ee,Ie]}class Ud extends ge{constructor(e){super(),me(this,e,Gd,qd,cr,{id:0,type:34,source:1,target:2,data:3,style:4,zIndex:5,animated:6,selected:7,selectable:35,deletable:8,hidden:9,label:10,labelStyle:11,markerStart:36,markerEnd:37,sourceHandle:12,targetHandle:13,sourceX:14,sourceY:15,targetX:16,targetY:17,sourcePosition:18,targetPosition:19,ariaLabel:20,interactionWidth:21,class:22},null,[-1,-1])}}const Jd=Ud;function Qd(t,e,n){let{onMount:i=void 0}=e,{onDestroy:o=void 0}=e;return jn(()=>(i==null||i(),o)),t.$$set=r=>{"onMount"in r&&n(0,i=r.onMount),"onDestroy"in r&&n(1,o=r.onDestroy)},[i,o]}class jd extends ge{constructor(e){super(),me(this,e,Qd,null,be,{onMount:0,onDestroy:1})}}const xd=jd;function Wo(t,e,n){const i=t.slice();return i[2]=e[n],i}function Ko(t,e){let n,i,o;const r=[e[2]];let s={};for(let l=0;l<r.length;l+=1)s=Ne(s,r[l]);return i=new ah({props:s}),{key:t,first:null,c(){n=Xe(),ie(i.$$.fragment),this.h()},l(l){n=Xe(),se(i.$$.fragment,l),this.h()},h(){this.first=n},m(l,a){Q(l,n,a),oe(i,l,a),o=!0},p(l,a){e=l;const u=a&1?At(r,[dn(e[2])]):{};i.$set(u)},i(l){o||(V(i.$$.fragment,l),o=!0)},o(l){L(i.$$.fragment,l),o=!1},d(l){l&&N(n),re(i,l)}}}function $d(t){let e,n=[],i=new Map,o,r=$t(t[0]);const s=l=>l[2].id;for(let l=0;l<r.length;l+=1){let a=Wo(t,r,l),u=s(a);i.set(u,n[l]=Ko(u,a))}return{c(){e=Te("defs");for(let l=0;l<n.length;l+=1)n[l].c()},l(l){e=Oe(l,"defs",{});var a=x(e);for(let u=0;u<n.length;u+=1)n[u].l(a);a.forEach(N)},m(l,a){Q(l,e,a);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(e,null);o=!0},p(l,[a]){a&1&&(r=$t(l[0]),Ke(),n=Ii(n,a,s,1,l,r,i,e,Hi,Ko,null,Wo),Fe())},i(l){if(!o){for(let a=0;a<r.length;a+=1)V(n[a]);o=!0}},o(l){for(let a=0;a<n.length;a+=1)L(n[a]);o=!1},d(l){l&&N(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function eh(t,e,n){let i;const{markers:o}=Le();return G(t,o,r=>n(0,i=r)),[i,o]}class th extends ge{constructor(e){super(),me(this,e,eh,$d,be,{})}}const nh=th;function ih(t){let e;return{c(){e=Te("polyline"),this.h()},l(n){e=Oe(n,"polyline",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,fill:!0,points:!0}),x(e).forEach(N),this.h()},h(){S(e,"stroke",t[6]),S(e,"stroke-linecap","round"),S(e,"stroke-linejoin","round"),S(e,"stroke-width",t[7]),S(e,"fill",t[6]),S(e,"points","-5,-4 0,0 -5,4 -5,-4")},m(n,i){Q(n,e,i)},p(n,i){i&64&&S(e,"stroke",n[6]),i&128&&S(e,"stroke-width",n[7]),i&64&&S(e,"fill",n[6])},d(n){n&&N(e)}}}function oh(t){let e;return{c(){e=Te("polyline"),this.h()},l(n){e=Oe(n,"polyline",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,fill:!0,points:!0}),x(e).forEach(N),this.h()},h(){S(e,"stroke",t[6]),S(e,"stroke-linecap","round"),S(e,"stroke-linejoin","round"),S(e,"stroke-width",t[7]),S(e,"fill","none"),S(e,"points","-5,-4 0,0 -5,4")},m(n,i){Q(n,e,i)},p(n,i){i&64&&S(e,"stroke",n[6]),i&128&&S(e,"stroke-width",n[7])},d(n){n&&N(e)}}}function rh(t){let e,n,i;function o(l,a){if(l[1]===Gn.Arrow)return oh;if(l[1]===Gn.ArrowClosed)return ih}let r=o(t),s=r&&r(t);return{c(){e=Te("marker"),s&&s.c(),this.h()},l(l){e=Oe(l,"marker",{class:!0,id:!0,markerWidth:!0,markerHeight:!0,viewBox:!0,markerUnits:!0,orient:!0,refX:!0,refY:!0});var a=x(e);s&&s.l(a),a.forEach(N),this.h()},h(){S(e,"class","svelte-flow__arrowhead"),S(e,"id",t[0]),S(e,"markerWidth",n=`${t[2]}`),S(e,"markerHeight",i=`${t[3]}`),S(e,"viewBox","-10 -10 20 20"),S(e,"markerUnits",t[4]),S(e,"orient",t[5]),S(e,"refX","0"),S(e,"refY","0")},m(l,a){Q(l,e,a),s&&s.m(e,null)},p(l,[a]){r===(r=o(l))&&s?s.p(l,a):(s&&s.d(1),s=r&&r(l),s&&(s.c(),s.m(e,null))),a&1&&S(e,"id",l[0]),a&4&&n!==(n=`${l[2]}`)&&S(e,"markerWidth",n),a&8&&i!==(i=`${l[3]}`)&&S(e,"markerHeight",i),a&16&&S(e,"markerUnits",l[4]),a&32&&S(e,"orient",l[5])},i:Me,o:Me,d(l){l&&N(e),s&&s.d()}}}function lh(t,e,n){let{id:i}=e,{type:o}=e,{width:r=12.5}=e,{height:s=12.5}=e,{markerUnits:l="strokeWidth"}=e,{orient:a="auto-start-reverse"}=e,{color:u=void 0}=e,{strokeWidth:f=void 0}=e;return t.$$set=c=>{"id"in c&&n(0,i=c.id),"type"in c&&n(1,o=c.type),"width"in c&&n(2,r=c.width),"height"in c&&n(3,s=c.height),"markerUnits"in c&&n(4,l=c.markerUnits),"orient"in c&&n(5,a=c.orient),"color"in c&&n(6,u=c.color),"strokeWidth"in c&&n(7,f=c.strokeWidth)},[i,o,r,s,l,a,u,f]}class sh extends ge{constructor(e){super(),me(this,e,lh,rh,be,{id:0,type:1,width:2,height:3,markerUnits:4,orient:5,color:6,strokeWidth:7})}}const ah=sh;function Fo(t,e,n){const i=t.slice();return i[14]=e[n],i}function Zo(t,e){let n,i,o;return i=new Jd({props:{id:e[14].id,source:e[14].source,target:e[14].target,data:e[14].data,style:e[14].style,animated:e[14].animated,selected:e[14].selected,selectable:e[14].selectable??e[1],deletable:e[14].deletable,hidden:e[14].hidden,label:e[14].label,labelStyle:e[14].labelStyle,markerStart:e[14].markerStart,markerEnd:e[14].markerEnd,sourceHandle:e[14].sourceHandle,targetHandle:e[14].targetHandle,sourceX:e[14].sourceX,sourceY:e[14].sourceY,targetX:e[14].targetX,targetY:e[14].targetY,sourcePosition:e[14].sourcePosition,targetPosition:e[14].targetPosition,ariaLabel:e[14].ariaLabel,interactionWidth:e[14].interactionWidth,class:e[14].class,type:e[14].type||"default",zIndex:e[14].zIndex}}),i.$on("edgeclick",e[7]),i.$on("edgecontextmenu",e[8]),i.$on("edgemouseenter",e[9]),i.$on("edgemouseleave",e[10]),{key:t,first:null,c(){n=Xe(),ie(i.$$.fragment),this.h()},l(r){n=Xe(),se(i.$$.fragment,r),this.h()},h(){this.first=n},m(r,s){Q(r,n,s),oe(i,r,s),o=!0},p(r,s){e=r;const l={};s&1&&(l.id=e[14].id),s&1&&(l.source=e[14].source),s&1&&(l.target=e[14].target),s&1&&(l.data=e[14].data),s&1&&(l.style=e[14].style),s&1&&(l.animated=e[14].animated),s&1&&(l.selected=e[14].selected),s&3&&(l.selectable=e[14].selectable??e[1]),s&1&&(l.deletable=e[14].deletable),s&1&&(l.hidden=e[14].hidden),s&1&&(l.label=e[14].label),s&1&&(l.labelStyle=e[14].labelStyle),s&1&&(l.markerStart=e[14].markerStart),s&1&&(l.markerEnd=e[14].markerEnd),s&1&&(l.sourceHandle=e[14].sourceHandle),s&1&&(l.targetHandle=e[14].targetHandle),s&1&&(l.sourceX=e[14].sourceX),s&1&&(l.sourceY=e[14].sourceY),s&1&&(l.targetX=e[14].targetX),s&1&&(l.targetY=e[14].targetY),s&1&&(l.sourcePosition=e[14].sourcePosition),s&1&&(l.targetPosition=e[14].targetPosition),s&1&&(l.ariaLabel=e[14].ariaLabel),s&1&&(l.interactionWidth=e[14].interactionWidth),s&1&&(l.class=e[14].class),s&1&&(l.type=e[14].type||"default"),s&1&&(l.zIndex=e[14].zIndex),i.$set(l)},i(r){o||(V(i.$$.fragment,r),o=!0)},o(r){L(i.$$.fragment,r),o=!1},d(r){r&&N(n),re(i,r)}}}function qo(t){let e,n;return e=new xd({props:{onMount:t[11],onDestroy:t[12]}}),{c(){ie(e.$$.fragment)},l(i){se(e.$$.fragment,i)},m(i,o){oe(e,i,o),n=!0},p(i,o){const r={};o&4&&(r.onMount=i[11]),o&4&&(r.onDestroy=i[12]),e.$set(r)},i(i){n||(V(e.$$.fragment,i),n=!0)},o(i){L(e.$$.fragment,i),n=!1},d(i){re(e,i)}}}function uh(t){let e,n,i,o,r=[],s=new Map,l,a;i=new nh({});let u=$t(t[0]);const f=d=>d[14].id;for(let d=0;d<u.length;d+=1){let h=Fo(t,u,d),m=f(h);s.set(m,r[d]=Zo(m,h))}let c=t[0].length>0&&qo(t);return{c(){e=de("div"),n=Te("svg"),ie(i.$$.fragment),o=ke();for(let d=0;d<r.length;d+=1)r[d].c();l=ke(),c&&c.c(),this.h()},l(d){e=he(d,"DIV",{class:!0});var h=x(e);n=Oe(h,"svg",{class:!0});var m=x(n);se(i.$$.fragment,m),m.forEach(N),o=ve(h);for(let y=0;y<r.length;y+=1)r[y].l(h);l=ve(h),c&&c.l(h),h.forEach(N),this.h()},h(){S(n,"class","svelte-flow__marker"),S(e,"class","svelte-flow__edges")},m(d,h){Q(d,e,h),$(e,n),oe(i,n,null),$(e,o);for(let m=0;m<r.length;m+=1)r[m]&&r[m].m(e,null);$(e,l),c&&c.m(e,null),a=!0},p(d,[h]){h&3&&(u=$t(d[0]),Ke(),r=Ii(r,h,f,1,d,u,s,e,Hi,Zo,l,Fo),Fe()),d[0].length>0?c?(c.p(d,h),h&1&&V(c,1)):(c=qo(d),c.c(),V(c,1),c.m(e,null)):c&&(Ke(),L(c,1,1,()=>{c=null}),Fe())},i(d){if(!a){V(i.$$.fragment,d);for(let h=0;h<u.length;h+=1)V(r[h]);V(c),a=!0}},o(d){L(i.$$.fragment,d);for(let h=0;h<r.length;h+=1)L(r[h]);L(c),a=!1},d(d){d&&N(e),re(i);for(let h=0;h<r.length;h+=1)r[h].d();c&&c.d()}}}function fh(t,e,n){let i,o,r,{defaultEdgeOptions:s}=e;const{visibleEdges:l,edgesInitialized:a,edges:{setDefaultOptions:u},elementsSelectable:f}=Le();G(t,l,g=>n(0,i=g)),G(t,a,g=>n(2,r=g)),G(t,f,g=>n(1,o=g)),jn(()=>{s&&u(s)});function c(g){Ce.call(this,t,g)}function d(g){Ce.call(this,t,g)}function h(g){Ce.call(this,t,g)}function m(g){Ce.call(this,t,g)}const y=()=>{Xn(a,r=!0,r)},w=()=>{Xn(a,r=!1,r)};return t.$$set=g=>{"defaultEdgeOptions"in g&&n(6,s=g.defaultEdgeOptions)},[i,o,r,l,a,f,s,c,d,h,m,y,w]}class ch extends ge{constructor(e){super(),me(this,e,fh,uh,be,{defaultEdgeOptions:6})}}const dh=ch;function Go(t){let e;return{c(){e=de("div"),this.h()},l(n){e=he(n,"DIV",{class:!0}),x(e).forEach(N),this.h()},h(){S(e,"class","svelte-flow__selection svelte-1iugwpu"),fe(e,"width",typeof t[2]=="string"?t[2]:`${t[2]}px`),fe(e,"height",typeof t[3]=="string"?t[3]:`${t[3]}px`),fe(e,"transform",`translate(${t[0]}px, ${t[1]}px)`)},m(n,i){Q(n,e,i)},p(n,i){i&4&&fe(e,"width",typeof n[2]=="string"?n[2]:`${n[2]}px`),i&8&&fe(e,"height",typeof n[3]=="string"?n[3]:`${n[3]}px`),i&3&&fe(e,"transform",`translate(${n[0]}px, ${n[1]}px)`)},d(n){n&&N(e)}}}function hh(t){let e,n=t[4]&&Go(t);return{c(){n&&n.c(),e=Xe()},l(i){n&&n.l(i),e=Xe()},m(i,o){n&&n.m(i,o),Q(i,e,o)},p(i,[o]){i[4]?n?n.p(i,o):(n=Go(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:Me,o:Me,d(i){i&&N(e),n&&n.d(i)}}}function gh(t,e,n){let{x:i=0}=e,{y:o=0}=e,{width:r=0}=e,{height:s=0}=e,{isVisible:l=!0}=e;return t.$$set=a=>{"x"in a&&n(0,i=a.x),"y"in a&&n(1,o=a.y),"width"in a&&n(2,r=a.width),"height"in a&&n(3,s=a.height),"isVisible"in a&&n(4,l=a.isVisible)},[i,o,r,s,l]}class mh extends ge{constructor(e){super(),me(this,e,gh,hh,be,{x:0,y:1,width:2,height:3,isVisible:4})}}const hl=mh;function yh(t){var i,o,r,s;let e,n;return e=new hl({props:{isVisible:!!(t[0]&&t[1]==="user"),width:(i=t[0])==null?void 0:i.width,height:(o=t[0])==null?void 0:o.height,x:(r=t[0])==null?void 0:r.x,y:(s=t[0])==null?void 0:s.y}}),{c(){ie(e.$$.fragment)},l(l){se(e.$$.fragment,l)},m(l,a){oe(e,l,a),n=!0},p(l,[a]){var f,c,d,h;const u={};a&3&&(u.isVisible=!!(l[0]&&l[1]==="user")),a&1&&(u.width=(f=l[0])==null?void 0:f.width),a&1&&(u.height=(c=l[0])==null?void 0:c.height),a&1&&(u.x=(d=l[0])==null?void 0:d.x),a&1&&(u.y=(h=l[0])==null?void 0:h.y),e.$set(u)},i(l){n||(V(e.$$.fragment,l),n=!0)},o(l){L(e.$$.fragment,l),n=!1},d(l){re(e,l)}}}function _h(t,e,n){let i,o;const{selectionRect:r,selectionRectMode:s}=Le();return G(t,r,l=>n(0,i=l)),G(t,s,l=>n(1,o=l)),[i,o,r,s]}class bh extends ge{constructor(e){super(),me(this,e,_h,yh,be,{})}}const wh=bh;function Uo(t){let e,n,i,o,r;return n=new hl({props:{width:"100%",height:"100%",x:0,y:0}}),{c(){e=de("div"),ie(n.$$.fragment),this.h()},l(s){e=he(s,"DIV",{class:!0,style:!0,role:!0,tabindex:!0});var l=x(e);se(n.$$.fragment,l),l.forEach(N),this.h()},h(){S(e,"class","selection-wrapper nopan svelte-5pxri"),fe(e,"width",t[1].width+"px"),fe(e,"height",t[1].height+"px"),fe(e,"transform","translate("+t[1].x+"px, "+t[1].y+"px)"),S(e,"role","button"),S(e,"tabindex","-1")},m(s,l){Q(s,e,l),oe(n,e,null),i=!0,o||(r=[et(dl.call(null,e,{disabled:!1,store:t[2],onDrag:t[11],onDragStart:t[12],onDragStop:t[13]})),He(e,"contextmenu",t[7]),He(e,"click",t[8]),He(e,"keyup",vh)],o=!0)},p(s,l){(!i||l&2)&&fe(e,"width",s[1].width+"px"),(!i||l&2)&&fe(e,"height",s[1].height+"px"),(!i||l&2)&&fe(e,"transform","translate("+s[1].x+"px, "+s[1].y+"px)")},i(s){i||(V(n.$$.fragment,s),i=!0)},o(s){L(n.$$.fragment,s),i=!1},d(s){s&&N(e),re(n),o=!1,Vt(r)}}}function kh(t){let e=t[0]==="nodes"&&t[1]&&Yt(t[1].x)&&Yt(t[1].y),n,i,o=e&&Uo(t);return{c(){o&&o.c(),n=Xe()},l(r){o&&o.l(r),n=Xe()},m(r,s){o&&o.m(r,s),Q(r,n,s),i=!0},p(r,[s]){s&3&&(e=r[0]==="nodes"&&r[1]&&Yt(r[1].x)&&Yt(r[1].y)),e?o?(o.p(r,s),s&3&&V(o,1)):(o=Uo(r),o.c(),V(o,1),o.m(n.parentNode,n)):o&&(Ke(),L(o,1,1,()=>{o=null}),Fe())},i(r){i||(V(o),i=!0)},o(r){L(o),i=!1},d(r){r&&N(n),o&&o.d(r)}}}const vh=()=>{};function Eh(t,e,n){let i,o,r;const s=Le(),{selectionRectMode:l,nodes:a,nodeLookup:u}=s;G(t,l,g=>n(0,r=g)),G(t,a,g=>n(9,i=g)),G(t,u,g=>n(10,o=g));const f=xn();let c=null;function d(g){const v=i.filter(k=>k.selected);f("selectioncontextmenu",{nodes:v,event:g})}function h(g){const v=i.filter(k=>k.selected);f("selectionclick",{nodes:v,event:g})}const m=(g,v,k,E)=>{f("nodedrag",{event:g,targetNode:null,nodes:E})},y=(g,v,k,E)=>{f("nodedragstart",{event:g,targetNode:null,nodes:E})},w=(g,v,k,E)=>{f("nodedragstop",{event:g,targetNode:null,nodes:E})};return t.$$.update=()=>{t.$$.dirty&1537&&r==="nodes"&&n(1,c=oi(o,{filter:g=>!!g.selected}))},[r,c,s,l,a,u,f,d,h,i,o,m,y,w]}class Sh extends ge{constructor(e){super(),me(this,e,Eh,kh,be,{})}}const ph=Sh;function wt(t,e){let{enabled:n=!0,trigger:i,type:o="keydown"}=e;function r(s){const l=Array.isArray(i)?i:[i],a={alt:s.altKey,ctrl:s.ctrlKey,shift:s.shiftKey,meta:s.metaKey};for(const u of l){const f={modifier:[],preventDefault:!1,enabled:!0,...u},{modifier:c,key:d,callback:h,preventDefault:m,enabled:y}=f;if(y){if(c.length&&!(Array.isArray(c)?c:[c]).map(v=>typeof v=="string"?[v]:v).some(v=>v.every(k=>a[k])))continue;if(s.key===d){m&&s.preventDefault();const w={node:t,trigger:f,originalEvent:s};t.dispatchEvent(new CustomEvent("shortcut",{detail:w})),h==null||h(w)}}}}return n&&t.addEventListener(o,r),{update:s=>{const{enabled:l=!0,type:a="keydown"}=s;n&&(!l||o!==a)?t.removeEventListener(o,r):!n&&l&&t.addEventListener(a,r),n=l,o=a,i=s.trigger},destroy:()=>{t.removeEventListener(o,r)}}}function Ch(t){let e,n,i,o,r,s,l,a,u,f,c,d;return{c:Me,l:Me,m(h,m){c||(d=[et(e=wt.call(null,window,{trigger:Re(t[0],t[11]),type:"keydown"})),et(n=wt.call(null,window,{trigger:Re(t[0],t[12]),type:"keyup"})),et(i=wt.call(null,window,{trigger:Re(t[1],t[13]),type:"keydown"})),et(o=wt.call(null,window,{trigger:Re(t[1],t[14]),type:"keyup"})),et(r=wt.call(null,window,{trigger:Re(t[2],t[15]),type:"keydown"})),et(s=wt.call(null,window,{trigger:Re(t[2],t[16]),type:"keyup"})),et(l=wt.call(null,window,{trigger:Re(t[3],t[17]),type:"keydown"})),et(a=wt.call(null,window,{trigger:Re(t[3],t[18]),type:"keyup"})),et(u=wt.call(null,window,{trigger:Re(t[4],t[19]),type:"keydown"})),et(f=wt.call(null,window,{trigger:Re(t[4],t[20]),type:"keyup"})),He(window,"blur",t[10]),He(window,"contextmenu",t[10])],c=!0)},p(h,[m]){e&&We(e.update)&&m&1&&e.update.call(null,{trigger:Re(h[0],h[11]),type:"keydown"}),n&&We(n.update)&&m&1&&n.update.call(null,{trigger:Re(h[0],h[12]),type:"keyup"}),i&&We(i.update)&&m&2&&i.update.call(null,{trigger:Re(h[1],h[13]),type:"keydown"}),o&&We(o.update)&&m&2&&o.update.call(null,{trigger:Re(h[1],h[14]),type:"keyup"}),r&&We(r.update)&&m&4&&r.update.call(null,{trigger:Re(h[2],h[15]),type:"keydown"}),s&&We(s.update)&&m&4&&s.update.call(null,{trigger:Re(h[2],h[16]),type:"keyup"}),l&&We(l.update)&&m&8&&l.update.call(null,{trigger:Re(h[3],h[17]),type:"keydown"}),a&&We(a.update)&&m&8&&a.update.call(null,{trigger:Re(h[3],h[18]),type:"keyup"}),u&&We(u.update)&&m&16&&u.update.call(null,{trigger:Re(h[4],h[19]),type:"keydown"}),f&&We(f.update)&&m&16&&f.update.call(null,{trigger:Re(h[4],h[20]),type:"keyup"})},i:Me,o:Me,d(h){c=!1,Vt(d)}}}function gl(t){return t!==null&&typeof t=="object"}function Mh(t){return gl(t)?t.modifier||[]:[]}function Ph(t){return t==null?"":gl(t)?t.key:t}function Re(t,e){return(Array.isArray(t)?t:[t]).map(i=>{const o=Ph(i);return{key:o,modifier:Mh(i),enabled:o!==null,callback:e}})}function Nh(t,e,n){let{selectionKey:i="Shift"}=e,{multiSelectionKey:o=Un()?"Meta":"Control"}=e,{deleteKey:r="Backspace"}=e,{panActivationKey:s=" "}=e,{zoomActivationKey:l=Un()?"Meta":"Control"}=e;const{selectionKeyPressed:a,multiselectionKeyPressed:u,deleteKeyPressed:f,panActivationKeyPressed:c,zoomActivationKeyPressed:d,selectionRect:h}=Le();function m(){h.set(null),a.set(!1),u.set(!1),f.set(!1),c.set(!1),d.set(!1)}const y=()=>a.set(!0),w=()=>a.set(!1),g=()=>u.set(!0),v=()=>u.set(!1),k=A=>{!(A.originalEvent.ctrlKey||A.originalEvent.metaKey||A.originalEvent.shiftKey)&&!Yf(A.originalEvent)&&f.set(!0)},E=()=>f.set(!1),H=()=>c.set(!0),K=()=>c.set(!1),P=()=>d.set(!0),X=()=>d.set(!1);return t.$$set=A=>{"selectionKey"in A&&n(0,i=A.selectionKey),"multiSelectionKey"in A&&n(1,o=A.multiSelectionKey),"deleteKey"in A&&n(2,r=A.deleteKey),"panActivationKey"in A&&n(3,s=A.panActivationKey),"zoomActivationKey"in A&&n(4,l=A.zoomActivationKey)},[i,o,r,s,l,a,u,f,c,d,m,y,w,g,v,k,E,H,K,P,X]}class zh extends ge{constructor(e){super(),me(this,e,Nh,Ch,be,{selectionKey:0,multiSelectionKey:1,deleteKey:2,panActivationKey:3,zoomActivationKey:4})}}const Dh=zh,Th=t=>({}),Jo=t=>({});function Qo(t){let e,n,i,o;const r=t[13].connectionLine,s=nt(r,t,t[12],Jo);let l=!t[2]&&jo(t);return{c(){e=Te("svg"),n=Te("g"),s&&s.c(),l&&l.c(),this.h()},l(a){e=Oe(a,"svg",{width:!0,height:!0,class:!0,style:!0});var u=x(e);n=Oe(u,"g",{class:!0});var f=x(n);s&&s.l(f),l&&l.l(f),f.forEach(N),u.forEach(N),this.h()},h(){S(n,"class",i=Ve(["svelte-flow__connection",ko(t[3].isValid)])),S(e,"width",t[5]),S(e,"height",t[6]),S(e,"class","svelte-flow__connectionline"),S(e,"style",t[0])},m(a,u){Q(a,e,u),$(e,n),s&&s.m(n,null),l&&l.m(n,null),o=!0},p(a,u){s&&s.p&&(!o||u&4096)&&it(s,r,a,a[12],o?rt(r,a[12],u,Th):ot(a[12]),Jo),a[2]?l&&(l.d(1),l=null):l?l.p(a,u):(l=jo(a),l.c(),l.m(n,null)),(!o||u&8&&i!==(i=Ve(["svelte-flow__connection",ko(a[3].isValid)])))&&S(n,"class",i),(!o||u&32)&&S(e,"width",a[5]),(!o||u&64)&&S(e,"height",a[6]),(!o||u&1)&&S(e,"style",a[0])},i(a){o||(V(s,a),o=!0)},o(a){L(s,a),o=!1},d(a){a&&N(e),s&&s.d(a),l&&l.d()}}}function jo(t){let e;return{c(){e=Te("path"),this.h()},l(n){e=Oe(n,"path",{d:!0,style:!0,fill:!0,class:!0}),x(e).forEach(N),this.h()},h(){S(e,"d",t[4]),S(e,"style",t[1]),S(e,"fill","none"),S(e,"class","svelte-flow__connection-path")},m(n,i){Q(n,e,i)},p(n,i){i&16&&S(e,"d",n[4]),i&2&&S(e,"style",n[1])},d(n){n&&N(e)}}}function Oh(t){let e,n,i=t[3].inProgress&&Qo(t);return{c(){i&&i.c(),e=Xe()},l(o){i&&i.l(o),e=Xe()},m(o,r){i&&i.m(o,r),Q(o,e,r),n=!0},p(o,[r]){o[3].inProgress?i?(i.p(o,r),r&8&&V(i,1)):(i=Qo(o),i.c(),V(i,1),i.m(e.parentNode,e)):i&&(Ke(),L(i,1,1,()=>{i=null}),Fe())},i(o){n||(V(i),n=!0)},o(o){L(i),n=!1},d(o){o&&N(e),i&&i.d(o)}}}function Ih(t,e,n){let i,o,r,s,{$$slots:l={},$$scope:a}=e,{containerStyle:u=""}=e,{style:f=""}=e,{isCustomComponent:c=!1}=e;const{width:d,height:h,connection:m,connectionLineType:y}=Le();G(t,d,g=>n(5,r=g)),G(t,h,g=>n(6,s=g)),G(t,m,g=>n(3,o=g)),G(t,y,g=>n(11,i=g));let w=null;return t.$$set=g=>{"containerStyle"in g&&n(0,u=g.containerStyle),"style"in g&&n(1,f=g.style),"isCustomComponent"in g&&n(2,c=g.isCustomComponent),"$$scope"in g&&n(12,a=g.$$scope)},t.$$.update=()=>{if(t.$$.dirty&2060&&o.inProgress&&!c){const{from:g,to:v,fromPosition:k,toPosition:E}=o,H={sourceX:g.x,sourceY:g.y,sourcePosition:k,targetX:v.x,targetY:v.y,targetPosition:E};switch(i){case jt.Bezier:n(4,[w]=Ur(H),w);break;case jt.Step:n(4,[w]=Jn({...H,borderRadius:0}),w);break;case jt.SmoothStep:n(4,[w]=Jn(H),w);break;default:n(4,[w]=Qr(H),w)}}},[u,f,c,o,w,r,s,d,h,m,y,i,a,l]}class Hh extends ge{constructor(e){super(),me(this,e,Ih,Oh,be,{containerStyle:0,style:1,isCustomComponent:2})}}const Ah=Hh;function Vh(t){let e,n,i;const o=t[8].default,r=nt(o,t,t[7],null);let s=[{class:n=Ve(["svelte-flow__panel",t[1],...t[2]])},{style:t[0]},t[5]],l={};for(let a=0;a<s.length;a+=1)l=Ne(l,s[a]);return{c(){e=de("div"),r&&r.c(),this.h()},l(a){e=he(a,"DIV",{class:!0,style:!0});var u=x(e);r&&r.l(u),u.forEach(N),this.h()},h(){xt(e,l),fe(e,"pointer-events",t[3]?"none":"")},m(a,u){Q(a,e,u),r&&r.m(e,null),i=!0},p(a,[u]){r&&r.p&&(!i||u&128)&&it(r,o,a,a[7],i?rt(o,a[7],u,null):ot(a[7]),null),xt(e,l=At(s,[(!i||u&6&&n!==(n=Ve(["svelte-flow__panel",a[1],...a[2]])))&&{class:n},(!i||u&1)&&{style:a[0]},u&32&&a[5]])),fe(e,"pointer-events",a[3]?"none":"")},i(a){i||(V(r,a),i=!0)},o(a){L(r,a),i=!1},d(a){a&&N(e),r&&r.d(a)}}}function Xh(t,e,n){let i;const o=["position","style","class"];let r=Ye(e,o),s,{$$slots:l={},$$scope:a}=e,{position:u="top-right"}=e,{style:f=void 0}=e,{class:c=void 0}=e;const{selectionRectMode:d}=Le();return G(t,d,h=>n(3,s=h)),t.$$set=h=>{e=Ne(Ne({},e),yt(h)),n(5,r=Ye(e,o)),"position"in h&&n(6,u=h.position),"style"in h&&n(0,f=h.style),"class"in h&&n(1,c=h.class),"$$scope"in h&&n(7,a=h.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,i=`${u}`.split("-"))},[f,c,i,s,d,r,u,a,l]}class Yh extends ge{constructor(e){super(),me(this,e,Xh,Vh,be,{position:6,style:0,class:1})}}const ml=Yh;function xo(t){let e,n;return e=new ml({props:{position:t[1],class:"svelte-flow__attribution","data-message":"Feel free to remove the attribution or check out how you could support us: https://svelteflow.dev/support-us",$$slots:{default:[Rh]},$$scope:{ctx:t}}}),{c(){ie(e.$$.fragment)},l(i){se(e.$$.fragment,i)},m(i,o){oe(e,i,o),n=!0},p(i,o){const r={};o&2&&(r.position=i[1]),o&4&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(V(e.$$.fragment,i),n=!0)},o(i){L(e.$$.fragment,i),n=!1},d(i){re(e,i)}}}function Rh(t){let e,n="Svelte Flow";return{c(){e=de("a"),e.textContent=n,this.h()},l(i){e=he(i,"A",{href:!0,target:!0,rel:!0,"aria-label":!0,"data-svelte-h":!0}),bi(e)!=="svelte-2vm8e4"&&(e.textContent=n),this.h()},h(){S(e,"href","https://svelteflow.dev"),S(e,"target","_blank"),S(e,"rel","noopener noreferrer"),S(e,"aria-label","Svelte Flow attribution")},m(i,o){Q(i,e,o)},p:Me,d(i){i&&N(e)}}}function Lh(t){var o;let e,n,i=!((o=t[0])!=null&&o.hideAttribution)&&xo(t);return{c(){i&&i.c(),e=Xe()},l(r){i&&i.l(r),e=Xe()},m(r,s){i&&i.m(r,s),Q(r,e,s),n=!0},p(r,[s]){var l;(l=r[0])!=null&&l.hideAttribution?i&&(Ke(),L(i,1,1,()=>{i=null}),Fe()):i?(i.p(r,s),s&1&&V(i,1)):(i=xo(r),i.c(),V(i,1),i.m(e.parentNode,e))},i(r){n||(V(i),n=!0)},o(r){L(i),n=!1},d(r){r&&N(e),i&&i.d(r)}}}function Bh(t,e,n){let{proOptions:i=void 0}=e,{position:o="bottom-right"}=e;return t.$$set=r=>{"proOptions"in r&&n(0,i=r.proOptions),"position"in r&&n(1,o=r.position)},[i,o]}class Wh extends ge{constructor(e){super(),me(this,e,Bh,Lh,be,{proOptions:0,position:1})}}const Kh=Wh;function $o(t,{nodeTypes:e,edgeTypes:n,minZoom:i,maxZoom:o,translateExtent:r,paneClickDistance:s}){e!==void 0&&t.setNodeTypes(e),n!==void 0&&t.setEdgeTypes(n),i!==void 0&&t.setMinZoom(i),o!==void 0&&t.setMaxZoom(o),r!==void 0&&t.setTranslateExtent(r),s!==void 0&&t.setPaneClickDistance(s)}const Fh=t=>Object.keys(t);function Zh(t,e){Fh(e).forEach(n=>{const i=e[n];i!==void 0&&t[n].set(i)})}function qh(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function Gh(t="light"){return ht("light",n=>{if(t!=="system"){n(t);return}const i=qh(),o=()=>n(i!=null&&i.matches?"dark":"light");return n(i!=null&&i.matches?"dark":"light"),i==null||i.addEventListener("change",o),()=>{i==null||i.removeEventListener("change",o)}})}const Uh=t=>({}),er=t=>({slot:"connectionLine"});function Jh(t){let e;const n=t[75].connectionLine,i=nt(n,t,t[99],er);return{c(){i&&i.c()},l(o){i&&i.l(o)},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r[3]&64)&&it(i,n,o,o[99],e?rt(n,o[99],r,Uh):ot(o[99]),er)},i(o){e||(V(i,o),e=!0)},o(o){L(i,o),e=!1},d(o){i&&i.d(o)}}}function Qh(t){let e,n,i,o,r,s,l,a,u,f,c,d;return e=new dh({props:{defaultEdgeOptions:t[21]}}),e.$on("edgeclick",t[78]),e.$on("edgecontextmenu",t[79]),e.$on("edgemouseenter",t[80]),e.$on("edgemouseleave",t[81]),i=new Ah({props:{containerStyle:t[7],style:t[6],isCustomComponent:t[34].connectionLine,$$slots:{connectionLine:[Jh]},$$scope:{ctx:t}}}),u=new Zd({props:{nodeClickDistance:t[23]}}),u.$on("nodeclick",t[82]),u.$on("nodemouseenter",t[83]),u.$on("nodemousemove",t[84]),u.$on("nodemouseleave",t[85]),u.$on("nodedragstart",t[86]),u.$on("nodedrag",t[87]),u.$on("nodedragstop",t[88]),u.$on("nodecontextmenu",t[89]),c=new ph({}),c.$on("selectionclick",t[90]),c.$on("selectioncontextmenu",t[91]),c.$on("nodedragstart",t[92]),c.$on("nodedrag",t[93]),c.$on("nodedragstop",t[94]),{c(){ie(e.$$.fragment),n=ke(),ie(i.$$.fragment),o=ke(),r=de("div"),s=ke(),l=de("div"),a=ke(),ie(u.$$.fragment),f=ke(),ie(c.$$.fragment),this.h()},l(h){se(e.$$.fragment,h),n=ve(h),se(i.$$.fragment,h),o=ve(h),r=he(h,"DIV",{class:!0}),x(r).forEach(N),s=ve(h),l=he(h,"DIV",{class:!0}),x(l).forEach(N),a=ve(h),se(u.$$.fragment,h),f=ve(h),se(c.$$.fragment,h),this.h()},h(){S(r,"class","svelte-flow__edgelabel-renderer"),S(l,"class","svelte-flow__viewport-portal")},m(h,m){oe(e,h,m),Q(h,n,m),oe(i,h,m),Q(h,o,m),Q(h,r,m),Q(h,s,m),Q(h,l,m),Q(h,a,m),oe(u,h,m),Q(h,f,m),oe(c,h,m),d=!0},p(h,m){const y={};m[0]&2097152&&(y.defaultEdgeOptions=h[21]),e.$set(y);const w={};m[0]&128&&(w.containerStyle=h[7]),m[0]&64&&(w.style=h[6]),m[1]&8&&(w.isCustomComponent=h[34].connectionLine),m[3]&64&&(w.$$scope={dirty:m,ctx:h}),i.$set(w);const g={};m[0]&8388608&&(g.nodeClickDistance=h[23]),u.$set(g)},i(h){d||(V(e.$$.fragment,h),V(i.$$.fragment,h),V(u.$$.fragment,h),V(c.$$.fragment,h),d=!0)},o(h){L(e.$$.fragment,h),L(i.$$.fragment,h),L(u.$$.fragment,h),L(c.$$.fragment,h),d=!1},d(h){h&&(N(n),N(o),N(r),N(s),N(l),N(a),N(f)),re(e,h),re(i,h),re(u,h),re(c,h)}}}function jh(t){let e,n,i,o;return e=new Ad({props:{$$slots:{default:[Qh]},$$scope:{ctx:t}}}),i=new wh({}),{c(){ie(e.$$.fragment),n=ke(),ie(i.$$.fragment)},l(r){se(e.$$.fragment,r),n=ve(r),se(i.$$.fragment,r)},m(r,s){oe(e,r,s),Q(r,n,s),oe(i,r,s),o=!0},p(r,s){const l={};s[0]&10485952|s[1]&8|s[3]&64&&(l.$$scope={dirty:s,ctx:r}),e.$set(l)},i(r){o||(V(e.$$.fragment,r),V(i.$$.fragment,r),o=!0)},o(r){L(e.$$.fragment,r),L(i.$$.fragment,r),o=!1},d(r){r&&N(n),re(e,r),re(i,r)}}}function xh(t){let e,n;return e=new Td({props:{panOnDrag:t[17]===void 0?!0:t[17],selectionOnDrag:t[18],$$slots:{default:[jh]},$$scope:{ctx:t}}}),e.$on("paneclick",t[95]),e.$on("panecontextmenu",t[96]),{c(){ie(e.$$.fragment)},l(i){se(e.$$.fragment,i)},m(i,o){oe(e,i,o),n=!0},p(i,o){const r={};o[0]&131072&&(r.panOnDrag=i[17]===void 0?!0:i[17]),o[0]&262144&&(r.selectionOnDrag=i[18]),o[0]&10485952|o[1]&8|o[3]&64&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(V(e.$$.fragment,i),n=!0)},o(i){L(e.$$.fragment,i),n=!1},d(i){re(e,i)}}}function $h(t){let e,n,i,o,r,s,l,a,u,f,c,d;n=new Dh({props:{selectionKey:t[1],deleteKey:t[5],panActivationKey:t[2],multiSelectionKey:t[3],zoomActivationKey:t[4]}}),o=new Pd({props:{initialViewport:t[31],onMoveStart:t[8],onMove:t[9],onMoveEnd:t[10],panOnScrollMode:t[11]===void 0?Et.Free:t[11],preventScrolling:t[12]===void 0?!0:t[12],zoomOnScroll:t[13]===void 0?!0:t[13],zoomOnDoubleClick:t[14]===void 0?!0:t[14],zoomOnPinch:t[15]===void 0?!0:t[15],panOnScroll:t[16]===void 0?!1:t[16],panOnDrag:t[17]===void 0?!0:t[17],paneClickDistance:t[22]===void 0?0:t[22],$$slots:{default:[xh]},$$scope:{ctx:t}}}),s=new Kh({props:{proOptions:t[20],position:t[19]}});const h=t[75].default,m=nt(h,t,t[99],null);let y=[{style:t[24]},{class:a=Ve(["svelte-flow",t[25],t[30]])},{"data-testid":"svelte-flow__wrapper"},t[33],{role:"application"}],w={};for(let g=0;g<y.length;g+=1)w=Ne(w,y[g]);return{c(){e=de("div"),ie(n.$$.fragment),i=ke(),ie(o.$$.fragment),r=ke(),ie(s.$$.fragment),l=ke(),m&&m.c(),this.h()},l(g){e=he(g,"DIV",{style:!0,class:!0,"data-testid":!0,role:!0});var v=x(e);se(n.$$.fragment,v),i=ve(v),se(o.$$.fragment,v),r=ve(v),se(s.$$.fragment,v),l=ve(v),m&&m.l(v),v.forEach(N),this.h()},h(){xt(e,w),Ll(()=>t[98].call(e)),ae(e,"svelte-12wlba6",!0)},m(g,v){Q(g,e,v),oe(n,e,null),$(e,i),oe(o,e,null),$(e,r),oe(s,e,null),$(e,l),m&&m.m(e,null),t[97](e),u=Bl(e,t[98].bind(e)),f=!0,c||(d=[He(e,"dragover",t[76]),He(e,"drop",t[77])],c=!0)},p(g,v){const k={};v[0]&2&&(k.selectionKey=g[1]),v[0]&32&&(k.deleteKey=g[5]),v[0]&4&&(k.panActivationKey=g[2]),v[0]&8&&(k.multiSelectionKey=g[3]),v[0]&16&&(k.zoomActivationKey=g[4]),n.$set(k);const E={};v[0]&256&&(E.onMoveStart=g[8]),v[0]&512&&(E.onMove=g[9]),v[0]&1024&&(E.onMoveEnd=g[10]),v[0]&2048&&(E.panOnScrollMode=g[11]===void 0?Et.Free:g[11]),v[0]&4096&&(E.preventScrolling=g[12]===void 0?!0:g[12]),v[0]&8192&&(E.zoomOnScroll=g[13]===void 0?!0:g[13]),v[0]&16384&&(E.zoomOnDoubleClick=g[14]===void 0?!0:g[14]),v[0]&32768&&(E.zoomOnPinch=g[15]===void 0?!0:g[15]),v[0]&65536&&(E.panOnScroll=g[16]===void 0?!1:g[16]),v[0]&131072&&(E.panOnDrag=g[17]===void 0?!0:g[17]),v[0]&4194304&&(E.paneClickDistance=g[22]===void 0?0:g[22]),v[0]&10879168|v[1]&8|v[3]&64&&(E.$$scope={dirty:v,ctx:g}),o.$set(E);const H={};v[0]&1048576&&(H.proOptions=g[20]),v[0]&524288&&(H.position=g[19]),s.$set(H),m&&m.p&&(!f||v[3]&64)&&it(m,h,g,g[99],f?rt(h,g[99],v,null):ot(g[99]),null),xt(e,w=At(y,[(!f||v[0]&16777216)&&{style:g[24]},(!f||v[0]&1107296256&&a!==(a=Ve(["svelte-flow",g[25],g[30]])))&&{class:a},{"data-testid":"svelte-flow__wrapper"},v[1]&4&&g[33],{role:"application"}])),ae(e,"svelte-12wlba6",!0)},i(g){f||(V(n.$$.fragment,g),V(o.$$.fragment,g),V(s.$$.fragment,g),V(m,g),f=!0)},o(g){L(n.$$.fragment,g),L(o.$$.fragment,g),L(s.$$.fragment,g),L(m,g),f=!1},d(g){g&&N(e),re(n),re(o),re(s),m&&m.d(g),t[97](null),u(),c=!1,Vt(d)}}}function eg(t,e,n){let i;const o=["id","nodes","edges","fitView","fitViewOptions","minZoom","maxZoom","initialViewport","viewport","nodeTypes","edgeTypes","selectionKey","selectionMode","panActivationKey","multiSelectionKey","zoomActivationKey","nodesDraggable","nodesConnectable","nodeDragThreshold","elementsSelectable","snapGrid","deleteKey","connectionRadius","connectionLineType","connectionMode","connectionLineStyle","connectionLineContainerStyle","onMoveStart","onMove","onMoveEnd","isValidConnection","translateExtent","nodeExtent","onlyRenderVisibleElements","panOnScrollMode","preventScrolling","zoomOnScroll","zoomOnDoubleClick","zoomOnPinch","panOnScroll","panOnDrag","selectionOnDrag","autoPanOnConnect","autoPanOnNodeDrag","onerror","ondelete","onedgecreate","attributionPosition","proOptions","defaultEdgeOptions","width","height","colorMode","onconnect","onconnectstart","onconnectend","onbeforedelete","oninit","nodeOrigin","paneClickDistance","nodeClickDistance","defaultMarkerColor","style","class"];let r=Ye(e,o),s,l,a=Me,u=()=>(a(),a=ji(X,p=>n(100,l=p)),X),f,c=Me,d=()=>(c(),c=ji(i,p=>n(30,f=p)),i);t.$$.on_destroy.push(()=>a()),t.$$.on_destroy.push(()=>c());let{$$slots:h={},$$scope:m}=e;const y=Wl(h);let{id:w="1"}=e,{nodes:g}=e,{edges:v}=e,{fitView:k=void 0}=e,{fitViewOptions:E=void 0}=e,{minZoom:H=void 0}=e,{maxZoom:K=void 0}=e,{initialViewport:P=void 0}=e,{viewport:X=void 0}=e;u();let{nodeTypes:A=void 0}=e,{edgeTypes:B=void 0}=e,{selectionKey:q=void 0}=e,{selectionMode:W=void 0}=e,{panActivationKey:Z=void 0}=e,{multiSelectionKey:b=void 0}=e,{zoomActivationKey:I=void 0}=e,{nodesDraggable:_=void 0}=e,{nodesConnectable:C=void 0}=e,{nodeDragThreshold:D=void 0}=e,{elementsSelectable:T=void 0}=e,{snapGrid:Y=void 0}=e,{deleteKey:F=void 0}=e,{connectionRadius:U=void 0}=e,{connectionLineType:ee=void 0}=e,{connectionMode:O=Bt.Strict}=e,{connectionLineStyle:j=""}=e,{connectionLineContainerStyle:te=""}=e,{onMoveStart:z=void 0}=e,{onMove:le=void 0}=e,{onMoveEnd:ye=void 0}=e,{isValidConnection:ue=void 0}=e,{translateExtent:we=void 0}=e,{nodeExtent:Ee=void 0}=e,{onlyRenderVisibleElements:Ie=void 0}=e,{panOnScrollMode:R=Et.Free}=e,{preventScrolling:Pe=!0}=e,{zoomOnScroll:Se=!0}=e,{zoomOnDoubleClick:Je=!0}=e,{zoomOnPinch:Qe=!0}=e,{panOnScroll:Ze=!1}=e,{panOnDrag:lt=!0}=e,{selectionOnDrag:ut=void 0}=e,{autoPanOnConnect:ft=!0}=e,{autoPanOnNodeDrag:qe=!0}=e,{onerror:st=void 0}=e,{ondelete:Ae=void 0}=e,{onedgecreate:pe=void 0}=e,{attributionPosition:_e=void 0}=e,{proOptions:Be=void 0}=e,{defaultEdgeOptions:M=void 0}=e,{width:Ge=void 0}=e,{height:De=void 0}=e,{colorMode:ze="light"}=e,{onconnect:pt=void 0}=e,{onconnectstart:Ct=void 0}=e,{onconnectend:Mt=void 0}=e,{onbeforedelete:ct=void 0}=e,{oninit:dt=void 0}=e,{nodeOrigin:bt=void 0}=e,{paneClickDistance:Pt=0}=e,{nodeClickDistance:Nt=0}=e,{defaultMarkerColor:Ft="#b1b1b7"}=e,{style:ln=void 0}=e,{class:sn=void 0}=e,Sn,Zt,qt;const yl=l||P,Ue=Kl(Ji)?Le():Ed({nodes:J(g),edges:J(v),width:Ge,height:De,fitView:k,nodeOrigin:bt,nodeExtent:Ee});jn(()=>(Ue.width.set(Zt),Ue.height.set(qt),Ue.domNode.set(Sn),Ue.syncNodeStores(g),Ue.syncEdgeStores(v),Ue.syncViewport(X),k!==void 0&&Ue.fitViewOnInit.set(k),E&&Ue.fitViewOptions.set(E),$o(Ue,{nodeTypes:A,edgeTypes:B,minZoom:H,maxZoom:K,translateExtent:we,paneClickDistance:Pt}),()=>{Ue.reset()}));const{initialized:Qi}=Ue;G(t,Qi,p=>n(74,s=p));let ui=!1;function _l(p){Ce.call(this,t,p)}function bl(p){Ce.call(this,t,p)}function wl(p){Ce.call(this,t,p)}function kl(p){Ce.call(this,t,p)}function vl(p){Ce.call(this,t,p)}function El(p){Ce.call(this,t,p)}function Sl(p){Ce.call(this,t,p)}function pl(p){Ce.call(this,t,p)}function Cl(p){Ce.call(this,t,p)}function Ml(p){Ce.call(this,t,p)}function Pl(p){Ce.call(this,t,p)}function Nl(p){Ce.call(this,t,p)}function zl(p){Ce.call(this,t,p)}function Dl(p){Ce.call(this,t,p)}function Tl(p){Ce.call(this,t,p)}function Ol(p){Ce.call(this,t,p)}function Il(p){Ce.call(this,t,p)}function Hl(p){Ce.call(this,t,p)}function Al(p){Ce.call(this,t,p)}function Vl(p){Ce.call(this,t,p)}function Xl(p){Ce.call(this,t,p)}function Yl(p){Oi[p?"unshift":"push"](()=>{Sn=p,n(28,Sn)})}function Rl(){Zt=this.clientWidth,qt=this.clientHeight,n(26,Zt),n(27,qt)}return t.$$set=p=>{e=Ne(Ne({},e),yt(p)),n(33,r=Ye(e,o)),"id"in p&&n(35,w=p.id),"nodes"in p&&n(36,g=p.nodes),"edges"in p&&n(37,v=p.edges),"fitView"in p&&n(38,k=p.fitView),"fitViewOptions"in p&&n(39,E=p.fitViewOptions),"minZoom"in p&&n(40,H=p.minZoom),"maxZoom"in p&&n(41,K=p.maxZoom),"initialViewport"in p&&n(42,P=p.initialViewport),"viewport"in p&&u(n(0,X=p.viewport)),"nodeTypes"in p&&n(43,A=p.nodeTypes),"edgeTypes"in p&&n(44,B=p.edgeTypes),"selectionKey"in p&&n(1,q=p.selectionKey),"selectionMode"in p&&n(45,W=p.selectionMode),"panActivationKey"in p&&n(2,Z=p.panActivationKey),"multiSelectionKey"in p&&n(3,b=p.multiSelectionKey),"zoomActivationKey"in p&&n(4,I=p.zoomActivationKey),"nodesDraggable"in p&&n(46,_=p.nodesDraggable),"nodesConnectable"in p&&n(47,C=p.nodesConnectable),"nodeDragThreshold"in p&&n(48,D=p.nodeDragThreshold),"elementsSelectable"in p&&n(49,T=p.elementsSelectable),"snapGrid"in p&&n(50,Y=p.snapGrid),"deleteKey"in p&&n(5,F=p.deleteKey),"connectionRadius"in p&&n(51,U=p.connectionRadius),"connectionLineType"in p&&n(52,ee=p.connectionLineType),"connectionMode"in p&&n(53,O=p.connectionMode),"connectionLineStyle"in p&&n(6,j=p.connectionLineStyle),"connectionLineContainerStyle"in p&&n(7,te=p.connectionLineContainerStyle),"onMoveStart"in p&&n(8,z=p.onMoveStart),"onMove"in p&&n(9,le=p.onMove),"onMoveEnd"in p&&n(10,ye=p.onMoveEnd),"isValidConnection"in p&&n(54,ue=p.isValidConnection),"translateExtent"in p&&n(55,we=p.translateExtent),"nodeExtent"in p&&n(56,Ee=p.nodeExtent),"onlyRenderVisibleElements"in p&&n(57,Ie=p.onlyRenderVisibleElements),"panOnScrollMode"in p&&n(11,R=p.panOnScrollMode),"preventScrolling"in p&&n(12,Pe=p.preventScrolling),"zoomOnScroll"in p&&n(13,Se=p.zoomOnScroll),"zoomOnDoubleClick"in p&&n(14,Je=p.zoomOnDoubleClick),"zoomOnPinch"in p&&n(15,Qe=p.zoomOnPinch),"panOnScroll"in p&&n(16,Ze=p.panOnScroll),"panOnDrag"in p&&n(17,lt=p.panOnDrag),"selectionOnDrag"in p&&n(18,ut=p.selectionOnDrag),"autoPanOnConnect"in p&&n(58,ft=p.autoPanOnConnect),"autoPanOnNodeDrag"in p&&n(59,qe=p.autoPanOnNodeDrag),"onerror"in p&&n(60,st=p.onerror),"ondelete"in p&&n(61,Ae=p.ondelete),"onedgecreate"in p&&n(62,pe=p.onedgecreate),"attributionPosition"in p&&n(19,_e=p.attributionPosition),"proOptions"in p&&n(20,Be=p.proOptions),"defaultEdgeOptions"in p&&n(21,M=p.defaultEdgeOptions),"width"in p&&n(63,Ge=p.width),"height"in p&&n(64,De=p.height),"colorMode"in p&&n(65,ze=p.colorMode),"onconnect"in p&&n(66,pt=p.onconnect),"onconnectstart"in p&&n(67,Ct=p.onconnectstart),"onconnectend"in p&&n(68,Mt=p.onconnectend),"onbeforedelete"in p&&n(69,ct=p.onbeforedelete),"oninit"in p&&n(70,dt=p.oninit),"nodeOrigin"in p&&n(71,bt=p.nodeOrigin),"paneClickDistance"in p&&n(22,Pt=p.paneClickDistance),"nodeClickDistance"in p&&n(23,Nt=p.nodeClickDistance),"defaultMarkerColor"in p&&n(72,Ft=p.defaultMarkerColor),"style"in p&&n(24,ln=p.style),"class"in p&&n(25,sn=p.class),"$$scope"in p&&n(99,m=p.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&201326592&&Zt!==void 0&&qt!==void 0&&(Ue.width.set(Zt),Ue.height.set(qt)),t.$$.dirty[2]&6400&&!ui&&s&&(dt==null||dt(),n(73,ui=!0)),t.$$.dirty[1]&2097135632|t.$$.dirty[2]&1777&&Zh(Ue,{flowId:w,connectionLineType:ee,connectionRadius:U,selectionMode:W,snapGrid:Y,defaultMarkerColor:Ft,nodesDraggable:_,nodesConnectable:C,elementsSelectable:T,onlyRenderVisibleElements:Ie,isValidConnection:ue,autoPanOnConnect:ft,autoPanOnNodeDrag:qe,onerror:st,ondelete:Ae,onedgecreate:pe,connectionMode:O,nodeDragThreshold:D,onconnect:pt,onconnectstart:Ct,onconnectend:Mt,onbeforedelete:ct,nodeOrigin:bt}),t.$$.dirty[0]&4194304|t.$$.dirty[1]&16791040&&$o(Ue,{nodeTypes:A,edgeTypes:B,minZoom:H,maxZoom:K,translateExtent:we,paneClickDistance:Pt}),t.$$.dirty[2]&8&&d(n(29,i=Gh(ze)))},[X,q,Z,b,I,F,j,te,z,le,ye,R,Pe,Se,Je,Qe,Ze,lt,ut,_e,Be,M,Pt,Nt,ln,sn,Zt,qt,Sn,i,f,yl,Qi,r,y,w,g,v,k,E,H,K,P,A,B,W,_,C,D,T,Y,U,ee,O,ue,we,Ee,Ie,ft,qe,st,Ae,pe,Ge,De,ze,pt,Ct,Mt,ct,dt,bt,Ft,ui,s,h,_l,bl,wl,kl,vl,El,Sl,pl,Cl,Ml,Pl,Nl,zl,Dl,Tl,Ol,Il,Hl,Al,Vl,Xl,Yl,Rl,m]}class tg extends ge{constructor(e){super(),me(this,e,eg,$h,be,{id:35,nodes:36,edges:37,fitView:38,fitViewOptions:39,minZoom:40,maxZoom:41,initialViewport:42,viewport:0,nodeTypes:43,edgeTypes:44,selectionKey:1,selectionMode:45,panActivationKey:2,multiSelectionKey:3,zoomActivationKey:4,nodesDraggable:46,nodesConnectable:47,nodeDragThreshold:48,elementsSelectable:49,snapGrid:50,deleteKey:5,connectionRadius:51,connectionLineType:52,connectionMode:53,connectionLineStyle:6,connectionLineContainerStyle:7,onMoveStart:8,onMove:9,onMoveEnd:10,isValidConnection:54,translateExtent:55,nodeExtent:56,onlyRenderVisibleElements:57,panOnScrollMode:11,preventScrolling:12,zoomOnScroll:13,zoomOnDoubleClick:14,zoomOnPinch:15,panOnScroll:16,panOnDrag:17,selectionOnDrag:18,autoPanOnConnect:58,autoPanOnNodeDrag:59,onerror:60,ondelete:61,onedgecreate:62,attributionPosition:19,proOptions:20,defaultEdgeOptions:21,width:63,height:64,colorMode:65,onconnect:66,onconnectstart:67,onconnectend:68,onbeforedelete:69,oninit:70,nodeOrigin:71,paneClickDistance:22,nodeClickDistance:23,defaultMarkerColor:72,style:24,class:25},null,[-1,-1,-1,-1])}}const ng=tg,ig=t=>({}),tr=t=>({class:"button-svg"});function og(t){let e,n,i,o,r;const s=t[8].default,l=nt(s,t,t[7],tr);let a=[{type:"button"},{class:n=Ve(["svelte-flow__controls-button",t[0]])},t[6]],u={};for(let f=0;f<a.length;f+=1)u=Ne(u,a[f]);return{c(){e=de("button"),l&&l.c(),this.h()},l(f){e=he(f,"BUTTON",{type:!0,class:!0});var c=x(e);l&&l.l(c),c.forEach(N),this.h()},h(){xt(e,u),fe(e,"--xy-controls-button-background-color-props",t[1]),fe(e,"--xy-controls-button-background-color-hover-props",t[2]),fe(e,"--xy-controls-button-color-props",t[3]),fe(e,"--xy-controls-button-color-hover-props",t[4]),fe(e,"--xy-controls-button-border-color-props",t[5])},m(f,c){Q(f,e,c),l&&l.m(e,null),e.autofocus&&e.focus(),i=!0,o||(r=He(e,"click",t[9]),o=!0)},p(f,[c]){l&&l.p&&(!i||c&128)&&it(l,s,f,f[7],i?rt(s,f[7],c,ig):ot(f[7]),tr),xt(e,u=At(a,[{type:"button"},(!i||c&1&&n!==(n=Ve(["svelte-flow__controls-button",f[0]])))&&{class:n},c&64&&f[6]])),fe(e,"--xy-controls-button-background-color-props",f[1]),fe(e,"--xy-controls-button-background-color-hover-props",f[2]),fe(e,"--xy-controls-button-color-props",f[3]),fe(e,"--xy-controls-button-color-hover-props",f[4]),fe(e,"--xy-controls-button-border-color-props",f[5])},i(f){i||(V(l,f),i=!0)},o(f){L(l,f),i=!1},d(f){f&&N(e),l&&l.d(f),o=!1,r()}}}function rg(t,e,n){const i=["class","bgColor","bgColorHover","color","colorHover","borderColor"];let o=Ye(e,i),{$$slots:r={},$$scope:s}=e,{class:l=void 0}=e,{bgColor:a=void 0}=e,{bgColorHover:u=void 0}=e,{color:f=void 0}=e,{colorHover:c=void 0}=e,{borderColor:d=void 0}=e;function h(m){Ce.call(this,t,m)}return t.$$set=m=>{e=Ne(Ne({},e),yt(m)),n(6,o=Ye(e,i)),"class"in m&&n(0,l=m.class),"bgColor"in m&&n(1,a=m.bgColor),"bgColorHover"in m&&n(2,u=m.bgColorHover),"color"in m&&n(3,f=m.color),"colorHover"in m&&n(4,c=m.colorHover),"borderColor"in m&&n(5,d=m.borderColor),"$$scope"in m&&n(7,s=m.$$scope)},[l,a,u,f,c,d,o,s,r,h]}class lg extends ge{constructor(e){super(),me(this,e,rg,og,be,{class:0,bgColor:1,bgColorHover:2,color:3,colorHover:4,borderColor:5})}}const Qn=lg;function sg(t){let e,n;return{c(){e=Te("svg"),n=Te("path"),this.h()},l(i){e=Oe(i,"svg",{xmlns:!0,viewBox:!0});var o=x(e);n=Oe(o,"path",{d:!0}),x(n).forEach(N),o.forEach(N),this.h()},h(){S(n,"d","M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"),S(e,"xmlns","http://www.w3.org/2000/svg"),S(e,"viewBox","0 0 32 32")},m(i,o){Q(i,e,o),$(e,n)},p:Me,i:Me,o:Me,d(i){i&&N(e)}}}class ag extends ge{constructor(e){super(),me(this,e,null,sg,be,{})}}const ug=ag;function fg(t){let e,n;return{c(){e=Te("svg"),n=Te("path"),this.h()},l(i){e=Oe(i,"svg",{xmlns:!0,viewBox:!0});var o=x(e);n=Oe(o,"path",{d:!0}),x(n).forEach(N),o.forEach(N),this.h()},h(){S(n,"d","M0 0h32v4.2H0z"),S(e,"xmlns","http://www.w3.org/2000/svg"),S(e,"viewBox","0 0 32 5")},m(i,o){Q(i,e,o),$(e,n)},p:Me,i:Me,o:Me,d(i){i&&N(e)}}}class cg extends ge{constructor(e){super(),me(this,e,null,fg,be,{})}}const dg=cg;function hg(t){let e,n;return{c(){e=Te("svg"),n=Te("path"),this.h()},l(i){e=Oe(i,"svg",{xmlns:!0,viewBox:!0});var o=x(e);n=Oe(o,"path",{d:!0}),x(n).forEach(N),o.forEach(N),this.h()},h(){S(n,"d","M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"),S(e,"xmlns","http://www.w3.org/2000/svg"),S(e,"viewBox","0 0 32 30")},m(i,o){Q(i,e,o),$(e,n)},p:Me,i:Me,o:Me,d(i){i&&N(e)}}}class gg extends ge{constructor(e){super(),me(this,e,null,hg,be,{})}}const mg=gg;function yg(t){let e,n;return{c(){e=Te("svg"),n=Te("path"),this.h()},l(i){e=Oe(i,"svg",{xmlns:!0,viewBox:!0});var o=x(e);n=Oe(o,"path",{d:!0}),x(n).forEach(N),o.forEach(N),this.h()},h(){S(n,"d","M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"),S(e,"xmlns","http://www.w3.org/2000/svg"),S(e,"viewBox","0 0 25 32")},m(i,o){Q(i,e,o),$(e,n)},p:Me,i:Me,o:Me,d(i){i&&N(e)}}}class _g extends ge{constructor(e){super(),me(this,e,null,yg,be,{})}}const bg=_g;function wg(t){let e,n;return{c(){e=Te("svg"),n=Te("path"),this.h()},l(i){e=Oe(i,"svg",{xmlns:!0,viewBox:!0});var o=x(e);n=Oe(o,"path",{d:!0}),x(n).forEach(N),o.forEach(N),this.h()},h(){S(n,"d","M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"),S(e,"xmlns","http://www.w3.org/2000/svg"),S(e,"viewBox","0 0 25 32")},m(i,o){Q(i,e,o),$(e,n)},p:Me,i:Me,o:Me,d(i){i&&N(e)}}}class kg extends ge{constructor(e){super(),me(this,e,null,wg,be,{})}}const vg=kg,Eg=t=>({}),nr=t=>({}),Sg=t=>({}),ir=t=>({});function or(t){let e,n,i,o;const r=[{class:"svelte-flow__controls-zoomin"},{title:"zoom in"},{"aria-label":"zoom in"},{disabled:t[9]},t[17]];let s={$$slots:{default:[pg]},$$scope:{ctx:t}};for(let u=0;u<r.length;u+=1)s=Ne(s,r[u]);e=new Qn({props:s}),e.$on("click",t[18]);const l=[{class:"svelte-flow__controls-zoomout"},{title:"zoom out"},{"aria-label":"zoom out"},{disabled:t[10]},t[17]];let a={$$slots:{default:[Cg]},$$scope:{ctx:t}};for(let u=0;u<l.length;u+=1)a=Ne(a,l[u]);return i=new Qn({props:a}),i.$on("click",t[19]),{c(){ie(e.$$.fragment),n=ke(),ie(i.$$.fragment)},l(u){se(e.$$.fragment,u),n=ve(u),se(i.$$.fragment,u)},m(u,f){oe(e,u,f),Q(u,n,f),oe(i,u,f),o=!0},p(u,f){const c=f[0]&131584?At(r,[r[0],r[1],r[2],f[0]&512&&{disabled:u[9]},f[0]&131072&&dn(u[17])]):{};f[1]&32&&(c.$$scope={dirty:f,ctx:u}),e.$set(c);const d=f[0]&132096?At(l,[l[0],l[1],l[2],f[0]&1024&&{disabled:u[10]},f[0]&131072&&dn(u[17])]):{};f[1]&32&&(d.$$scope={dirty:f,ctx:u}),i.$set(d)},i(u){o||(V(e.$$.fragment,u),V(i.$$.fragment,u),o=!0)},o(u){L(e.$$.fragment,u),L(i.$$.fragment,u),o=!1},d(u){u&&N(n),re(e,u),re(i,u)}}}function pg(t){let e,n;return e=new ug({}),{c(){ie(e.$$.fragment)},l(i){se(e.$$.fragment,i)},m(i,o){oe(e,i,o),n=!0},i(i){n||(V(e.$$.fragment,i),n=!0)},o(i){L(e.$$.fragment,i),n=!1},d(i){re(e,i)}}}function Cg(t){let e,n;return e=new dg({}),{c(){ie(e.$$.fragment)},l(i){se(e.$$.fragment,i)},m(i,o){oe(e,i,o),n=!0},i(i){n||(V(e.$$.fragment,i),n=!0)},o(i){L(e.$$.fragment,i),n=!1},d(i){re(e,i)}}}function rr(t){let e,n;const i=[{class:"svelte-flow__controls-fitview"},{title:"fit view"},{"aria-label":"fit view"},t[17]];let o={$$slots:{default:[Mg]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=Ne(o,i[r]);return e=new Qn({props:o}),e.$on("click",t[20]),{c(){ie(e.$$.fragment)},l(r){se(e.$$.fragment,r)},m(r,s){oe(e,r,s),n=!0},p(r,s){const l=s[0]&131072?At(i,[i[0],i[1],i[2],dn(r[17])]):{};s[1]&32&&(l.$$scope={dirty:s,ctx:r}),e.$set(l)},i(r){n||(V(e.$$.fragment,r),n=!0)},o(r){L(e.$$.fragment,r),n=!1},d(r){re(e,r)}}}function Mg(t){let e,n;return e=new mg({}),{c(){ie(e.$$.fragment)},l(i){se(e.$$.fragment,i)},m(i,o){oe(e,i,o),n=!0},i(i){n||(V(e.$$.fragment,i),n=!0)},o(i){L(e.$$.fragment,i),n=!1},d(i){re(e,i)}}}function lr(t){let e,n;const i=[{class:"svelte-flow__controls-interactive"},{title:"toggle interactivity"},{"aria-label":"toggle interactivity"},t[17]];let o={$$slots:{default:[zg]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=Ne(o,i[r]);return e=new Qn({props:o}),e.$on("click",t[21]),{c(){ie(e.$$.fragment)},l(r){se(e.$$.fragment,r)},m(r,s){oe(e,r,s),n=!0},p(r,s){const l=s[0]&131072?At(i,[i[0],i[1],i[2],dn(r[17])]):{};s[0]&256|s[1]&32&&(l.$$scope={dirty:s,ctx:r}),e.$set(l)},i(r){n||(V(e.$$.fragment,r),n=!0)},o(r){L(e.$$.fragment,r),n=!1},d(r){re(e,r)}}}function Pg(t){let e,n;return e=new bg({}),{c(){ie(e.$$.fragment)},l(i){se(e.$$.fragment,i)},m(i,o){oe(e,i,o),n=!0},i(i){n||(V(e.$$.fragment,i),n=!0)},o(i){L(e.$$.fragment,i),n=!1},d(i){re(e,i)}}}function Ng(t){let e,n;return e=new vg({}),{c(){ie(e.$$.fragment)},l(i){se(e.$$.fragment,i)},m(i,o){oe(e,i,o),n=!0},i(i){n||(V(e.$$.fragment,i),n=!0)},o(i){L(e.$$.fragment,i),n=!1},d(i){re(e,i)}}}function zg(t){let e,n,i,o;const r=[Ng,Pg],s=[];function l(a,u){return a[8]?0:1}return e=l(t),n=s[e]=r[e](t),{c(){n.c(),i=Xe()},l(a){n.l(a),i=Xe()},m(a,u){s[e].m(a,u),Q(a,i,u),o=!0},p(a,u){let f=e;e=l(a),e!==f&&(Ke(),L(s[f],1,1,()=>{s[f]=null}),Fe(),n=s[e],n||(n=s[e]=r[e](a),n.c()),V(n,1),n.m(i.parentNode,i))},i(a){o||(V(n),o=!0)},o(a){L(n),o=!1},d(a){a&&N(i),s[e].d(a)}}}function Dg(t){let e,n,i,o,r,s;const l=t[35].before,a=nt(l,t,t[36],ir);let u=t[1]&&or(t),f=t[2]&&rr(t),c=t[3]&&lr(t);const d=t[35].default,h=nt(d,t,t[36],null),m=t[35].after,y=nt(m,t,t[36],nr);return{c(){a&&a.c(),e=ke(),u&&u.c(),n=ke(),f&&f.c(),i=ke(),c&&c.c(),o=ke(),h&&h.c(),r=ke(),y&&y.c()},l(w){a&&a.l(w),e=ve(w),u&&u.l(w),n=ve(w),f&&f.l(w),i=ve(w),c&&c.l(w),o=ve(w),h&&h.l(w),r=ve(w),y&&y.l(w)},m(w,g){a&&a.m(w,g),Q(w,e,g),u&&u.m(w,g),Q(w,n,g),f&&f.m(w,g),Q(w,i,g),c&&c.m(w,g),Q(w,o,g),h&&h.m(w,g),Q(w,r,g),y&&y.m(w,g),s=!0},p(w,g){a&&a.p&&(!s||g[1]&32)&&it(a,l,w,w[36],s?rt(l,w[36],g,Sg):ot(w[36]),ir),w[1]?u?(u.p(w,g),g[0]&2&&V(u,1)):(u=or(w),u.c(),V(u,1),u.m(n.parentNode,n)):u&&(Ke(),L(u,1,1,()=>{u=null}),Fe()),w[2]?f?(f.p(w,g),g[0]&4&&V(f,1)):(f=rr(w),f.c(),V(f,1),f.m(i.parentNode,i)):f&&(Ke(),L(f,1,1,()=>{f=null}),Fe()),w[3]?c?(c.p(w,g),g[0]&8&&V(c,1)):(c=lr(w),c.c(),V(c,1),c.m(o.parentNode,o)):c&&(Ke(),L(c,1,1,()=>{c=null}),Fe()),h&&h.p&&(!s||g[1]&32)&&it(h,d,w,w[36],s?rt(d,w[36],g,null):ot(w[36]),null),y&&y.p&&(!s||g[1]&32)&&it(y,m,w,w[36],s?rt(m,w[36],g,Eg):ot(w[36]),nr)},i(w){s||(V(a,w),V(u),V(f),V(c),V(h,w),V(y,w),s=!0)},o(w){L(a,w),L(u),L(f),L(c),L(h,w),L(y,w),s=!1},d(w){w&&(N(e),N(n),N(i),N(o),N(r)),a&&a.d(w),u&&u.d(w),f&&f.d(w),c&&c.d(w),h&&h.d(w),y&&y.d(w)}}}function Tg(t){let e,n;return e=new ml({props:{class:Ve(["svelte-flow__controls",t[7],t[6]]),position:t[0],"data-testid":"svelte-flow__controls","aria-label":t[4]??"Svelte Flow controls",style:t[5],$$slots:{default:[Dg]},$$scope:{ctx:t}}}),{c(){ie(e.$$.fragment)},l(i){se(e.$$.fragment,i)},m(i,o){oe(e,i,o),n=!0},p(i,o){const r={};o[0]&192&&(r.class=Ve(["svelte-flow__controls",i[7],i[6]])),o[0]&1&&(r.position=i[0]),o[0]&16&&(r["aria-label"]=i[4]??"Svelte Flow controls"),o[0]&32&&(r.style=i[5]),o[0]&1806|o[1]&32&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(V(e.$$.fragment,i),n=!0)},o(i){L(e.$$.fragment,i),n=!1},d(i){re(e,i)}}}function Og(t,e,n){let i,o,r,s,l,a,u,f,c,d,{$$slots:h={},$$scope:m}=e,{position:y="bottom-left"}=e,{showZoom:w=!0}=e,{showFitView:g=!0}=e,{showLock:v=!0}=e,{buttonBgColor:k=void 0}=e,{buttonBgColorHover:E=void 0}=e,{buttonColor:H=void 0}=e,{buttonColorHover:K=void 0}=e,{buttonBorderColor:P=void 0}=e,{ariaLabel:X=void 0}=e,{style:A=void 0}=e,{orientation:B="vertical"}=e,{fitViewOptions:q=void 0}=e,{class:W=""}=e;const{zoomIn:Z,zoomOut:b,fitView:I,viewport:_,minZoom:C,maxZoom:D,nodesDraggable:T,nodesConnectable:Y,elementsSelectable:F}=Le();G(t,_,z=>n(30,a=z)),G(t,C,z=>n(31,u=z)),G(t,D,z=>n(29,l=z)),G(t,T,z=>n(34,d=z)),G(t,Y,z=>n(33,c=z)),G(t,F,z=>n(32,f=z));const U={bgColor:k,bgColorHover:E,color:H,colorHover:K,borderColor:P},ee=()=>{Z()},O=()=>{b()},j=()=>{I(q)},te=()=>{n(8,i=!i),T.set(i),Y.set(i),F.set(i)};return t.$$set=z=>{"position"in z&&n(0,y=z.position),"showZoom"in z&&n(1,w=z.showZoom),"showFitView"in z&&n(2,g=z.showFitView),"showLock"in z&&n(3,v=z.showLock),"buttonBgColor"in z&&n(22,k=z.buttonBgColor),"buttonBgColorHover"in z&&n(23,E=z.buttonBgColorHover),"buttonColor"in z&&n(24,H=z.buttonColor),"buttonColorHover"in z&&n(25,K=z.buttonColorHover),"buttonBorderColor"in z&&n(26,P=z.buttonBorderColor),"ariaLabel"in z&&n(4,X=z.ariaLabel),"style"in z&&n(5,A=z.style),"orientation"in z&&n(27,B=z.orientation),"fitViewOptions"in z&&n(28,q=z.fitViewOptions),"class"in z&&n(6,W=z.class),"$$scope"in z&&n(36,m=z.$$scope)},t.$$.update=()=>{t.$$.dirty[1]&14&&n(8,i=d||c||f),t.$$.dirty[0]&1073741824|t.$$.dirty[1]&1&&n(10,o=a.zoom<=u),t.$$.dirty[0]&1610612736&&n(9,r=a.zoom>=l),t.$$.dirty[0]&134217728&&n(7,s=B==="horizontal"?"horizontal":"vertical")},[y,w,g,v,X,A,W,s,i,r,o,_,C,D,T,Y,F,U,ee,O,j,te,k,E,H,K,P,B,q,l,a,u,f,c,d,h,m]}class Ig extends ge{constructor(e){super(),me(this,e,Og,Tg,be,{position:0,showZoom:1,showFitView:2,showLock:3,buttonBgColor:22,buttonBgColorHover:23,buttonColor:24,buttonColorHover:25,buttonBorderColor:26,ariaLabel:4,style:5,orientation:27,fitViewOptions:28,class:6},null,[-1,-1])}}const Hg=Ig;var Ht;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(Ht||(Ht={}));function Ag(t){let e,n;return{c(){e=Te("circle"),this.h()},l(i){e=Oe(i,"circle",{cx:!0,cy:!0,r:!0,class:!0}),x(e).forEach(N),this.h()},h(){S(e,"cx",t[0]),S(e,"cy",t[0]),S(e,"r",t[0]),S(e,"class",n=Ve(["svelte-flow__background-pattern","dots",t[1]]))},m(i,o){Q(i,e,o)},p(i,[o]){o&1&&S(e,"cx",i[0]),o&1&&S(e,"cy",i[0]),o&1&&S(e,"r",i[0]),o&2&&n!==(n=Ve(["svelte-flow__background-pattern","dots",i[1]]))&&S(e,"class",n)},i:Me,o:Me,d(i){i&&N(e)}}}function Vg(t,e,n){let{radius:i=5}=e,{class:o=""}=e;return t.$$set=r=>{"radius"in r&&n(0,i=r.radius),"class"in r&&n(1,o=r.class)},[i,o]}class Xg extends ge{constructor(e){super(),me(this,e,Vg,Ag,be,{radius:0,class:1})}}const Yg=Xg;function Rg(t){let e,n,i;return{c(){e=Te("path"),this.h()},l(o){e=Oe(o,"path",{"stroke-width":!0,d:!0,class:!0}),x(e).forEach(N),this.h()},h(){S(e,"stroke-width",t[0]),S(e,"d",n=`M${t[1][0]/2} 0 V${t[1][1]} M0 ${t[1][1]/2} H${t[1][0]}`),S(e,"class",i=Ve(["svelte-flow__background-pattern",t[2],t[3]]))},m(o,r){Q(o,e,r)},p(o,[r]){r&1&&S(e,"stroke-width",o[0]),r&2&&n!==(n=`M${o[1][0]/2} 0 V${o[1][1]} M0 ${o[1][1]/2} H${o[1][0]}`)&&S(e,"d",n),r&12&&i!==(i=Ve(["svelte-flow__background-pattern",o[2],o[3]]))&&S(e,"class",i)},i:Me,o:Me,d(o){o&&N(e)}}}function Lg(t,e,n){let{lineWidth:i=1}=e,{dimensions:o}=e,{variant:r=void 0}=e,{class:s=""}=e;return t.$$set=l=>{"lineWidth"in l&&n(0,i=l.lineWidth),"dimensions"in l&&n(1,o=l.dimensions),"variant"in l&&n(2,r=l.variant),"class"in l&&n(3,s=l.class)},[i,o,r,s]}class Bg extends ge{constructor(e){super(),me(this,e,Lg,Rg,be,{lineWidth:0,dimensions:1,variant:2,class:3})}}const Wg=Bg;function Kg(t){let e,n;return e=new Wg({props:{dimensions:t[6],variant:t[0],lineWidth:t[1],class:t[4]}}),{c(){ie(e.$$.fragment)},l(i){se(e.$$.fragment,i)},m(i,o){oe(e,i,o),n=!0},p(i,o){const r={};o&64&&(r.dimensions=i[6]),o&1&&(r.variant=i[0]),o&2&&(r.lineWidth=i[1]),o&16&&(r.class=i[4]),e.$set(r)},i(i){n||(V(e.$$.fragment,i),n=!0)},o(i){L(e.$$.fragment,i),n=!1},d(i){re(e,i)}}}function Fg(t){let e,n;return e=new Yg({props:{radius:t[7]/2,class:t[4]}}),{c(){ie(e.$$.fragment)},l(i){se(e.$$.fragment,i)},m(i,o){oe(e,i,o),n=!0},p(i,o){const r={};o&128&&(r.radius=i[7]/2),o&16&&(r.class=i[4]),e.$set(r)},i(i){n||(V(e.$$.fragment,i),n=!0)},o(i){L(e.$$.fragment,i),n=!1},d(i){re(e,i)}}}function Zg(t){let e,n,i,o,r,s,l,a,u,f,c,d,h;const m=[Fg,Kg],y=[];function w(g,v){return g[14]?0:1}return i=w(t),o=y[i]=m[i](t),{c(){e=Te("svg"),n=Te("pattern"),o.c(),f=Te("rect"),this.h()},l(g){e=Oe(g,"svg",{class:!0,"data-testid":!0});var v=x(e);n=Oe(v,"pattern",{id:!0,x:!0,y:!0,width:!0,height:!0,patternUnits:!0,patternTransform:!0});var k=x(n);o.l(k),k.forEach(N),f=Oe(v,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),x(f).forEach(N),v.forEach(N),this.h()},h(){S(n,"id",t[11]),S(n,"x",r=t[9].x%t[8][0]),S(n,"y",s=t[9].y%t[8][1]),S(n,"width",l=t[8][0]),S(n,"height",a=t[8][1]),S(n,"patternUnits","userSpaceOnUse"),S(n,"patternTransform",u=`translate(-${t[10][0]},-${t[10][1]})`),S(f,"x","0"),S(f,"y","0"),S(f,"width","100%"),S(f,"height","100%"),S(f,"fill",c=`url(#${t[11]})`),S(e,"class",d=xi(Ve(["svelte-flow__background",t[5]]))+" svelte-1r7pe8d"),S(e,"data-testid","svelte-flow__background"),fe(e,"--xy-background-color-props",t[2]),fe(e,"--xy-background-pattern-color-props",t[3])},m(g,v){Q(g,e,v),$(e,n),y[i].m(n,null),$(e,f),h=!0},p(g,[v]){o.p(g,v),(!h||v&2048)&&S(n,"id",g[11]),(!h||v&768&&r!==(r=g[9].x%g[8][0]))&&S(n,"x",r),(!h||v&768&&s!==(s=g[9].y%g[8][1]))&&S(n,"y",s),(!h||v&256&&l!==(l=g[8][0]))&&S(n,"width",l),(!h||v&256&&a!==(a=g[8][1]))&&S(n,"height",a),(!h||v&1024&&u!==(u=`translate(-${g[10][0]},-${g[10][1]})`))&&S(n,"patternTransform",u),(!h||v&2048&&c!==(c=`url(#${g[11]})`))&&S(f,"fill",c),(!h||v&32&&d!==(d=xi(Ve(["svelte-flow__background",g[5]]))+" svelte-1r7pe8d"))&&S(e,"class",d),v&4&&fe(e,"--xy-background-color-props",g[2]),v&8&&fe(e,"--xy-background-pattern-color-props",g[3])},i(g){h||(V(o),h=!0)},o(g){L(o),h=!1},d(g){g&&N(e),y[i].d()}}}const qg={[Ht.Dots]:1,[Ht.Lines]:1,[Ht.Cross]:6};function Gg(t,e,n){let i,o,r,s,l,a,u,{id:f=void 0}=e,{variant:c=Ht.Dots}=e,{gap:d=20}=e,{size:h=1}=e,{lineWidth:m=1}=e,{bgColor:y=void 0}=e,{patternColor:w=void 0}=e,{patternClass:g=void 0}=e,{class:v=""}=e;const{viewport:k,flowId:E}=Le();G(t,k,A=>n(9,a=A)),G(t,E,A=>n(18,u=A));const H=h||qg[c],K=c===Ht.Dots,P=c===Ht.Cross,X=Array.isArray(d)?d:[d,d];return t.$$set=A=>{"id"in A&&n(15,f=A.id),"variant"in A&&n(0,c=A.variant),"gap"in A&&n(16,d=A.gap),"size"in A&&n(17,h=A.size),"lineWidth"in A&&n(1,m=A.lineWidth),"bgColor"in A&&n(2,y=A.bgColor),"patternColor"in A&&n(3,w=A.patternColor),"patternClass"in A&&n(4,g=A.patternClass),"class"in A&&n(5,v=A.class)},t.$$.update=()=>{t.$$.dirty&294912&&n(11,i=`background-pattern-${u}-${f||""}`),t.$$.dirty&512&&n(8,o=[X[0]*a.zoom||1,X[1]*a.zoom||1]),t.$$.dirty&512&&n(7,r=H*a.zoom),t.$$.dirty&384&&n(6,s=P?[r,r]:o),t.$$.dirty&192&&n(10,l=K?[r/2,r/2]:[s[0]/2,s[1]/2])},[c,m,y,w,g,v,s,r,o,a,l,i,k,E,K,f,d,h,u]}class Ug extends ge{constructor(e){super(),me(this,e,Gg,Zg,be,{id:15,variant:0,gap:16,size:17,lineWidth:1,bgColor:2,patternColor:3,patternClass:4,class:5})}}const Jg=Ug;function Qg(t){let e,n,i,o,r,s=t[0].name+"",l,a,u,f=t[0].name+"",c,d,h,m,y,w='<th class="text-left third svelte-1i27hy3">Start</th> <th class="svelte-1i27hy3">Duration</th> <th class="text-right third svelte-1i27hy3">Finish</th>',g,v,k,E=t[0].es+"",H,K,P,X=t[0].expected+"",A,B,q,W=t[0].ef+"",Z,b,I,_,C=t[0].ls+"",D,T,Y,F=t[0].lf+"",U,ee,O,j,te,z,le='<th class="text-left third svelte-1i27hy3">Min</th> <th class="svelte-1i27hy3">Likely</th> <th class="text-right third svelte-1i27hy3">Max</th>',ye,ue,we,Ee=t[0].min+"",Ie,R,Pe,Se=t[0].likely+"",Je,Qe,Ze,lt=t[0].max+"",ut,ft,qe,st,Ae;return n=new rn({props:{type:"target",position:"left",isConnectable:t[1]}}),qe=new rn({props:{type:"source",position:"right",isConnectable:t[1]}}),{c(){e=de("div"),ie(n.$$.fragment),i=ke(),o=de("div"),r=de("div"),l=je(s),a=ke(),u=de("div"),c=je(f),h=ke(),m=de("table"),y=de("tr"),y.innerHTML=w,g=ke(),v=de("tr"),k=de("td"),H=je(E),K=ke(),P=de("td"),A=je(X),B=ke(),q=de("td"),Z=je(W),b=ke(),I=de("tr"),_=de("td"),D=je(C),T=ke(),Y=de("td"),U=je(F),ee=ke(),O=de("hr"),j=ke(),te=de("table"),z=de("tr"),z.innerHTML=le,ye=ke(),ue=de("tr"),we=de("td"),Ie=je(Ee),R=ke(),Pe=de("td"),Je=je(Se),Qe=ke(),Ze=de("td"),ut=je(lt),ft=ke(),ie(qe.$$.fragment),this.h()},l(pe){e=he(pe,"DIV",{class:!0});var _e=x(e);se(n.$$.fragment,_e),i=ve(_e),o=he(_e,"DIV",{class:!0});var Be=x(o);r=he(Be,"DIV",{class:!0});var M=x(r);l=xe(M,s),M.forEach(N),a=ve(Be),u=he(Be,"DIV",{class:!0});var Ge=x(u);c=xe(Ge,f),Ge.forEach(N),Be.forEach(N),h=ve(_e),m=he(_e,"TABLE",{style:!0,class:!0});var De=x(m);y=he(De,"TR",{"data-svelte-h":!0}),bi(y)!=="svelte-1kap4rr"&&(y.innerHTML=w),g=ve(De),v=he(De,"TR",{});var ze=x(v);k=he(ze,"TD",{class:!0});var pt=x(k);H=xe(pt,E),pt.forEach(N),K=ve(ze),P=he(ze,"TD",{class:!0,rowspan:!0});var Ct=x(P);A=xe(Ct,X),Ct.forEach(N),B=ve(ze),q=he(ze,"TD",{class:!0});var Mt=x(q);Z=xe(Mt,W),Mt.forEach(N),ze.forEach(N),b=ve(De),I=he(De,"TR",{});var ct=x(I);_=he(ct,"TD",{class:!0});var dt=x(_);D=xe(dt,C),dt.forEach(N),T=ve(ct),Y=he(ct,"TD",{class:!0});var bt=x(Y);U=xe(bt,F),bt.forEach(N),ct.forEach(N),De.forEach(N),ee=ve(_e),O=he(_e,"HR",{class:!0}),j=ve(_e),te=he(_e,"TABLE",{style:!0,class:!0});var Pt=x(te);z=he(Pt,"TR",{"data-svelte-h":!0}),bi(z)!=="svelte-11mrgyi"&&(z.innerHTML=le),ye=ve(Pt),ue=he(Pt,"TR",{});var Nt=x(ue);we=he(Nt,"TD",{class:!0});var Ft=x(we);Ie=xe(Ft,Ee),Ft.forEach(N),R=ve(Nt),Pe=he(Nt,"TD",{class:!0});var ln=x(Pe);Je=xe(ln,Se),ln.forEach(N),Qe=ve(Nt),Ze=he(Nt,"TD",{class:!0});var sn=x(Ze);ut=xe(sn,lt),sn.forEach(N),Nt.forEach(N),Pt.forEach(N),ft=ve(_e),se(qe.$$.fragment,_e),_e.forEach(N),this.h()},h(){S(r,"class","heading-text svelte-1i27hy3"),S(u,"class","heading-full svelte-1i27hy3"),S(o,"class",d="heading "+t[3]+" svelte-1i27hy3"),S(k,"class","text-left"),S(P,"class","text-center va-middle"),S(P,"rowspan","2"),S(q,"class","text-right"),S(_,"class","text-left"),S(Y,"class","text-right"),fe(m,"width","99.9%"),S(m,"class","svelte-1i27hy3"),S(O,"class","svelte-1i27hy3"),S(we,"class","text-left"),S(Pe,"class","text-center"),S(Ze,"class","text-right"),fe(te,"width","99.9%"),S(te,"class","svelte-1i27hy3"),S(e,"class",st="critical-path-node "+t[2]+" svelte-1i27hy3")},m(pe,_e){Q(pe,e,_e),oe(n,e,null),$(e,i),$(e,o),$(o,r),$(r,l),$(o,a),$(o,u),$(u,c),$(e,h),$(e,m),$(m,y),$(m,g),$(m,v),$(v,k),$(k,H),$(v,K),$(v,P),$(P,A),$(v,B),$(v,q),$(q,Z),$(m,b),$(m,I),$(I,_),$(_,D),$(I,T),$(I,Y),$(Y,U),$(e,ee),$(e,O),$(e,j),$(e,te),$(te,z),$(te,ye),$(te,ue),$(ue,we),$(we,Ie),$(ue,R),$(ue,Pe),$(Pe,Je),$(ue,Qe),$(ue,Ze),$(Ze,ut),$(e,ft),oe(qe,e,null),Ae=!0},p(pe,[_e]){const Be={};_e&2&&(Be.isConnectable=pe[1]),n.$set(Be),(!Ae||_e&1)&&s!==(s=pe[0].name+"")&&$e(l,s),(!Ae||_e&1)&&f!==(f=pe[0].name+"")&&$e(c,f),(!Ae||_e&8&&d!==(d="heading "+pe[3]+" svelte-1i27hy3"))&&S(o,"class",d),(!Ae||_e&1)&&E!==(E=pe[0].es+"")&&$e(H,E),(!Ae||_e&1)&&X!==(X=pe[0].expected+"")&&$e(A,X),(!Ae||_e&1)&&W!==(W=pe[0].ef+"")&&$e(Z,W),(!Ae||_e&1)&&C!==(C=pe[0].ls+"")&&$e(D,C),(!Ae||_e&1)&&F!==(F=pe[0].lf+"")&&$e(U,F),(!Ae||_e&1)&&Ee!==(Ee=pe[0].min+"")&&$e(Ie,Ee),(!Ae||_e&1)&&Se!==(Se=pe[0].likely+"")&&$e(Je,Se),(!Ae||_e&1)&&lt!==(lt=pe[0].max+"")&&$e(ut,lt);const M={};_e&2&&(M.isConnectable=pe[1]),qe.$set(M),(!Ae||_e&4&&st!==(st="critical-path-node "+pe[2]+" svelte-1i27hy3"))&&S(e,"class",st)},i(pe){Ae||(V(n.$$.fragment,pe),V(qe.$$.fragment,pe),Ae=!0)},o(pe){L(n.$$.fragment,pe),L(qe.$$.fragment,pe),Ae=!1},d(pe){pe&&N(e),re(n),re(qe)}}}function jg(t,e,n){let i,o,{data:r}=e,{isConnectable:s=!0}=e,{id:l}=e,{selected:a=!1}=e,{selectable:u=!0}=e,{deletable:f=!1}=e,{sourcePosition:c=void 0}=e,{targetPosition:d=void 0}=e,{zIndex:h=0}=e,{dragging:m=!1}=e,{draggable:y=!0}=e,{dragHandle:w=void 0}=e,{parentId:g=void 0}=e,{type:v="default"}=e,{positionAbsoluteX:k=void 0}=e,{positionAbsoluteY:E=void 0}=e,{width:H=void 0}=e,{height:K=void 0}=e;return t.$$set=P=>{"data"in P&&n(0,r=P.data),"isConnectable"in P&&n(1,s=P.isConnectable),"id"in P&&n(4,l=P.id),"selected"in P&&n(5,a=P.selected),"selectable"in P&&n(6,u=P.selectable),"deletable"in P&&n(7,f=P.deletable),"sourcePosition"in P&&n(8,c=P.sourcePosition),"targetPosition"in P&&n(9,d=P.targetPosition),"zIndex"in P&&n(10,h=P.zIndex),"dragging"in P&&n(11,m=P.dragging),"draggable"in P&&n(12,y=P.draggable),"dragHandle"in P&&n(13,w=P.dragHandle),"parentId"in P&&n(14,g=P.parentId),"type"in P&&n(15,v=P.type),"positionAbsoluteX"in P&&n(16,k=P.positionAbsoluteX),"positionAbsoluteY"in P&&n(17,E=P.positionAbsoluteY),"width"in P&&n(18,H=P.width),"height"in P&&n(19,K=P.height)},t.$$.update=()=>{t.$$.dirty&1&&n(3,i=Number(r.progress)>=100?"bg-emerald":r.slack===0?"bg-darkSteel":"bg-darkBlue"),t.$$.dirty&1&&n(2,o=r.slack===0?"critical":"normal")},[r,s,o,i,l,a,u,f,c,d,h,m,y,w,g,v,k,E,H,K]}class xg extends ge{constructor(e){super(),me(this,e,jg,Qg,be,{data:0,isConnectable:1,id:4,selected:5,selectable:6,deletable:7,sourcePosition:8,targetPosition:9,zIndex:10,dragging:11,draggable:12,dragHandle:13,parentId:14,type:15,positionAbsoluteX:16,positionAbsoluteY:17,width:18,height:19})}}function $g(t,e){const n=new Map,i=new Map;return t.forEach(o=>{n.set(o.id,[]),i.set(o.id,[])}),e.forEach(o=>{o.source&&o.target&&(i.get(o.source).push(o.target),n.get(o.target).push(o.source))}),{incoming:n,outgoing:i}}function e0(t,e,n={}){const{nodeWidth:i=250,nodeHeight:o=150,horizontalSpacing:r=100,verticalSpacing:s=100,startX:l=50,startY:a=50,viewportHeight:u=800}=n,{incoming:f,outgoing:c}=$g(t,e),d=new Map(t.map(g=>[g.id,{...g,rank:0,order:0,width:i,height:o}])),h=t.filter(g=>f.get(g.id).length===0);let m=0;function y(g,v=0){const k=d.get(g);k.rank=Math.max(k.rank,v),m=Math.max(m,v),c.get(g).forEach(E=>{y(E,v+1)})}h.forEach(g=>y(g.id)),h.length===0&&t.length>0&&y(t[0].id);const w=new Array(m+1).fill(0).map(()=>[]);return d.forEach(g=>w[g.rank].push(g)),w.forEach((g,v)=>{v===0?g.sort((k,E)=>{const H=c.get(k.id).length;return c.get(E.id).length-H}):g.sort((k,E)=>{const H=f.get(k.id),K=f.get(E.id),P=H.reduce((A,B)=>A+d.get(B).order,0)/H.length,X=K.reduce((A,B)=>A+d.get(B).order,0)/K.length;return P-X}),g.forEach((k,E)=>{k.order=E})}),w.forEach((g,v)=>{const k=g.reduce((K,P,X)=>K+P.height+(X>0?s:0),0);let H=(u-k)/2;g.forEach(K=>{K.position={x:l+v*(i+r),y:H},H+=K.height+s})}),Array.from(d.values())}function sr(t){let e,n;return e=new Jg({props:{variant:"dots",gap:t[5][0],size:1}}),{c(){ie(e.$$.fragment)},l(i){se(e.$$.fragment,i)},m(i,o){oe(e,i,o),n=!0},p:Me,i(i){n||(V(e.$$.fragment,i),n=!0)},o(i){L(e.$$.fragment,i),n=!1},d(i){re(e,i)}}}function ar(t){let e,n;return e=new Hg({}),{c(){ie(e.$$.fragment)},l(i){se(e.$$.fragment,i)},m(i,o){oe(e,i,o),n=!0},i(i){n||(V(e.$$.fragment,i),n=!0)},o(i){L(e.$$.fragment,i),n=!1},d(i){re(e,i)}}}function t0(t){let e,n,i,o=t[0]&&sr(t),r=t[1]&&ar();return{c(){o&&o.c(),e=ke(),r&&r.c(),n=Xe()},l(s){o&&o.l(s),e=ve(s),r&&r.l(s),n=Xe()},m(s,l){o&&o.m(s,l),Q(s,e,l),r&&r.m(s,l),Q(s,n,l),i=!0},p(s,l){s[0]?o?(o.p(s,l),l&1&&V(o,1)):(o=sr(s),o.c(),V(o,1),o.m(e.parentNode,e)):o&&(Ke(),L(o,1,1,()=>{o=null}),Fe()),s[1]?r?l&2&&V(r,1):(r=ar(),r.c(),V(r,1),r.m(n.parentNode,n)):r&&(Ke(),L(r,1,1,()=>{r=null}),Fe())},i(s){i||(V(o),V(r),i=!0)},o(s){L(o),L(r),i=!1},d(s){s&&(N(e),N(n)),o&&o.d(s),r&&r.d(s)}}}function n0(t){let e,n,i;return n=new ng({props:{nodes:t[2],edges:t[3],nodeTypes:t[4],viewport:hr,nodesDraggable:!0,nodesConnectable:!1,elementsSelectable:!0,minZoom:.5,maxZoom:2,snapToGrid:!0,snapGrid:t[5],proOptions:{hideAttribution:!0},$$slots:{default:[t0]},$$scope:{ctx:t}}}),n.$on("viewportChange",t[7]),n.$on("nodedragstop",t[6]),{c(){e=de("div"),ie(n.$$.fragment),this.h()},l(o){e=he(o,"DIV",{style:!0});var r=x(e);se(n.$$.fragment,r),r.forEach(N),this.h()},h(){fe(e,"width","100%"),fe(e,"height","100%")},m(o,r){Q(o,e,r),oe(n,e,null),i=!0},p(o,[r]){const s={};r&2051&&(s.$$scope={dirty:r,ctx:o}),n.$set(s)},i(o){i||(V(n.$$.fragment,o),i=!0)},o(o){L(n.$$.fragment,o),i=!1},d(o){o&&N(e),re(n)}}}const ur=200,fr=120;function i0(t,e,n){let i,o,r;G(t,Fl,m=>n(8,i=m)),G(t,Zl,m=>n(0,o=m)),G(t,ql,m=>n(1,r=m));const s=ne([]),l=ne([]),a={default:xg},u=[20,20],f=Math.ceil(ur/u[0])*u[0]+40,c=Math.ceil(fr/u[1])*u[1]+20;function d(m){const y=J(s);Gl(y)}function h(m){hr.set(m.detail)}return t.$$.update=()=>{if(t.$$.dirty&256&&i.map){const m=Object.values(i.map).map(g=>({id:g.id,position:{x:Math.round((g.x||0)/u[0])*u[0],y:Math.round((g.y||0)/u[1])*u[1]},data:{...g,label:g.name||g.id},type:"default"})),y=Object.values(i.map).flatMap(g=>g.predecessors.map(v=>{const k=i.map[v],E=g,H=k.slack===0&&E.slack===0,K=Number(k.progress)>=100&&Number(E.progress)<100;return{id:`${v}-${g.id}`,source:v,target:g.id,type:"default",class:H?"critical-path":"normal-path",animated:K}})),w=m.filter(g=>!g.position.x&&!g.position.y);if(w.length>0){const v=e0(w,y,{nodeWidth:ur,nodeHeight:fr,horizontalSpacing:f,verticalSpacing:c,viewportHeight:window.innerHeight}).map(E=>({...E,position:{x:Math.round(E.position.x/u[0])*u[0],y:Math.round(E.position.y/u[1])*u[1]}})),k=m.map(E=>E.position.x||E.position.y?E:v.find(H=>H.id===E.id)||E);s.set(k)}else s.set(m);l.set(y)}},[o,r,s,l,a,u,d,h,i]}class o0 extends ge{constructor(e){super(),me(this,e,i0,n0,be,{})}}function r0(t){let e,n,i,o,r,s,l,a,u;return r=new Ul({props:{name:"tasks"}}),a=new o0({}),{c(){e=de("div"),n=de("div"),i=de("div"),o=de("div"),ie(r.$$.fragment),s=ke(),l=de("div"),ie(a.$$.fragment),this.h()},l(f){e=he(f,"DIV",{"data-role":!0,class:!0,"data-split-sizes":!0});var c=x(e);n=he(c,"DIV",{class:!0});var d=x(n);i=he(d,"DIV",{class:!0,id:!0});var h=x(i);o=he(h,"DIV",{class:!0});var m=x(o);se(r.$$.fragment,m),m.forEach(N),h.forEach(N),d.forEach(N),s=ve(c),l=he(c,"DIV",{class:!0});var y=x(l);se(a.$$.fragment,y),y.forEach(N),c.forEach(N),this.h()},h(){S(o,"class","scrollable svelte-s7pqkt"),S(i,"class","card-content p-2"),S(i,"id","tasks-table"),S(n,"class","border bd-default"),S(l,"class","d-flex flex-justify-center flex-align-center"),S(e,"data-role","splitter"),S(e,"class","h-100"),S(e,"data-split-sizes","25, 75")},m(f,c){Q(f,e,c),$(e,n),$(n,i),$(i,o),oe(r,o,null),$(e,s),$(e,l),oe(a,l,null),u=!0},p:Me,i(f){u||(V(r.$$.fragment,f),V(a.$$.fragment,f),u=!0)},o(f){L(r.$$.fragment,f),L(a.$$.fragment,f),u=!1},d(f){f&&N(e),re(r),re(a)}}}class h0 extends ge{constructor(e){super(),me(this,e,null,r0,be,{})}}export{h0 as component};
