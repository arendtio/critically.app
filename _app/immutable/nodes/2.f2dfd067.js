import{s as ce,n as St,o as ue,b as pe,r as fe,e as $t,f as Xt}from"../chunks/scheduler.72a81396.js";import{S as de,i as re,g as B,h as S,j as W,f as k,k as E,a as mt,s as rt,r as _e,x as Yt,c as ht,u as me,l as _t,y as x,v as ge,z as ft,d as ve,t as we,A as bt,w as ye,m as Ce,n as be,o as xe}from"../chunks/index.d11d4d66.js";import{e as pt}from"../chunks/each.e59479a4.js";import{c as Ee,g as Le}from"../chunks/_commonjsHelpers.725317a4.js";import{c as Re,r as Jt,t as Vt}from"../chunks/criticalPath.store.aedc5f59.js";var he={exports:{}};(function(b,m){(function(g,r){b.exports=r()})(typeof self<"u"?self:Ee,function(){return function(g){var r={};function f(y){if(r[y])return r[y].exports;var u=r[y]={i:y,l:!1,exports:{}};return g[y].call(u.exports,u,u.exports,f),u.l=!0,u.exports}return f.m=g,f.c=r,f.d=function(y,u,t){f.o(y,u)||Object.defineProperty(y,u,{enumerable:!0,get:t})},f.r=function(y){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(y,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(y,"__esModule",{value:!0})},f.t=function(y,u){if(1&u&&(y=f(y)),8&u||4&u&&typeof y=="object"&&y&&y.__esModule)return y;var t=Object.create(null);if(f.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:y}),2&u&&typeof y!="string")for(var n in y)f.d(t,n,(function(s){return y[s]}).bind(null,n));return t},f.n=function(y){var u=y&&y.__esModule?function(){return y.default}:function(){return y};return f.d(u,"a",u),u},f.o=function(y,u){return Object.prototype.hasOwnProperty.call(y,u)},f.p="",f(f.s=0)}([function(g,r,f){f.r(r),f.d(r,"default",function(){return y});class y{constructor(t,n=null,s=null){this.events={},this.container=t,this.precanvas=null,this.nodeId=1,this.ele_selected=null,this.node_selected=null,this.drag=!1,this.reroute=!1,this.reroute_fix_curvature=!1,this.curvature=.5,this.reroute_curvature_start_end=.5,this.reroute_curvature=.5,this.reroute_width=6,this.drag_point=!1,this.editor_selected=!1,this.connection=!1,this.connection_ele=null,this.connection_selected=null,this.canvas_x=0,this.canvas_y=0,this.pos_x=0,this.pos_x_start=0,this.pos_y=0,this.pos_y_start=0,this.mouse_x=0,this.mouse_y=0,this.line_path=5,this.first_click=null,this.force_first_input=!1,this.draggable_inputs=!0,this.useuuid=!1,this.parent=s,this.noderegister={},this.render=n,this.drawflow={drawflow:{Home:{data:{}}}},this.module="Home",this.editor_mode="edit",this.zoom=1,this.zoom_max=1.6,this.zoom_min=.5,this.zoom_value=.1,this.zoom_last_value=1,this.evCache=new Array,this.prevDiff=-1}start(){this.container.classList.add("parent-drawflow"),this.container.tabIndex=0,this.precanvas=document.createElement("div"),this.precanvas.classList.add("drawflow"),this.container.appendChild(this.precanvas),this.container.addEventListener("mouseup",this.dragEnd.bind(this)),this.container.addEventListener("mousemove",this.position.bind(this)),this.container.addEventListener("mousedown",this.click.bind(this)),this.container.addEventListener("touchend",this.dragEnd.bind(this)),this.container.addEventListener("touchmove",this.position.bind(this)),this.container.addEventListener("touchstart",this.click.bind(this)),this.container.addEventListener("contextmenu",this.contextmenu.bind(this)),this.container.addEventListener("keydown",this.key.bind(this)),this.container.addEventListener("wheel",this.zoom_enter.bind(this)),this.container.addEventListener("input",this.updateNodeValue.bind(this)),this.container.addEventListener("dblclick",this.dblclick.bind(this)),this.container.onpointerdown=this.pointerdown_handler.bind(this),this.container.onpointermove=this.pointermove_handler.bind(this),this.container.onpointerup=this.pointerup_handler.bind(this),this.container.onpointercancel=this.pointerup_handler.bind(this),this.container.onpointerout=this.pointerup_handler.bind(this),this.container.onpointerleave=this.pointerup_handler.bind(this),this.load()}pointerdown_handler(t){this.evCache.push(t)}pointermove_handler(t){for(var n=0;n<this.evCache.length;n++)if(t.pointerId==this.evCache[n].pointerId){this.evCache[n]=t;break}if(this.evCache.length==2){var s=Math.abs(this.evCache[0].clientX-this.evCache[1].clientX);this.prevDiff>100&&(s>this.prevDiff&&this.zoom_in(),s<this.prevDiff&&this.zoom_out()),this.prevDiff=s}}pointerup_handler(t){this.remove_event(t),this.evCache.length<2&&(this.prevDiff=-1)}remove_event(t){for(var n=0;n<this.evCache.length;n++)if(this.evCache[n].pointerId==t.pointerId){this.evCache.splice(n,1);break}}load(){for(var t in this.drawflow.drawflow[this.module].data)this.addNodeImport(this.drawflow.drawflow[this.module].data[t],this.precanvas);if(this.reroute)for(var t in this.drawflow.drawflow[this.module].data)this.addRerouteImport(this.drawflow.drawflow[this.module].data[t]);for(var t in this.drawflow.drawflow[this.module].data)this.updateConnectionNodes("node-"+t);const n=this.drawflow.drawflow;let s=1;Object.keys(n).map(function(i,e){Object.keys(n[i].data).map(function(l,d){parseInt(l)>=s&&(s=parseInt(l)+1)})}),this.nodeId=s}removeReouteConnectionSelected(){this.dispatch("connectionUnselected",!0),this.reroute_fix_curvature&&this.connection_selected.parentElement.querySelectorAll(".main-path").forEach((t,n)=>{t.classList.remove("selected")})}click(t){if(this.dispatch("click",t),this.editor_mode==="fixed"){if(t.preventDefault(),t.target.classList[0]!=="parent-drawflow"&&t.target.classList[0]!=="drawflow")return!1;this.ele_selected=t.target.closest(".parent-drawflow")}else this.editor_mode==="view"?(t.target.closest(".drawflow")!=null||t.target.matches(".parent-drawflow"))&&(this.ele_selected=t.target.closest(".parent-drawflow"),t.preventDefault()):(this.first_click=t.target,this.ele_selected=t.target,t.button===0&&this.contextmenuDel(),t.target.closest(".drawflow_content_node")!=null&&(this.ele_selected=t.target.closest(".drawflow_content_node").parentElement));switch(this.ele_selected.classList[0]){case"drawflow-node":this.node_selected!=null&&(this.node_selected.classList.remove("selected"),this.node_selected!=this.ele_selected&&this.dispatch("nodeUnselected",!0)),this.connection_selected!=null&&(this.connection_selected.classList.remove("selected"),this.removeReouteConnectionSelected(),this.connection_selected=null),this.node_selected!=this.ele_selected&&this.dispatch("nodeSelected",this.ele_selected.id.slice(5)),this.node_selected=this.ele_selected,this.node_selected.classList.add("selected"),this.draggable_inputs?t.target.tagName!=="SELECT"&&(this.drag=!0):t.target.tagName!=="INPUT"&&t.target.tagName!=="TEXTAREA"&&t.target.tagName!=="SELECT"&&t.target.hasAttribute("contenteditable")!==!0&&(this.drag=!0);break;case"output":this.connection=!0,this.node_selected!=null&&(this.node_selected.classList.remove("selected"),this.node_selected=null,this.dispatch("nodeUnselected",!0)),this.connection_selected!=null&&(this.connection_selected.classList.remove("selected"),this.removeReouteConnectionSelected(),this.connection_selected=null),this.drawConnection(t.target);break;case"parent-drawflow":case"drawflow":this.node_selected!=null&&(this.node_selected.classList.remove("selected"),this.node_selected=null,this.dispatch("nodeUnselected",!0)),this.connection_selected!=null&&(this.connection_selected.classList.remove("selected"),this.removeReouteConnectionSelected(),this.connection_selected=null),this.editor_selected=!0;break;case"main-path":this.node_selected!=null&&(this.node_selected.classList.remove("selected"),this.node_selected=null,this.dispatch("nodeUnselected",!0)),this.connection_selected!=null&&(this.connection_selected.classList.remove("selected"),this.removeReouteConnectionSelected(),this.connection_selected=null),this.connection_selected=this.ele_selected,this.connection_selected.classList.add("selected");const n=this.connection_selected.parentElement.classList;n.length>1&&(this.dispatch("connectionSelected",{output_id:n[2].slice(14),input_id:n[1].slice(13),output_class:n[3],input_class:n[4]}),this.reroute_fix_curvature&&this.connection_selected.parentElement.querySelectorAll(".main-path").forEach((s,i)=>{s.classList.add("selected")}));break;case"point":this.drag_point=!0,this.ele_selected.classList.add("selected");break;case"drawflow-delete":this.node_selected&&this.removeNodeId(this.node_selected.id),this.connection_selected&&this.removeConnection(),this.node_selected!=null&&(this.node_selected.classList.remove("selected"),this.node_selected=null,this.dispatch("nodeUnselected",!0)),this.connection_selected!=null&&(this.connection_selected.classList.remove("selected"),this.removeReouteConnectionSelected(),this.connection_selected=null)}t.type==="touchstart"?(this.pos_x=t.touches[0].clientX,this.pos_x_start=t.touches[0].clientX,this.pos_y=t.touches[0].clientY,this.pos_y_start=t.touches[0].clientY,this.mouse_x=t.touches[0].clientX,this.mouse_y=t.touches[0].clientY):(this.pos_x=t.clientX,this.pos_x_start=t.clientX,this.pos_y=t.clientY,this.pos_y_start=t.clientY),["input","output","main-path"].includes(this.ele_selected.classList[0])&&t.preventDefault(),this.dispatch("clickEnd",t)}position(t){if(t.type==="touchmove")var n=t.touches[0].clientX,s=t.touches[0].clientY;else n=t.clientX,s=t.clientY;if(this.connection&&this.updateConnection(n,s),this.editor_selected&&(i=this.canvas_x+-(this.pos_x-n),e=this.canvas_y+-(this.pos_y-s),this.dispatch("translate",{x:i,y:e}),this.precanvas.style.transform="translate("+i+"px, "+e+"px) scale("+this.zoom+")"),this.drag){t.preventDefault();var i=(this.pos_x-n)*this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom),e=(this.pos_y-s)*this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom);this.pos_x=n,this.pos_y=s,this.ele_selected.style.top=this.ele_selected.offsetTop-e+"px",this.ele_selected.style.left=this.ele_selected.offsetLeft-i+"px",this.drawflow.drawflow[this.module].data[this.ele_selected.id.slice(5)].pos_x=this.ele_selected.offsetLeft-i,this.drawflow.drawflow[this.module].data[this.ele_selected.id.slice(5)].pos_y=this.ele_selected.offsetTop-e,this.updateConnectionNodes(this.ele_selected.id)}if(this.drag_point){i=(this.pos_x-n)*this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom),e=(this.pos_y-s)*this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom),this.pos_x=n,this.pos_y=s;var l=this.pos_x*(this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom))-this.precanvas.getBoundingClientRect().x*(this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom)),d=this.pos_y*(this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom))-this.precanvas.getBoundingClientRect().y*(this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom));this.ele_selected.setAttributeNS(null,"cx",l),this.ele_selected.setAttributeNS(null,"cy",d);const h=this.ele_selected.parentElement.classList[2].slice(9),a=this.ele_selected.parentElement.classList[1].slice(13),o=this.ele_selected.parentElement.classList[3],c=this.ele_selected.parentElement.classList[4];let p=Array.from(this.ele_selected.parentElement.children).indexOf(this.ele_selected)-1;this.reroute_fix_curvature&&(p-=this.ele_selected.parentElement.querySelectorAll(".main-path").length-1,p<0&&(p=0));const _=h.slice(5),v=this.drawflow.drawflow[this.module].data[_].outputs[o].connections.findIndex(function(R,I){return R.node===a&&R.output===c});this.drawflow.drawflow[this.module].data[_].outputs[o].connections[v].points[p]={pos_x:l,pos_y:d};const L=this.ele_selected.parentElement.classList[2].slice(9);this.updateConnectionNodes(L)}t.type==="touchmove"&&(this.mouse_x=n,this.mouse_y=s),this.dispatch("mouseMove",{x:n,y:s})}dragEnd(t){if(t.type==="touchend")var n=this.mouse_x,s=this.mouse_y,i=document.elementFromPoint(n,s);else n=t.clientX,s=t.clientY,i=t.target;if(this.drag&&(this.pos_x_start==n&&this.pos_y_start==s||this.dispatch("nodeMoved",this.ele_selected.id.slice(5))),this.drag_point&&(this.ele_selected.classList.remove("selected"),this.pos_x_start==n&&this.pos_y_start==s||this.dispatch("rerouteMoved",this.ele_selected.parentElement.classList[2].slice(14))),this.editor_selected&&(this.canvas_x=this.canvas_x+-(this.pos_x-n),this.canvas_y=this.canvas_y+-(this.pos_y-s),this.editor_selected=!1),this.connection===!0)if(i.classList[0]==="input"||this.force_first_input&&(i.closest(".drawflow_content_node")!=null||i.classList[0]==="drawflow-node")){if(!this.force_first_input||i.closest(".drawflow_content_node")==null&&i.classList[0]!=="drawflow-node")e=i.parentElement.parentElement.id,l=i.classList[1];else{if(i.closest(".drawflow_content_node")!=null)var e=i.closest(".drawflow_content_node").parentElement.id;else var e=i.id;if(Object.keys(this.getNodeFromId(e.slice(5)).inputs).length===0)var l=!1;else var l="input_1"}var d=this.ele_selected.parentElement.parentElement.id,h=this.ele_selected.classList[1];if(d!==e&&l!==!1){if(this.container.querySelectorAll(".connection.node_in_"+e+".node_out_"+d+"."+h+"."+l).length===0){this.connection_ele.classList.add("node_in_"+e),this.connection_ele.classList.add("node_out_"+d),this.connection_ele.classList.add(h),this.connection_ele.classList.add(l);var a=e.slice(5),o=d.slice(5);this.drawflow.drawflow[this.module].data[o].outputs[h].connections.push({node:a,output:l}),this.drawflow.drawflow[this.module].data[a].inputs[l].connections.push({node:o,input:h}),this.updateConnectionNodes("node-"+o),this.updateConnectionNodes("node-"+a),this.dispatch("connectionCreated",{output_id:o,input_id:a,output_class:h,input_class:l})}else this.dispatch("connectionCancel",!0),this.connection_ele.remove();this.connection_ele=null}else this.dispatch("connectionCancel",!0),this.connection_ele.remove(),this.connection_ele=null}else this.dispatch("connectionCancel",!0),this.connection_ele.remove(),this.connection_ele=null;this.drag=!1,this.drag_point=!1,this.connection=!1,this.ele_selected=null,this.editor_selected=!1,this.dispatch("mouseUp",t)}contextmenu(t){if(this.dispatch("contextmenu",t),t.preventDefault(),this.editor_mode==="fixed"||this.editor_mode==="view")return!1;if(this.precanvas.getElementsByClassName("drawflow-delete").length&&this.precanvas.getElementsByClassName("drawflow-delete")[0].remove(),this.node_selected||this.connection_selected){var n=document.createElement("div");n.classList.add("drawflow-delete"),n.innerHTML="x",this.node_selected&&this.node_selected.appendChild(n),this.connection_selected&&this.connection_selected.parentElement.classList.length>1&&(n.style.top=t.clientY*(this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom))-this.precanvas.getBoundingClientRect().y*(this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom))+"px",n.style.left=t.clientX*(this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom))-this.precanvas.getBoundingClientRect().x*(this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom))+"px",this.precanvas.appendChild(n))}}contextmenuDel(){this.precanvas.getElementsByClassName("drawflow-delete").length&&this.precanvas.getElementsByClassName("drawflow-delete")[0].remove()}key(t){if(this.dispatch("keydown",t),this.editor_mode==="fixed"||this.editor_mode==="view")return!1;(t.key==="Delete"||t.key==="Backspace"&&t.metaKey)&&(this.node_selected!=null&&this.first_click.tagName!=="INPUT"&&this.first_click.tagName!=="TEXTAREA"&&this.first_click.hasAttribute("contenteditable")!==!0&&this.removeNodeId(this.node_selected.id),this.connection_selected!=null&&this.removeConnection())}zoom_enter(t,n){t.ctrlKey&&(t.preventDefault(),t.deltaY>0?this.zoom_out():this.zoom_in())}zoom_refresh(){this.dispatch("zoom",this.zoom),this.canvas_x=this.canvas_x/this.zoom_last_value*this.zoom,this.canvas_y=this.canvas_y/this.zoom_last_value*this.zoom,this.zoom_last_value=this.zoom,this.precanvas.style.transform="translate("+this.canvas_x+"px, "+this.canvas_y+"px) scale("+this.zoom+")"}zoom_in(){this.zoom<this.zoom_max&&(this.zoom+=this.zoom_value,this.zoom_refresh())}zoom_out(){this.zoom>this.zoom_min&&(this.zoom-=this.zoom_value,this.zoom_refresh())}zoom_reset(){this.zoom!=1&&(this.zoom=1,this.zoom_refresh())}createCurvature(t,n,s,i,e,l){var d=t,h=n,a=s,o=i,c=e;switch(l){case"open":if(t>=s)var p=d+Math.abs(a-d)*c,_=a-Math.abs(a-d)*(-1*c);else p=d+Math.abs(a-d)*c,_=a-Math.abs(a-d)*c;return" M "+d+" "+h+" C "+p+" "+h+" "+_+" "+o+" "+a+"  "+o;case"close":return t>=s?(p=d+Math.abs(a-d)*(-1*c),_=a-Math.abs(a-d)*c):(p=d+Math.abs(a-d)*c,_=a-Math.abs(a-d)*c)," M "+d+" "+h+" C "+p+" "+h+" "+_+" "+o+" "+a+"  "+o;case"other":return t>=s?(p=d+Math.abs(a-d)*(-1*c),_=a-Math.abs(a-d)*(-1*c)):(p=d+Math.abs(a-d)*c,_=a-Math.abs(a-d)*c)," M "+d+" "+h+" C "+p+" "+h+" "+_+" "+o+" "+a+"  "+o;default:return" M "+d+" "+h+" C "+(p=d+Math.abs(a-d)*c)+" "+h+" "+(_=a-Math.abs(a-d)*c)+" "+o+" "+a+"  "+o}}drawConnection(t){var n=document.createElementNS("http://www.w3.org/2000/svg","svg");this.connection_ele=n;var s=document.createElementNS("http://www.w3.org/2000/svg","path");s.classList.add("main-path"),s.setAttributeNS(null,"d",""),n.classList.add("connection"),n.appendChild(s),this.precanvas.appendChild(n);var i=t.parentElement.parentElement.id.slice(5),e=t.classList[1];this.dispatch("connectionStart",{output_id:i,output_class:e})}updateConnection(t,n){const s=this.precanvas,i=this.zoom;let e=s.clientWidth/(s.clientWidth*i);e=e||0;let l=s.clientHeight/(s.clientHeight*i);l=l||0;var d=this.connection_ele.children[0],h=this.ele_selected.offsetWidth/2+(this.ele_selected.getBoundingClientRect().x-s.getBoundingClientRect().x)*e,a=this.ele_selected.offsetHeight/2+(this.ele_selected.getBoundingClientRect().y-s.getBoundingClientRect().y)*l,o=t*(this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom))-this.precanvas.getBoundingClientRect().x*(this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom)),c=n*(this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom))-this.precanvas.getBoundingClientRect().y*(this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom)),p=this.curvature,_=this.createCurvature(h,a,o,c,p,"openclose");d.setAttributeNS(null,"d",_)}addConnection(t,n,s,i){var e=this.getModuleFromNodeId(t);if(e===this.getModuleFromNodeId(n)){var l=this.getNodeFromId(t),d=!1;for(var h in l.outputs[s].connections){var a=l.outputs[s].connections[h];a.node==n&&a.output==i&&(d=!0)}if(d===!1){if(this.drawflow.drawflow[e].data[t].outputs[s].connections.push({node:n.toString(),output:i}),this.drawflow.drawflow[e].data[n].inputs[i].connections.push({node:t.toString(),input:s}),this.module===e){var o=document.createElementNS("http://www.w3.org/2000/svg","svg"),c=document.createElementNS("http://www.w3.org/2000/svg","path");c.classList.add("main-path"),c.setAttributeNS(null,"d",""),o.classList.add("connection"),o.classList.add("node_in_node-"+n),o.classList.add("node_out_node-"+t),o.classList.add(s),o.classList.add(i),o.appendChild(c),this.precanvas.appendChild(o),this.updateConnectionNodes("node-"+t),this.updateConnectionNodes("node-"+n)}this.dispatch("connectionCreated",{output_id:t,input_id:n,output_class:s,input_class:i})}}}updateConnectionNodes(t){const n="node_in_"+t,s="node_out_"+t;this.line_path;const i=this.container,e=this.precanvas,l=this.curvature,d=this.createCurvature,h=this.reroute_curvature,a=this.reroute_curvature_start_end,o=this.reroute_fix_curvature,c=this.reroute_width,p=this.zoom;let _=e.clientWidth/(e.clientWidth*p);_=_||0;let v=e.clientHeight/(e.clientHeight*p);v=v||0;const L=i.querySelectorAll("."+s);Object.keys(L).map(function(I,J){if(L[I].querySelector(".point")===null){var F=i.querySelector("#"+t),j=L[I].classList[1].replace("node_in_",""),K=i.querySelector("#"+j).querySelectorAll("."+L[I].classList[4])[0],G=K.offsetWidth/2+(K.getBoundingClientRect().x-e.getBoundingClientRect().x)*_,ut=K.offsetHeight/2+(K.getBoundingClientRect().y-e.getBoundingClientRect().y)*v,lt=F.querySelectorAll("."+L[I].classList[3])[0],V=lt.offsetWidth/2+(lt.getBoundingClientRect().x-e.getBoundingClientRect().x)*_,st=lt.offsetHeight/2+(lt.getBoundingClientRect().y-e.getBoundingClientRect().y)*v;const U=d(V,st,G,ut,l,"openclose");L[I].children[0].setAttributeNS(null,"d",U)}else{const U=L[I].querySelectorAll(".point");let q="";const M=[];U.forEach((A,N)=>{if(N===0&&U.length-1==0){var H=i.querySelector("#"+t),D=(($=A).getBoundingClientRect().x-e.getBoundingClientRect().x)*_+c,z=($.getBoundingClientRect().y-e.getBoundingClientRect().y)*v+c,O=(X=H.querySelectorAll("."+A.parentElement.classList[3])[0]).offsetWidth/2+(X.getBoundingClientRect().x-e.getBoundingClientRect().x)*_,T=X.offsetHeight/2+(X.getBoundingClientRect().y-e.getBoundingClientRect().y)*v,P=d(O,T,D,z,a,"open");q+=P,M.push(P),H=A;var Y=A.parentElement.classList[1].replace("node_in_",""),$=(Q=i.querySelector("#"+Y)).querySelectorAll("."+A.parentElement.classList[4])[0];D=(at=Q.querySelectorAll("."+A.parentElement.classList[4])[0]).offsetWidth/2+(at.getBoundingClientRect().x-e.getBoundingClientRect().x)*_,z=at.offsetHeight/2+(at.getBoundingClientRect().y-e.getBoundingClientRect().y)*v,O=(H.getBoundingClientRect().x-e.getBoundingClientRect().x)*_+c,T=(H.getBoundingClientRect().y-e.getBoundingClientRect().y)*v+c,P=d(O,T,D,z,a,"close"),q+=P,M.push(P)}else if(N===0){var X;H=i.querySelector("#"+t),D=(($=A).getBoundingClientRect().x-e.getBoundingClientRect().x)*_+c,z=($.getBoundingClientRect().y-e.getBoundingClientRect().y)*v+c,O=(X=H.querySelectorAll("."+A.parentElement.classList[3])[0]).offsetWidth/2+(X.getBoundingClientRect().x-e.getBoundingClientRect().x)*_,T=X.offsetHeight/2+(X.getBoundingClientRect().y-e.getBoundingClientRect().y)*v,P=d(O,T,D,z,a,"open"),q+=P,M.push(P),H=A,D=(($=U[N+1]).getBoundingClientRect().x-e.getBoundingClientRect().x)*_+c,z=($.getBoundingClientRect().y-e.getBoundingClientRect().y)*v+c,O=(H.getBoundingClientRect().x-e.getBoundingClientRect().x)*_+c,T=(H.getBoundingClientRect().y-e.getBoundingClientRect().y)*v+c,P=d(O,T,D,z,h,"other"),q+=P,M.push(P)}else if(N===U.length-1){var Q,at;H=A,Y=A.parentElement.classList[1].replace("node_in_",""),$=(Q=i.querySelector("#"+Y)).querySelectorAll("."+A.parentElement.classList[4])[0],D=(at=Q.querySelectorAll("."+A.parentElement.classList[4])[0]).offsetWidth/2+(at.getBoundingClientRect().x-e.getBoundingClientRect().x)*_,z=at.offsetHeight/2+(at.getBoundingClientRect().y-e.getBoundingClientRect().y)*v,O=(H.getBoundingClientRect().x-e.getBoundingClientRect().x)*(e.clientWidth/(e.clientWidth*p))+c,T=(H.getBoundingClientRect().y-e.getBoundingClientRect().y)*(e.clientHeight/(e.clientHeight*p))+c,P=d(O,T,D,z,a,"close"),q+=P,M.push(P)}else H=A,D=(($=U[N+1]).getBoundingClientRect().x-e.getBoundingClientRect().x)*(e.clientWidth/(e.clientWidth*p))+c,z=($.getBoundingClientRect().y-e.getBoundingClientRect().y)*(e.clientHeight/(e.clientHeight*p))+c,O=(H.getBoundingClientRect().x-e.getBoundingClientRect().x)*(e.clientWidth/(e.clientWidth*p))+c,T=(H.getBoundingClientRect().y-e.getBoundingClientRect().y)*(e.clientHeight/(e.clientHeight*p))+c,P=d(O,T,D,z,h,"other"),q+=P,M.push(P)}),o?M.forEach((A,N)=>{L[I].children[N].setAttributeNS(null,"d",A)}):L[I].children[0].setAttributeNS(null,"d",q)}});const R=i.querySelectorAll("."+n);Object.keys(R).map(function(I,J){if(R[I].querySelector(".point")===null){var F=i.querySelector("#"+t),j=R[I].classList[2].replace("node_out_",""),K=i.querySelector("#"+j).querySelectorAll("."+R[I].classList[3])[0],G=K.offsetWidth/2+(K.getBoundingClientRect().x-e.getBoundingClientRect().x)*_,ut=K.offsetHeight/2+(K.getBoundingClientRect().y-e.getBoundingClientRect().y)*v,lt=(F=F.querySelectorAll("."+R[I].classList[4])[0]).offsetWidth/2+(F.getBoundingClientRect().x-e.getBoundingClientRect().x)*_,V=F.offsetHeight/2+(F.getBoundingClientRect().y-e.getBoundingClientRect().y)*v;const st=d(G,ut,lt,V,l,"openclose");R[I].children[0].setAttributeNS(null,"d",st)}else{const st=R[I].querySelectorAll(".point");let U="";const q=[];st.forEach((M,A)=>{if(A===0&&st.length-1==0){var N=i.querySelector("#"+t),H=((Y=M).getBoundingClientRect().x-e.getBoundingClientRect().x)*_+c,D=(Y.getBoundingClientRect().y-e.getBoundingClientRect().y)*v+c,z=(Q=N.querySelectorAll("."+M.parentElement.classList[4])[0]).offsetWidth/2+(Q.getBoundingClientRect().x-e.getBoundingClientRect().x)*_,O=Q.offsetHeight/2+(Q.getBoundingClientRect().y-e.getBoundingClientRect().y)*v,T=d(H,D,z,O,a,"close");U+=T,q.push(T),N=M;var P=M.parentElement.classList[2].replace("node_out_",""),Y=(X=i.querySelector("#"+P)).querySelectorAll("."+M.parentElement.classList[3])[0];H=($=X.querySelectorAll("."+M.parentElement.classList[3])[0]).offsetWidth/2+($.getBoundingClientRect().x-e.getBoundingClientRect().x)*_,D=$.offsetHeight/2+($.getBoundingClientRect().y-e.getBoundingClientRect().y)*v,z=(N.getBoundingClientRect().x-e.getBoundingClientRect().x)*_+c,O=(N.getBoundingClientRect().y-e.getBoundingClientRect().y)*v+c,T=d(H,D,z,O,a,"open"),U+=T,q.push(T)}else if(A===0){var $;N=M,P=M.parentElement.classList[2].replace("node_out_",""),Y=(X=i.querySelector("#"+P)).querySelectorAll("."+M.parentElement.classList[3])[0],H=($=X.querySelectorAll("."+M.parentElement.classList[3])[0]).offsetWidth/2+($.getBoundingClientRect().x-e.getBoundingClientRect().x)*_,D=$.offsetHeight/2+($.getBoundingClientRect().y-e.getBoundingClientRect().y)*v,z=(N.getBoundingClientRect().x-e.getBoundingClientRect().x)*_+c,O=(N.getBoundingClientRect().y-e.getBoundingClientRect().y)*v+c,T=d(H,D,z,O,a,"open"),U+=T,q.push(T),N=M,z=((Y=st[A+1]).getBoundingClientRect().x-e.getBoundingClientRect().x)*_+c,O=(Y.getBoundingClientRect().y-e.getBoundingClientRect().y)*v+c,H=(N.getBoundingClientRect().x-e.getBoundingClientRect().x)*_+c,D=(N.getBoundingClientRect().y-e.getBoundingClientRect().y)*v+c,T=d(H,D,z,O,h,"other"),U+=T,q.push(T)}else if(A===st.length-1){var X,Q;N=M,P=M.parentElement.classList[1].replace("node_in_",""),Y=(X=i.querySelector("#"+P)).querySelectorAll("."+M.parentElement.classList[4])[0],z=(Q=X.querySelectorAll("."+M.parentElement.classList[4])[0]).offsetWidth/2+(Q.getBoundingClientRect().x-e.getBoundingClientRect().x)*_,O=Q.offsetHeight/2+(Q.getBoundingClientRect().y-e.getBoundingClientRect().y)*v,H=(N.getBoundingClientRect().x-e.getBoundingClientRect().x)*_+c,D=(N.getBoundingClientRect().y-e.getBoundingClientRect().y)*v+c,T=d(H,D,z,O,a,"close"),U+=T,q.push(T)}else N=M,z=((Y=st[A+1]).getBoundingClientRect().x-e.getBoundingClientRect().x)*_+c,O=(Y.getBoundingClientRect().y-e.getBoundingClientRect().y)*v+c,H=(N.getBoundingClientRect().x-e.getBoundingClientRect().x)*_+c,D=(N.getBoundingClientRect().y-e.getBoundingClientRect().y)*v+c,T=d(H,D,z,O,h,"other"),U+=T,q.push(T)}),o?q.forEach((M,A)=>{R[I].children[A].setAttributeNS(null,"d",M)}):R[I].children[0].setAttributeNS(null,"d",U)}})}dblclick(t){this.connection_selected!=null&&this.reroute&&this.createReroutePoint(this.connection_selected),t.target.classList[0]==="point"&&this.removeReroutePoint(t.target)}createReroutePoint(t){this.connection_selected.classList.remove("selected");const n=this.connection_selected.parentElement.classList[2].slice(9),s=this.connection_selected.parentElement.classList[1].slice(13),i=this.connection_selected.parentElement.classList[3],e=this.connection_selected.parentElement.classList[4];this.connection_selected=null;const l=document.createElementNS("http://www.w3.org/2000/svg","circle");l.classList.add("point");var d=this.pos_x*(this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom))-this.precanvas.getBoundingClientRect().x*(this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom)),h=this.pos_y*(this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom))-this.precanvas.getBoundingClientRect().y*(this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom));l.setAttributeNS(null,"cx",d),l.setAttributeNS(null,"cy",h),l.setAttributeNS(null,"r",this.reroute_width);let a=0;if(this.reroute_fix_curvature){const _=t.parentElement.querySelectorAll(".main-path").length;var o=document.createElementNS("http://www.w3.org/2000/svg","path");if(o.classList.add("main-path"),o.setAttributeNS(null,"d",""),t.parentElement.insertBefore(o,t.parentElement.children[_]),_===1)t.parentElement.appendChild(l);else{const v=Array.from(t.parentElement.children).indexOf(t);a=v,t.parentElement.insertBefore(l,t.parentElement.children[v+_+1])}}else t.parentElement.appendChild(l);const c=n.slice(5),p=this.drawflow.drawflow[this.module].data[c].outputs[i].connections.findIndex(function(_,v){return _.node===s&&_.output===e});this.drawflow.drawflow[this.module].data[c].outputs[i].connections[p].points===void 0&&(this.drawflow.drawflow[this.module].data[c].outputs[i].connections[p].points=[]),this.reroute_fix_curvature?(a>0||this.drawflow.drawflow[this.module].data[c].outputs[i].connections[p].points!==[]?this.drawflow.drawflow[this.module].data[c].outputs[i].connections[p].points.splice(a,0,{pos_x:d,pos_y:h}):this.drawflow.drawflow[this.module].data[c].outputs[i].connections[p].points.push({pos_x:d,pos_y:h}),t.parentElement.querySelectorAll(".main-path").forEach((_,v)=>{_.classList.remove("selected")})):this.drawflow.drawflow[this.module].data[c].outputs[i].connections[p].points.push({pos_x:d,pos_y:h}),this.dispatch("addReroute",c),this.updateConnectionNodes(n)}removeReroutePoint(t){const n=t.parentElement.classList[2].slice(9),s=t.parentElement.classList[1].slice(13),i=t.parentElement.classList[3],e=t.parentElement.classList[4];let l=Array.from(t.parentElement.children).indexOf(t);const d=n.slice(5),h=this.drawflow.drawflow[this.module].data[d].outputs[i].connections.findIndex(function(a,o){return a.node===s&&a.output===e});if(this.reroute_fix_curvature){const a=t.parentElement.querySelectorAll(".main-path").length;t.parentElement.children[a-1].remove(),l-=a,l<0&&(l=0)}else l--;this.drawflow.drawflow[this.module].data[d].outputs[i].connections[h].points.splice(l,1),t.remove(),this.dispatch("removeReroute",d),this.updateConnectionNodes(n)}registerNode(t,n,s=null,i=null){this.noderegister[t]={html:n,props:s,options:i}}getNodeFromId(t){var n=this.getModuleFromNodeId(t);return JSON.parse(JSON.stringify(this.drawflow.drawflow[n].data[t]))}getNodesFromName(t){var n=[];const s=this.drawflow.drawflow;return Object.keys(s).map(function(i,e){for(var l in s[i].data)s[i].data[l].name==t&&n.push(s[i].data[l].id)}),n}addNode(t,n,s,i,e,l,d,h,a=!1){if(this.useuuid)var o=this.getUuid();else o=this.nodeId;const c=document.createElement("div");c.classList.add("parent-node");const p=document.createElement("div");p.innerHTML="",p.setAttribute("id","node-"+o),p.classList.add("drawflow-node"),l!=""&&p.classList.add(...l.split(" "));const _=document.createElement("div");_.classList.add("inputs");const v=document.createElement("div");v.classList.add("outputs");const L={};for(var R=0;R<n;R++){const j=document.createElement("div");j.classList.add("input"),j.classList.add("input_"+(R+1)),L["input_"+(R+1)]={connections:[]},_.appendChild(j)}const I={};for(R=0;R<s;R++){const j=document.createElement("div");j.classList.add("output"),j.classList.add("output_"+(R+1)),I["output_"+(R+1)]={connections:[]},v.appendChild(j)}const J=document.createElement("div");if(J.classList.add("drawflow_content_node"),a===!1)J.innerHTML=h;else if(a===!0)J.appendChild(this.noderegister[h].html.cloneNode(!0));else if(parseInt(this.render.version)===3){let j=this.render.h(this.noderegister[h].html,this.noderegister[h].props,this.noderegister[h].options);j.appContext=this.parent,this.render.render(j,J)}else{let j=new this.render({parent:this.parent,render:K=>K(this.noderegister[h].html,{props:this.noderegister[h].props}),...this.noderegister[h].options}).$mount();J.appendChild(j.$el)}Object.entries(d).forEach(function(j,K){if(typeof j[1]=="object")(function lt(V,st,U){V===null?V=d[st]:V=V[st],V!==null&&Object.entries(V).forEach(function(q,M){if(typeof q[1]=="object")lt(V,q[0],U+"-"+q[0]);else for(var A=J.querySelectorAll("[df-"+U+"-"+q[0]+"]"),N=0;N<A.length;N++)A[N].value=q[1],A[N].isContentEditable&&(A[N].innerText=q[1])})})(null,j[0],j[0]);else for(var G=J.querySelectorAll("[df-"+j[0]+"]"),ut=0;ut<G.length;ut++)G[ut].value=j[1],G[ut].isContentEditable&&(G[ut].innerText=j[1])}),p.appendChild(_),p.appendChild(J),p.appendChild(v),p.style.top=e+"px",p.style.left=i+"px",c.appendChild(p),this.precanvas.appendChild(c);var F={id:o,name:t,data:d,class:l,html:h,typenode:a,inputs:L,outputs:I,pos_x:i,pos_y:e};return this.drawflow.drawflow[this.module].data[o]=F,this.dispatch("nodeCreated",o),this.useuuid||this.nodeId++,o}addNodeImport(t,n){const s=document.createElement("div");s.classList.add("parent-node");const i=document.createElement("div");i.innerHTML="",i.setAttribute("id","node-"+t.id),i.classList.add("drawflow-node"),t.class!=""&&i.classList.add(...t.class.split(" "));const e=document.createElement("div");e.classList.add("inputs");const l=document.createElement("div");l.classList.add("outputs"),Object.keys(t.inputs).map(function(a,o){const c=document.createElement("div");c.classList.add("input"),c.classList.add(a),e.appendChild(c),Object.keys(t.inputs[a].connections).map(function(p,_){var v=document.createElementNS("http://www.w3.org/2000/svg","svg"),L=document.createElementNS("http://www.w3.org/2000/svg","path");L.classList.add("main-path"),L.setAttributeNS(null,"d",""),v.classList.add("connection"),v.classList.add("node_in_node-"+t.id),v.classList.add("node_out_node-"+t.inputs[a].connections[p].node),v.classList.add(t.inputs[a].connections[p].input),v.classList.add(a),v.appendChild(L),n.appendChild(v)})});for(var d=0;d<Object.keys(t.outputs).length;d++){const a=document.createElement("div");a.classList.add("output"),a.classList.add("output_"+(d+1)),l.appendChild(a)}const h=document.createElement("div");if(h.classList.add("drawflow_content_node"),t.typenode===!1)h.innerHTML=t.html;else if(t.typenode===!0)h.appendChild(this.noderegister[t.html].html.cloneNode(!0));else if(parseInt(this.render.version)===3){let a=this.render.h(this.noderegister[t.html].html,this.noderegister[t.html].props,this.noderegister[t.html].options);a.appContext=this.parent,this.render.render(a,h)}else{let a=new this.render({parent:this.parent,render:o=>o(this.noderegister[t.html].html,{props:this.noderegister[t.html].props}),...this.noderegister[t.html].options}).$mount();h.appendChild(a.$el)}Object.entries(t.data).forEach(function(a,o){if(typeof a[1]=="object")(function _(v,L,R){v===null?v=t.data[L]:v=v[L],v!==null&&Object.entries(v).forEach(function(I,J){if(typeof I[1]=="object")_(v,I[0],R+"-"+I[0]);else for(var F=h.querySelectorAll("[df-"+R+"-"+I[0]+"]"),j=0;j<F.length;j++)F[j].value=I[1],F[j].isContentEditable&&(F[j].innerText=I[1])})})(null,a[0],a[0]);else for(var c=h.querySelectorAll("[df-"+a[0]+"]"),p=0;p<c.length;p++)c[p].value=a[1],c[p].isContentEditable&&(c[p].innerText=a[1])}),i.appendChild(e),i.appendChild(h),i.appendChild(l),i.style.top=t.pos_y+"px",i.style.left=t.pos_x+"px",s.appendChild(i),this.precanvas.appendChild(s)}addRerouteImport(t){const n=this.reroute_width,s=this.reroute_fix_curvature,i=this.container;Object.keys(t.outputs).map(function(e,l){Object.keys(t.outputs[e].connections).map(function(d,h){const a=t.outputs[e].connections[d].points;a!==void 0&&a.forEach((o,c)=>{const p=t.outputs[e].connections[d].node,_=t.outputs[e].connections[d].output,v=i.querySelector(".connection.node_in_node-"+p+".node_out_node-"+t.id+"."+e+"."+_);if(s&&c===0)for(var L=0;L<a.length;L++){var R=document.createElementNS("http://www.w3.org/2000/svg","path");R.classList.add("main-path"),R.setAttributeNS(null,"d",""),v.appendChild(R)}const I=document.createElementNS("http://www.w3.org/2000/svg","circle");I.classList.add("point");var J=o.pos_x,F=o.pos_y;I.setAttributeNS(null,"cx",J),I.setAttributeNS(null,"cy",F),I.setAttributeNS(null,"r",n),v.appendChild(I)})})})}updateNodeValue(t){for(var n=t.target.attributes,s=0;s<n.length;s++)if(n[s].nodeName.startsWith("df-")){for(var i=n[s].nodeName.slice(3).split("-"),e=this.drawflow.drawflow[this.module].data[t.target.closest(".drawflow_content_node").parentElement.id.slice(5)].data,l=0;l<i.length-1;l+=1)e[i[l]]==null&&(e[i[l]]={}),e=e[i[l]];e[i[i.length-1]]=t.target.value,t.target.isContentEditable&&(e[i[i.length-1]]=t.target.innerText),this.dispatch("nodeDataChanged",t.target.closest(".drawflow_content_node").parentElement.id.slice(5))}}updateNodeDataFromId(t,n){var s=this.getModuleFromNodeId(t);if(this.drawflow.drawflow[s].data[t].data=n,this.module===s){const i=this.container.querySelector("#node-"+t);Object.entries(n).forEach(function(e,l){if(typeof e[1]=="object")(function a(o,c,p){o===null?o=n[c]:o=o[c],o!==null&&Object.entries(o).forEach(function(_,v){if(typeof _[1]=="object")a(o,_[0],p+"-"+_[0]);else for(var L=i.querySelectorAll("[df-"+p+"-"+_[0]+"]"),R=0;R<L.length;R++)L[R].value=_[1],L[R].isContentEditable&&(L[R].innerText=_[1])})})(null,e[0],e[0]);else for(var d=i.querySelectorAll("[df-"+e[0]+"]"),h=0;h<d.length;h++)d[h].value=e[1],d[h].isContentEditable&&(d[h].innerText=e[1])})}}addNodeInput(t){var n=this.getModuleFromNodeId(t);const s=this.getNodeFromId(t),i=Object.keys(s.inputs).length;if(this.module===n){const e=document.createElement("div");e.classList.add("input"),e.classList.add("input_"+(i+1)),this.container.querySelector("#node-"+t+" .inputs").appendChild(e),this.updateConnectionNodes("node-"+t)}this.drawflow.drawflow[n].data[t].inputs["input_"+(i+1)]={connections:[]}}addNodeOutput(t){var n=this.getModuleFromNodeId(t);const s=this.getNodeFromId(t),i=Object.keys(s.outputs).length;if(this.module===n){const e=document.createElement("div");e.classList.add("output"),e.classList.add("output_"+(i+1)),this.container.querySelector("#node-"+t+" .outputs").appendChild(e),this.updateConnectionNodes("node-"+t)}this.drawflow.drawflow[n].data[t].outputs["output_"+(i+1)]={connections:[]}}removeNodeInput(t,n){var s=this.getModuleFromNodeId(t);const i=this.getNodeFromId(t);this.module===s&&this.container.querySelector("#node-"+t+" .inputs .input."+n).remove();const e=[];Object.keys(i.inputs[n].connections).map(function(o,c){const p=i.inputs[n].connections[c].node,_=i.inputs[n].connections[c].input;e.push({id_output:p,id:t,output_class:_,input_class:n})}),e.forEach((o,c)=>{this.removeSingleConnection(o.id_output,o.id,o.output_class,o.input_class)}),delete this.drawflow.drawflow[s].data[t].inputs[n];const l=[],d=this.drawflow.drawflow[s].data[t].inputs;Object.keys(d).map(function(o,c){l.push(d[o])}),this.drawflow.drawflow[s].data[t].inputs={};const h=n.slice(6);let a=[];l.forEach((o,c)=>{o.connections.forEach((p,_)=>{a.push(p)}),this.drawflow.drawflow[s].data[t].inputs["input_"+(c+1)]=o}),a=new Set(a.map(o=>JSON.stringify(o))),a=Array.from(a).map(o=>JSON.parse(o)),this.module===s&&this.container.querySelectorAll("#node-"+t+" .inputs .input").forEach((o,c)=>{const p=o.classList[1].slice(6);parseInt(h)<parseInt(p)&&(o.classList.remove("input_"+p),o.classList.add("input_"+(p-1)))}),a.forEach((o,c)=>{this.drawflow.drawflow[s].data[o.node].outputs[o.input].connections.forEach((p,_)=>{if(p.node==t){const v=p.output.slice(6);if(parseInt(h)<parseInt(v)){if(this.module===s){const L=this.container.querySelector(".connection.node_in_node-"+t+".node_out_node-"+o.node+"."+o.input+".input_"+v);L.classList.remove("input_"+v),L.classList.add("input_"+(v-1))}p.points?this.drawflow.drawflow[s].data[o.node].outputs[o.input].connections[_]={node:p.node,output:"input_"+(v-1),points:p.points}:this.drawflow.drawflow[s].data[o.node].outputs[o.input].connections[_]={node:p.node,output:"input_"+(v-1)}}}})}),this.updateConnectionNodes("node-"+t)}removeNodeOutput(t,n){var s=this.getModuleFromNodeId(t);const i=this.getNodeFromId(t);this.module===s&&this.container.querySelector("#node-"+t+" .outputs .output."+n).remove();const e=[];Object.keys(i.outputs[n].connections).map(function(o,c){const p=i.outputs[n].connections[c].node,_=i.outputs[n].connections[c].output;e.push({id:t,id_input:p,output_class:n,input_class:_})}),e.forEach((o,c)=>{this.removeSingleConnection(o.id,o.id_input,o.output_class,o.input_class)}),delete this.drawflow.drawflow[s].data[t].outputs[n];const l=[],d=this.drawflow.drawflow[s].data[t].outputs;Object.keys(d).map(function(o,c){l.push(d[o])}),this.drawflow.drawflow[s].data[t].outputs={};const h=n.slice(7);let a=[];l.forEach((o,c)=>{o.connections.forEach((p,_)=>{a.push({node:p.node,output:p.output})}),this.drawflow.drawflow[s].data[t].outputs["output_"+(c+1)]=o}),a=new Set(a.map(o=>JSON.stringify(o))),a=Array.from(a).map(o=>JSON.parse(o)),this.module===s&&this.container.querySelectorAll("#node-"+t+" .outputs .output").forEach((o,c)=>{const p=o.classList[1].slice(7);parseInt(h)<parseInt(p)&&(o.classList.remove("output_"+p),o.classList.add("output_"+(p-1)))}),a.forEach((o,c)=>{this.drawflow.drawflow[s].data[o.node].inputs[o.output].connections.forEach((p,_)=>{if(p.node==t){const v=p.input.slice(7);if(parseInt(h)<parseInt(v)){if(this.module===s){const L=this.container.querySelector(".connection.node_in_node-"+o.node+".node_out_node-"+t+".output_"+v+"."+o.output);L.classList.remove("output_"+v),L.classList.remove(o.output),L.classList.add("output_"+(v-1)),L.classList.add(o.output)}p.points?this.drawflow.drawflow[s].data[o.node].inputs[o.output].connections[_]={node:p.node,input:"output_"+(v-1),points:p.points}:this.drawflow.drawflow[s].data[o.node].inputs[o.output].connections[_]={node:p.node,input:"output_"+(v-1)}}}})}),this.updateConnectionNodes("node-"+t)}removeNodeId(t){this.removeConnectionNodeId(t);var n=this.getModuleFromNodeId(t.slice(5));this.module===n&&this.container.querySelector("#"+t).remove(),delete this.drawflow.drawflow[n].data[t.slice(5)],this.dispatch("nodeRemoved",t.slice(5))}removeConnection(){if(this.connection_selected!=null){var t=this.connection_selected.parentElement.classList;this.connection_selected.parentElement.remove();var n=this.drawflow.drawflow[this.module].data[t[2].slice(14)].outputs[t[3]].connections.findIndex(function(i,e){return i.node===t[1].slice(13)&&i.output===t[4]});this.drawflow.drawflow[this.module].data[t[2].slice(14)].outputs[t[3]].connections.splice(n,1);var s=this.drawflow.drawflow[this.module].data[t[1].slice(13)].inputs[t[4]].connections.findIndex(function(i,e){return i.node===t[2].slice(14)&&i.input===t[3]});this.drawflow.drawflow[this.module].data[t[1].slice(13)].inputs[t[4]].connections.splice(s,1),this.dispatch("connectionRemoved",{output_id:t[2].slice(14),input_id:t[1].slice(13),output_class:t[3],input_class:t[4]}),this.connection_selected=null}}removeSingleConnection(t,n,s,i){var e=this.getModuleFromNodeId(t);if(e===this.getModuleFromNodeId(n)){if(this.drawflow.drawflow[e].data[t].outputs[s].connections.findIndex(function(h,a){return h.node==n&&h.output===i})>-1){this.module===e&&this.container.querySelector(".connection.node_in_node-"+n+".node_out_node-"+t+"."+s+"."+i).remove();var l=this.drawflow.drawflow[e].data[t].outputs[s].connections.findIndex(function(h,a){return h.node==n&&h.output===i});this.drawflow.drawflow[e].data[t].outputs[s].connections.splice(l,1);var d=this.drawflow.drawflow[e].data[n].inputs[i].connections.findIndex(function(h,a){return h.node==t&&h.input===s});return this.drawflow.drawflow[e].data[n].inputs[i].connections.splice(d,1),this.dispatch("connectionRemoved",{output_id:t,input_id:n,output_class:s,input_class:i}),!0}return!1}return!1}removeConnectionNodeId(t){const n="node_in_"+t,s="node_out_"+t,i=this.container.querySelectorAll("."+s);for(var e=i.length-1;e>=0;e--){var l=i[e].classList,d=this.drawflow.drawflow[this.module].data[l[1].slice(13)].inputs[l[4]].connections.findIndex(function(o,c){return o.node===l[2].slice(14)&&o.input===l[3]});this.drawflow.drawflow[this.module].data[l[1].slice(13)].inputs[l[4]].connections.splice(d,1);var h=this.drawflow.drawflow[this.module].data[l[2].slice(14)].outputs[l[3]].connections.findIndex(function(o,c){return o.node===l[1].slice(13)&&o.output===l[4]});this.drawflow.drawflow[this.module].data[l[2].slice(14)].outputs[l[3]].connections.splice(h,1),i[e].remove(),this.dispatch("connectionRemoved",{output_id:l[2].slice(14),input_id:l[1].slice(13),output_class:l[3],input_class:l[4]})}const a=this.container.querySelectorAll("."+n);for(e=a.length-1;e>=0;e--)l=a[e].classList,h=this.drawflow.drawflow[this.module].data[l[2].slice(14)].outputs[l[3]].connections.findIndex(function(o,c){return o.node===l[1].slice(13)&&o.output===l[4]}),this.drawflow.drawflow[this.module].data[l[2].slice(14)].outputs[l[3]].connections.splice(h,1),d=this.drawflow.drawflow[this.module].data[l[1].slice(13)].inputs[l[4]].connections.findIndex(function(o,c){return o.node===l[2].slice(14)&&o.input===l[3]}),this.drawflow.drawflow[this.module].data[l[1].slice(13)].inputs[l[4]].connections.splice(d,1),a[e].remove(),this.dispatch("connectionRemoved",{output_id:l[2].slice(14),input_id:l[1].slice(13),output_class:l[3],input_class:l[4]})}getModuleFromNodeId(t){var n;const s=this.drawflow.drawflow;return Object.keys(s).map(function(i,e){Object.keys(s[i].data).map(function(l,d){l==t&&(n=i)})}),n}addModule(t){this.drawflow.drawflow[t]={data:{}},this.dispatch("moduleCreated",t)}changeModule(t){this.dispatch("moduleChanged",t),this.module=t,this.precanvas.innerHTML="",this.canvas_x=0,this.canvas_y=0,this.pos_x=0,this.pos_y=0,this.mouse_x=0,this.mouse_y=0,this.zoom=1,this.zoom_last_value=1,this.precanvas.style.transform="",this.import(this.drawflow,!1)}removeModule(t){this.module===t&&this.changeModule("Home"),delete this.drawflow.drawflow[t],this.dispatch("moduleRemoved",t)}clearModuleSelected(){this.precanvas.innerHTML="",this.drawflow.drawflow[this.module]={data:{}}}clear(){this.precanvas.innerHTML="",this.drawflow={drawflow:{Home:{data:{}}}}}export(){const t=JSON.parse(JSON.stringify(this.drawflow));return this.dispatch("export",t),t}import(t,n=!0){this.clear(),this.drawflow=JSON.parse(JSON.stringify(t)),this.load(),n&&this.dispatch("import","import")}on(t,n){return typeof n!="function"?(console.error("The listener callback must be a function, the given type is "+typeof n),!1):typeof t!="string"?(console.error("The event name must be a string, the given type is "+typeof t),!1):(this.events[t]===void 0&&(this.events[t]={listeners:[]}),void this.events[t].listeners.push(n))}removeListener(t,n){if(!this.events[t])return!1;const s=this.events[t].listeners,i=s.indexOf(n);i>-1&&s.splice(i,1)}dispatch(t,n){if(this.events[t]===void 0)return!1;this.events[t].listeners.forEach(s=>{s(n)})}getUuid(){for(var t=[],n=0;n<36;n++)t[n]="0123456789abcdef".substr(Math.floor(16*Math.random()),1);return t[14]="4",t[19]="0123456789abcdef".substr(3&t[19]|8,1),t[8]=t[13]=t[18]=t[23]="-",t.join("")}}}]).default})})(he);var Be=he.exports;const Se=Le(Be);function Ne(b){let m;return{c(){m=B("div"),this.h()},l(g){m=S(g,"DIV",{class:!0}),W(m).forEach(k),this.h()},h(){E(m,"class","parent-drawflow h-100 my-editor svelte-1jjj000")},m(g,r){mt(g,m,r),b[1](m)},p:St,i:St,o:St,d(g){g&&k(m),b[1](null)}}}function Ie(b,m,g){let r;var f;let y=t=>{if(f&&t.starts&&t.starts.length>0){f.clear();let n=Math.max(...t.ends.map(s=>t.map[s].earlyCol));for(let s=1;s<n+1;s++){let i=Object.keys(t.map).filter(e=>t.map[e].earlyCol==s);i.sort((e,l)=>t.map[e].slack>t.map[l].slack);for(let e=0;e<i.length;e++){let l=i[e],d=t.map[l],h="normal",a="bg-darkBlue";d.slack===0&&(h="critical",a="bg-darkSteel");let o=`
						<div class="heading `+a+'">'+d.name+`</div>
						<table style="width:99.9%;">
							<tr><th class="text-left third">Start</th><th>Duration</th><th class="text-right third">Finish</th></tr>
							<tr><td>`+d.es+'</td><td class="text-center va-middle" rowspan=2>'+d.expected+'</td><td class="text-right">'+d.ef+`</td></tr>
							<tr><td>`+d.ls+'</td><td class="text-right">'+d.lf+`</td></tr>
						</table>
						<hr/>
						<table style="width:99.9%;">
							<tr><th class="text-left third">Min</th><th>Likely</th><th class="text-right third">Max</th></tr>
							<tr><td>`+d.min+'</td><td class="text-center">'+d.likely+'</td><td class="text-right">'+d.max+`</td></tr>
						</table>
					`,c=f.addNode(d.name,1,1,20+400*(s-1),20+200*e,h,t.map[l],o);t.map[l].drawId=c,t.map[l].predecessors.map(p=>{let _=t.map[p].drawId;if(f.addConnection(_,c,"output_1","input_1"),t.map[p].slack===0&&t.map[l].slack===0){let v=document.getElementsByClassName("connection node_in_node-"+c+" node_out_node-"+_);v.length>0&&v[0].classList.add("critical")}})}}}};ue(()=>{f=new Se(r),f.start(),Re.subscribe(t=>{setTimeout(()=>y(t),100)})});function u(t){pe[t?"unshift":"push"](()=>{r=t,g(0,r)})}return[r,u]}class ke extends de{constructor(m){super(),re(this,m,Ie,Ne,ce,{})}}function Kt(b,m,g){const r=b.slice();return r[4]=m[g],r}function Gt(b,m,g){const r=b.slice();return r[7]=m[g],r}function Qt(b,m,g){const r=b.slice();return r[10]=m[g],r}function Zt(b,m,g){const r=b.slice();return r[4]=m[g],r}function te(b,m,g){const r=b.slice();return r[15]=m[g],r}function ee(b,m,g){const r=b.slice();return r[10]=m[g],r}function ne(b){let m,g,r,f,y;return{c(){m=B("td"),g=B("input"),this.h()},l(u){m=S(u,"TD",{class:!0});var t=W(m);g=S(t,"INPUT",{type:!0,class:!0}),t.forEach(k),this.h()},h(){E(g,"type","text"),g.value=r=b[10],E(g,"class","metro-input svelte-1jpgd8u"),E(m,"class","svelte-1jpgd8u")},m(u,t){mt(u,m,t),x(m,g),f||(y=ft(g,"paste",b[2]),f=!0)},p(u,t){t&2&&r!==(r=u[10])&&g.value!==r&&(g.value=r)},d(u){u&&k(m),f=!1,y()}}}function se(b){let m,g=pt(b[15]),r=[];for(let f=0;f<g.length;f+=1)r[f]=ne(ee(b,g,f));return{c(){m=B("tr");for(let f=0;f<r.length;f+=1)r[f].c()},l(f){m=S(f,"TR",{});var y=W(m);for(let u=0;u<r.length;u+=1)r[u].l(y);y.forEach(k)},m(f,y){mt(f,m,y);for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(m,null)},p(f,y){if(y&6){g=pt(f[15]);let u;for(u=0;u<g.length;u+=1){const t=ee(f,g,u);r[u]?r[u].p(t,y):(r[u]=ne(t),r[u].c(),r[u].m(m,null))}for(;u<r.length;u+=1)r[u].d(1);r.length=g.length}},d(f){f&&k(m),bt(r,f)}}}function ie(b){let m,g=b[4]+"",r;return{c(){m=B("th"),r=Ce(g)},l(f){m=S(f,"TH",{});var y=W(m);r=be(y,g),y.forEach(k)},m(f,y){mt(f,m,y),x(m,r)},p(f,y){y&1&&g!==(g=f[4]+"")&&xe(r,g)},d(f){f&&k(m)}}}function oe(b){let m,g,r,f,y;return{c(){m=B("td"),g=B("input"),this.h()},l(u){m=S(u,"TD",{class:!0});var t=W(m);g=S(t,"INPUT",{type:!0,class:!0}),t.forEach(k),this.h()},h(){E(g,"type","text"),g.value=r=b[10],E(g,"class","metro-input svelte-1jpgd8u"),E(m,"class","svelte-1jpgd8u")},m(u,t){mt(u,m,t),x(m,g),f||(y=ft(g,"paste",b[3]),f=!0)},p(u,t){t&1&&r!==(r=u[10])&&g.value!==r&&(g.value=r)},d(u){u&&k(m),f=!1,y()}}}function le(b){let m,g=pt(b[7]),r=[];for(let f=0;f<g.length;f+=1)r[f]=oe(Qt(b,g,f));return{c(){m=B("tr");for(let f=0;f<r.length;f+=1)r[f].c()},l(f){m=S(f,"TR",{});var y=W(m);for(let u=0;u<r.length;u+=1)r[u].l(y);y.forEach(k)},m(f,y){mt(f,m,y);for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(m,null)},p(f,y){if(y&9){g=pt(f[7]);let u;for(u=0;u<g.length;u+=1){const t=Qt(f,g,u);r[u]?r[u].p(t,y):(r[u]=oe(t),r[u].c(),r[u].m(m,null))}for(;u<r.length;u+=1)r[u].d(1);r.length=g.length}},d(f){f&&k(m),bt(r,f)}}}function ae(b){let m,g,r,f;return{c(){m=B("td"),g=B("input"),this.h()},l(y){m=S(y,"TD",{class:!0});var u=W(m);g=S(u,"INPUT",{type:!0,class:!0,style:!0}),u.forEach(k),this.h()},h(){E(g,"type","text"),g.value="",E(g,"class","metro-input svelte-1jpgd8u"),_t(g,"border","none"),E(m,"class","svelte-1jpgd8u")},m(y,u){mt(y,m,u),x(m,g),r||(f=ft(g,"paste",b[3]),r=!0)},p:St,d(y){y&&k(m),r=!1,f()}}}function Ae(b){let m,g,r,f='<li><a href="#_target_1">Tasks</a></li> <li><a href="#_target_2">Resources</a></li>',y,u,t,n,s,i="<tr><th>Id</th> <th>Task</th> <th>Min</th> <th>Likely</th> <th>Max</th> <th>Resources</th> <th>Predecessors</th> <th>Progress</th></tr>",e,l,d,h,a,o,c,p,_,v,L,R,I,J,F,j,K,G,ut,lt,V,st,U,q,M,A,N,H,D,z,O,T,P,Y,$,X,Q,at,gt,xt,Nt,It,vt=pt(b[1]),Z=[];for(let C=0;C<vt.length;C+=1)Z[C]=se(te(b,vt,C));let wt=pt(b[0][0]),tt=[];for(let C=0;C<wt.length;C+=1)tt[C]=ie(Zt(b,wt,C));let yt=pt(b[0].slice(1)),et=[];for(let C=0;C<yt.length;C+=1)et[C]=le(Gt(b,yt,C));let Ct=pt(b[0][0]),nt=[];for(let C=0;C<Ct.length;C+=1)nt[C]=ae(Kt(b,Ct,C));return gt=new ke({}),{c(){m=B("div"),g=B("div"),r=B("ul"),r.innerHTML=f,y=rt(),u=B("div"),t=B("div"),n=B("table"),s=B("thead"),s.innerHTML=i,e=rt(),l=B("tbody");for(let C=0;C<Z.length;C+=1)Z[C].c();d=rt(),h=B("tr"),a=B("td"),o=B("input"),c=rt(),p=B("td"),_=B("input"),v=rt(),L=B("td"),R=B("input"),I=rt(),J=B("td"),F=B("input"),j=rt(),K=B("td"),G=B("input"),ut=rt(),lt=B("td"),V=B("input"),st=rt(),U=B("td"),q=B("input"),M=rt(),A=B("td"),N=B("input"),H=rt(),D=B("div"),z=B("table"),O=B("thead"),T=B("tr");for(let C=0;C<tt.length;C+=1)tt[C].c();P=rt(),Y=B("tbody");for(let C=0;C<et.length;C+=1)et[C].c();$=rt(),X=B("tr");for(let C=0;C<nt.length;C+=1)nt[C].c();Q=rt(),at=B("div"),_e(gt.$$.fragment),this.h()},l(C){m=S(C,"DIV",{"data-role":!0,class:!0,"data-split-sizes":!0});var ct=W(m);g=S(ct,"DIV",{class:!0});var w=W(g);r=S(w,"UL",{"data-role":!0,"data-expand":!0,"data-svelte-h":!0}),Yt(r)!=="svelte-10cc686"&&(r.innerHTML=f),y=ht(w),u=S(w,"DIV",{class:!0});var it=W(u);t=S(it,"DIV",{id:!0});var kt=W(t);n=S(kt,"TABLE",{class:!0});var Et=W(n);s=S(Et,"THEAD",{"data-svelte-h":!0}),Yt(s)!=="svelte-44ng64"&&(s.innerHTML=i),e=ht(Et),l=S(Et,"TBODY",{});var Lt=W(l);for(let dt=0;dt<Z.length;dt+=1)Z[dt].l(Lt);d=ht(Lt),h=S(Lt,"TR",{});var ot=W(h);a=S(ot,"TD",{class:!0});var At=W(a);o=S(At,"INPUT",{type:!0,class:!0,style:!0}),At.forEach(k),c=ht(ot),p=S(ot,"TD",{class:!0});var Tt=W(p);_=S(Tt,"INPUT",{type:!0,class:!0,style:!0}),Tt.forEach(k),v=ht(ot),L=S(ot,"TD",{class:!0});var jt=W(L);R=S(jt,"INPUT",{type:!0,class:!0,style:!0}),jt.forEach(k),I=ht(ot),J=S(ot,"TD",{class:!0});var zt=W(J);F=S(zt,"INPUT",{type:!0,class:!0,style:!0}),zt.forEach(k),j=ht(ot),K=S(ot,"TD",{class:!0});var qt=W(K);G=S(qt,"INPUT",{type:!0,class:!0,style:!0}),qt.forEach(k),ut=ht(ot),lt=S(ot,"TD",{class:!0});var Mt=W(lt);V=S(Mt,"INPUT",{type:!0,class:!0,style:!0}),Mt.forEach(k),st=ht(ot),U=S(ot,"TD",{class:!0});var Ht=W(U);q=S(Ht,"INPUT",{type:!0,class:!0,style:!0}),Ht.forEach(k),M=ht(ot),A=S(ot,"TD",{class:!0});var Dt=W(A);N=S(Dt,"INPUT",{type:!0,class:!0,style:!0}),Dt.forEach(k),ot.forEach(k),Lt.forEach(k),Et.forEach(k),kt.forEach(k),H=ht(it),D=S(it,"DIV",{id:!0});var Ot=W(D);z=S(Ot,"TABLE",{class:!0});var Rt=W(z);O=S(Rt,"THEAD",{});var Wt=W(O);T=S(Wt,"TR",{});var Pt=W(T);for(let dt=0;dt<tt.length;dt+=1)tt[dt].l(Pt);Pt.forEach(k),Wt.forEach(k),P=ht(Rt),Y=S(Rt,"TBODY",{});var Bt=W(Y);for(let dt=0;dt<et.length;dt+=1)et[dt].l(Bt);$=ht(Bt),X=S(Bt,"TR",{});var Ft=W(X);for(let dt=0;dt<nt.length;dt+=1)nt[dt].l(Ft);Ft.forEach(k),Bt.forEach(k),Rt.forEach(k),Ot.forEach(k),it.forEach(k),w.forEach(k),Q=ht(ct),at=S(ct,"DIV",{class:!0});var Ut=W(at);me(gt.$$.fragment,Ut),Ut.forEach(k),ct.forEach(k),this.h()},h(){E(r,"data-role","tabs"),E(r,"data-expand","true"),E(o,"type","text"),o.value="",E(o,"class","metro-input svelte-1jpgd8u"),_t(o,"border","none"),E(a,"class","svelte-1jpgd8u"),E(_,"type","text"),_.value="",E(_,"class","metro-input svelte-1jpgd8u"),_t(_,"border","none"),E(p,"class","svelte-1jpgd8u"),E(R,"type","text"),R.value="",E(R,"class","metro-input svelte-1jpgd8u"),_t(R,"border","none"),E(L,"class","svelte-1jpgd8u"),E(F,"type","text"),F.value="",E(F,"class","metro-input svelte-1jpgd8u"),_t(F,"border","none"),E(J,"class","svelte-1jpgd8u"),E(G,"type","text"),G.value="",E(G,"class","metro-input svelte-1jpgd8u"),_t(G,"border","none"),E(K,"class","svelte-1jpgd8u"),E(V,"type","text"),V.value="",E(V,"class","metro-input svelte-1jpgd8u"),_t(V,"border","none"),E(lt,"class","svelte-1jpgd8u"),E(q,"type","text"),q.value="",E(q,"class","metro-input svelte-1jpgd8u"),_t(q,"border","none"),E(U,"class","svelte-1jpgd8u"),E(N,"type","text"),N.value="",E(N,"class","metro-input svelte-1jpgd8u"),_t(N,"border","none"),E(A,"class","svelte-1jpgd8u"),E(n,"class","table subcompact table-border cell-border striped"),E(t,"id","_target_1"),E(z,"class","table subcompact table-border cell-border striped"),E(D,"id","_target_2"),E(u,"class","border bd-default no-border-top p-2"),E(g,"class",""),E(at,"class","d-flex flex-justify-center flex-align-center"),E(m,"data-role","splitter"),E(m,"class","h-100"),E(m,"data-split-sizes","30, 70")},m(C,ct){mt(C,m,ct),x(m,g),x(g,r),x(g,y),x(g,u),x(u,t),x(t,n),x(n,s),x(n,e),x(n,l);for(let w=0;w<Z.length;w+=1)Z[w]&&Z[w].m(l,null);x(l,d),x(l,h),x(h,a),x(a,o),x(h,c),x(h,p),x(p,_),x(h,v),x(h,L),x(L,R),x(h,I),x(h,J),x(J,F),x(h,j),x(h,K),x(K,G),x(h,ut),x(h,lt),x(lt,V),x(h,st),x(h,U),x(U,q),x(h,M),x(h,A),x(A,N),x(u,H),x(u,D),x(D,z),x(z,O),x(O,T);for(let w=0;w<tt.length;w+=1)tt[w]&&tt[w].m(T,null);x(z,P),x(z,Y);for(let w=0;w<et.length;w+=1)et[w]&&et[w].m(Y,null);x(Y,$),x(Y,X);for(let w=0;w<nt.length;w+=1)nt[w]&&nt[w].m(X,null);x(m,Q),x(m,at),ge(gt,at,null),xt=!0,Nt||(It=[ft(o,"paste",b[2]),ft(_,"paste",b[2]),ft(R,"paste",b[2]),ft(F,"paste",b[2]),ft(G,"paste",b[2]),ft(V,"paste",b[2]),ft(q,"paste",b[2]),ft(N,"paste",b[2])],Nt=!0)},p(C,[ct]){if(ct&6){vt=pt(C[1]);let w;for(w=0;w<vt.length;w+=1){const it=te(C,vt,w);Z[w]?Z[w].p(it,ct):(Z[w]=se(it),Z[w].c(),Z[w].m(l,d))}for(;w<Z.length;w+=1)Z[w].d(1);Z.length=vt.length}if(ct&1){wt=pt(C[0][0]);let w;for(w=0;w<wt.length;w+=1){const it=Zt(C,wt,w);tt[w]?tt[w].p(it,ct):(tt[w]=ie(it),tt[w].c(),tt[w].m(T,null))}for(;w<tt.length;w+=1)tt[w].d(1);tt.length=wt.length}if(ct&9){yt=pt(C[0].slice(1));let w;for(w=0;w<yt.length;w+=1){const it=Gt(C,yt,w);et[w]?et[w].p(it,ct):(et[w]=le(it),et[w].c(),et[w].m(Y,$))}for(;w<et.length;w+=1)et[w].d(1);et.length=yt.length}if(ct&9){Ct=pt(C[0][0]);let w;for(w=0;w<Ct.length;w+=1){const it=Kt(C,Ct,w);nt[w]?nt[w].p(it,ct):(nt[w]=ae(it),nt[w].c(),nt[w].m(X,null))}for(;w<nt.length;w+=1)nt[w].d(1);nt.length=Ct.length}},i(C){xt||(ve(gt.$$.fragment,C),xt=!0)},o(C){we(gt.$$.fragment,C),xt=!1},d(C){C&&k(m),bt(Z,C),bt(tt,C),bt(et,C),bt(nt,C),ye(gt),Nt=!1,fe(It)}}}function Te(b,m,g){let r,f;$t(b,Jt,t=>g(0,r=t)),$t(b,Vt,t=>g(1,f=t));function y(t){t.preventDefault();let n=(t.clipboardData||window.clipboardData).getData("text");Xt(Vt,f=n.split(/\n|\r/).filter(s=>s.length).map(s=>s.split(/\t/)),f)}function u(t){t.preventDefault();let n=(t.clipboardData||window.clipboardData).getData("text");Xt(Jt,r=n.split(/\n|\r/).filter(s=>s.length).map(s=>s.split(/\t/)),r)}return[r,f,y,u]}class De extends de{constructor(m){super(),re(this,m,Te,Ae,ce,{})}}export{De as component};
