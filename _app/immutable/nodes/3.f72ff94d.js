import{s as ye,r as ot,f as Q,g as x,h as q,d as C,j as p,F as de,i as J,w as Se,x as rt,y as lt,z as st,A as mt,G as Vn,B as j,a as ne,l as Ye,c as ie,m as Be,n as We,H as Xe,I as Pe,J as _t,K as nt,L as Ue,M as ee,k as me,N as Te,e as Ie,O as ze,P as Ln,o as Qn,C as Rt,Q as xn,p as Ii,R as Or,S as Ir,q as Xn,T as Ce,v as X,D as pe,U as $t,u as Tt,V as as,W as us,X as fs,Y as cs,Z as to,_ as no,E as Yt,$ as en}from"../chunks/scheduler.1fe6c427.js";import{S as he,i as ge,a as R,t as F,b as se,d as fe,m as ae,e as ue,g as Ge,c as Je}from"../chunks/index.940b5d13.js";import{c as Hr}from"../chunks/criticalPath.store.a5bf573a.js";import{a as Ar,s as ds,b as hs,c as gs}from"../chunks/xyflow.store.2ccceb2e.js";import{w as le,r as dt,d as Jt}from"../chunks/index.7c868b58.js";import{e as Ke,u as Hi,o as Ai}from"../chunks/each.1e7abf80.js";import{g as wi,T as ms}from"../chunks/tables.store.731d7076.js";import{c as sn,a as _s}from"../chunks/assistant.store.e671b639.js";import{p as ys}from"../chunks/projectCharter.store.4bcdf42b.js";const bs=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function At(t,e){const n={},i={},o={$$scope:1};let r=t.length;for(;r--;){const s=t[r],l=e[r];if(l){for(const a in s)a in l||(i[a]=1);for(const a in l)o[a]||(n[a]=l[a],o[a]=1);t[r]=l}else for(const a in s)o[a]=1}for(const s in i)s in n||(n[s]=void 0);return n}function dn(t){return typeof t=="object"&&t!==null?t:{}}function Ae(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,i;n<t.length;n++)(i=Ae(t[n]))!==""&&(e+=(e&&" ")+i);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var ws={value:()=>{}};function $n(){for(var t=0,e=arguments.length,n={},i;t<e;++t){if(!(i=arguments[t]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new On(n)}function On(t){this._=t}function vs(t,e){return t.trim().split(/^|\s+/).map(function(n){var i="",o=n.indexOf(".");if(o>=0&&(i=n.slice(o+1),n=n.slice(0,o)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}On.prototype=$n.prototype={constructor:On,on:function(t,e){var n=this._,i=vs(t+"",n),o,r=-1,s=i.length;if(arguments.length<2){for(;++r<s;)if((o=(t=i[r]).type)&&(o=ps(n[o],t.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++r<s;)if(o=(t=i[r]).type)n[o]=io(n[o],t.name,e);else if(e==null)for(o in n)n[o]=io(n[o],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new On(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var n=new Array(o),i=0,o,r;i<o;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],o=0,r=i.length;o<r;++o)i[o].value.apply(e,n)}};function ps(t,e){for(var n=0,i=t.length,o;n<i;++n)if((o=t[n]).name===e)return o.value}function io(t,e,n){for(var i=0,o=t.length;i<o;++i)if(t[i].name===e){t[i]=ws,t=t.slice(0,i).concat(t.slice(i+1));break}return n!=null&&t.push({name:e,value:n}),t}var vi="http://www.w3.org/1999/xhtml";const oo={svg:"http://www.w3.org/2000/svg",xhtml:vi,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ei(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),oo.hasOwnProperty(e)?{space:oo[e],local:t}:t}function ks(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===vi&&e.documentElement.namespaceURI===vi?e.createElement(t):e.createElementNS(n,t)}}function Es(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Vr(t){var e=ei(t);return(e.local?Es:ks)(e)}function Ss(){}function Vi(t){return t==null?Ss:function(){return this.querySelector(t)}}function Cs(t){typeof t!="function"&&(t=Vi(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r=e[o],s=r.length,l=i[o]=new Array(s),a,u,f=0;f<s;++f)(a=r[f])&&(u=t.call(a,a.__data__,f,r))&&("__data__"in a&&(u.__data__=a.__data__),l[f]=u);return new ct(i,this._parents)}function Ms(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Ns(){return[]}function Lr(t){return t==null?Ns:function(){return this.querySelectorAll(t)}}function Ps(t){return function(){return Ms(t.apply(this,arguments))}}function Ds(t){typeof t=="function"?t=Ps(t):t=Lr(t);for(var e=this._groups,n=e.length,i=[],o=[],r=0;r<n;++r)for(var s=e[r],l=s.length,a,u=0;u<l;++u)(a=s[u])&&(i.push(t.call(a,a.__data__,u,s)),o.push(a));return new ct(i,o)}function Xr(t){return function(){return this.matches(t)}}function Rr(t){return function(e){return e.matches(t)}}var Ts=Array.prototype.find;function zs(t){return function(){return Ts.call(this.children,t)}}function Os(){return this.firstElementChild}function Is(t){return this.select(t==null?Os:zs(typeof t=="function"?t:Rr(t)))}var Hs=Array.prototype.filter;function As(){return Array.from(this.children)}function Vs(t){return function(){return Hs.call(this.children,t)}}function Ls(t){return this.selectAll(t==null?As:Vs(typeof t=="function"?t:Rr(t)))}function Xs(t){typeof t!="function"&&(t=Xr(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r=e[o],s=r.length,l=i[o]=[],a,u=0;u<s;++u)(a=r[u])&&t.call(a,a.__data__,u,r)&&l.push(a);return new ct(i,this._parents)}function Yr(t){return new Array(t.length)}function Rs(){return new ct(this._enter||this._groups.map(Yr),this._parents)}function Rn(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Rn.prototype={constructor:Rn,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Ys(t){return function(){return t}}function Bs(t,e,n,i,o,r){for(var s=0,l,a=e.length,u=r.length;s<u;++s)(l=e[s])?(l.__data__=r[s],i[s]=l):n[s]=new Rn(t,r[s]);for(;s<a;++s)(l=e[s])&&(o[s]=l)}function Ws(t,e,n,i,o,r,s){var l,a,u=new Map,f=e.length,c=r.length,d=new Array(f),h;for(l=0;l<f;++l)(a=e[l])&&(d[l]=h=s.call(a,a.__data__,l,e)+"",u.has(h)?o[l]=a:u.set(h,a));for(l=0;l<c;++l)h=s.call(t,r[l],l,r)+"",(a=u.get(h))?(i[l]=a,a.__data__=r[l],u.delete(h)):n[l]=new Rn(t,r[l]);for(l=0;l<f;++l)(a=e[l])&&u.get(d[l])===a&&(o[l]=a)}function Ks(t){return t.__data__}function Fs(t,e){if(!arguments.length)return Array.from(this,Ks);var n=e?Ws:Bs,i=this._parents,o=this._groups;typeof t!="function"&&(t=Ys(t));for(var r=o.length,s=new Array(r),l=new Array(r),a=new Array(r),u=0;u<r;++u){var f=i[u],c=o[u],d=c.length,h=qs(t.call(f,f&&f.__data__,u,i)),m=h.length,_=l[u]=new Array(m),b=s[u]=new Array(m),g=a[u]=new Array(d);n(f,c,_,b,g,h,e);for(var w=0,y=0,E,S;w<m;++w)if(E=_[w]){for(w>=y&&(y=w+1);!(S=b[y])&&++y<m;);E._next=S||null}}return s=new ct(s,i),s._enter=l,s._exit=a,s}function qs(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Zs(){return new ct(this._exit||this._groups.map(Yr),this._parents)}function Us(t,e,n){var i=this.enter(),o=this,r=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),e!=null&&(o=e(o),o&&(o=o.selection())),n==null?r.remove():n(r),i&&o?i.merge(o).order():o}function Gs(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,o=n.length,r=i.length,s=Math.min(o,r),l=new Array(o),a=0;a<s;++a)for(var u=n[a],f=i[a],c=u.length,d=l[a]=new Array(c),h,m=0;m<c;++m)(h=u[m]||f[m])&&(d[m]=h);for(;a<o;++a)l[a]=n[a];return new ct(l,this._parents)}function Js(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i=t[e],o=i.length-1,r=i[o],s;--o>=0;)(s=i[o])&&(r&&s.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(s,r),r=s);return this}function js(t){t||(t=Qs);function e(c,d){return c&&d?t(c.__data__,d.__data__):!c-!d}for(var n=this._groups,i=n.length,o=new Array(i),r=0;r<i;++r){for(var s=n[r],l=s.length,a=o[r]=new Array(l),u,f=0;f<l;++f)(u=s[f])&&(a[f]=u);a.sort(e)}return new ct(o,this._parents).order()}function Qs(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function xs(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function $s(){return Array.from(this)}function ea(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,r=i.length;o<r;++o){var s=i[o];if(s)return s}return null}function ta(){let t=0;for(const e of this)++t;return t}function na(){return!this.node()}function ia(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var o=e[n],r=0,s=o.length,l;r<s;++r)(l=o[r])&&t.call(l,l.__data__,r,o);return this}function oa(t){return function(){this.removeAttribute(t)}}function ra(t){return function(){this.removeAttributeNS(t.space,t.local)}}function la(t,e){return function(){this.setAttribute(t,e)}}function sa(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function aa(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function ua(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function fa(t,e){var n=ei(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((e==null?n.local?ra:oa:typeof e=="function"?n.local?ua:aa:n.local?sa:la)(n,e))}function Br(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function ca(t){return function(){this.style.removeProperty(t)}}function da(t,e,n){return function(){this.style.setProperty(t,e,n)}}function ha(t,e,n){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function ga(t,e,n){return arguments.length>1?this.each((e==null?ca:typeof e=="function"?ha:da)(t,e,n??"")):tn(this.node(),t)}function tn(t,e){return t.style.getPropertyValue(e)||Br(t).getComputedStyle(t,null).getPropertyValue(e)}function ma(t){return function(){delete this[t]}}function _a(t,e){return function(){this[t]=e}}function ya(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function ba(t,e){return arguments.length>1?this.each((e==null?ma:typeof e=="function"?ya:_a)(t,e)):this.node()[t]}function Wr(t){return t.trim().split(/^|\s+/)}function Li(t){return t.classList||new Kr(t)}function Kr(t){this._node=t,this._names=Wr(t.getAttribute("class")||"")}Kr.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Fr(t,e){for(var n=Li(t),i=-1,o=e.length;++i<o;)n.add(e[i])}function qr(t,e){for(var n=Li(t),i=-1,o=e.length;++i<o;)n.remove(e[i])}function wa(t){return function(){Fr(this,t)}}function va(t){return function(){qr(this,t)}}function pa(t,e){return function(){(e.apply(this,arguments)?Fr:qr)(this,t)}}function ka(t,e){var n=Wr(t+"");if(arguments.length<2){for(var i=Li(this.node()),o=-1,r=n.length;++o<r;)if(!i.contains(n[o]))return!1;return!0}return this.each((typeof e=="function"?pa:e?wa:va)(n,e))}function Ea(){this.textContent=""}function Sa(t){return function(){this.textContent=t}}function Ca(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Ma(t){return arguments.length?this.each(t==null?Ea:(typeof t=="function"?Ca:Sa)(t)):this.node().textContent}function Na(){this.innerHTML=""}function Pa(t){return function(){this.innerHTML=t}}function Da(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Ta(t){return arguments.length?this.each(t==null?Na:(typeof t=="function"?Da:Pa)(t)):this.node().innerHTML}function za(){this.nextSibling&&this.parentNode.appendChild(this)}function Oa(){return this.each(za)}function Ia(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ha(){return this.each(Ia)}function Aa(t){var e=typeof t=="function"?t:Vr(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Va(){return null}function La(t,e){var n=typeof t=="function"?t:Vr(t),i=e==null?Va:typeof e=="function"?e:Vi(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function Xa(){var t=this.parentNode;t&&t.removeChild(this)}function Ra(){return this.each(Xa)}function Ya(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ba(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Wa(t){return this.select(t?Ba:Ya)}function Ka(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Fa(t){return function(e){t.call(this,e,this.__data__)}}function qa(t){return t.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{type:e,name:n}})}function Za(t){return function(){var e=this.__on;if(e){for(var n=0,i=-1,o=e.length,r;n<o;++n)r=e[n],(!t.type||r.type===t.type)&&r.name===t.name?this.removeEventListener(r.type,r.listener,r.options):e[++i]=r;++i?e.length=i:delete this.__on}}}function Ua(t,e,n){return function(){var i=this.__on,o,r=Fa(e);if(i){for(var s=0,l=i.length;s<l;++s)if((o=i[s]).type===t.type&&o.name===t.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=r,o.options=n),o.value=e;return}}this.addEventListener(t.type,r,n),o={type:t.type,name:t.name,value:e,listener:r,options:n},i?i.push(o):this.__on=[o]}}function Ga(t,e,n){var i=qa(t+""),o,r=i.length,s;if(arguments.length<2){var l=this.node().__on;if(l){for(var a=0,u=l.length,f;a<u;++a)for(o=0,f=l[a];o<r;++o)if((s=i[o]).type===f.type&&s.name===f.name)return f.value}return}for(l=e?Ua:Za,o=0;o<r;++o)this.each(l(i[o],e,n));return this}function Zr(t,e,n){var i=Br(t),o=i.CustomEvent;typeof o=="function"?o=new o(e,n):(o=i.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function Ja(t,e){return function(){return Zr(this,t,e)}}function ja(t,e){return function(){return Zr(this,t,e.apply(this,arguments))}}function Qa(t,e){return this.each((typeof e=="function"?ja:Ja)(t,e))}function*xa(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,r=i.length,s;o<r;++o)(s=i[o])&&(yield s)}var Ur=[null];function ct(t,e){this._groups=t,this._parents=e}function wn(){return new ct([[document.documentElement]],Ur)}function $a(){return this}ct.prototype=wn.prototype={constructor:ct,select:Cs,selectAll:Ds,selectChild:Is,selectChildren:Ls,filter:Xs,data:Fs,enter:Rs,exit:Zs,join:Us,merge:Gs,selection:$a,order:Js,sort:js,call:xs,nodes:$s,node:ea,size:ta,empty:na,each:ia,attr:fa,style:ga,property:ba,classed:ka,text:Ma,html:Ta,raise:Oa,lower:Ha,append:Aa,insert:La,remove:Ra,clone:Wa,datum:Ka,on:Ga,dispatch:Qa,[Symbol.iterator]:xa};function ht(t){return typeof t=="string"?new ct([[document.querySelector(t)]],[document.documentElement]):new ct([[t]],Ur)}function eu(t){let e;for(;e=t.sourceEvent;)t=e;return t}function vt(t,e){if(t=eu(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}}return[t.pageX,t.pageY]}const tu={passive:!1},hn={capture:!0,passive:!1};function ci(t){t.stopImmediatePropagation()}function jt(t){t.preventDefault(),t.stopImmediatePropagation()}function Gr(t){var e=t.document.documentElement,n=ht(t).on("dragstart.drag",jt,hn);"onselectstart"in e?n.on("selectstart.drag",jt,hn):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Jr(t,e){var n=t.document.documentElement,i=ht(t).on("dragstart.drag",null);e&&(i.on("click.drag",jt,hn),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Cn=t=>()=>t;function pi(t,{sourceEvent:e,subject:n,target:i,identifier:o,active:r,x:s,y:l,dx:a,dy:u,dispatch:f}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:r,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:f}})}pi.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function nu(t){return!t.ctrlKey&&!t.button}function iu(){return this.parentNode}function ou(t,e){return e??{x:t.x,y:t.y}}function ru(){return navigator.maxTouchPoints||"ontouchstart"in this}function lu(){var t=nu,e=iu,n=ou,i=ru,o={},r=$n("start","drag","end"),s=0,l,a,u,f,c=0;function d(E){E.on("mousedown.drag",h).filter(i).on("touchstart.drag",b).on("touchmove.drag",g,tu).on("touchend.drag touchcancel.drag",w).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(E,S){if(!(f||!t.call(this,E,S))){var T=y(this,e.call(this,E,S),E,S,"mouse");T&&(ht(E.view).on("mousemove.drag",m,hn).on("mouseup.drag",_,hn),Gr(E.view),ci(E),u=!1,l=E.clientX,a=E.clientY,T("start",E))}}function m(E){if(jt(E),!u){var S=E.clientX-l,T=E.clientY-a;u=S*S+T*T>c}o.mouse("drag",E)}function _(E){ht(E.view).on("mousemove.drag mouseup.drag",null),Jr(E.view,u),jt(E),o.mouse("end",E)}function b(E,S){if(t.call(this,E,S)){var T=E.changedTouches,V=e.call(this,E,S),L=T.length,D,Y;for(D=0;D<L;++D)(Y=y(this,V,E,S,T[D].identifier,T[D]))&&(ci(E),Y("start",E,T[D]))}}function g(E){var S=E.changedTouches,T=S.length,V,L;for(V=0;V<T;++V)(L=o[S[V].identifier])&&(jt(E),L("drag",E,S[V]))}function w(E){var S=E.changedTouches,T=S.length,V,L;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),V=0;V<T;++V)(L=o[S[V].identifier])&&(ci(E),L("end",E,S[V]))}function y(E,S,T,V,L,D){var Y=r.copy(),G=vt(D||T,S),B,Z,k;if((k=n.call(E,new pi("beforestart",{sourceEvent:T,target:d,identifier:L,active:s,x:G[0],y:G[1],dx:0,dy:0,dispatch:Y}),V))!=null)return B=k.x-G[0]||0,Z=k.y-G[1]||0,function A(v,N,O){var I=G,W;switch(v){case"start":o[L]=A,W=s++;break;case"end":delete o[L],--s;case"drag":G=vt(O||N,S),W=s;break}Y.call(v,E,new pi(v,{sourceEvent:N,subject:k,target:d,identifier:L,active:W,x:G[0]+B,y:G[1]+Z,dx:G[0]-I[0],dy:G[1]-I[1],dispatch:Y}),V)}}return d.filter=function(E){return arguments.length?(t=typeof E=="function"?E:Cn(!!E),d):t},d.container=function(E){return arguments.length?(e=typeof E=="function"?E:Cn(E),d):e},d.subject=function(E){return arguments.length?(n=typeof E=="function"?E:Cn(E),d):n},d.touchable=function(E){return arguments.length?(i=typeof E=="function"?E:Cn(!!E),d):i},d.on=function(){var E=r.on.apply(r,arguments);return E===r?d:E},d.clickDistance=function(E){return arguments.length?(c=(E=+E)*E,d):Math.sqrt(c)},d}function Xi(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function jr(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function vn(){}var gn=.7,Yn=1/gn,Qt="\\s*([+-]?\\d+)\\s*",mn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",pt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",su=/^#([0-9a-f]{3,8})$/,au=new RegExp(`^rgb\\(${Qt},${Qt},${Qt}\\)$`),uu=new RegExp(`^rgb\\(${pt},${pt},${pt}\\)$`),fu=new RegExp(`^rgba\\(${Qt},${Qt},${Qt},${mn}\\)$`),cu=new RegExp(`^rgba\\(${pt},${pt},${pt},${mn}\\)$`),du=new RegExp(`^hsl\\(${mn},${pt},${pt}\\)$`),hu=new RegExp(`^hsla\\(${mn},${pt},${pt},${mn}\\)$`),ro={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Xi(vn,_n,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:lo,formatHex:lo,formatHex8:gu,formatHsl:mu,formatRgb:so,toString:so});function lo(){return this.rgb().formatHex()}function gu(){return this.rgb().formatHex8()}function mu(){return Qr(this).formatHsl()}function so(){return this.rgb().formatRgb()}function _n(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=su.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?ao(e):n===3?new it(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Mn(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Mn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=au.exec(t))?new it(e[1],e[2],e[3],1):(e=uu.exec(t))?new it(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=fu.exec(t))?Mn(e[1],e[2],e[3],e[4]):(e=cu.exec(t))?Mn(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=du.exec(t))?co(e[1],e[2]/100,e[3]/100,1):(e=hu.exec(t))?co(e[1],e[2]/100,e[3]/100,e[4]):ro.hasOwnProperty(t)?ao(ro[t]):t==="transparent"?new it(NaN,NaN,NaN,0):null}function ao(t){return new it(t>>16&255,t>>8&255,t&255,1)}function Mn(t,e,n,i){return i<=0&&(t=e=n=NaN),new it(t,e,n,i)}function _u(t){return t instanceof vn||(t=_n(t)),t?(t=t.rgb(),new it(t.r,t.g,t.b,t.opacity)):new it}function ki(t,e,n,i){return arguments.length===1?_u(t):new it(t,e,n,i??1)}function it(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}Xi(it,ki,jr(vn,{brighter(t){return t=t==null?Yn:Math.pow(Yn,t),new it(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?gn:Math.pow(gn,t),new it(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new it(Bt(this.r),Bt(this.g),Bt(this.b),Bn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:uo,formatHex:uo,formatHex8:yu,formatRgb:fo,toString:fo}));function uo(){return`#${Lt(this.r)}${Lt(this.g)}${Lt(this.b)}`}function yu(){return`#${Lt(this.r)}${Lt(this.g)}${Lt(this.b)}${Lt((isNaN(this.opacity)?1:this.opacity)*255)}`}function fo(){const t=Bn(this.opacity);return`${t===1?"rgb(":"rgba("}${Bt(this.r)}, ${Bt(this.g)}, ${Bt(this.b)}${t===1?")":`, ${t})`}`}function Bn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Bt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Lt(t){return t=Bt(t),(t<16?"0":"")+t.toString(16)}function co(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new gt(t,e,n,i)}function Qr(t){if(t instanceof gt)return new gt(t.h,t.s,t.l,t.opacity);if(t instanceof vn||(t=_n(t)),!t)return new gt;if(t instanceof gt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,o=Math.min(e,n,i),r=Math.max(e,n,i),s=NaN,l=r-o,a=(r+o)/2;return l?(e===r?s=(n-i)/l+(n<i)*6:n===r?s=(i-e)/l+2:s=(e-n)/l+4,l/=a<.5?r+o:2-r-o,s*=60):l=a>0&&a<1?0:s,new gt(s,l,a,t.opacity)}function bu(t,e,n,i){return arguments.length===1?Qr(t):new gt(t,e,n,i??1)}function gt(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}Xi(gt,bu,jr(vn,{brighter(t){return t=t==null?Yn:Math.pow(Yn,t),new gt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?gn:Math.pow(gn,t),new gt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,o=2*n-i;return new it(di(t>=240?t-240:t+120,o,i),di(t,o,i),di(t<120?t+240:t-120,o,i),this.opacity)},clamp(){return new gt(ho(this.h),Nn(this.s),Nn(this.l),Bn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Bn(this.opacity);return`${t===1?"hsl(":"hsla("}${ho(this.h)}, ${Nn(this.s)*100}%, ${Nn(this.l)*100}%${t===1?")":`, ${t})`}`}}));function ho(t){return t=(t||0)%360,t<0?t+360:t}function Nn(t){return Math.max(0,Math.min(1,t||0))}function di(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const xr=t=>()=>t;function wu(t,e){return function(n){return t+n*e}}function vu(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function pu(t){return(t=+t)==1?$r:function(e,n){return n-e?vu(e,n,t):xr(isNaN(e)?n:e)}}function $r(t,e){var n=e-t;return n?wu(t,n):xr(isNaN(t)?e:t)}const go=function t(e){var n=pu(e);function i(o,r){var s=n((o=ki(o)).r,(r=ki(r)).r),l=n(o.g,r.g),a=n(o.b,r.b),u=$r(o.opacity,r.opacity);return function(f){return o.r=s(f),o.g=l(f),o.b=a(f),o.opacity=u(f),o+""}}return i.gamma=t,i}(1);function It(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Ei=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hi=new RegExp(Ei.source,"g");function ku(t){return function(){return t}}function Eu(t){return function(e){return t(e)+""}}function Su(t,e){var n=Ei.lastIndex=hi.lastIndex=0,i,o,r,s=-1,l=[],a=[];for(t=t+"",e=e+"";(i=Ei.exec(t))&&(o=hi.exec(e));)(r=o.index)>n&&(r=e.slice(n,r),l[s]?l[s]+=r:l[++s]=r),(i=i[0])===(o=o[0])?l[s]?l[s]+=o:l[++s]=o:(l[++s]=null,a.push({i:s,x:It(i,o)})),n=hi.lastIndex;return n<e.length&&(r=e.slice(n),l[s]?l[s]+=r:l[++s]=r),l.length<2?a[0]?Eu(a[0].x):ku(e):(e=a.length,function(u){for(var f=0,c;f<e;++f)l[(c=a[f]).i]=c.x(u);return l.join("")})}var mo=180/Math.PI,Si={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function el(t,e,n,i,o,r){var s,l,a;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(a=t*n+e*i)&&(n-=t*a,i-=e*a),(l=Math.sqrt(n*n+i*i))&&(n/=l,i/=l,a/=l),t*i<e*n&&(t=-t,e=-e,a=-a,s=-s),{translateX:o,translateY:r,rotate:Math.atan2(e,t)*mo,skewX:Math.atan(a)*mo,scaleX:s,scaleY:l}}var Pn;function Cu(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Si:el(e.a,e.b,e.c,e.d,e.e,e.f)}function Mu(t){return t==null||(Pn||(Pn=document.createElementNS("http://www.w3.org/2000/svg","g")),Pn.setAttribute("transform",t),!(t=Pn.transform.baseVal.consolidate()))?Si:(t=t.matrix,el(t.a,t.b,t.c,t.d,t.e,t.f))}function tl(t,e,n,i){function o(u){return u.length?u.pop()+" ":""}function r(u,f,c,d,h,m){if(u!==c||f!==d){var _=h.push("translate(",null,e,null,n);m.push({i:_-4,x:It(u,c)},{i:_-2,x:It(f,d)})}else(c||d)&&h.push("translate("+c+e+d+n)}function s(u,f,c,d){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),d.push({i:c.push(o(c)+"rotate(",null,i)-2,x:It(u,f)})):f&&c.push(o(c)+"rotate("+f+i)}function l(u,f,c,d){u!==f?d.push({i:c.push(o(c)+"skewX(",null,i)-2,x:It(u,f)}):f&&c.push(o(c)+"skewX("+f+i)}function a(u,f,c,d,h,m){if(u!==c||f!==d){var _=h.push(o(h)+"scale(",null,",",null,")");m.push({i:_-4,x:It(u,c)},{i:_-2,x:It(f,d)})}else(c!==1||d!==1)&&h.push(o(h)+"scale("+c+","+d+")")}return function(u,f){var c=[],d=[];return u=t(u),f=t(f),r(u.translateX,u.translateY,f.translateX,f.translateY,c,d),s(u.rotate,f.rotate,c,d),l(u.skewX,f.skewX,c,d),a(u.scaleX,u.scaleY,f.scaleX,f.scaleY,c,d),u=f=null,function(h){for(var m=-1,_=d.length,b;++m<_;)c[(b=d[m]).i]=b.x(h);return c.join("")}}}var Nu=tl(Cu,"px, ","px)","deg)"),Pu=tl(Mu,", ",")",")"),Du=1e-12;function _o(t){return((t=Math.exp(t))+1/t)/2}function Tu(t){return((t=Math.exp(t))-1/t)/2}function zu(t){return((t=Math.exp(2*t))-1)/(t+1)}const Ou=function t(e,n,i){function o(r,s){var l=r[0],a=r[1],u=r[2],f=s[0],c=s[1],d=s[2],h=f-l,m=c-a,_=h*h+m*m,b,g;if(_<Du)g=Math.log(d/u)/e,b=function(V){return[l+V*h,a+V*m,u*Math.exp(e*V*g)]};else{var w=Math.sqrt(_),y=(d*d-u*u+i*_)/(2*u*n*w),E=(d*d-u*u-i*_)/(2*d*n*w),S=Math.log(Math.sqrt(y*y+1)-y),T=Math.log(Math.sqrt(E*E+1)-E);g=(T-S)/e,b=function(V){var L=V*g,D=_o(S),Y=u/(n*w)*(D*zu(e*L+S)-Tu(S));return[l+Y*h,a+Y*m,u*D/_o(e*L+S)]}}return b.duration=g*1e3*e/Math.SQRT2,b}return o.rho=function(r){var s=Math.max(.001,+r),l=s*s,a=l*l;return t(s,l,a)},o}(Math.SQRT2,2,4);var nn=0,fn=0,an=0,nl=1e3,Wn,cn,Kn=0,Wt=0,ti=0,yn=typeof performance=="object"&&performance.now?performance:Date,il=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ri(){return Wt||(il(Iu),Wt=yn.now()+ti)}function Iu(){Wt=0}function Fn(){this._call=this._time=this._next=null}Fn.prototype=ol.prototype={constructor:Fn,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Ri():+n)+(e==null?0:+e),!this._next&&cn!==this&&(cn?cn._next=this:Wn=this,cn=this),this._call=t,this._time=n,Ci()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ci())}};function ol(t,e,n){var i=new Fn;return i.restart(t,e,n),i}function Hu(){Ri(),++nn;for(var t=Wn,e;t;)(e=Wt-t._time)>=0&&t._call.call(void 0,e),t=t._next;--nn}function yo(){Wt=(Kn=yn.now())+ti,nn=fn=0;try{Hu()}finally{nn=0,Vu(),Wt=0}}function Au(){var t=yn.now(),e=t-Kn;e>nl&&(ti-=e,Kn=t)}function Vu(){for(var t,e=Wn,n,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Wn=n);cn=t,Ci(i)}function Ci(t){if(!nn){fn&&(fn=clearTimeout(fn));var e=t-Wt;e>24?(t<1/0&&(fn=setTimeout(yo,t-yn.now()-ti)),an&&(an=clearInterval(an))):(an||(Kn=yn.now(),an=setInterval(Au,nl)),nn=1,il(yo))}}function bo(t,e,n){var i=new Fn;return e=e==null?0:+e,i.restart(o=>{i.stop(),t(o+e)},e,n),i}var Lu=$n("start","end","cancel","interrupt"),Xu=[],rl=0,wo=1,Mi=2,In=3,vo=4,Ni=5,Hn=6;function ni(t,e,n,i,o,r){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;Ru(t,n,{name:e,index:i,group:o,on:Lu,tween:Xu,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:rl})}function Yi(t,e){var n=yt(t,e);if(n.state>rl)throw new Error("too late; already scheduled");return n}function Et(t,e){var n=yt(t,e);if(n.state>In)throw new Error("too late; already running");return n}function yt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Ru(t,e,n){var i=t.__transition,o;i[e]=n,n.timer=ol(r,0,n.time);function r(u){n.state=wo,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var f,c,d,h;if(n.state!==wo)return a();for(f in i)if(h=i[f],h.name===n.name){if(h.state===In)return bo(s);h.state===vo?(h.state=Hn,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[f]):+f<e&&(h.state=Hn,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[f])}if(bo(function(){n.state===In&&(n.state=vo,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=Mi,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Mi){for(n.state=In,o=new Array(d=n.tween.length),f=0,c=-1;f<d;++f)(h=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(o[++c]=h);o.length=c+1}}function l(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(a),n.state=Ni,1),c=-1,d=o.length;++c<d;)o[c].call(t,f);n.state===Ni&&(n.on.call("end",t,t.__data__,n.index,n.group),a())}function a(){n.state=Hn,n.timer.stop(),delete i[e];for(var u in i)return;delete t.__transition}}function An(t,e){var n=t.__transition,i,o,r=!0,s;if(n){e=e==null?null:e+"";for(s in n){if((i=n[s]).name!==e){r=!1;continue}o=i.state>Mi&&i.state<Ni,i.state=Hn,i.timer.stop(),i.on.call(o?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete n[s]}r&&delete t.__transition}}function Yu(t){return this.each(function(){An(this,t)})}function Bu(t,e){var n,i;return function(){var o=Et(this,t),r=o.tween;if(r!==n){i=n=r;for(var s=0,l=i.length;s<l;++s)if(i[s].name===e){i=i.slice(),i.splice(s,1);break}}o.tween=i}}function Wu(t,e,n){var i,o;if(typeof n!="function")throw new Error;return function(){var r=Et(this,t),s=r.tween;if(s!==i){o=(i=s).slice();for(var l={name:e,value:n},a=0,u=o.length;a<u;++a)if(o[a].name===e){o[a]=l;break}a===u&&o.push(l)}r.tween=o}}function Ku(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i=yt(this.node(),n).tween,o=0,r=i.length,s;o<r;++o)if((s=i[o]).name===t)return s.value;return null}return this.each((e==null?Bu:Wu)(n,t,e))}function Bi(t,e,n){var i=t._id;return t.each(function(){var o=Et(this,i);(o.value||(o.value={}))[e]=n.apply(this,arguments)}),function(o){return yt(o,i).value[e]}}function ll(t,e){var n;return(typeof e=="number"?It:e instanceof _n?go:(n=_n(e))?(e=n,go):Su)(t,e)}function Fu(t){return function(){this.removeAttribute(t)}}function qu(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Zu(t,e,n){var i,o=n+"",r;return function(){var s=this.getAttribute(t);return s===o?null:s===i?r:r=e(i=s,n)}}function Uu(t,e,n){var i,o=n+"",r;return function(){var s=this.getAttributeNS(t.space,t.local);return s===o?null:s===i?r:r=e(i=s,n)}}function Gu(t,e,n){var i,o,r;return function(){var s,l=n(this),a;return l==null?void this.removeAttribute(t):(s=this.getAttribute(t),a=l+"",s===a?null:s===i&&a===o?r:(o=a,r=e(i=s,l)))}}function Ju(t,e,n){var i,o,r;return function(){var s,l=n(this),a;return l==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),a=l+"",s===a?null:s===i&&a===o?r:(o=a,r=e(i=s,l)))}}function ju(t,e){var n=ei(t),i=n==="transform"?Pu:ll;return this.attrTween(t,typeof e=="function"?(n.local?Ju:Gu)(n,i,Bi(this,"attr."+t,e)):e==null?(n.local?qu:Fu)(n):(n.local?Uu:Zu)(n,i,e))}function Qu(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function xu(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function $u(t,e){var n,i;function o(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&xu(t,r)),n}return o._value=e,o}function ef(t,e){var n,i;function o(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&Qu(t,r)),n}return o._value=e,o}function tf(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var i=ei(t);return this.tween(n,(i.local?$u:ef)(i,e))}function nf(t,e){return function(){Yi(this,t).delay=+e.apply(this,arguments)}}function of(t,e){return e=+e,function(){Yi(this,t).delay=e}}function rf(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?nf:of)(e,t)):yt(this.node(),e).delay}function lf(t,e){return function(){Et(this,t).duration=+e.apply(this,arguments)}}function sf(t,e){return e=+e,function(){Et(this,t).duration=e}}function af(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?lf:sf)(e,t)):yt(this.node(),e).duration}function uf(t,e){if(typeof e!="function")throw new Error;return function(){Et(this,t).ease=e}}function ff(t){var e=this._id;return arguments.length?this.each(uf(e,t)):yt(this.node(),e).ease}function cf(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Et(this,t).ease=n}}function df(t){if(typeof t!="function")throw new Error;return this.each(cf(this._id,t))}function hf(t){typeof t!="function"&&(t=Xr(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r=e[o],s=r.length,l=i[o]=[],a,u=0;u<s;++u)(a=r[u])&&t.call(a,a.__data__,u,r)&&l.push(a);return new zt(i,this._parents,this._name,this._id)}function gf(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,o=n.length,r=Math.min(i,o),s=new Array(i),l=0;l<r;++l)for(var a=e[l],u=n[l],f=a.length,c=s[l]=new Array(f),d,h=0;h<f;++h)(d=a[h]||u[h])&&(c[h]=d);for(;l<i;++l)s[l]=e[l];return new zt(s,this._parents,this._name,this._id)}function mf(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function _f(t,e,n){var i,o,r=mf(e)?Yi:Et;return function(){var s=r(this,t),l=s.on;l!==i&&(o=(i=l).copy()).on(e,n),s.on=o}}function yf(t,e){var n=this._id;return arguments.length<2?yt(this.node(),n).on.on(t):this.each(_f(n,t,e))}function bf(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function wf(){return this.on("end.remove",bf(this._id))}function vf(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Vi(t));for(var i=this._groups,o=i.length,r=new Array(o),s=0;s<o;++s)for(var l=i[s],a=l.length,u=r[s]=new Array(a),f,c,d=0;d<a;++d)(f=l[d])&&(c=t.call(f,f.__data__,d,l))&&("__data__"in f&&(c.__data__=f.__data__),u[d]=c,ni(u[d],e,n,d,u,yt(f,n)));return new zt(r,this._parents,e,n)}function pf(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Lr(t));for(var i=this._groups,o=i.length,r=[],s=[],l=0;l<o;++l)for(var a=i[l],u=a.length,f,c=0;c<u;++c)if(f=a[c]){for(var d=t.call(f,f.__data__,c,a),h,m=yt(f,n),_=0,b=d.length;_<b;++_)(h=d[_])&&ni(h,e,n,_,d,m);r.push(d),s.push(f)}return new zt(r,s,e,n)}var kf=wn.prototype.constructor;function Ef(){return new kf(this._groups,this._parents)}function Sf(t,e){var n,i,o;return function(){var r=tn(this,t),s=(this.style.removeProperty(t),tn(this,t));return r===s?null:r===n&&s===i?o:o=e(n=r,i=s)}}function sl(t){return function(){this.style.removeProperty(t)}}function Cf(t,e,n){var i,o=n+"",r;return function(){var s=tn(this,t);return s===o?null:s===i?r:r=e(i=s,n)}}function Mf(t,e,n){var i,o,r;return function(){var s=tn(this,t),l=n(this),a=l+"";return l==null&&(a=l=(this.style.removeProperty(t),tn(this,t))),s===a?null:s===i&&a===o?r:(o=a,r=e(i=s,l))}}function Nf(t,e){var n,i,o,r="style."+e,s="end."+r,l;return function(){var a=Et(this,t),u=a.on,f=a.value[r]==null?l||(l=sl(e)):void 0;(u!==n||o!==f)&&(i=(n=u).copy()).on(s,o=f),a.on=i}}function Pf(t,e,n){var i=(t+="")=="transform"?Nu:ll;return e==null?this.styleTween(t,Sf(t,i)).on("end.style."+t,sl(t)):typeof e=="function"?this.styleTween(t,Mf(t,i,Bi(this,"style."+t,e))).each(Nf(this._id,t)):this.styleTween(t,Cf(t,i,e),n).on("end.style."+t,null)}function Df(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function Tf(t,e,n){var i,o;function r(){var s=e.apply(this,arguments);return s!==o&&(i=(o=s)&&Df(t,s,n)),i}return r._value=e,r}function zf(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,Tf(t,e,n??""))}function Of(t){return function(){this.textContent=t}}function If(t){return function(){var e=t(this);this.textContent=e??""}}function Hf(t){return this.tween("text",typeof t=="function"?If(Bi(this,"text",t)):Of(t==null?"":t+""))}function Af(t){return function(e){this.textContent=t.call(this,e)}}function Vf(t){var e,n;function i(){var o=t.apply(this,arguments);return o!==n&&(e=(n=o)&&Af(o)),e}return i._value=t,i}function Lf(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Vf(t))}function Xf(){for(var t=this._name,e=this._id,n=al(),i=this._groups,o=i.length,r=0;r<o;++r)for(var s=i[r],l=s.length,a,u=0;u<l;++u)if(a=s[u]){var f=yt(a,e);ni(a,t,n,u,s,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new zt(i,this._parents,t,n)}function Rf(){var t,e,n=this,i=n._id,o=n.size();return new Promise(function(r,s){var l={value:s},a={value:function(){--o===0&&r()}};n.each(function(){var u=Et(this,i),f=u.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(a)),u.on=e}),o===0&&r()})}var Yf=0;function zt(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function al(){return++Yf}var Nt=wn.prototype;zt.prototype={constructor:zt,select:vf,selectAll:pf,selectChild:Nt.selectChild,selectChildren:Nt.selectChildren,filter:hf,merge:gf,selection:Ef,transition:Xf,call:Nt.call,nodes:Nt.nodes,node:Nt.node,size:Nt.size,empty:Nt.empty,each:Nt.each,on:yf,attr:ju,attrTween:tf,style:Pf,styleTween:zf,text:Hf,textTween:Lf,remove:wf,tween:Ku,delay:rf,duration:af,ease:ff,easeVarying:df,end:Rf,[Symbol.iterator]:Nt[Symbol.iterator]};function Bf(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Wf={time:null,delay:0,duration:250,ease:Bf};function Kf(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Ff(t){var e,n;t instanceof zt?(e=t._id,t=t._name):(e=al(),(n=Wf).time=Ri(),t=t==null?null:t+"");for(var i=this._groups,o=i.length,r=0;r<o;++r)for(var s=i[r],l=s.length,a,u=0;u<l;++u)(a=s[u])&&ni(a,t,e,u,s,n||Kf(a,e));return new zt(i,this._parents,t,e)}wn.prototype.interrupt=Yu;wn.prototype.transition=Ff;const Dn=t=>()=>t;function qf(t,{sourceEvent:e,target:n,transform:i,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function Pt(t,e,n){this.k=t,this.x=e,this.y=n}Pt.prototype={constructor:Pt,scale:function(t){return t===1?this:new Pt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Pt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ii=new Pt(1,0,0);ul.prototype=Pt.prototype;function ul(t){for(;!t.__zoom;)if(!(t=t.parentNode))return ii;return t.__zoom}function gi(t){t.stopImmediatePropagation()}function un(t){t.preventDefault(),t.stopImmediatePropagation()}function Zf(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Uf(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function po(){return this.__zoom||ii}function Gf(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Jf(){return navigator.maxTouchPoints||"ontouchstart"in this}function jf(t,e,n){var i=t.invertX(e[0][0])-n[0][0],o=t.invertX(e[1][0])-n[1][0],r=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o),s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s))}function Qf(){var t=Zf,e=Uf,n=jf,i=Gf,o=Jf,r=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],l=250,a=Ou,u=$n("start","zoom","end"),f,c,d,h=500,m=150,_=0,b=10;function g(k){k.property("__zoom",po).on("wheel.zoom",L,{passive:!1}).on("mousedown.zoom",D).on("dblclick.zoom",Y).filter(o).on("touchstart.zoom",G).on("touchmove.zoom",B).on("touchend.zoom touchcancel.zoom",Z).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(k,A,v,N){var O=k.selection?k.selection():k;O.property("__zoom",po),k!==O?S(k,A,v,N):O.interrupt().each(function(){T(this,arguments).event(N).start().zoom(null,typeof A=="function"?A.apply(this,arguments):A).end()})},g.scaleBy=function(k,A,v,N){g.scaleTo(k,function(){var O=this.__zoom.k,I=typeof A=="function"?A.apply(this,arguments):A;return O*I},v,N)},g.scaleTo=function(k,A,v,N){g.transform(k,function(){var O=e.apply(this,arguments),I=this.__zoom,W=v==null?E(O):typeof v=="function"?v.apply(this,arguments):v,U=I.invert(W),$=typeof A=="function"?A.apply(this,arguments):A;return n(y(w(I,$),W,U),O,s)},v,N)},g.translateBy=function(k,A,v,N){g.transform(k,function(){return n(this.__zoom.translate(typeof A=="function"?A.apply(this,arguments):A,typeof v=="function"?v.apply(this,arguments):v),e.apply(this,arguments),s)},null,N)},g.translateTo=function(k,A,v,N,O){g.transform(k,function(){var I=e.apply(this,arguments),W=this.__zoom,U=N==null?E(I):typeof N=="function"?N.apply(this,arguments):N;return n(ii.translate(U[0],U[1]).scale(W.k).translate(typeof A=="function"?-A.apply(this,arguments):-A,typeof v=="function"?-v.apply(this,arguments):-v),I,s)},N,O)};function w(k,A){return A=Math.max(r[0],Math.min(r[1],A)),A===k.k?k:new Pt(A,k.x,k.y)}function y(k,A,v){var N=A[0]-v[0]*k.k,O=A[1]-v[1]*k.k;return N===k.x&&O===k.y?k:new Pt(k.k,N,O)}function E(k){return[(+k[0][0]+ +k[1][0])/2,(+k[0][1]+ +k[1][1])/2]}function S(k,A,v,N){k.on("start.zoom",function(){T(this,arguments).event(N).start()}).on("interrupt.zoom end.zoom",function(){T(this,arguments).event(N).end()}).tween("zoom",function(){var O=this,I=arguments,W=T(O,I).event(N),U=e.apply(O,I),$=v==null?E(U):typeof v=="function"?v.apply(O,I):v,oe=Math.max(U[1][0]-U[0][0],U[1][1]-U[0][1]),H=O.__zoom,te=typeof A=="function"?A.apply(O,I):A,re=a(H.invert($).concat(oe/H.k),te.invert($).concat(oe/te.k));return function(z){if(z===1)z=te;else{var ce=re(z),we=oe/ce[2];z=new Pt(we,$[0]-ce[0]*we,$[1]-ce[1]*we)}W.zoom(null,z)}})}function T(k,A,v){return!v&&k.__zooming||new V(k,A)}function V(k,A){this.that=k,this.args=A,this.active=0,this.sourceEvent=null,this.extent=e.apply(k,A),this.taps=0}V.prototype={event:function(k){return k&&(this.sourceEvent=k),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(k,A){return this.mouse&&k!=="mouse"&&(this.mouse[1]=A.invert(this.mouse[0])),this.touch0&&k!=="touch"&&(this.touch0[1]=A.invert(this.touch0[0])),this.touch1&&k!=="touch"&&(this.touch1[1]=A.invert(this.touch1[0])),this.that.__zoom=A,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(k){var A=ht(this.that).datum();u.call(k,this.that,new qf(k,{sourceEvent:this.sourceEvent,target:g,type:k,transform:this.that.__zoom,dispatch:u}),A)}};function L(k,...A){if(!t.apply(this,arguments))return;var v=T(this,A).event(k),N=this.__zoom,O=Math.max(r[0],Math.min(r[1],N.k*Math.pow(2,i.apply(this,arguments)))),I=vt(k);if(v.wheel)(v.mouse[0][0]!==I[0]||v.mouse[0][1]!==I[1])&&(v.mouse[1]=N.invert(v.mouse[0]=I)),clearTimeout(v.wheel);else{if(N.k===O)return;v.mouse=[I,N.invert(I)],An(this),v.start()}un(k),v.wheel=setTimeout(W,m),v.zoom("mouse",n(y(w(N,O),v.mouse[0],v.mouse[1]),v.extent,s));function W(){v.wheel=null,v.end()}}function D(k,...A){if(d||!t.apply(this,arguments))return;var v=k.currentTarget,N=T(this,A,!0).event(k),O=ht(k.view).on("mousemove.zoom",$,!0).on("mouseup.zoom",oe,!0),I=vt(k,v),W=k.clientX,U=k.clientY;Gr(k.view),gi(k),N.mouse=[I,this.__zoom.invert(I)],An(this),N.start();function $(H){if(un(H),!N.moved){var te=H.clientX-W,re=H.clientY-U;N.moved=te*te+re*re>_}N.event(H).zoom("mouse",n(y(N.that.__zoom,N.mouse[0]=vt(H,v),N.mouse[1]),N.extent,s))}function oe(H){O.on("mousemove.zoom mouseup.zoom",null),Jr(H.view,N.moved),un(H),N.event(H).end()}}function Y(k,...A){if(t.apply(this,arguments)){var v=this.__zoom,N=vt(k.changedTouches?k.changedTouches[0]:k,this),O=v.invert(N),I=v.k*(k.shiftKey?.5:2),W=n(y(w(v,I),N,O),e.apply(this,A),s);un(k),l>0?ht(this).transition().duration(l).call(S,W,N,k):ht(this).call(g.transform,W,N,k)}}function G(k,...A){if(t.apply(this,arguments)){var v=k.touches,N=v.length,O=T(this,A,k.changedTouches.length===N).event(k),I,W,U,$;for(gi(k),W=0;W<N;++W)U=v[W],$=vt(U,this),$=[$,this.__zoom.invert($),U.identifier],O.touch0?!O.touch1&&O.touch0[2]!==$[2]&&(O.touch1=$,O.taps=0):(O.touch0=$,I=!0,O.taps=1+!!f);f&&(f=clearTimeout(f)),I&&(O.taps<2&&(c=$[0],f=setTimeout(function(){f=null},h)),An(this),O.start())}}function B(k,...A){if(this.__zooming){var v=T(this,A).event(k),N=k.changedTouches,O=N.length,I,W,U,$;for(un(k),I=0;I<O;++I)W=N[I],U=vt(W,this),v.touch0&&v.touch0[2]===W.identifier?v.touch0[0]=U:v.touch1&&v.touch1[2]===W.identifier&&(v.touch1[0]=U);if(W=v.that.__zoom,v.touch1){var oe=v.touch0[0],H=v.touch0[1],te=v.touch1[0],re=v.touch1[1],z=(z=te[0]-oe[0])*z+(z=te[1]-oe[1])*z,ce=(ce=re[0]-H[0])*ce+(ce=re[1]-H[1])*ce;W=w(W,Math.sqrt(z/ce)),U=[(oe[0]+te[0])/2,(oe[1]+te[1])/2],$=[(H[0]+re[0])/2,(H[1]+re[1])/2]}else if(v.touch0)U=v.touch0[0],$=v.touch0[1];else return;v.zoom("touch",n(y(W,U,$),v.extent,s))}}function Z(k,...A){if(this.__zooming){var v=T(this,A).event(k),N=k.changedTouches,O=N.length,I,W;for(gi(k),d&&clearTimeout(d),d=setTimeout(function(){d=null},h),I=0;I<O;++I)W=N[I],v.touch0&&v.touch0[2]===W.identifier?delete v.touch0:v.touch1&&v.touch1[2]===W.identifier&&delete v.touch1;if(v.touch1&&!v.touch0&&(v.touch0=v.touch1,delete v.touch1),v.touch0)v.touch0[1]=this.__zoom.invert(v.touch0[0]);else if(v.end(),v.taps===2&&(W=vt(W,this),Math.hypot(c[0]-W[0],c[1]-W[1])<b)){var U=ht(this).on("dblclick.zoom");U&&U.apply(this,arguments)}}}return g.wheelDelta=function(k){return arguments.length?(i=typeof k=="function"?k:Dn(+k),g):i},g.filter=function(k){return arguments.length?(t=typeof k=="function"?k:Dn(!!k),g):t},g.touchable=function(k){return arguments.length?(o=typeof k=="function"?k:Dn(!!k),g):o},g.extent=function(k){return arguments.length?(e=typeof k=="function"?k:Dn([[+k[0][0],+k[0][1]],[+k[1][0],+k[1][1]]]),g):e},g.scaleExtent=function(k){return arguments.length?(r[0]=+k[0],r[1]=+k[1],g):[r[0],r[1]]},g.translateExtent=function(k){return arguments.length?(s[0][0]=+k[0][0],s[1][0]=+k[1][0],s[0][1]=+k[0][1],s[1][1]=+k[1][1],g):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},g.constrain=function(k){return arguments.length?(n=k,g):n},g.duration=function(k){return arguments.length?(l=+k,g):l},g.interpolate=function(k){return arguments.length?(a=k,g):a},g.on=function(){var k=u.on.apply(u,arguments);return k===u?g:k},g.clickDistance=function(k){return arguments.length?(_=(k=+k)*k,g):Math.sqrt(_)},g.tapDistance=function(k){return arguments.length?(b=+k,g):b},g}const pn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:n,targetHandle:i})=>`Couldn't create edge for ${t} handle id: "${t==="source"?n:i}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(t="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${t}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID."},qn=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]];var Kt;(function(t){t.Strict="strict",t.Loose="loose"})(Kt||(Kt={}));var kt;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(kt||(kt={}));var Zn;(function(t){t.Partial="partial",t.Full="full"})(Zn||(Zn={}));const Pi={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var xt;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(xt||(xt={}));var Un;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(Un||(Un={}));var _e;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(_e||(_e={}));const ko={[_e.Left]:_e.Right,[_e.Right]:_e.Left,[_e.Top]:_e.Bottom,[_e.Bottom]:_e.Top};function xf(t,e){if(!t&&!e)return!0;if(!t||!e||t.size!==e.size)return!1;if(!t.size&&!e.size)return!0;for(const n of t.keys())if(!e.has(n))return!1;return!0}function Eo(t,e,n){if(!n)return;const i=[];t.forEach((o,r)=>{e!=null&&e.has(r)||i.push(o)}),i.length&&n(i)}function So(t){return t===null?null:t?"valid":"invalid"}const $f=t=>"id"in t&&"source"in t&&"target"in t,fl=t=>"id"in t&&"internals"in t&&!("source"in t)&&!("target"in t),kn=(t,e=[0,0])=>{const{width:n,height:i}=qt(t),o=t.origin??e,r=n*o[0],s=i*o[1];return{x:t.position.x-r,y:t.position.y-s}},oi=(t,e={})=>{if(t.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return t.forEach(i=>{if(e.filter===void 0||e.filter(i)){const o=zi(i);n=Wi(n,o)}}),Ki(n)},cl=(t,e,[n,i,o]=[0,0,1],r=!1,s=!1)=>{const l={...li(e,[n,i,o]),width:e.width/o,height:e.height/o},a=[];for(const u of t.values()){const{measured:f,selectable:c=!0,hidden:d=!1}=u;if(s&&!c||d)continue;const h=f.width??u.width??u.initialWidth??null,m=f.height??u.height??u.initialHeight??null,_=Fi(l,ri(u)),b=(h??0)*(m??0),g=r&&_>0;(!u.internals.handleBounds||g||_>=b||u.dragging)&&a.push(u)}return a},Di=(t,e)=>{const n=new Set;return t.forEach(i=>{n.add(i.id)}),e.filter(i=>n.has(i.source)||n.has(i.target))};function Co(t,e){const n=new Map,i=e!=null&&e.nodes?new Set(e.nodes.map(o=>o.id)):null;return t.forEach(o=>{o.measured.width&&o.measured.height&&((e==null?void 0:e.includeHiddenNodes)||!o.hidden)&&(!i||i.has(o.id))&&n.set(o.id,o)}),n}async function Mo({nodes:t,width:e,height:n,panZoom:i,minZoom:o,maxZoom:r},s){if(t.size===0)return Promise.resolve(!1);const l=oi(t),a=gl(l,e,n,(s==null?void 0:s.minZoom)??o,(s==null?void 0:s.maxZoom)??r,(s==null?void 0:s.padding)??.1);return await i.setViewport(a,{duration:s==null?void 0:s.duration}),Promise.resolve(!0)}function ec({nodeId:t,nextPosition:e,nodeLookup:n,nodeOrigin:i=[0,0],nodeExtent:o,onError:r}){const s=n.get(t),l=s.parentId?n.get(s.parentId):void 0,{x:a,y:u}=l?l.internals.positionAbsolute:{x:0,y:0},f=s.origin??i;let c=o;if(s.extent==="parent"&&!s.expandParent)if(!l)r==null||r("005",pn.error005());else{const h=l.measured.width,m=l.measured.height;h&&m&&(c=[[a,u],[a+h,u+m]])}else l&&rn(s.extent)&&(c=[[s.extent[0][0]+a,s.extent[0][1]+u],[s.extent[1][0]+a,s.extent[1][1]+u]]);const d=rn(c)?Ft(e,c,s.measured):e;return{position:{x:d.x-a+s.measured.width*f[0],y:d.y-u+s.measured.height*f[1]},positionAbsolute:d}}async function tc({nodesToRemove:t=[],edgesToRemove:e=[],nodes:n,edges:i,onBeforeDelete:o}){const r=new Set(t.map(d=>d.id)),s=[];for(const d of n){if(d.deletable===!1)continue;const h=r.has(d.id),m=!h&&d.parentId&&s.find(_=>_.id===d.parentId);(h||m)&&s.push(d)}const l=new Set(e.map(d=>d.id)),a=i.filter(d=>d.deletable!==!1),f=Di(s,a);for(const d of a)l.has(d.id)&&!f.find(m=>m.id===d.id)&&f.push(d);if(!o)return{edges:f,nodes:s};const c=await o({nodes:s,edges:f});return typeof c=="boolean"?c?{edges:f,nodes:s}:{edges:[],nodes:[]}:c}const on=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),Ft=(t={x:0,y:0},e,n)=>({x:on(t.x,e[0][0],e[1][0]-((n==null?void 0:n.width)??0)),y:on(t.y,e[0][1],e[1][1]-((n==null?void 0:n.height)??0))});function dl(t,e,n){const{width:i,height:o}=qt(n),{x:r,y:s}=n.internals.positionAbsolute;return Ft(t,[[r,s],[r+i,s+o]],e)}const No=(t,e,n)=>t<e?on(Math.abs(t-e),1,e)/e:t>n?-on(Math.abs(t-n),1,e)/e:0,hl=(t,e,n=15,i=40)=>{const o=No(t.x,i,e.width-i)*n,r=No(t.y,i,e.height-i)*n;return[o,r]},Wi=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),Ti=({x:t,y:e,width:n,height:i})=>({x:t,y:e,x2:t+n,y2:e+i}),Ki=({x:t,y:e,x2:n,y2:i})=>({x:t,y:e,width:n-t,height:i-e}),ri=(t,e=[0,0])=>{var o,r;const{x:n,y:i}=fl(t)?t.internals.positionAbsolute:kn(t,e);return{x:n,y:i,width:((o=t.measured)==null?void 0:o.width)??t.width??t.initialWidth??0,height:((r=t.measured)==null?void 0:r.height)??t.height??t.initialHeight??0}},zi=(t,e=[0,0])=>{var o,r;const{x:n,y:i}=fl(t)?t.internals.positionAbsolute:kn(t,e);return{x:n,y:i,x2:n+(((o=t.measured)==null?void 0:o.width)??t.width??t.initialWidth??0),y2:i+(((r=t.measured)==null?void 0:r.height)??t.height??t.initialHeight??0)}},nc=(t,e)=>Ki(Wi(Ti(t),Ti(e))),Fi=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),i=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*i)},Xt=t=>!isNaN(t)&&isFinite(t),ic=(t,e)=>{},qi=(t,e=[1,1])=>({x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}),li=({x:t,y:e},[n,i,o],r=!1,s=[1,1])=>{const l={x:(t-n)/o,y:(e-i)/o};return r?qi(l,s):l},oc=({x:t,y:e},[n,i,o])=>({x:t*o+n,y:e*o+i}),gl=(t,e,n,i,o,r)=>{const s=e/(t.width*(1+r)),l=n/(t.height*(1+r)),a=Math.min(s,l),u=on(a,i,o),f=t.x+t.width/2,c=t.y+t.height/2,d=e/2-f*u,h=n/2-c*u;return{x:d,y:h,zoom:u}},Gn=()=>{var t;return typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)==null?void 0:t.indexOf("Mac"))>=0};function rn(t){return t!==void 0&&t!=="parent"}function qt(t){var e,n;return{width:((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth??0,height:((n=t.measured)==null?void 0:n.height)??t.height??t.initialHeight??0}}function Po(t){var e,n;return(((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth)!==void 0&&(((n=t.measured)==null?void 0:n.height)??t.height??t.initialHeight)!==void 0}function mi(t,{snapGrid:e=[0,0],snapToGrid:n=!1,transform:i,containerBounds:o}){const{x:r,y:s}=Dt(t),l=li({x:r-((o==null?void 0:o.left)??0),y:s-((o==null?void 0:o.top)??0)},i),{x:a,y:u}=n?qi(l,e):l;return{xSnapped:a,ySnapped:u,...l}}const Zi=t=>({width:t.offsetWidth,height:t.offsetHeight}),rc=t=>{var e;return((e=t==null?void 0:t.getRootNode)==null?void 0:e.call(t))||(window==null?void 0:window.document)},lc=["INPUT","SELECT","TEXTAREA"];function sc(t){var i,o;const e=((o=(i=t.composedPath)==null?void 0:i.call(t))==null?void 0:o[0])||t.target;return(e==null?void 0:e.nodeType)!==1?!1:lc.includes(e.nodeName)||e.hasAttribute("contenteditable")||!!e.closest(".nokey")}const ml=t=>"clientX"in t,Dt=(t,e)=>{var r,s;const n=ml(t),i=n?t.clientX:(r=t.touches)==null?void 0:r[0].clientX,o=n?t.clientY:(s=t.touches)==null?void 0:s[0].clientY;return{x:i-((e==null?void 0:e.left)??0),y:o-((e==null?void 0:e.top)??0)}},Do=(t,e,n,i,o)=>{const r=e.querySelectorAll(`.${t}`);return!r||!r.length?null:Array.from(r).map(s=>{const l=s.getBoundingClientRect();return{id:s.getAttribute("data-handleid"),type:t,nodeId:o,position:s.getAttribute("data-handlepos"),x:(l.left-n.left)/i,y:(l.top-n.top)/i,...Zi(s)}})};function ac({sourceX:t,sourceY:e,targetX:n,targetY:i,sourceControlX:o,sourceControlY:r,targetControlX:s,targetControlY:l}){const a=t*.125+o*.375+s*.375+n*.125,u=e*.125+r*.375+l*.375+i*.125,f=Math.abs(a-t),c=Math.abs(u-e);return[a,u,f,c]}function Tn(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function To({pos:t,x1:e,y1:n,x2:i,y2:o,c:r}){switch(t){case _e.Left:return[e-Tn(e-i,r),n];case _e.Right:return[e+Tn(i-e,r),n];case _e.Top:return[e,n-Tn(n-o,r)];case _e.Bottom:return[e,n+Tn(o-n,r)]}}function _l({sourceX:t,sourceY:e,sourcePosition:n=_e.Bottom,targetX:i,targetY:o,targetPosition:r=_e.Top,curvature:s=.25}){const[l,a]=To({pos:n,x1:t,y1:e,x2:i,y2:o,c:s}),[u,f]=To({pos:r,x1:i,y1:o,x2:t,y2:e,c:s}),[c,d,h,m]=ac({sourceX:t,sourceY:e,targetX:i,targetY:o,sourceControlX:l,sourceControlY:a,targetControlX:u,targetControlY:f});return[`M${t},${e} C${l},${a} ${u},${f} ${i},${o}`,c,d,h,m]}function yl({sourceX:t,sourceY:e,targetX:n,targetY:i}){const o=Math.abs(n-t)/2,r=n<t?n+o:n-o,s=Math.abs(i-e)/2,l=i<e?i+s:i-s;return[r,l,o,s]}function uc({sourceNode:t,targetNode:e,selected:n=!1,zIndex:i=0,elevateOnSelect:o=!1}){if(!o)return i;const r=n||e.selected||t.selected,s=Math.max(t.internals.z||0,e.internals.z||0,1e3);return i+(r?s:0)}function fc({sourceNode:t,targetNode:e,width:n,height:i,transform:o}){const r=Wi(zi(t),zi(e));r.x===r.x2&&(r.x2+=1),r.y===r.y2&&(r.y2+=1);const s={x:-o[0]/o[2],y:-o[1]/o[2],width:n/o[2],height:i/o[2]};return Fi(s,Ki(r))>0}const cc=({source:t,sourceHandle:e,target:n,targetHandle:i})=>`xy-edge__${t}${e||""}-${n}${i||""}`,dc=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),hc=(t,e)=>{if(!t.source||!t.target)return e;let n;return $f(t)?n={...t}:n={...t,id:cc(t)},dc(n,e)?e:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,e.concat(n))};function bl({sourceX:t,sourceY:e,targetX:n,targetY:i}){const[o,r,s,l]=yl({sourceX:t,sourceY:e,targetX:n,targetY:i});return[`M ${t},${e}L ${n},${i}`,o,r,s,l]}const zo={[_e.Left]:{x:-1,y:0},[_e.Right]:{x:1,y:0},[_e.Top]:{x:0,y:-1},[_e.Bottom]:{x:0,y:1}},gc=({source:t,sourcePosition:e=_e.Bottom,target:n})=>e===_e.Left||e===_e.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},Oo=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function mc({source:t,sourcePosition:e=_e.Bottom,target:n,targetPosition:i=_e.Top,center:o,offset:r}){const s=zo[e],l=zo[i],a={x:t.x+s.x*r,y:t.y+s.y*r},u={x:n.x+l.x*r,y:n.y+l.y*r},f=gc({source:a,sourcePosition:e,target:u}),c=f.x!==0?"x":"y",d=f[c];let h=[],m,_;const b={x:0,y:0},g={x:0,y:0},[w,y,E,S]=yl({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(s[c]*l[c]===-1){m=o.x??w,_=o.y??y;const V=[{x:m,y:a.y},{x:m,y:u.y}],L=[{x:a.x,y:_},{x:u.x,y:_}];s[c]===d?h=c==="x"?V:L:h=c==="x"?L:V}else{const V=[{x:a.x,y:u.y}],L=[{x:u.x,y:a.y}];if(c==="x"?h=s.x===d?L:V:h=s.y===d?V:L,e===i){const Z=Math.abs(t[c]-n[c]);if(Z<=r){const k=Math.min(r-1,r-Z);s[c]===d?b[c]=(a[c]>t[c]?-1:1)*k:g[c]=(u[c]>n[c]?-1:1)*k}}if(e!==i){const Z=c==="x"?"y":"x",k=s[c]===l[Z],A=a[Z]>u[Z],v=a[Z]<u[Z];(s[c]===1&&(!k&&A||k&&v)||s[c]!==1&&(!k&&v||k&&A))&&(h=c==="x"?V:L)}const D={x:a.x+b.x,y:a.y+b.y},Y={x:u.x+g.x,y:u.y+g.y},G=Math.max(Math.abs(D.x-h[0].x),Math.abs(Y.x-h[0].x)),B=Math.max(Math.abs(D.y-h[0].y),Math.abs(Y.y-h[0].y));G>=B?(m=(D.x+Y.x)/2,_=h[0].y):(m=h[0].x,_=(D.y+Y.y)/2)}return[[t,{x:a.x+b.x,y:a.y+b.y},...h,{x:u.x+g.x,y:u.y+g.y},n],m,_,E,S]}function _c(t,e,n,i){const o=Math.min(Oo(t,e)/2,Oo(e,n)/2,i),{x:r,y:s}=e;if(t.x===r&&r===n.x||t.y===s&&s===n.y)return`L${r} ${s}`;if(t.y===s){const u=t.x<n.x?-1:1,f=t.y<n.y?1:-1;return`L ${r+o*u},${s}Q ${r},${s} ${r},${s+o*f}`}const l=t.x<n.x?1:-1,a=t.y<n.y?-1:1;return`L ${r},${s+o*a}Q ${r},${s} ${r+o*l},${s}`}function Jn({sourceX:t,sourceY:e,sourcePosition:n=_e.Bottom,targetX:i,targetY:o,targetPosition:r=_e.Top,borderRadius:s=5,centerX:l,centerY:a,offset:u=20}){const[f,c,d,h,m]=mc({source:{x:t,y:e},sourcePosition:n,target:{x:i,y:o},targetPosition:r,center:{x:l,y:a},offset:u});return[f.reduce((b,g,w)=>{let y="";return w>0&&w<f.length-1?y=_c(f[w-1],g,f[w+1],s):y=`${w===0?"M":"L"}${g.x} ${g.y}`,b+=y,b},""),c,d,h,m]}function Io(t){var e;return t&&!!(t.internals.handleBounds||(e=t.handles)!=null&&e.length)&&!!(t.measured.width||t.width||t.initialWidth)}function yc(t){var c;const{sourceNode:e,targetNode:n}=t;if(!Io(e)||!Io(n))return null;const i=e.internals.handleBounds||Ho(e.handles),o=n.internals.handleBounds||Ho(n.handles),r=Ao((i==null?void 0:i.source)??[],t.sourceHandle),s=Ao(t.connectionMode===Kt.Strict?(o==null?void 0:o.target)??[]:((o==null?void 0:o.target)??[]).concat((o==null?void 0:o.source)??[]),t.targetHandle);if(!r||!s)return(c=t.onError)==null||c.call(t,"008",pn.error008(r?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const l=(r==null?void 0:r.position)||_e.Bottom,a=(s==null?void 0:s.position)||_e.Top,u=bn(e,r,l),f=bn(n,s,a);return{sourceX:u.x,sourceY:u.y,targetX:f.x,targetY:f.y,sourcePosition:l,targetPosition:a}}function Ho(t){if(!t)return null;const e=[],n=[];for(const i of t)i.width=i.width??1,i.height=i.height??1,i.type==="source"?e.push(i):i.type==="target"&&n.push(i);return{source:e,target:n}}function bn(t,e,n=_e.Left,i=!1){const o=((e==null?void 0:e.x)??0)+t.internals.positionAbsolute.x,r=((e==null?void 0:e.y)??0)+t.internals.positionAbsolute.y,{width:s,height:l}=e??qt(t);if(i)return{x:o+s/2,y:r+l/2};switch((e==null?void 0:e.position)??n){case _e.Top:return{x:o+s/2,y:r};case _e.Right:return{x:o+s,y:r+l/2};case _e.Bottom:return{x:o+s/2,y:r+l};case _e.Left:return{x:o,y:r+l/2}}}function Ao(t,e){return t&&(e?t.find(n=>n.id===e):t[0])||null}function Oi(t,e){return t?typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(i=>`${i}=${t[i]}`).join("&")}`:""}function bc(t,{id:e,defaultColor:n,defaultMarkerStart:i,defaultMarkerEnd:o}){const r=new Set;return t.reduce((s,l)=>([l.markerStart||i,l.markerEnd||o].forEach(a=>{if(a&&typeof a=="object"){const u=Oi(a,e);r.has(u)||(s.push({id:u,color:a.color||n,...a}),r.add(u))}}),s),[]).sort((s,l)=>s.id.localeCompare(l.id))}const Ui={nodeOrigin:[0,0],nodeExtent:qn,elevateNodesOnSelect:!0,defaults:{}},wc={...Ui,checkEquality:!0};function Gi(t,e){const n={...t};for(const i in e)e[i]!==void 0&&(n[i]=e[i]);return n}function vc(t,e,n){const i=Gi(Ui,n);for(const o of t.values())if(o.parentId)Ji(o,t,e,i);else{const r=kn(o,i.nodeOrigin),s=rn(o.extent)?o.extent:i.nodeExtent,l=Ft(r,s,qt(o));o.internals.positionAbsolute=l}}function wl(t,e,n,i){var l,a;const o=Gi(wc,i),r=new Map(e),s=o!=null&&o.elevateNodesOnSelect?1e3:0;e.clear(),n.clear();for(const u of t){let f=r.get(u.id);if(o.checkEquality&&u===(f==null?void 0:f.internals.userNode))e.set(u.id,f);else{const c=kn(u,o.nodeOrigin),d=rn(u.extent)?u.extent:o.nodeExtent,h=Ft(c,d,qt(u));f={...o.defaults,...u,measured:{width:(l=u.measured)==null?void 0:l.width,height:(a=u.measured)==null?void 0:a.height},internals:{positionAbsolute:h,handleBounds:u.measured?f==null?void 0:f.internals.handleBounds:void 0,z:vl(u,s),userNode:u}},e.set(u.id,f)}u.parentId&&Ji(f,e,n,i)}}function pc(t,e){if(!t.parentId)return;const n=e.get(t.parentId);n?n.set(t.id,t):e.set(t.parentId,new Map([[t.id,t]]))}function Ji(t,e,n,i){const{elevateNodesOnSelect:o,nodeOrigin:r,nodeExtent:s}=Gi(Ui,i),l=t.parentId,a=e.get(l);if(!a){console.warn(`Parent node ${l} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}pc(t,n);const u=o?1e3:0,{x:f,y:c,z:d}=kc(t,a,r,s,u),{positionAbsolute:h}=t.internals,m=f!==h.x||c!==h.y;(m||d!==t.internals.z)&&e.set(t.id,{...t,internals:{...t.internals,positionAbsolute:m?{x:f,y:c}:h,z:d}})}function vl(t,e){return(Xt(t.zIndex)?t.zIndex:0)+(t.selected?e:0)}function kc(t,e,n,i,o){const{x:r,y:s}=e.internals.positionAbsolute,l=qt(t),a=kn(t,n),u=rn(t.extent)?Ft(a,t.extent,l):a;let f=Ft({x:r+u.x,y:s+u.y},i,l);t.extent==="parent"&&(f=dl(f,l,e));const c=vl(t,o),d=e.internals.z??0;return{x:f.x,y:f.y,z:d>c?d:c}}function Ec(t,e,n,i=[0,0]){var s;const o=[],r=new Map;for(const l of t){const a=e.get(l.parentId);if(!a)continue;const u=((s=r.get(l.parentId))==null?void 0:s.expandedRect)??ri(a),f=nc(u,l.rect);r.set(l.parentId,{expandedRect:f,parent:a})}return r.size>0&&r.forEach(({expandedRect:l,parent:a},u)=>{var y;const f=a.internals.positionAbsolute,c=qt(a),d=a.origin??i,h=l.x<f.x?Math.round(Math.abs(f.x-l.x)):0,m=l.y<f.y?Math.round(Math.abs(f.y-l.y)):0,_=Math.max(c.width,Math.round(l.width)),b=Math.max(c.height,Math.round(l.height)),g=(_-c.width)*d[0],w=(b-c.height)*d[1];(h>0||m>0||g||w)&&(o.push({id:u,type:"position",position:{x:a.position.x-h+g,y:a.position.y-m+w}}),(y=n.get(u))==null||y.forEach(E=>{t.some(S=>S.id===E.id)||o.push({id:E.id,type:"position",position:{x:E.position.x+h,y:E.position.y+m}})})),(c.width<l.width||c.height<l.height||h||m)&&o.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:_+(h?d[0]*h-g:0),height:b+(m?d[1]*m-w:0)}})}),o}function Sc(t,e,n,i,o,r){const s=i==null?void 0:i.querySelector(".xyflow__viewport");let l=!1;if(!s)return{changes:[],updatedInternals:l};const a=[],u=window.getComputedStyle(s),{m22:f}=new window.DOMMatrixReadOnly(u.transform),c=[];for(const d of t.values()){const h=e.get(d.id);if(!h)continue;if(h.hidden){e.set(h.id,{...h,internals:{...h.internals,handleBounds:void 0}}),l=!0;continue}const m=Zi(d.nodeElement),_=h.measured.width!==m.width||h.measured.height!==m.height;if(!!(m.width&&m.height&&(_||!h.internals.handleBounds||d.force))){const g=d.nodeElement.getBoundingClientRect(),w=rn(h.extent)?h.extent:r;let{positionAbsolute:y}=h.internals;h.parentId&&h.extent==="parent"?y=dl(y,m,e.get(h.parentId)):w&&(y=Ft(y,w,m));const E={...h,measured:m,internals:{...h.internals,positionAbsolute:y,handleBounds:{source:Do("source",d.nodeElement,g,f,h.id),target:Do("target",d.nodeElement,g,f,h.id)}}};e.set(h.id,E),h.parentId&&Ji(E,e,n,{nodeOrigin:o}),l=!0,_&&(a.push({id:h.id,type:"dimensions",dimensions:m}),h.expandParent&&h.parentId&&c.push({id:h.id,parentId:h.parentId,rect:ri(E,o)}))}}if(c.length>0){const d=Ec(c,e,n,o);a.push(...d)}return{changes:a,updatedInternals:l}}async function Cc({delta:t,panZoom:e,transform:n,translateExtent:i,width:o,height:r}){if(!e||!t.x&&!t.y)return Promise.resolve(!1);const s=await e.setViewportConstrained({x:n[0]+t.x,y:n[1]+t.y,zoom:n[2]},[[0,0],[o,r]],i),l=!!s&&(s.x!==n[0]||s.y!==n[1]||s.k!==n[2]);return Promise.resolve(l)}function Vo(t,e,n,i,o,r){let s=o;const l=i.get(s)||new Map;i.set(s,l.set(n,e)),s=`${o}-${t}`;const a=i.get(s)||new Map;if(i.set(s,a.set(n,e)),r){s=`${o}-${t}-${r}`;const u=i.get(s)||new Map;i.set(s,u.set(n,e))}}function pl(t,e,n){t.clear(),e.clear();for(const i of n){const{source:o,target:r,sourceHandle:s=null,targetHandle:l=null}=i,a={edgeId:i.id,source:o,target:r,sourceHandle:s,targetHandle:l},u=`${o}-${s}--${r}-${l}`,f=`${r}-${l}--${o}-${s}`;Vo("source",a,f,t,o,s),Vo("target",a,u,t,r,l),e.set(i.id,i)}}function kl(t,e){if(!t.parentId)return!1;const n=e.get(t.parentId);return n?n.selected?!0:kl(n,e):!1}function Lo(t,e,n){var o;let i=t;do{if((o=i==null?void 0:i.matches)!=null&&o.call(i,e))return!0;if(i===n)return!1;i=i==null?void 0:i.parentElement}while(i);return!1}function Mc(t,e,n,i){const o=new Map;for(const[r,s]of t)if((s.selected||s.id===i)&&(!s.parentId||!kl(s,t))&&(s.draggable||e&&typeof s.draggable>"u")){const l=t.get(r);l&&o.set(r,{id:r,position:l.position||{x:0,y:0},distance:{x:n.x-l.internals.positionAbsolute.x,y:n.y-l.internals.positionAbsolute.y},extent:l.extent,parentId:l.parentId,origin:l.origin,expandParent:l.expandParent,internals:{positionAbsolute:l.internals.positionAbsolute||{x:0,y:0}},measured:{width:l.measured.width??0,height:l.measured.height??0}})}return o}function _i({nodeId:t,dragItems:e,nodeLookup:n,dragging:i=!0}){var s,l,a;const o=[];for(const[u,f]of e){const c=(s=n.get(u))==null?void 0:s.internals.userNode;c&&o.push({...c,position:f.position,dragging:i})}if(!t)return[o[0],o];const r=(l=n.get(t))==null?void 0:l.internals.userNode;return[r?{...r,position:((a=e.get(t))==null?void 0:a.position)||r.position,dragging:i}:o[0],o]}function Nc({onNodeMouseDown:t,getStoreItems:e,onDragStart:n,onDrag:i,onDragStop:o}){let r={x:null,y:null},s=0,l=new Map,a=!1,u={x:0,y:0},f=null,c=!1,d=null,h=!1;function m({noDragClassName:b,handleSelector:g,domNode:w,isSelectable:y,nodeId:E,nodeClickDistance:S=0}){d=ht(w);function T({x:Y,y:G},B){const{nodeLookup:Z,nodeExtent:k,snapGrid:A,snapToGrid:v,nodeOrigin:N,onNodeDrag:O,onSelectionDrag:I,onError:W,updateNodePositions:U}=e();r={x:Y,y:G};let $=!1,oe={x:0,y:0,x2:0,y2:0};if(l.size>1&&k){const H=oi(l);oe=Ti(H)}for(const[H,te]of l){if(!Z.has(H))continue;let re={x:Y-te.distance.x,y:G-te.distance.y};v&&(re=qi(re,A));let z=[[k[0][0],k[0][1]],[k[1][0],k[1][1]]];if(l.size>1&&k&&!te.extent){const{positionAbsolute:be}=te.internals,ve=be.x-oe.x+k[0][0],Ee=be.x+te.measured.width-oe.x2+k[1][0],He=be.y-oe.y+k[0][1],K=be.y+te.measured.height-oe.y2+k[1][1];z=[[ve,He],[Ee,K]]}const{position:ce,positionAbsolute:we}=ec({nodeId:H,nextPosition:re,nodeLookup:Z,nodeExtent:z,nodeOrigin:N,onError:W});$=$||te.position.x!==ce.x||te.position.y!==ce.y,te.position=ce,te.internals.positionAbsolute=we}if($&&(U(l,!0),B&&(i||O||!E&&I))){const[H,te]=_i({nodeId:E,dragItems:l,nodeLookup:Z});i==null||i(B,l,H,te),O==null||O(B,H,te),E||I==null||I(B,te)}}async function V(){if(!f)return;const{transform:Y,panBy:G,autoPanSpeed:B}=e(),[Z,k]=hl(u,f,B);(Z!==0||k!==0)&&(r.x=(r.x??0)-Z/Y[2],r.y=(r.y??0)-k/Y[2],await G({x:Z,y:k})&&T(r,null)),s=requestAnimationFrame(V)}function L(Y){var $;const{nodeLookup:G,multiSelectionActive:B,nodesDraggable:Z,transform:k,snapGrid:A,snapToGrid:v,selectNodesOnDrag:N,onNodeDragStart:O,onSelectionDragStart:I,unselectNodesAndEdges:W}=e();c=!0,(!N||!y)&&!B&&E&&(($=G.get(E))!=null&&$.selected||W()),y&&N&&E&&(t==null||t(E));const U=mi(Y.sourceEvent,{transform:k,snapGrid:A,snapToGrid:v,containerBounds:f});if(r=U,l=Mc(G,Z,U,E),l.size>0&&(n||O||!E&&I)){const[oe,H]=_i({nodeId:E,dragItems:l,nodeLookup:G});n==null||n(Y.sourceEvent,l,oe,H),O==null||O(Y.sourceEvent,oe,H),E||I==null||I(Y.sourceEvent,H)}}const D=lu().clickDistance(S).on("start",Y=>{const{domNode:G,nodeDragThreshold:B,transform:Z,snapGrid:k,snapToGrid:A}=e();f=(G==null?void 0:G.getBoundingClientRect())||null,h=!1,B===0&&L(Y),r=mi(Y.sourceEvent,{transform:Z,snapGrid:k,snapToGrid:A,containerBounds:f}),u=Dt(Y.sourceEvent,f)}).on("drag",Y=>{const{autoPanOnNodeDrag:G,transform:B,snapGrid:Z,snapToGrid:k,nodeDragThreshold:A,nodeLookup:v}=e(),N=mi(Y.sourceEvent,{transform:B,snapGrid:Z,snapToGrid:k,containerBounds:f});if((Y.sourceEvent.type==="touchmove"&&Y.sourceEvent.touches.length>1||E&&!v.has(E))&&(h=!0),!h){if(!a&&G&&c&&(a=!0,V()),!c){const O=N.xSnapped-(r.x??0),I=N.ySnapped-(r.y??0);Math.sqrt(O*O+I*I)>A&&L(Y)}(r.x!==N.xSnapped||r.y!==N.ySnapped)&&l&&c&&(u=Dt(Y.sourceEvent,f),T(N,Y.sourceEvent))}}).on("end",Y=>{if(!(!c||h)&&(a=!1,c=!1,cancelAnimationFrame(s),l.size>0)){const{nodeLookup:G,updateNodePositions:B,onNodeDragStop:Z,onSelectionDragStop:k}=e();if(B(l,!1),o||Z||!E&&k){const[A,v]=_i({nodeId:E,dragItems:l,nodeLookup:G,dragging:!1});o==null||o(Y.sourceEvent,l,A,v),Z==null||Z(Y.sourceEvent,A,v),E||k==null||k(Y.sourceEvent,v)}}}).filter(Y=>{const G=Y.target;return!Y.button&&(!b||!Lo(G,`.${b}`,w))&&(!g||Lo(G,g,w))});d.call(D)}function _(){d==null||d.on(".drag",null)}return{update:m,destroy:_}}function Pc(t,e,n){const i=[],o={x:t.x-n,y:t.y-n,width:n*2,height:n*2};for(const r of e.values())Fi(o,ri(r))>0&&i.push(r);return i}const Dc=250;function Tc(t,e,n,i){var l,a;let o=[],r=1/0;const s=Pc(t,n,e+Dc);for(const u of s){const f=[...((l=u.internals.handleBounds)==null?void 0:l.source)??[],...((a=u.internals.handleBounds)==null?void 0:a.target)??[]];for(const c of f){if(i.nodeId===c.nodeId&&i.type===c.type&&i.id===c.id)continue;const{x:d,y:h}=bn(u,c,c.position,!0),m=Math.sqrt(Math.pow(d-t.x,2)+Math.pow(h-t.y,2));m>e||(m<r?(o=[{...c,x:d,y:h}],r=m):m===r&&o.push({...c,x:d,y:h}))}}if(!o.length)return null;if(o.length>1){const u=i.type==="source"?"target":"source";return o.find(f=>f.type===u)??o[0]}return o[0]}function El(t,e,n,i,o,r=!1){var u,f,c;const s=i.get(t);if(!s)return null;const l=o==="strict"?(u=s.internals.handleBounds)==null?void 0:u[e]:[...((f=s.internals.handleBounds)==null?void 0:f.source)??[],...((c=s.internals.handleBounds)==null?void 0:c.target)??[]],a=(n?l==null?void 0:l.find(d=>d.id===n):l==null?void 0:l[0])??null;return a&&r?{...a,...bn(s,a,a.position,!0)}:a}function Sl(t,e){return t||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function zc(t,e){let n=null;return e?n=!0:t&&!e&&(n=!1),n}const Cl=()=>!0;function Oc(t,{connectionMode:e,connectionRadius:n,handleId:i,nodeId:o,edgeUpdaterType:r,isTarget:s,domNode:l,nodeLookup:a,lib:u,autoPanOnConnect:f,flowId:c,panBy:d,cancelConnection:h,onConnectStart:m,onConnect:_,onConnectEnd:b,isValidConnection:g=Cl,onReconnectEnd:w,updateConnection:y,getTransform:E,getFromHandle:S,autoPanSpeed:T}){const V=rc(t.target);let L=0,D;const{x:Y,y:G}=Dt(t),B=V==null?void 0:V.elementFromPoint(Y,G),Z=Sl(r,B),k=l==null?void 0:l.getBoundingClientRect();if(!k||!Z)return;const A=El(o,Z,i,a,e);if(!A)return;let v=Dt(t,k),N=!1,O=null,I=!1,W=null;function U(){if(!f||!k)return;const[we,be]=hl(v,k,T);d({x:we,y:be}),L=requestAnimationFrame(U)}const $={...A,nodeId:o,type:Z,position:A.position},oe=a.get(o),te={inProgress:!0,isValid:null,from:bn(oe,$,_e.Left,!0),fromHandle:$,fromPosition:$.position,fromNode:oe,to:v,toHandle:null,toPosition:ko[$.position],toNode:null};y(te);let re=te;m==null||m(t,{nodeId:o,handleId:i,handleType:Z});function z(we){if(!S()||!$){ce(we);return}const be=E();v=Dt(we,k),D=Tc(li(v,be,!1,[1,1]),n,a,$),N||(U(),N=!0);const ve=Ml(we,{handle:D,connectionMode:e,fromNodeId:o,fromHandleId:i,fromType:s?"target":"source",isValidConnection:g,doc:V,lib:u,flowId:c,nodeLookup:a});W=ve.handleDomNode,O=ve.connection,I=zc(!!D,ve.isValid);const Ee={...re,isValid:I,to:D&&I?oc({x:D.x,y:D.y},be):v,toHandle:ve.toHandle,toPosition:I&&ve.toHandle?ve.toHandle.position:ko[$.position],toNode:ve.toHandle?a.get(ve.toHandle.nodeId):null};I&&D&&re.toHandle&&Ee.toHandle&&re.toHandle.type===Ee.toHandle.type&&re.toHandle.nodeId===Ee.toHandle.nodeId&&re.toHandle.id===Ee.toHandle.id&&re.to.x===Ee.to.x&&re.to.y===Ee.to.y||(y(Ee),re=Ee)}function ce(we){(D||W)&&O&&I&&(_==null||_(O));const{inProgress:be,...ve}=re,Ee={...ve,toPosition:re.toHandle?re.toPosition:null};b==null||b(we,Ee),r&&(w==null||w(we,Ee)),h(),cancelAnimationFrame(L),N=!1,I=!1,O=null,W=null,V.removeEventListener("mousemove",z),V.removeEventListener("mouseup",ce),V.removeEventListener("touchmove",z),V.removeEventListener("touchend",ce)}V.addEventListener("mousemove",z),V.addEventListener("mouseup",ce),V.addEventListener("touchmove",z),V.addEventListener("touchend",ce)}function Ml(t,{handle:e,connectionMode:n,fromNodeId:i,fromHandleId:o,fromType:r,doc:s,lib:l,flowId:a,isValidConnection:u=Cl,nodeLookup:f}){const c=r==="target",d=e?s.querySelector(`.${l}-flow__handle[data-id="${a}-${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`):null,{x:h,y:m}=Dt(t),_=s.elementFromPoint(h,m),b=_!=null&&_.classList.contains(`${l}-flow__handle`)?_:d,g={handleDomNode:b,isValid:!1,connection:null,toHandle:null};if(b){const w=Sl(void 0,b),y=b.getAttribute("data-nodeid"),E=b.getAttribute("data-handleid"),S=b.classList.contains("connectable"),T=b.classList.contains("connectableend");if(!y||!w)return g;const V={source:c?y:i,sourceHandle:c?E:o,target:c?i:y,targetHandle:c?o:E};g.connection=V;const D=S&&T&&(n===Kt.Strict?c&&w==="source"||!c&&w==="target":y!==i||E!==o);g.isValid=D&&u(V),g.toHandle=El(y,w,E,f,n,!1)}return g}const Ic={onPointerDown:Oc,isValid:Ml},Hc=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,si=t=>({x:t.x,y:t.y,zoom:t.k}),yi=({x:t,y:e,zoom:n})=>ii.translate(t,e).scale(n),Gt=(t,e)=>t.target.closest(`.${e}`),Nl=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),bi=(t,e=0,n=()=>{})=>{const i=typeof e=="number"&&e>0;return i||n(),i?t.transition().duration(e).on("end",n):t},Pl=t=>{const e=t.ctrlKey&&Gn()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e};function Ac({zoomPanValues:t,noWheelClassName:e,d3Selection:n,d3Zoom:i,panOnScrollMode:o,panOnScrollSpeed:r,zoomOnPinch:s,onPanZoomStart:l,onPanZoom:a,onPanZoomEnd:u}){return f=>{if(Gt(f,e))return!1;f.preventDefault(),f.stopImmediatePropagation();const c=n.property("__zoom").k||1;if(f.ctrlKey&&s){const b=vt(f),g=Pl(f),w=c*Math.pow(2,g);i.scaleTo(n,w,b,f);return}const d=f.deltaMode===1?20:1;let h=o===kt.Vertical?0:f.deltaX*d,m=o===kt.Horizontal?0:f.deltaY*d;!Gn()&&f.shiftKey&&o!==kt.Vertical&&(h=f.deltaY*d,m=0),i.translateBy(n,-(h/c)*r,-(m/c)*r,{internal:!0});const _=si(n.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling||(t.isPanScrolling=!0,l==null||l(f,_)),t.isPanScrolling&&(a==null||a(f,_),t.panScrollTimeout=setTimeout(()=>{u==null||u(f,_),t.isPanScrolling=!1},150))}}function Vc({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:n}){return function(i,o){if(!e&&i.type==="wheel"&&!i.ctrlKey||Gt(i,t))return null;i.preventDefault(),n.call(this,i,o)}}function Lc({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:n}){return i=>{var r,s,l;if((r=i.sourceEvent)!=null&&r.internal)return;const o=si(i.transform);t.mouseButton=((s=i.sourceEvent)==null?void 0:s.button)||0,t.isZoomingOrPanning=!0,t.prevViewport=o,((l=i.sourceEvent)==null?void 0:l.type)==="mousedown"&&e(!0),n&&(n==null||n(i.sourceEvent,o))}}function Xc({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:n,onTransformChange:i,onPanZoom:o}){return r=>{var s,l;t.usedRightMouseButton=!!(n&&Nl(e,t.mouseButton??0)),(s=r.sourceEvent)!=null&&s.sync||i([r.transform.x,r.transform.y,r.transform.k]),o&&!((l=r.sourceEvent)!=null&&l.internal)&&(o==null||o(r.sourceEvent,si(r.transform)))}}function Rc({zoomPanValues:t,panOnDrag:e,panOnScroll:n,onDraggingChange:i,onPanZoomEnd:o,onPaneContextMenu:r}){return s=>{var l;if(!((l=s.sourceEvent)!=null&&l.internal)&&(t.isZoomingOrPanning=!1,r&&Nl(e,t.mouseButton??0)&&!t.usedRightMouseButton&&s.sourceEvent&&r(s.sourceEvent),t.usedRightMouseButton=!1,i(!1),o&&Hc(t.prevViewport,s.transform))){const a=si(s.transform);t.prevViewport=a,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{o==null||o(s.sourceEvent,a)},n?150:0)}}}function Yc({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:n,panOnDrag:i,panOnScroll:o,zoomOnDoubleClick:r,userSelectionActive:s,noWheelClassName:l,noPanClassName:a,lib:u}){return f=>{var m;const c=t||e,d=n&&f.ctrlKey;if(f.button===1&&f.type==="mousedown"&&(Gt(f,`${u}-flow__node`)||Gt(f,`${u}-flow__edge`)))return!0;if(!i&&!c&&!o&&!r&&!n||s||Gt(f,l)&&f.type==="wheel"||Gt(f,a)&&(f.type!=="wheel"||o&&f.type==="wheel"&&!t)||!n&&f.ctrlKey&&f.type==="wheel")return!1;if(!n&&f.type==="touchstart"&&((m=f.touches)==null?void 0:m.length)>1)return f.preventDefault(),!1;if(!c&&!o&&!d&&f.type==="wheel"||!i&&(f.type==="mousedown"||f.type==="touchstart")||Array.isArray(i)&&!i.includes(f.button)&&f.type==="mousedown")return!1;const h=Array.isArray(i)&&i.includes(f.button)||!f.button||f.button<=1;return(!f.ctrlKey||f.type==="wheel")&&h}}function Bc({domNode:t,minZoom:e,maxZoom:n,paneClickDistance:i,translateExtent:o,viewport:r,onPanZoom:s,onPanZoomStart:l,onPanZoomEnd:a,onDraggingChange:u}){const f={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},c=t.getBoundingClientRect(),d=Qf().clickDistance(!Xt(i)||i<0?0:i).scaleExtent([e,n]).translateExtent(o),h=ht(t).call(d);y({x:r.x,y:r.y,zoom:on(r.zoom,e,n)},[[0,0],[c.width,c.height]],o);const m=h.on("wheel.zoom"),_=h.on("dblclick.zoom");d.wheelDelta(Pl);function b(B,Z){return h?new Promise(k=>{d==null||d.transform(bi(h,Z==null?void 0:Z.duration,()=>k(!0)),B)}):Promise.resolve(!1)}function g({noWheelClassName:B,noPanClassName:Z,onPaneContextMenu:k,userSelectionActive:A,panOnScroll:v,panOnDrag:N,panOnScrollMode:O,panOnScrollSpeed:I,preventScrolling:W,zoomOnPinch:U,zoomOnScroll:$,zoomOnDoubleClick:oe,zoomActivationKeyPressed:H,lib:te,onTransformChange:re}){A&&!f.isZoomingOrPanning&&w();const ce=v&&!H&&!A?Ac({zoomPanValues:f,noWheelClassName:B,d3Selection:h,d3Zoom:d,panOnScrollMode:O,panOnScrollSpeed:I,zoomOnPinch:U,onPanZoomStart:l,onPanZoom:s,onPanZoomEnd:a}):Vc({noWheelClassName:B,preventScrolling:W,d3ZoomHandler:m});if(h.on("wheel.zoom",ce,{passive:!1}),!A){const be=Lc({zoomPanValues:f,onDraggingChange:u,onPanZoomStart:l});d.on("start",be);const ve=Xc({zoomPanValues:f,panOnDrag:N,onPaneContextMenu:!!k,onPanZoom:s,onTransformChange:re});d.on("zoom",ve);const Ee=Rc({zoomPanValues:f,panOnDrag:N,panOnScroll:v,onPaneContextMenu:k,onPanZoomEnd:a,onDraggingChange:u});d.on("end",Ee)}const we=Yc({zoomActivationKeyPressed:H,panOnDrag:N,zoomOnScroll:$,panOnScroll:v,zoomOnDoubleClick:oe,zoomOnPinch:U,userSelectionActive:A,noPanClassName:Z,noWheelClassName:B,lib:te});d.filter(we),oe?h.on("dblclick.zoom",_):h.on("dblclick.zoom",null)}function w(){d.on("zoom",null)}async function y(B,Z,k){const A=yi(B),v=d==null?void 0:d.constrain()(A,Z,k);return v&&await b(v),new Promise(N=>N(v))}async function E(B,Z){const k=yi(B);return await b(k,Z),new Promise(A=>A(k))}function S(B){if(h){const Z=yi(B),k=h.property("__zoom");(k.k!==B.zoom||k.x!==B.x||k.y!==B.y)&&(d==null||d.transform(h,Z,null,{sync:!0}))}}function T(){const B=h?ul(h.node()):{x:0,y:0,k:1};return{x:B.x,y:B.y,zoom:B.k}}function V(B,Z){return h?new Promise(k=>{d==null||d.scaleTo(bi(h,Z==null?void 0:Z.duration,()=>k(!0)),B)}):Promise.resolve(!1)}function L(B,Z){return h?new Promise(k=>{d==null||d.scaleBy(bi(h,Z==null?void 0:Z.duration,()=>k(!0)),B)}):Promise.resolve(!1)}function D(B){d==null||d.scaleExtent(B)}function Y(B){d==null||d.translateExtent(B)}function G(B){const Z=!Xt(B)||B<0?0:B;d==null||d.clickDistance(Z)}return{update:g,destroy:w,setViewport:E,setViewportConstrained:y,getViewport:T,scaleTo:V,scaleBy:L,setScaleExtent:D,setTranslateExtent:Y,syncViewport:S,setClickDistance:G}}var Xo;(function(t){t.Line="line",t.Handle="handle"})(Xo||(Xo={}));function Wc(t){let e,n,i,o,r,s;const l=t[45].default,a=ot(l,t,t[44],null);return{c(){e=Q("div"),a&&a.c(),this.h()},l(u){e=x(u,"DIV",{"data-handleid":!0,"data-nodeid":!0,"data-handlepos":!0,"data-id":!0,class:!0,style:!0,role:!0,tabindex:!0});var f=q(e);a&&a.l(f),f.forEach(C),this.h()},h(){p(e,"data-handleid",t[6]),p(e,"data-nodeid",t[14]),p(e,"data-handlepos",t[2]),p(e,"data-id",n=t[13]+"-"+t[14]+"-"+(t[0]||null)+"-"+t[1]),p(e,"class",i=Ae(["svelte-flow__handle",`svelte-flow__handle-${t[2]}`,"nodrag","nopan",t[2],t[4]])),p(e,"style",t[3]),p(e,"role","button"),p(e,"tabindex","-1"),de(e,"valid",t[7]),de(e,"connectingto",t[5]),de(e,"connectingfrom",t[9]),de(e,"source",!t[11]),de(e,"target",t[11]),de(e,"connectablestart",t[12]),de(e,"connectableend",t[12]),de(e,"connectable",t[12]),de(e,"connectionindicator",t[12]&&(!t[10]||t[8]))},m(u,f){J(u,e,f),a&&a.m(e,null),o=!0,r||(s=[Se(e,"mousedown",t[32]),Se(e,"touchstart",t[32])],r=!0)},p(u,f){a&&a.p&&(!o||f[1]&8192)&&rt(a,l,u,u[44],o?st(l,u[44],f,null):lt(u[44]),null),(!o||f[0]&64)&&p(e,"data-handleid",u[6]),(!o||f[0]&4)&&p(e,"data-handlepos",u[2]),(!o||f[0]&8195&&n!==(n=u[13]+"-"+u[14]+"-"+(u[0]||null)+"-"+u[1]))&&p(e,"data-id",n),(!o||f[0]&20&&i!==(i=Ae(["svelte-flow__handle",`svelte-flow__handle-${u[2]}`,"nodrag","nopan",u[2],u[4]])))&&p(e,"class",i),(!o||f[0]&8)&&p(e,"style",u[3]),(!o||f[0]&148)&&de(e,"valid",u[7]),(!o||f[0]&52)&&de(e,"connectingto",u[5]),(!o||f[0]&532)&&de(e,"connectingfrom",u[9]),(!o||f[0]&2068)&&de(e,"source",!u[11]),(!o||f[0]&2068)&&de(e,"target",u[11]),(!o||f[0]&4116)&&de(e,"connectablestart",u[12]),(!o||f[0]&4116)&&de(e,"connectableend",u[12]),(!o||f[0]&4116)&&de(e,"connectable",u[12]),(!o||f[0]&5396)&&de(e,"connectionindicator",u[12]&&(!u[10]||u[8]))},i(u){o||(R(a,u),o=!0)},o(u){F(a,u),o=!1},d(u){u&&C(e),a&&a.d(u),r=!1,mt(s)}}}function Kc(t,e,n){let i,o,r,s,l,a,u,f,c,d,h,m,_,b,g,w,y,E,S,T,V,L,D,Y,G,{$$slots:B={},$$scope:Z}=e,{id:k=void 0}=e,{type:A="source"}=e,{position:v=_e.Top}=e,{style:N=void 0}=e,{isValidConnection:O=void 0}=e,{onconnect:I=void 0}=e,{ondisconnect:W=void 0}=e,{isConnectable:U=void 0}=e,{class:$=void 0}=e;const oe=Vn("svelteflow__node_id"),H=Vn("svelteflow__node_connectable");j(t,H,P=>n(43,G=P));const te=qe(),{connectionMode:re,domNode:z,nodeLookup:ce,connectionRadius:we,viewport:be,isValidConnection:ve,lib:Ee,addEdge:He,onedgecreate:K,panBy:De,cancelConnection:Me,updateConnection:at,autoPanOnConnect:Fe,edges:je,connectionLookup:Ve,onconnect:Ne,onconnectstart:ke,onconnectend:et,flowId:Ze,connection:Qe}=te;j(t,re,P=>n(40,d=P)),j(t,z,P=>n(55,D=P)),j(t,ce,P=>n(54,L=P)),j(t,we,P=>n(56,Y=P)),j(t,be,P=>n(46,_=P)),j(t,ve,P=>n(51,E=P)),j(t,Ee,P=>n(53,V=P)),j(t,K,P=>n(50,y=P)),j(t,Fe,P=>n(52,T=P)),j(t,je,P=>n(42,m=P)),j(t,Ve,P=>n(41,h=P)),j(t,Ne,P=>n(49,w=P)),j(t,ke,P=>n(48,g=P)),j(t,et,P=>n(47,b=P)),j(t,Ze,P=>n(13,S=P)),j(t,Qe,P=>n(39,c=P));function bt(P){const xe=ml(P);(xe&&P.button===0||!xe)&&Ic.onPointerDown(P,{handleId:r,nodeId:oe,isTarget:i,connectionRadius:Y,domNode:D,nodeLookup:L,connectionMode:d,lib:V,autoPanOnConnect:T,flowId:S,isValidConnection:O??E,updateConnection:at,cancelConnection:Me,panBy:De,onConnect:Le=>{const Oe=y?y(Le):Le;Oe&&(He(Oe),w==null||w(Le))},onConnectStart:(Le,Oe)=>{g==null||g(Le,{nodeId:Oe.nodeId,handleId:Oe.handleId,handleType:Oe.handleType})},onConnectEnd:(Le,Oe)=>{b==null||b(Le,Oe)},getTransform:()=>[_.x,_.y,_.zoom],getFromHandle:()=>c.fromHandle})}let tt=null,ut;return t.$$set=P=>{"id"in P&&n(0,k=P.id),"type"in P&&n(1,A=P.type),"position"in P&&n(2,v=P.position),"style"in P&&n(3,N=P.style),"isValidConnection"in P&&n(33,O=P.isValidConnection),"onconnect"in P&&n(34,I=P.onconnect),"ondisconnect"in P&&n(35,W=P.ondisconnect),"isConnectable"in P&&n(36,U=P.isConnectable),"class"in P&&n(4,$=P.class),"$$scope"in P&&n(44,Z=P.$$scope)},t.$$.update=()=>{var P,xe,Le,Oe,ft,St,Ct,Mt,Ot;if(t.$$.dirty[0]&2&&n(11,i=A==="target"),t.$$.dirty[1]&4128&&n(12,o=U!==void 0?U:G),t.$$.dirty[0]&1&&n(6,r=k||null),t.$$.dirty[0]&3|t.$$.dirty[1]&3096&&(I||W)&&n(38,ut=h.get(`${oe}-${A}${k?`-${k}`:""}`)),t.$$.dirty[1]&216){if(tt&&!xf(ut,tt)){const Vt=ut??new Map;Eo(tt,Vt,W),Eo(Vt,tt,I)}n(37,tt=ut??new Map)}t.$$.dirty[1]&256&&n(10,s=!!c.fromHandle),t.$$.dirty[0]&66|t.$$.dirty[1]&256&&n(9,l=((P=c.fromHandle)==null?void 0:P.nodeId)===oe&&((xe=c.fromHandle)==null?void 0:xe.type)===A&&((Le=c.fromHandle)==null?void 0:Le.id)===r),t.$$.dirty[0]&66|t.$$.dirty[1]&256&&n(5,a=((Oe=c.toHandle)==null?void 0:Oe.nodeId)===oe&&((ft=c.toHandle)==null?void 0:ft.type)===A&&((St=c.toHandle)==null?void 0:St.id)===r),t.$$.dirty[0]&66|t.$$.dirty[1]&768&&n(8,u=d===Kt.Strict?((Ct=c.fromHandle)==null?void 0:Ct.type)!==A:oe!==((Mt=c.fromHandle)==null?void 0:Mt.nodeId)||r!==((Ot=c.fromHandle)==null?void 0:Ot.id)),t.$$.dirty[0]&32|t.$$.dirty[1]&256&&n(7,f=a&&c.isValid)},[k,A,v,N,$,a,r,f,u,l,s,i,o,S,oe,H,re,z,ce,we,be,ve,Ee,K,Fe,je,Ve,Ne,ke,et,Ze,Qe,bt,O,I,W,U,tt,ut,c,d,h,m,G,Z,B]}class Fc extends he{constructor(e){super(),ge(this,e,Kc,Wc,ye,{id:0,type:1,position:2,style:3,isValidConnection:33,onconnect:34,ondisconnect:35,isConnectable:36,class:4},null,[-1,-1])}}const ln=Fc;function qc(t){var a;let e,n,i=((a=t[0])==null?void 0:a.label)+"",o,r,s,l;return e=new ln({props:{type:"target",position:t[1]??_e.Top}}),s=new ln({props:{type:"source",position:t[2]??_e.Bottom}}),{c(){se(e.$$.fragment),n=ne(),o=Ye(i),r=ne(),se(s.$$.fragment)},l(u){fe(e.$$.fragment,u),n=ie(u),o=Be(u,i),r=ie(u),fe(s.$$.fragment,u)},m(u,f){ae(e,u,f),J(u,n,f),J(u,o,f),J(u,r,f),ae(s,u,f),l=!0},p(u,[f]){var h;const c={};f&2&&(c.position=u[1]??_e.Top),e.$set(c),(!l||f&1)&&i!==(i=((h=u[0])==null?void 0:h.label)+"")&&We(o,i);const d={};f&4&&(d.position=u[2]??_e.Bottom),s.$set(d)},i(u){l||(R(e.$$.fragment,u),R(s.$$.fragment,u),l=!0)},o(u){F(e.$$.fragment,u),F(s.$$.fragment,u),l=!1},d(u){u&&(C(n),C(o),C(r)),ue(e,u),ue(s,u)}}}function Zc(t,e,n){const i=["data","targetPosition","sourcePosition"];Xe(e,i);let{data:o={label:"Node"}}=e,{targetPosition:r=void 0}=e,{sourcePosition:s=void 0}=e;return t.$$set=l=>{e=Pe(Pe({},e),_t(l)),n(3,Xe(e,i)),"data"in l&&n(0,o=l.data),"targetPosition"in l&&n(1,r=l.targetPosition),"sourcePosition"in l&&n(2,s=l.sourcePosition)},[o,r,s]}class Uc extends he{constructor(e){super(),ge(this,e,Zc,qc,ye,{data:0,targetPosition:1,sourcePosition:2})}}const Dl=Uc;function Gc(t){var s;let e=((s=t[0])==null?void 0:s.label)+"",n,i,o,r;return o=new ln({props:{type:"source",position:t[1]??_e.Bottom}}),{c(){n=Ye(e),i=ne(),se(o.$$.fragment)},l(l){n=Be(l,e),i=ie(l),fe(o.$$.fragment,l)},m(l,a){J(l,n,a),J(l,i,a),ae(o,l,a),r=!0},p(l,[a]){var f;(!r||a&1)&&e!==(e=((f=l[0])==null?void 0:f.label)+"")&&We(n,e);const u={};a&2&&(u.position=l[1]??_e.Bottom),o.$set(u)},i(l){r||(R(o.$$.fragment,l),r=!0)},o(l){F(o.$$.fragment,l),r=!1},d(l){l&&(C(n),C(i)),ue(o,l)}}}function Jc(t,e,n){const i=["data","sourcePosition"];Xe(e,i);let{data:o={label:"Node"}}=e,{sourcePosition:r=void 0}=e;return t.$$set=s=>{e=Pe(Pe({},e),_t(s)),n(2,Xe(e,i)),"data"in s&&n(0,o=s.data),"sourcePosition"in s&&n(1,r=s.sourcePosition)},[o,r]}class jc extends he{constructor(e){super(),ge(this,e,Jc,Gc,ye,{data:0,sourcePosition:1})}}const Qc=jc;function xc(t){var s;let e=((s=t[0])==null?void 0:s.label)+"",n,i,o,r;return o=new ln({props:{type:"target",position:t[1]??_e.Top}}),{c(){n=Ye(e),i=ne(),se(o.$$.fragment)},l(l){n=Be(l,e),i=ie(l),fe(o.$$.fragment,l)},m(l,a){J(l,n,a),J(l,i,a),ae(o,l,a),r=!0},p(l,[a]){var f;(!r||a&1)&&e!==(e=((f=l[0])==null?void 0:f.label)+"")&&We(n,e);const u={};a&2&&(u.position=l[1]??_e.Top),o.$set(u)},i(l){r||(R(o.$$.fragment,l),r=!0)},o(l){F(o.$$.fragment,l),r=!1},d(l){l&&(C(n),C(i)),ue(o,l)}}}function $c(t,e,n){const i=["data","targetPosition"];Xe(e,i);let{data:o={label:"Node"}}=e,{targetPosition:r=void 0}=e;return t.$$set=s=>{e=Pe(Pe({},e),_t(s)),n(2,Xe(e,i)),"data"in s&&n(0,o=s.data),"targetPosition"in s&&n(1,r=s.targetPosition)},[o,r]}class ed extends he{constructor(e){super(),ge(this,e,$c,xc,ye,{data:0,targetPosition:1})}}const td=ed;function nd(t,e,n){const i=[];return Xe(e,i),t.$$set=o=>{e=Pe(Pe({},e),_t(o)),n(0,Xe(e,i))},[]}class id extends he{constructor(e){super(),ge(this,e,nd,null,ye,{})}}const od=id;function Ro(t,e,n){if(!e)return;const i=n?e.querySelector(n):e;i&&i.appendChild(t)}function rd(t,{target:e,domNode:n}){return Ro(t,n,e),{async update({target:i,domNode:o}){Ro(t,o,i)},destroy(){t.parentNode&&t.parentNode.removeChild(t)}}}function ld(t){let e,n,i,o,r;const s=t[3].default,l=ot(s,t,t[2],null);return{c(){e=Q("div"),l&&l.c()},l(a){e=x(a,"DIV",{});var u=q(e);l&&l.l(u),u.forEach(C)},m(a,u){J(a,e,u),l&&l.m(e,null),i=!0,o||(r=nt(n=rd.call(null,e,{target:".svelte-flow__edgelabel-renderer",domNode:t[0]})),o=!0)},p(a,[u]){l&&l.p&&(!i||u&4)&&rt(l,s,a,a[2],i?st(s,a[2],u,null):lt(a[2]),null),n&&Ue(n.update)&&u&1&&n.update.call(null,{target:".svelte-flow__edgelabel-renderer",domNode:a[0]})},i(a){i||(R(l,a),i=!0)},o(a){F(l,a),i=!1},d(a){a&&C(e),l&&l.d(a),o=!1,r()}}}function sd(t,e,n){let i,{$$slots:o={},$$scope:r}=e;const{domNode:s}=qe();return j(t,s,l=>n(0,i=l)),t.$$set=l=>{"$$scope"in l&&n(2,r=l.$$scope)},[i,s,r,o]}class ad extends he{constructor(e){super(),ge(this,e,sd,ld,ye,{})}}const ud=ad;function Tl(){const{edgeLookup:t,selectionRect:e,selectionRectMode:n,multiselectionKeyPressed:i,addSelectedEdges:o,unselectNodesAndEdges:r,elementsSelectable:s}=qe();return l=>{const a=ee(t).get(l);if(!a){console.warn("012",pn.error012(l));return}(a.selectable||ee(s)&&typeof a.selectable>"u")&&(e.set(null),n.set(null),a.selected?a.selected&&ee(i)&&r({nodes:[],edges:[a]}):o([l]))}}function fd(t){let e,n,i=`translate(-50%, -50%) translate(${t[1]}px,${t[2]}px)`,o,r,s;const l=t[5].default,a=ot(l,t,t[7],null);return{c(){e=Q("div"),a&&a.c(),this.h()},l(u){e=x(u,"DIV",{class:!0,style:!0,role:!0,tabindex:!0});var f=q(e);a&&a.l(f),f.forEach(C),this.h()},h(){p(e,"class","svelte-flow__edge-label"),p(e,"style",n="pointer-events: all;"+t[0]),p(e,"role","button"),p(e,"tabindex","-1"),me(e,"transform",i)},m(u,f){J(u,e,f),a&&a.m(e,null),o=!0,r||(s=[Se(e,"keyup",dd),Se(e,"click",t[6])],r=!0)},p(u,f){a&&a.p&&(!o||f&128)&&rt(a,l,u,u[7],o?st(l,u[7],f,null):lt(u[7]),null),(!o||f&1&&n!==(n="pointer-events: all;"+u[0]))&&p(e,"style",n);const c=f&1;(f&7&&i!==(i=`translate(-50%, -50%) translate(${u[1]}px,${u[2]}px)`)||c)&&me(e,"transform",i)},i(u){o||(R(a,u),o=!0)},o(u){F(a,u),o=!1},d(u){u&&C(e),a&&a.d(u),r=!1,mt(s)}}}function cd(t){let e,n;return e=new ud({props:{$$slots:{default:[fd]},$$scope:{ctx:t}}}),{c(){se(e.$$.fragment)},l(i){fe(e.$$.fragment,i)},m(i,o){ae(e,i,o),n=!0},p(i,[o]){const r={};o&135&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){F(e.$$.fragment,i),n=!1},d(i){ue(e,i)}}}const dd=()=>{};function hd(t,e,n){let{$$slots:i={},$$scope:o}=e,{style:r=void 0}=e,{x:s=void 0}=e,{y:l=void 0}=e;const a=Tl(),u=Vn("svelteflow__edge_id"),f=()=>{u&&a(u)};return t.$$set=c=>{"style"in c&&n(0,r=c.style),"x"in c&&n(1,s=c.x),"y"in c&&n(2,l=c.y),"$$scope"in c&&n(7,o=c.$$scope)},[r,s,l,a,u,i,f,o]}class gd extends he{constructor(e){super(),ge(this,e,hd,cd,ye,{style:0,x:1,y:2})}}const md=gd;function _d(t){let e;return{c(){e=Te("path"),this.h()},l(n){e=ze(n,"path",{d:!0,"stroke-opacity":!0,"stroke-width":!0,fill:!0,class:!0}),q(e).forEach(C),this.h()},h(){p(e,"d",t[1]),p(e,"stroke-opacity",0),p(e,"stroke-width",t[10]),p(e,"fill","none"),p(e,"class","svelte-flow__edge-interaction")},m(n,i){J(n,e,i)},p(n,i){i&2&&p(e,"d",n[1])},d(n){n&&C(e)}}}function Yo(t){let e,n;return e=new md({props:{x:t[3],y:t[4],style:t[5],$$slots:{default:[yd]},$$scope:{ctx:t}}}),{c(){se(e.$$.fragment)},l(i){fe(e.$$.fragment,i)},m(i,o){ae(e,i,o),n=!0},p(i,o){const r={};o&8&&(r.x=i[3]),o&16&&(r.y=i[4]),o&32&&(r.style=i[5]),o&4100&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){F(e.$$.fragment,i),n=!1},d(i){ue(e,i)}}}function yd(t){let e;return{c(){e=Ye(t[2])},l(n){e=Be(n,t[2])},m(n,i){J(n,e,i)},p(n,i){i&4&&We(e,n[2])},d(n){n&&C(e)}}}function bd(t){let e,n,i,o,r,s,l=t[10]&&_d(t),a=t[2]&&Yo(t);return{c(){e=Te("path"),i=ne(),l&&l.c(),o=ne(),a&&a.c(),r=Ie(),this.h()},l(u){e=ze(u,"path",{id:!0,d:!0,class:!0,"marker-start":!0,"marker-end":!0,fill:!0,style:!0}),q(e).forEach(C),i=ie(u),l&&l.l(u),o=ie(u),a&&a.l(u),r=Ie(),this.h()},h(){p(e,"id",t[0]),p(e,"d",t[1]),p(e,"class",n=Ae(["svelte-flow__edge-path",t[9]])),p(e,"marker-start",t[6]),p(e,"marker-end",t[7]),p(e,"fill","none"),p(e,"style",t[8])},m(u,f){J(u,e,f),J(u,i,f),l&&l.m(u,f),J(u,o,f),a&&a.m(u,f),J(u,r,f),s=!0},p(u,[f]){(!s||f&1)&&p(e,"id",u[0]),(!s||f&2)&&p(e,"d",u[1]),(!s||f&512&&n!==(n=Ae(["svelte-flow__edge-path",u[9]])))&&p(e,"class",n),(!s||f&64)&&p(e,"marker-start",u[6]),(!s||f&128)&&p(e,"marker-end",u[7]),(!s||f&256)&&p(e,"style",u[8]),u[10]&&l.p(u,f),u[2]?a?(a.p(u,f),f&4&&R(a,1)):(a=Yo(u),a.c(),R(a,1),a.m(r.parentNode,r)):a&&(Ge(),F(a,1,1,()=>{a=null}),Je())},i(u){s||(R(a),s=!0)},o(u){F(a),s=!1},d(u){u&&(C(e),C(i),C(o),C(r)),l&&l.d(u),a&&a.d(u)}}}function wd(t,e,n){let{id:i=void 0}=e,{path:o}=e,{label:r=void 0}=e,{labelX:s=void 0}=e,{labelY:l=void 0}=e,{labelStyle:a=void 0}=e,{markerStart:u=void 0}=e,{markerEnd:f=void 0}=e,{style:c=void 0}=e,{interactionWidth:d=20}=e,{class:h=void 0}=e,m=d===void 0?20:d;return t.$$set=_=>{"id"in _&&n(0,i=_.id),"path"in _&&n(1,o=_.path),"label"in _&&n(2,r=_.label),"labelX"in _&&n(3,s=_.labelX),"labelY"in _&&n(4,l=_.labelY),"labelStyle"in _&&n(5,a=_.labelStyle),"markerStart"in _&&n(6,u=_.markerStart),"markerEnd"in _&&n(7,f=_.markerEnd),"style"in _&&n(8,c=_.style),"interactionWidth"in _&&n(11,d=_.interactionWidth),"class"in _&&n(9,h=_.class)},[i,o,r,s,l,a,u,f,c,h,m,d]}class vd extends he{constructor(e){super(),ge(this,e,wd,bd,ye,{id:0,path:1,label:2,labelX:3,labelY:4,labelStyle:5,markerStart:6,markerEnd:7,style:8,interactionWidth:11,class:9})}}const ai=vd;function pd(t){let e,n;return e=new ai({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){se(e.$$.fragment)},l(i){fe(e.$$.fragment,i)},m(i,o){ae(e,i,o),n=!0},p(i,[o]){const r={};o&256&&(r.path=i[8]),o&128&&(r.labelX=i[7]),o&64&&(r.labelY=i[6]),o&1&&(r.label=i[0]),o&2&&(r.labelStyle=i[1]),o&8&&(r.markerStart=i[3]),o&16&&(r.markerEnd=i[4]),o&32&&(r.interactionWidth=i[5]),o&4&&(r.style=i[2]),e.$set(r)},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){F(e.$$.fragment,i),n=!1},d(i){ue(e,i)}}}function kd(t,e,n){let i,o,r;const s=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","sourcePosition","targetX","targetY","targetPosition"];Xe(e,s);let{label:l=void 0}=e,{labelStyle:a=void 0}=e,{style:u=void 0}=e,{markerStart:f=void 0}=e,{markerEnd:c=void 0}=e,{interactionWidth:d=void 0}=e,{sourceX:h}=e,{sourceY:m}=e,{sourcePosition:_}=e,{targetX:b}=e,{targetY:g}=e,{targetPosition:w}=e;return t.$$set=y=>{e=Pe(Pe({},e),_t(y)),n(15,Xe(e,s)),"label"in y&&n(0,l=y.label),"labelStyle"in y&&n(1,a=y.labelStyle),"style"in y&&n(2,u=y.style),"markerStart"in y&&n(3,f=y.markerStart),"markerEnd"in y&&n(4,c=y.markerEnd),"interactionWidth"in y&&n(5,d=y.interactionWidth),"sourceX"in y&&n(9,h=y.sourceX),"sourceY"in y&&n(10,m=y.sourceY),"sourcePosition"in y&&n(11,_=y.sourcePosition),"targetX"in y&&n(12,b=y.targetX),"targetY"in y&&n(13,g=y.targetY),"targetPosition"in y&&n(14,w=y.targetPosition)},t.$$.update=()=>{t.$$.dirty&32256&&n(8,[i,o,r]=_l({sourceX:h,sourceY:m,targetX:b,targetY:g,sourcePosition:_,targetPosition:w}),i,(n(7,o),n(9,h),n(10,m),n(12,b),n(13,g),n(11,_),n(14,w)),(n(6,r),n(9,h),n(10,m),n(12,b),n(13,g),n(11,_),n(14,w)))},[l,a,u,f,c,d,r,o,i,h,m,_,b,g,w]}class Ed extends he{constructor(e){super(),ge(this,e,kd,pd,ye,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,sourcePosition:11,targetX:12,targetY:13,targetPosition:14})}}const zl=Ed;function Sd(t){let e,n;return e=new ai({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){se(e.$$.fragment)},l(i){fe(e.$$.fragment,i)},m(i,o){ae(e,i,o),n=!0},p(i,[o]){const r={};o&256&&(r.path=i[8]),o&128&&(r.labelX=i[7]),o&64&&(r.labelY=i[6]),o&1&&(r.label=i[0]),o&2&&(r.labelStyle=i[1]),o&8&&(r.markerStart=i[3]),o&16&&(r.markerEnd=i[4]),o&32&&(r.interactionWidth=i[5]),o&4&&(r.style=i[2]),e.$set(r)},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){F(e.$$.fragment,i),n=!1},d(i){ue(e,i)}}}function Cd(t,e,n){let i,o,r;const s=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","sourcePosition","targetX","targetY","targetPosition"];Xe(e,s);let{label:l=void 0}=e,{labelStyle:a=void 0}=e,{style:u=void 0}=e,{markerStart:f=void 0}=e,{markerEnd:c=void 0}=e,{interactionWidth:d=void 0}=e,{sourceX:h}=e,{sourceY:m}=e,{sourcePosition:_}=e,{targetX:b}=e,{targetY:g}=e,{targetPosition:w}=e;return t.$$set=y=>{e=Pe(Pe({},e),_t(y)),n(15,Xe(e,s)),"label"in y&&n(0,l=y.label),"labelStyle"in y&&n(1,a=y.labelStyle),"style"in y&&n(2,u=y.style),"markerStart"in y&&n(3,f=y.markerStart),"markerEnd"in y&&n(4,c=y.markerEnd),"interactionWidth"in y&&n(5,d=y.interactionWidth),"sourceX"in y&&n(9,h=y.sourceX),"sourceY"in y&&n(10,m=y.sourceY),"sourcePosition"in y&&n(11,_=y.sourcePosition),"targetX"in y&&n(12,b=y.targetX),"targetY"in y&&n(13,g=y.targetY),"targetPosition"in y&&n(14,w=y.targetPosition)},t.$$.update=()=>{t.$$.dirty&32256&&n(8,[i,o,r]=Jn({sourceX:h,sourceY:m,targetX:b,targetY:g,sourcePosition:_,targetPosition:w}),i,(n(7,o),n(9,h),n(10,m),n(12,b),n(13,g),n(11,_),n(14,w)),(n(6,r),n(9,h),n(10,m),n(12,b),n(13,g),n(11,_),n(14,w)))},[l,a,u,f,c,d,r,o,i,h,m,_,b,g,w]}class Md extends he{constructor(e){super(),ge(this,e,Cd,Sd,ye,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,sourcePosition:11,targetX:12,targetY:13,targetPosition:14})}}const Nd=Md;function Pd(t){let e,n;return e=new ai({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){se(e.$$.fragment)},l(i){fe(e.$$.fragment,i)},m(i,o){ae(e,i,o),n=!0},p(i,[o]){const r={};o&256&&(r.path=i[8]),o&128&&(r.labelX=i[7]),o&64&&(r.labelY=i[6]),o&1&&(r.label=i[0]),o&2&&(r.labelStyle=i[1]),o&8&&(r.markerStart=i[3]),o&16&&(r.markerEnd=i[4]),o&32&&(r.interactionWidth=i[5]),o&4&&(r.style=i[2]),e.$set(r)},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){F(e.$$.fragment,i),n=!1},d(i){ue(e,i)}}}function Dd(t,e,n){let i,o,r;const s=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","targetX","targetY"];Xe(e,s);let{label:l=void 0}=e,{labelStyle:a=void 0}=e,{style:u=void 0}=e,{markerStart:f=void 0}=e,{markerEnd:c=void 0}=e,{interactionWidth:d=void 0}=e,{sourceX:h}=e,{sourceY:m}=e,{targetX:_}=e,{targetY:b}=e;return t.$$set=g=>{e=Pe(Pe({},e),_t(g)),n(13,Xe(e,s)),"label"in g&&n(0,l=g.label),"labelStyle"in g&&n(1,a=g.labelStyle),"style"in g&&n(2,u=g.style),"markerStart"in g&&n(3,f=g.markerStart),"markerEnd"in g&&n(4,c=g.markerEnd),"interactionWidth"in g&&n(5,d=g.interactionWidth),"sourceX"in g&&n(9,h=g.sourceX),"sourceY"in g&&n(10,m=g.sourceY),"targetX"in g&&n(11,_=g.targetX),"targetY"in g&&n(12,b=g.targetY)},t.$$.update=()=>{t.$$.dirty&7680&&n(8,[i,o,r]=bl({sourceX:h,sourceY:m,targetX:_,targetY:b}),i,(n(7,o),n(9,h),n(10,m),n(11,_),n(12,b)),(n(6,r),n(9,h),n(10,m),n(11,_),n(12,b)))},[l,a,u,f,c,d,r,o,i,h,m,_,b]}class Td extends he{constructor(e){super(),ge(this,e,Dd,Pd,ye,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,targetX:11,targetY:12})}}const zd=Td;function Od(t){let e,n;return e=new ai({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){se(e.$$.fragment)},l(i){fe(e.$$.fragment,i)},m(i,o){ae(e,i,o),n=!0},p(i,[o]){const r={};o&256&&(r.path=i[8]),o&128&&(r.labelX=i[7]),o&64&&(r.labelY=i[6]),o&1&&(r.label=i[0]),o&2&&(r.labelStyle=i[1]),o&8&&(r.markerStart=i[3]),o&16&&(r.markerEnd=i[4]),o&32&&(r.interactionWidth=i[5]),o&4&&(r.style=i[2]),e.$set(r)},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){F(e.$$.fragment,i),n=!1},d(i){ue(e,i)}}}function Id(t,e,n){let i,o,r;const s=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","sourcePosition","targetX","targetY","targetPosition"];Xe(e,s);let{label:l=void 0}=e,{labelStyle:a=void 0}=e,{style:u=void 0}=e,{markerStart:f=void 0}=e,{markerEnd:c=void 0}=e,{interactionWidth:d=void 0}=e,{sourceX:h}=e,{sourceY:m}=e,{sourcePosition:_}=e,{targetX:b}=e,{targetY:g}=e,{targetPosition:w}=e;return t.$$set=y=>{e=Pe(Pe({},e),_t(y)),n(15,Xe(e,s)),"label"in y&&n(0,l=y.label),"labelStyle"in y&&n(1,a=y.labelStyle),"style"in y&&n(2,u=y.style),"markerStart"in y&&n(3,f=y.markerStart),"markerEnd"in y&&n(4,c=y.markerEnd),"interactionWidth"in y&&n(5,d=y.interactionWidth),"sourceX"in y&&n(9,h=y.sourceX),"sourceY"in y&&n(10,m=y.sourceY),"sourcePosition"in y&&n(11,_=y.sourcePosition),"targetX"in y&&n(12,b=y.targetX),"targetY"in y&&n(13,g=y.targetY),"targetPosition"in y&&n(14,w=y.targetPosition)},t.$$.update=()=>{t.$$.dirty&32256&&n(8,[i,o,r]=Jn({sourceX:h,sourceY:m,targetX:b,targetY:g,sourcePosition:_,targetPosition:w,borderRadius:0}),i,(n(7,o),n(9,h),n(10,m),n(12,b),n(13,g),n(11,_),n(14,w)),(n(6,r),n(9,h),n(10,m),n(12,b),n(13,g),n(11,_),n(14,w)))},[l,a,u,f,c,d,r,o,i,h,m,_,b,g,w]}class Hd extends he{constructor(e){super(),ge(this,e,Id,Od,ye,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,sourcePosition:11,targetX:12,targetY:13,targetPosition:14})}}const Ad=Hd;function Vd(t,e){const n=t.set,i=e.set,o=ee(t),r=ee(e);let l=o.length===0&&r.length>0?r:o;t.set(l);const a=u=>{const f=n(u);return l=f,i(l),f};t.set=e.set=a,t.update=e.update=u=>a(u(l))}function Ld(t,e){const n=t.set,i=e.set;let o=ee(e);t.set(o);const r=s=>{n(s),i(s),o=s};t.set=e.set=r,t.update=e.update=s=>r(s(o))}const Xd=(t,e,n)=>{if(!n)return;const i=ee(t),o=e.set,r=n.set;let s=n?ee(n):{x:0,y:0,zoom:1};e.set(s),e.set=l=>(o(l),r(l),s=l,l),n.set=l=>(i==null||i.syncViewport(l),o(l),r(l),s=l,l),e.update=l=>{e.set(l(s))},n.update=l=>{n.set(l(s))}},Rd=(t,e,n,i=[0,0],o=qn)=>{const{subscribe:r,set:s,update:l}=le([]);let a=t,u={},f=!0;const c=_=>(wl(_,e,n,{elevateNodesOnSelect:f,nodeOrigin:i,nodeExtent:o,defaults:u,checkEquality:!1}),a=_,s(a),a),d=_=>c(_(a)),h=_=>{u=_},m=_=>{f=_.elevateNodesOnSelect??f};return c(a),{subscribe:r,set:c,update:d,setDefaultOptions:h,setOptions:m}},Yd=(t,e,n,i)=>{const{subscribe:o,set:r,update:s}=le([]);let l=t,a=i||{};const u=d=>{const h=a?d.map(m=>({...a,...m})):d;pl(e,n,h),l=h,r(l)},f=d=>u(d(l)),c=d=>{a=d};return u(l),{subscribe:o,set:u,update:f,setDefaultOptions:c}},Ol={input:Qc,output:td,default:Dl,group:od},Il={straight:zd,smoothstep:Nd,default:zl,step:Ad},Bd=({nodes:t=[],edges:e=[],width:n,height:i,fitView:o,nodeOrigin:r,nodeExtent:s})=>{const l=new Map,a=new Map,u=new Map,f=new Map,c=r??[0,0],d=s??qn;wl(t,l,a,{nodeExtent:d,nodeOrigin:c,elevateNodesOnSelect:!1,checkEquality:!1}),pl(u,f,e);let h={x:0,y:0,zoom:1};if(o&&n&&i){const m=oi(l,{filter:_=>!!((_.width||_.initialWidth)&&(_.height||_.initialHeight))});h=gl(m,n,i,.5,2,.1)}return{flowId:le(null),nodes:Rd(t,l,a,c,d),nodeLookup:dt(l),parentLookup:dt(a),edgeLookup:dt(f),visibleNodes:dt([]),edges:Yd(e,u,f),visibleEdges:dt([]),connectionLookup:dt(u),height:le(500),width:le(500),minZoom:le(.5),maxZoom:le(2),nodeOrigin:le(c),nodeDragThreshold:le(1),nodeExtent:le(d),translateExtent:le(qn),autoPanOnNodeDrag:le(!0),autoPanOnConnect:le(!0),fitViewOnInit:le(!1),fitViewOnInitDone:le(!1),fitViewOptions:le(void 0),panZoom:le(null),snapGrid:le(null),dragging:le(!1),selectionRect:le(null),selectionKeyPressed:le(!1),multiselectionKeyPressed:le(!1),deleteKeyPressed:le(!1),panActivationKeyPressed:le(!1),zoomActivationKeyPressed:le(!1),selectionRectMode:le(null),selectionMode:le(Zn.Partial),nodeTypes:le(Ol),edgeTypes:le(Il),viewport:le(h),connectionMode:le(Kt.Strict),domNode:le(null),connection:dt(Pi),connectionLineType:le(xt.Bezier),connectionRadius:le(20),isValidConnection:le(()=>!0),nodesDraggable:le(!0),nodesConnectable:le(!0),elementsSelectable:le(!0),selectNodesOnDrag:le(!0),markers:dt([]),defaultMarkerColor:le("#b1b1b7"),lib:dt("svelte"),onlyRenderVisibleElements:le(!1),onerror:le(ic),ondelete:le(void 0),onedgecreate:le(void 0),onconnect:le(void 0),onconnectstart:le(void 0),onconnectend:le(void 0),onbeforedelete:le(void 0),nodesInitialized:le(!1),edgesInitialized:le(!1),viewportInitialized:le(!1),initialized:dt(!1)}};function Wd(t){const e=Jt([t.edges,t.nodes,t.nodeLookup,t.onlyRenderVisibleElements,t.viewport,t.width,t.height],([n,,i,o,r,s,l])=>o&&s&&l?n.filter(u=>{const f=i.get(u.source),c=i.get(u.target);return f&&c&&fc({sourceNode:f,targetNode:c,width:s,height:l,transform:[r.x,r.y,r.zoom]})}):n);return Jt([e,t.nodes,t.nodeLookup,t.connectionMode,t.onerror],([n,,i,o,r])=>n.reduce((l,a)=>{const u=i.get(a.source),f=i.get(a.target);if(!u||!f)return l;const c=yc({id:a.id,sourceNode:u,targetNode:f,sourceHandle:a.sourceHandle||null,targetHandle:a.targetHandle||null,connectionMode:o,onError:r});return c&&l.push({...a,zIndex:uc({selected:a.selected,zIndex:a.zIndex,sourceNode:u,targetNode:f,elevateOnSelect:!1}),...c}),l},[]))}function Kd(t){return Jt([t.nodeLookup,t.onlyRenderVisibleElements,t.width,t.height,t.viewport,t.nodes],([e,n,i,o,r])=>{const s=[r.x,r.y,r.zoom];return n?cl(e,{x:0,y:0,width:i,height:o},s,!0):Array.from(e.values())})}const ji=Symbol();function Fd({nodes:t,edges:e,width:n,height:i,fitView:o,nodeOrigin:r,nodeExtent:s}){const l=Bd({nodes:t,edges:e,width:n,height:i,fitView:o,nodeOrigin:r,nodeExtent:s});function a(v){l.nodeTypes.set({...Ol,...v})}function u(v){l.edgeTypes.set({...Il,...v})}function f(v){const N=ee(l.edges);l.edges.set(hc(v,N))}const c=(v,N=!1)=>{var I;const O=ee(l.nodeLookup);for(const[W,U]of v){const $=(I=O.get(W))==null?void 0:I.internals.userNode;$&&($.position=U.position,$.dragging=N)}l.nodes.update(W=>W)};function d(v){var U,$,oe;const N=ee(l.nodeLookup),O=ee(l.parentLookup),{changes:I,updatedInternals:W}=Sc(v,N,ee(l.parentLookup),ee(l.domNode),ee(l.nodeOrigin));if(W){if(vc(N,O,{nodeOrigin:r,nodeExtent:s}),!ee(l.fitViewOnInitDone)&&ee(l.fitViewOnInit)){const H=ee(l.fitViewOptions),te=m({...H,nodes:H==null?void 0:H.nodes});l.fitViewOnInitDone.set(te)}for(const H of I){const te=(U=N.get(H.id))==null?void 0:U.internals.userNode;if(te)switch(H.type){case"dimensions":{const re={...te.measured,...H.dimensions};H.setAttributes&&(te.width=(($=H.dimensions)==null?void 0:$.width)??te.width,te.height=((oe=H.dimensions)==null?void 0:oe.height)??te.height),te.measured=re;break}case"position":te.position=H.position??te.position;break}}l.nodes.update(H=>H),ee(l.nodesInitialized)||l.nodesInitialized.set(!0)}}function h(v){const N=ee(l.panZoom),O=ee(l.domNode);if(!N||!O)return Promise.resolve(!1);const{width:I,height:W}=Zi(O),U=Co(ee(l.nodeLookup),v);return Mo({nodes:U,width:I,height:W,minZoom:ee(l.minZoom),maxZoom:ee(l.maxZoom),panZoom:N},v)}function m(v){const N=ee(l.panZoom);if(!N)return!1;const O=Co(ee(l.nodeLookup),v);return Mo({nodes:O,width:ee(l.width),height:ee(l.height),minZoom:ee(l.minZoom),maxZoom:ee(l.maxZoom),panZoom:N},v),O.size>0}function _(v,N){const O=ee(l.panZoom);return O?O.scaleBy(v,N):Promise.resolve(!1)}function b(v){return _(1.2,v)}function g(v){return _(1/1.2,v)}function w(v){const N=ee(l.panZoom);N&&(N.setScaleExtent([v,ee(l.maxZoom)]),l.minZoom.set(v))}function y(v){const N=ee(l.panZoom);N&&(N.setScaleExtent([ee(l.minZoom),v]),l.maxZoom.set(v))}function E(v){const N=ee(l.panZoom);N&&(N.setTranslateExtent(v),l.translateExtent.set(v))}function S(v){let N=!1;return v.forEach(O=>{O.selected&&(O.selected=!1,N=!0)}),N}function T(v){var N;(N=ee(l.panZoom))==null||N.setClickDistance(v)}function V(v){S((v==null?void 0:v.nodes)||ee(l.nodes))&&l.nodes.set(ee(l.nodes)),S((v==null?void 0:v.edges)||ee(l.edges))&&l.edges.set(ee(l.edges))}l.deleteKeyPressed.subscribe(async v=>{var N;if(v){const O=ee(l.nodes),I=ee(l.edges),W=O.filter(H=>H.selected),U=I.filter(H=>H.selected),{nodes:$,edges:oe}=await tc({nodesToRemove:W,edgesToRemove:U,nodes:O,edges:I,onBeforeDelete:ee(l.onbeforedelete)});($.length||oe.length)&&(l.nodes.update(H=>H.filter(te=>!$.some(re=>re.id===te.id))),l.edges.update(H=>H.filter(te=>!oe.some(re=>re.id===te.id))),(N=ee(l.ondelete))==null||N({nodes:$,edges:oe}))}});function L(v){const N=ee(l.multiselectionKeyPressed);l.nodes.update(O=>O.map(I=>{const W=v.includes(I.id),U=N&&I.selected||W;return I.selected=U,I})),N||l.edges.update(O=>O.map(I=>(I.selected=!1,I)))}function D(v){const N=ee(l.multiselectionKeyPressed);l.edges.update(O=>O.map(I=>{const W=v.includes(I.id),U=N&&I.selected||W;return I.selected=U,I})),N||l.nodes.update(O=>O.map(I=>(I.selected=!1,I)))}function Y(v){var O;const N=(O=ee(l.nodes))==null?void 0:O.find(I=>I.id===v);if(!N){console.warn("012",pn.error012(v));return}l.selectionRect.set(null),l.selectionRectMode.set(null),N.selected?N.selected&&ee(l.multiselectionKeyPressed)&&V({nodes:[N],edges:[]}):L([v])}function G(v){const N=ee(l.viewport);return Cc({delta:v,panZoom:ee(l.panZoom),transform:[N.x,N.y,N.zoom],translateExtent:ee(l.translateExtent),width:ee(l.width),height:ee(l.height)})}const B=le(Pi),Z=v=>{B.set({...v})};function k(){B.set(Pi)}function A(){l.fitViewOnInitDone.set(!1),l.selectionRect.set(null),l.selectionRectMode.set(null),l.snapGrid.set(null),l.isValidConnection.set(()=>!0),V(),k()}return{...l,visibleEdges:Wd(l),visibleNodes:Kd(l),connection:Jt([B,l.viewport],([v,N])=>v.inProgress?{...v,to:li(v.to,[N.x,N.y,N.zoom])}:{...v}),markers:Jt([l.edges,l.defaultMarkerColor,l.flowId],([v,N,O])=>bc(v,{defaultColor:N,id:O})),initialized:(()=>{let v=!1;const N=ee(l.nodes).length,O=ee(l.edges).length;return Jt([l.nodesInitialized,l.edgesInitialized,l.viewportInitialized],([I,W,U])=>v||(N===0?v=U:O===0?v=U&&I:v=U&&I&&W,v))})(),syncNodeStores:v=>Vd(l.nodes,v),syncEdgeStores:v=>Ld(l.edges,v),syncViewport:v=>Xd(l.panZoom,l.viewport,v),setNodeTypes:a,setEdgeTypes:u,addEdge:f,updateNodePositions:c,updateNodeInternals:d,zoomIn:b,zoomOut:g,fitView:v=>h(v),setMinZoom:w,setMaxZoom:y,setTranslateExtent:E,setPaneClickDistance:T,unselectNodesAndEdges:V,addSelectedNodes:L,addSelectedEdges:D,handleNodeSelection:Y,panBy:G,updateConnection:Z,cancelConnection:k,reset:A}}function qe(){const t=Vn(ji);if(!t)throw new Error("In order to use useStore you need to wrap your component in a <SvelteFlowProvider />");return t.getStore()}function qd({nodes:t,edges:e,width:n,height:i,fitView:o,nodeOrigin:r,nodeExtent:s}){const l=Fd({nodes:t,edges:e,width:n,height:i,fitView:o,nodeOrigin:r,nodeExtent:s});return Ln(ji,{getStore:()=>l}),l}function Zd(t,e){const{panZoom:n,minZoom:i,maxZoom:o,initialViewport:r,viewport:s,dragging:l,translateExtent:a,paneClickDistance:u}=e,f=Bc({domNode:t,minZoom:i,maxZoom:o,translateExtent:a,viewport:r,paneClickDistance:u,onDraggingChange:l.set}),c=f.getViewport();return s.set(c),n.set(f),f.update(e),{update(d){f.update(d)}}}function Ud(t){let e,n,i,o,r;const s=t[35].default,l=ot(s,t,t[34],null);return{c(){e=Q("div"),l&&l.c(),this.h()},l(a){e=x(a,"DIV",{class:!0});var u=q(e);l&&l.l(u),u.forEach(C),this.h()},h(){p(e,"class","svelte-flow__zoom svelte-4xkw84")},m(a,u){J(a,e,u),l&&l.m(e,null),i=!0,o||(r=nt(n=Zd.call(null,e,{viewport:t[18],minZoom:t[12],maxZoom:t[13],initialViewport:t[11],dragging:t[23],panZoom:t[19],onPanZoomStart:t[0],onPanZoom:t[1],onPanZoomEnd:t[2],zoomOnScroll:t[5],zoomOnDoubleClick:t[6],zoomOnPinch:t[7],panOnScroll:t[9],panOnDrag:t[10],panOnScrollSpeed:.5,panOnScrollMode:t[3]||kt.Free,zoomActivationKeyPressed:t[14],preventScrolling:typeof t[4]=="boolean"?t[4]:!0,noPanClassName:"nopan",noWheelClassName:"nowheel",userSelectionActive:!!t[15],translateExtent:t[16],lib:t[17],paneClickDistance:t[8],onTransformChange:t[29]})),o=!0)},p(a,u){l&&l.p&&(!i||u[1]&8)&&rt(l,s,a,a[34],i?st(s,a[34],u,null):lt(a[34]),null),n&&Ue(n.update)&&u[0]&262143&&n.update.call(null,{viewport:a[18],minZoom:a[12],maxZoom:a[13],initialViewport:a[11],dragging:a[23],panZoom:a[19],onPanZoomStart:a[0],onPanZoom:a[1],onPanZoomEnd:a[2],zoomOnScroll:a[5],zoomOnDoubleClick:a[6],zoomOnPinch:a[7],panOnScroll:a[9],panOnDrag:a[10],panOnScrollSpeed:.5,panOnScrollMode:a[3]||kt.Free,zoomActivationKeyPressed:a[14],preventScrolling:typeof a[4]=="boolean"?a[4]:!0,noPanClassName:"nopan",noWheelClassName:"nowheel",userSelectionActive:!!a[15],translateExtent:a[16],lib:a[17],paneClickDistance:a[8],onTransformChange:a[29]})},i(a){i||(R(l,a),i=!0)},o(a){F(l,a),i=!1},d(a){a&&C(e),l&&l.d(a),o=!1,r()}}}function Gd(t,e,n){let i,o,r,s,l,a,u,f,c,d,h,{$$slots:m={},$$scope:_}=e,{initialViewport:b=void 0}=e,{onMoveStart:g=void 0}=e,{onMove:w=void 0}=e,{onMoveEnd:y=void 0}=e,{panOnScrollMode:E}=e,{preventScrolling:S}=e,{zoomOnScroll:T}=e,{zoomOnDoubleClick:V}=e,{zoomOnPinch:L}=e,{panOnDrag:D}=e,{panOnScroll:Y}=e,{paneClickDistance:G}=e;const{viewport:B,panZoom:Z,selectionRect:k,minZoom:A,maxZoom:v,dragging:N,translateExtent:O,lib:I,panActivationKeyPressed:W,zoomActivationKeyPressed:U,viewportInitialized:$}=qe();j(t,k,H=>n(15,c=H)),j(t,A,H=>n(12,a=H)),j(t,v,H=>n(13,u=H)),j(t,O,H=>n(16,d=H)),j(t,I,H=>n(17,h=H)),j(t,W,H=>n(33,l=H)),j(t,U,H=>n(14,f=H)),j(t,$,H=>n(36,s=H));const oe=H=>B.set({x:H[0],y:H[1],zoom:H[2]});return Qn(()=>{Rt($,s=!0,s)}),t.$$set=H=>{"initialViewport"in H&&n(30,b=H.initialViewport),"onMoveStart"in H&&n(0,g=H.onMoveStart),"onMove"in H&&n(1,w=H.onMove),"onMoveEnd"in H&&n(2,y=H.onMoveEnd),"panOnScrollMode"in H&&n(3,E=H.panOnScrollMode),"preventScrolling"in H&&n(4,S=H.preventScrolling),"zoomOnScroll"in H&&n(5,T=H.zoomOnScroll),"zoomOnDoubleClick"in H&&n(6,V=H.zoomOnDoubleClick),"zoomOnPinch"in H&&n(7,L=H.zoomOnPinch),"panOnDrag"in H&&n(31,D=H.panOnDrag),"panOnScroll"in H&&n(32,Y=H.panOnScroll),"paneClickDistance"in H&&n(8,G=H.paneClickDistance),"$$scope"in H&&n(34,_=H.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&1073741824&&n(11,i=b||{x:0,y:0,zoom:1}),t.$$.dirty[1]&5&&n(10,o=l||D),t.$$.dirty[1]&6&&n(9,r=l||Y)},[g,w,y,E,S,T,V,L,G,r,o,i,a,u,f,c,d,h,B,Z,k,A,v,N,O,I,W,U,$,oe,b,D,Y,l,_,m]}class Jd extends he{constructor(e){super(),ge(this,e,Gd,Ud,ye,{initialViewport:30,onMoveStart:0,onMove:1,onMoveEnd:2,panOnScrollMode:3,preventScrolling:4,zoomOnScroll:5,zoomOnDoubleClick:6,zoomOnPinch:7,panOnDrag:31,panOnScroll:32,paneClickDistance:8},null,[-1,-1])}}const jd=Jd;function Qd(t){let e,n,i,o;const r=t[28].default,s=ot(r,t,t[27],null);return{c(){e=Q("div"),s&&s.c(),this.h()},l(l){e=x(l,"DIV",{class:!0});var a=q(e);s&&s.l(a),a.forEach(C),this.h()},h(){p(e,"class","svelte-flow__pane svelte-1esy7hx"),de(e,"draggable",t[0]===!0||Array.isArray(t[0])&&t[0].includes(0)),de(e,"dragging",t[4]),de(e,"selection",t[1])},m(l,a){J(l,e,a),s&&s.m(e,null),t[29](e),n=!0,i||(o=[Se(e,"click",function(){Ue(t[3]?void 0:zn(t[15],t[2]))&&(t[3]?void 0:zn(t[15],t[2])).apply(this,arguments)}),Se(e,"pointerdown",function(){Ue(t[3]?t[16]:void 0)&&(t[3]?t[16]:void 0).apply(this,arguments)}),Se(e,"pointermove",function(){Ue(t[3]?t[17]:void 0)&&(t[3]?t[17]:void 0).apply(this,arguments)}),Se(e,"pointerup",function(){Ue(t[3]?t[18]:void 0)&&(t[3]?t[18]:void 0).apply(this,arguments)}),Se(e,"contextmenu",function(){Ue(zn(t[19],t[2]))&&zn(t[19],t[2]).apply(this,arguments)})],i=!0)},p(l,a){t=l,s&&s.p&&(!n||a[0]&134217728)&&rt(s,r,t,t[27],n?st(r,t[27],a,null):lt(t[27]),null),(!n||a[0]&1)&&de(e,"draggable",t[0]===!0||Array.isArray(t[0])&&t[0].includes(0)),(!n||a[0]&16)&&de(e,"dragging",t[4]),(!n||a[0]&2)&&de(e,"selection",t[1])},i(l){n||(R(s,l),n=!0)},o(l){F(s,l),n=!1},d(l){l&&C(e),s&&s.d(l),t[29](null),i=!1,mt(o)}}}function zn(t,e){return n=>{n.target===e&&(t==null||t(n))}}function Bo(t){return e=>{const n=t.includes(e.id);return e.selected!==n&&(e.selected=n),e}}function xd(t,e,n){let i,o,r,s,l,a,u,f,c,d,h,m,_,{$$slots:b={},$$scope:g}=e,{panOnDrag:w=void 0}=e,{selectionOnDrag:y=void 0}=e;const E=xn(),{nodes:S,nodeLookup:T,edges:V,viewport:L,dragging:D,elementsSelectable:Y,selectionRect:G,selectionRectMode:B,selectionKeyPressed:Z,selectionMode:k,panActivationKeyPressed:A,unselectNodesAndEdges:v}=qe();j(t,T,z=>n(36,c=z)),j(t,V,z=>n(33,a=z)),j(t,L,z=>n(35,f=z)),j(t,D,z=>n(4,_=z)),j(t,Y,z=>n(25,h=z)),j(t,G,z=>n(24,d=z)),j(t,B,z=>n(23,l=z)),j(t,Z,z=>n(22,s=z)),j(t,k,z=>n(34,u=z)),j(t,A,z=>n(26,m=z));let N,O=null,I=[],W=!1;function U(z){if(W){W=!1;return}E("paneclick",{event:z}),v(),B.set(null)}function $(z){var be,ve;if(O=N.getBoundingClientRect(),!Y||!o||z.button!==0||z.target!==N||!O)return;(ve=(be=z.target)==null?void 0:be.setPointerCapture)==null||ve.call(be,z.pointerId);const{x:ce,y:we}=Dt(z,O);v(),G.set({width:0,height:0,startX:ce,startY:we,x:ce,y:we})}function oe(z){if(!o||!O||!d)return;W=!0;const ce=Dt(z,O),we=d.startX??0,be=d.startY??0,ve={...d,x:ce.x<we?ce.x:we,y:ce.y<be?ce.y:be,width:Math.abs(ce.x-we),height:Math.abs(ce.y-be)},Ee=I.map(Me=>Me.id),He=Di(I,a).map(Me=>Me.id);I=cl(c,ve,[f.x,f.y,f.zoom],u===Zn.Partial,!0);const K=Di(I,a).map(Me=>Me.id),De=I.map(Me=>Me.id);(Ee.length!==De.length||De.some(Me=>!Ee.includes(Me)))&&S.update(Me=>Me.map(Bo(De))),(He.length!==K.length||K.some(Me=>!He.includes(Me)))&&V.update(Me=>Me.map(Bo(K))),B.set("user"),G.set(ve)}function H(z){var ce,we;z.button===0&&((we=(ce=z.target)==null?void 0:ce.releasePointerCapture)==null||we.call(ce,z.pointerId),!o&&l==="user"&&z.target===N&&(U==null||U(z)),G.set(null),I.length>0&&Rt(B,l="nodes",l),s&&(W=!1))}const te=z=>{if(Array.isArray(i)&&(i!=null&&i.includes(2))){z.preventDefault();return}E("panecontextmenu",{event:z})};function re(z){Ii[z?"unshift":"push"](()=>{N=z,n(2,N)})}return t.$$set=z=>{"panOnDrag"in z&&n(0,w=z.panOnDrag),"selectionOnDrag"in z&&n(20,y=z.selectionOnDrag),"$$scope"in z&&n(27,g=z.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&67108865&&n(21,i=m||w),t.$$.dirty[0]&24117248&&n(1,o=s||d||y&&i!==!0),t.$$.dirty[0]&41943042&&n(3,r=h&&(o||l==="user"))},[w,o,N,r,_,T,V,L,D,Y,G,B,Z,k,A,U,$,oe,H,te,y,i,s,l,d,h,m,g,b,re]}class $d extends he{constructor(e){super(),ge(this,e,xd,Qd,ye,{panOnDrag:0,selectionOnDrag:20},null,[-1,-1])}}const eh=$d;function th(t){let e,n;const i=t[3].default,o=ot(i,t,t[2],null);return{c(){e=Q("div"),o&&o.c(),this.h()},l(r){e=x(r,"DIV",{class:!0,style:!0});var s=q(e);o&&o.l(s),s.forEach(C),this.h()},h(){p(e,"class","svelte-flow__viewport xyflow__viewport svelte-1floaup"),me(e,"transform","translate("+t[0].x+"px, "+t[0].y+"px) scale("+t[0].zoom+")")},m(r,s){J(r,e,s),o&&o.m(e,null),n=!0},p(r,[s]){o&&o.p&&(!n||s&4)&&rt(o,i,r,r[2],n?st(i,r[2],s,null):lt(r[2]),null),(!n||s&1)&&me(e,"transform","translate("+r[0].x+"px, "+r[0].y+"px) scale("+r[0].zoom+")")},i(r){n||(R(o,r),n=!0)},o(r){F(o,r),n=!1},d(r){r&&C(e),o&&o.d(r)}}}function nh(t,e,n){let i,{$$slots:o={},$$scope:r}=e;const{viewport:s}=qe();return j(t,s,l=>n(0,i=l)),t.$$set=l=>{"$$scope"in l&&n(2,r=l.$$scope)},[i,s,r,o]}class ih extends he{constructor(e){super(),ge(this,e,nh,th,ye,{})}}const oh=ih;function Hl(t,e){const{store:n,onDrag:i,onDragStart:o,onDragStop:r,onNodeMouseDown:s}=e,l=Nc({onDrag:i,onDragStart:o,onDragStop:r,onNodeMouseDown:s,getStoreItems:()=>{const u=ee(n.snapGrid),f=ee(n.viewport);return{nodes:ee(n.nodes),nodeLookup:ee(n.nodeLookup),edges:ee(n.edges),nodeExtent:ee(n.nodeExtent),snapGrid:u||[0,0],snapToGrid:!!u,nodeOrigin:ee(n.nodeOrigin),multiSelectionActive:ee(n.multiselectionKeyPressed),domNode:ee(n.domNode),transform:[f.x,f.y,f.zoom],autoPanOnNodeDrag:ee(n.autoPanOnNodeDrag),nodesDraggable:ee(n.nodesDraggable),selectNodesOnDrag:ee(n.selectNodesOnDrag),nodeDragThreshold:ee(n.nodeDragThreshold),unselectNodesAndEdges:n.unselectNodesAndEdges,updateNodePositions:n.updateNodePositions,panBy:n.panBy}}});function a(u,f){if(f.disabled){l.destroy();return}l.update({domNode:u,noDragClassName:f.noDragClass,handleSelector:f.handleSelector,nodeId:f.nodeId,isSelectable:f.isSelectable,nodeClickDistance:f.nodeClickDistance})}return a(t,e),{update(u){a(t,u)},destroy(){l.destroy()}}}function rh({width:t,height:e,initialWidth:n,initialHeight:i,measuredWidth:o,measuredHeight:r}){if(o===void 0&&r===void 0){const s=t??n,l=e??i;return{width:s?`width:${s}px;`:"",height:l?`height:${l}px;`:""}}return{width:t?`width:${t}px;`:"",height:e?`height:${e}px;`:""}}function Wo(t){let e,n,i,o,r,s=`translate(${t[12]}px, ${t[13]}px)`,l,a,u;var f=t[27];function c(d,h){return{props:{data:d[2],id:d[1],selected:d[3]??!1,selectable:d[5]??d[28]??!0,deletable:d[7]??!0,sourcePosition:d[14],targetPosition:d[15],zIndex:d[16],dragging:d[9],draggable:d[4]??d[29]??!0,dragHandle:d[19],parentId:d[21],type:d[25],isConnectable:d[30],positionAbsoluteX:d[12],positionAbsoluteY:d[13],width:d[17],height:d[18]}}}return f&&(n=Xn(f,c(t))),{c(){e=Q("div"),n&&se(n.$$.fragment),this.h()},l(d){e=x(d,"DIV",{"data-id":!0,class:!0,style:!0});var h=q(e);n&&fe(n.$$.fragment,h),h.forEach(C),this.h()},h(){p(e,"data-id",t[1]),p(e,"class",i=Ae(["svelte-flow__node",`svelte-flow__node-${t[25]}`,t[23]])),p(e,"style",o=(t[10]??"")+";"+t[26].width+t[26].height),de(e,"dragging",t[9]),de(e,"selected",t[3]),de(e,"draggable",t[4]),de(e,"connectable",t[6]),de(e,"selectable",t[5]),de(e,"nopan",t[4]),de(e,"parent",t[11]),me(e,"z-index",t[16]),me(e,"transform",s),me(e,"visibility",t[20]?"visible":"hidden")},m(d,h){J(d,e,h),n&&ae(n,e,null),t[54](e),l=!0,a||(u=[nt(r=Hl.call(null,e,{nodeId:t[1],isSelectable:t[5],disabled:!1,handleSelector:t[19],noDragClass:"nodrag",nodeClickDistance:t[22],onNodeMouseDown:t[33],onDrag:t[51],onDragStart:t[52],onDragStop:t[53],store:t[31]})),Se(e,"click",t[38]),Se(e,"mouseenter",t[55]),Se(e,"mouseleave",t[56]),Se(e,"mousemove",t[57]),Se(e,"contextmenu",t[58])],a=!0)},p(d,h){if(h[0]&134217728&&f!==(f=d[27])){if(n){Ge();const _=n;F(_.$$.fragment,1,0,()=>{ue(_,1)}),Je()}f?(n=Xn(f,c(d)),se(n.$$.fragment),R(n.$$.fragment,1),ae(n,e,null)):n=null}else if(f){const _={};h[0]&4&&(_.data=d[2]),h[0]&2&&(_.id=d[1]),h[0]&8&&(_.selected=d[3]??!1),h[0]&268435488&&(_.selectable=d[5]??d[28]??!0),h[0]&128&&(_.deletable=d[7]??!0),h[0]&16384&&(_.sourcePosition=d[14]),h[0]&32768&&(_.targetPosition=d[15]),h[0]&65536&&(_.zIndex=d[16]),h[0]&512&&(_.dragging=d[9]),h[0]&536870928&&(_.draggable=d[4]??d[29]??!0),h[0]&524288&&(_.dragHandle=d[19]),h[0]&2097152&&(_.parentId=d[21]),h[0]&33554432&&(_.type=d[25]),h[0]&1073741824&&(_.isConnectable=d[30]),h[0]&4096&&(_.positionAbsoluteX=d[12]),h[0]&8192&&(_.positionAbsoluteY=d[13]),h[0]&131072&&(_.width=d[17]),h[0]&262144&&(_.height=d[18]),n.$set(_)}(!l||h[0]&2)&&p(e,"data-id",d[1]),(!l||h[0]&41943040&&i!==(i=Ae(["svelte-flow__node",`svelte-flow__node-${d[25]}`,d[23]])))&&p(e,"class",i),(!l||h[0]&67109888&&o!==(o=(d[10]??"")+";"+d[26].width+d[26].height))&&p(e,"style",o),r&&Ue(r.update)&&h[0]&4718626&&r.update.call(null,{nodeId:d[1],isSelectable:d[5],disabled:!1,handleSelector:d[19],noDragClass:"nodrag",nodeClickDistance:d[22],onNodeMouseDown:d[33],onDrag:d[51],onDragStart:d[52],onDragStop:d[53],store:d[31]}),(!l||h[0]&41943552)&&de(e,"dragging",d[9]),(!l||h[0]&41943048)&&de(e,"selected",d[3]),(!l||h[0]&41943056)&&de(e,"draggable",d[4]),(!l||h[0]&41943104)&&de(e,"connectable",d[6]),(!l||h[0]&41943072)&&de(e,"selectable",d[5]),(!l||h[0]&41943056)&&de(e,"nopan",d[4]),(!l||h[0]&41945088)&&de(e,"parent",d[11]);const m=h[0]&67109888;(h[0]&67175424||m)&&me(e,"z-index",d[16]),(h[0]&67122176&&s!==(s=`translate(${d[12]}px, ${d[13]}px)`)||m)&&me(e,"transform",s),(h[0]&68158464||m)&&me(e,"visibility",d[20]?"visible":"hidden")},i(d){l||(n&&R(n.$$.fragment,d),l=!0)},o(d){n&&F(n.$$.fragment,d),l=!1},d(d){d&&C(e),n&&ue(n),t[54](null),a=!1,mt(u)}}}function lh(t){let e,n,i=!t[8]&&Wo(t);return{c(){i&&i.c(),e=Ie()},l(o){i&&i.l(o),e=Ie()},m(o,r){i&&i.m(o,r),J(o,e,r),n=!0},p(o,r){o[8]?i&&(Ge(),F(i,1,1,()=>{i=null}),Je()):i?(i.p(o,r),r[0]&256&&R(i,1)):(i=Wo(o),i.c(),R(i,1),i.m(e.parentNode,e))},i(o){n||(R(i),n=!0)},o(o){F(i),n=!1},d(o){o&&C(e),i&&i.d(o)}}}function sh(t,e,n){let i,o,r,s,l,a,u,f,{node:c}=e,{id:d}=e,{data:h={}}=e,{selected:m=!1}=e,{draggable:_=void 0}=e,{selectable:b=void 0}=e,{connectable:g=!0}=e,{deletable:w=!0}=e,{hidden:y=!1}=e,{dragging:E=!1}=e,{resizeObserver:S=null}=e,{style:T=void 0}=e,{type:V="default"}=e,{isParent:L=!1}=e,{positionX:D}=e,{positionY:Y}=e,{sourcePosition:G=void 0}=e,{targetPosition:B=void 0}=e,{zIndex:Z}=e,{measuredWidth:k=void 0}=e,{measuredHeight:A=void 0}=e,{initialWidth:v=void 0}=e,{initialHeight:N=void 0}=e,{width:O=void 0}=e,{height:I=void 0}=e,{dragHandle:W=void 0}=e,{initialized:U=!1}=e,{parentId:$=void 0}=e,{nodeClickDistance:oe=void 0}=e,{class:H=""}=e;const te=qe(),{nodeTypes:re,nodeDragThreshold:z,selectNodesOnDrag:ce,handleNodeSelection:we,updateNodeInternals:be,elementsSelectable:ve,nodesDraggable:Ee}=te;j(t,re,P=>n(50,l=P)),j(t,ve,P=>n(28,a=P)),j(t,Ee,P=>n(29,u=P));let He,K=null;const De=xn(),Me=le(g);j(t,Me,P=>n(30,f=P));let at,Fe,je;Ln("svelteflow__node_id",d),Ln("svelteflow__node_connectable",Me),Ir(()=>{K&&(S==null||S.unobserve(K))});function Ve(P){b&&(!ee(ce)||!_||ee(z)>0)&&we(d),De("nodeclick",{node:c.internals.userNode,event:P})}const Ne=(P,xe,Le,Oe)=>{De("nodedrag",{event:P,targetNode:Le,nodes:Oe})},ke=(P,xe,Le,Oe)=>{De("nodedragstart",{event:P,targetNode:Le,nodes:Oe})},et=(P,xe,Le,Oe)=>{De("nodedragstop",{event:P,targetNode:Le,nodes:Oe})};function Ze(P){Ii[P?"unshift":"push"](()=>{He=P,n(24,He)})}const Qe=P=>De("nodemouseenter",{node:c,event:P}),bt=P=>De("nodemouseleave",{node:c,event:P}),tt=P=>De("nodemousemove",{node:c,event:P}),ut=P=>De("nodecontextmenu",{node:c,event:P});return t.$$set=P=>{"node"in P&&n(0,c=P.node),"id"in P&&n(1,d=P.id),"data"in P&&n(2,h=P.data),"selected"in P&&n(3,m=P.selected),"draggable"in P&&n(4,_=P.draggable),"selectable"in P&&n(5,b=P.selectable),"connectable"in P&&n(6,g=P.connectable),"deletable"in P&&n(7,w=P.deletable),"hidden"in P&&n(8,y=P.hidden),"dragging"in P&&n(9,E=P.dragging),"resizeObserver"in P&&n(39,S=P.resizeObserver),"style"in P&&n(10,T=P.style),"type"in P&&n(40,V=P.type),"isParent"in P&&n(11,L=P.isParent),"positionX"in P&&n(12,D=P.positionX),"positionY"in P&&n(13,Y=P.positionY),"sourcePosition"in P&&n(14,G=P.sourcePosition),"targetPosition"in P&&n(15,B=P.targetPosition),"zIndex"in P&&n(16,Z=P.zIndex),"measuredWidth"in P&&n(41,k=P.measuredWidth),"measuredHeight"in P&&n(42,A=P.measuredHeight),"initialWidth"in P&&n(43,v=P.initialWidth),"initialHeight"in P&&n(44,N=P.initialHeight),"width"in P&&n(17,O=P.width),"height"in P&&n(18,I=P.height),"dragHandle"in P&&n(19,W=P.dragHandle),"initialized"in P&&n(20,U=P.initialized),"parentId"in P&&n(21,$=P.parentId),"nodeClickDistance"in P&&n(22,oe=P.nodeClickDistance),"class"in P&&n(23,H=P.class)},t.$$.update=()=>{t.$$.dirty[1]&512&&n(25,i=V||"default"),t.$$.dirty[0]&33554432|t.$$.dirty[1]&524288&&n(49,o=!!l[i]),t.$$.dirty[0]&33554432|t.$$.dirty[1]&524288&&n(27,r=l[i]||Dl),t.$$.dirty[1]&262656&&(o||console.warn("003",pn.error003(V))),t.$$.dirty[0]&393216|t.$$.dirty[1]&15360&&n(26,s=rh({width:O,height:I,initialWidth:v,initialHeight:N,measuredWidth:k,measuredHeight:A})),t.$$.dirty[0]&64&&Me.set(!!g),t.$$.dirty[0]&50380802|t.$$.dirty[1]&229376&&((at&&i!==at||Fe&&G!==Fe||je&&B!==je)&&requestAnimationFrame(()=>be(new Map([[d,{id:d,nodeElement:He,force:!0}]]))),n(46,at=i),n(47,Fe=G),n(48,je=B)),t.$$.dirty[0]&17825792|t.$$.dirty[1]&16640&&S&&(He!==K||!U)&&(K&&S.unobserve(K),He&&S.observe(He),n(45,K=He))},[c,d,h,m,_,b,g,w,y,E,T,L,D,Y,G,B,Z,O,I,W,U,$,oe,H,He,i,s,r,a,u,f,te,re,we,ve,Ee,De,Me,Ve,S,V,k,A,v,N,K,at,Fe,je,o,l,Ne,ke,et,Ze,Qe,bt,tt,ut]}class ah extends he{constructor(e){super(),ge(this,e,sh,lh,Or,{node:0,id:1,data:2,selected:3,draggable:4,selectable:5,connectable:6,deletable:7,hidden:8,dragging:9,resizeObserver:39,style:10,type:40,isParent:11,positionX:12,positionY:13,sourcePosition:14,targetPosition:15,zIndex:16,measuredWidth:41,measuredHeight:42,initialWidth:43,initialHeight:44,width:17,height:18,dragHandle:19,initialized:20,parentId:21,nodeClickDistance:22,class:23},null,[-1,-1])}}const uh=ah;const{Map:fh}=bs;function Ko(t,e,n){const i=t.slice();return i[21]=e[n],i}function Fo(t,e){let n,i,o;return i=new uh({props:{node:e[21],id:e[21].id,data:e[21].data,selected:!!e[21].selected,hidden:!!e[21].hidden,draggable:!!(e[21].draggable||e[2]&&typeof e[21].draggable>"u"),selectable:!!(e[21].selectable||e[3]&&typeof e[21].selectable>"u"),connectable:!!(e[21].connectable||e[4]&&typeof e[21].connectable>"u"),deletable:e[21].deletable??!0,positionX:e[21].internals.positionAbsolute.x,positionY:e[21].internals.positionAbsolute.y,isParent:e[5].has(e[21].id),style:e[21].style,class:e[21].class,type:e[21].type??"default",sourcePosition:e[21].sourcePosition,targetPosition:e[21].targetPosition,dragging:e[21].dragging,zIndex:e[21].internals.z??0,dragHandle:e[21].dragHandle,initialized:Po(e[21]),width:e[21].width,height:e[21].height,initialWidth:e[21].initialWidth,initialHeight:e[21].initialHeight,measuredWidth:e[21].measured.width,measuredHeight:e[21].measured.height,parentId:e[21].parentId,resizeObserver:e[11],nodeClickDistance:e[0]}}),i.$on("nodeclick",e[12]),i.$on("nodemouseenter",e[13]),i.$on("nodemousemove",e[14]),i.$on("nodemouseleave",e[15]),i.$on("nodedrag",e[16]),i.$on("nodedragstart",e[17]),i.$on("nodedragstop",e[18]),i.$on("nodecontextmenu",e[19]),{key:t,first:null,c(){n=Ie(),se(i.$$.fragment),this.h()},l(r){n=Ie(),fe(i.$$.fragment,r),this.h()},h(){this.first=n},m(r,s){J(r,n,s),ae(i,r,s),o=!0},p(r,s){e=r;const l={};s&2&&(l.node=e[21]),s&2&&(l.id=e[21].id),s&2&&(l.data=e[21].data),s&2&&(l.selected=!!e[21].selected),s&2&&(l.hidden=!!e[21].hidden),s&6&&(l.draggable=!!(e[21].draggable||e[2]&&typeof e[21].draggable>"u")),s&10&&(l.selectable=!!(e[21].selectable||e[3]&&typeof e[21].selectable>"u")),s&18&&(l.connectable=!!(e[21].connectable||e[4]&&typeof e[21].connectable>"u")),s&2&&(l.deletable=e[21].deletable??!0),s&2&&(l.positionX=e[21].internals.positionAbsolute.x),s&2&&(l.positionY=e[21].internals.positionAbsolute.y),s&34&&(l.isParent=e[5].has(e[21].id)),s&2&&(l.style=e[21].style),s&2&&(l.class=e[21].class),s&2&&(l.type=e[21].type??"default"),s&2&&(l.sourcePosition=e[21].sourcePosition),s&2&&(l.targetPosition=e[21].targetPosition),s&2&&(l.dragging=e[21].dragging),s&2&&(l.zIndex=e[21].internals.z??0),s&2&&(l.dragHandle=e[21].dragHandle),s&2&&(l.initialized=Po(e[21])),s&2&&(l.width=e[21].width),s&2&&(l.height=e[21].height),s&2&&(l.initialWidth=e[21].initialWidth),s&2&&(l.initialHeight=e[21].initialHeight),s&2&&(l.measuredWidth=e[21].measured.width),s&2&&(l.measuredHeight=e[21].measured.height),s&2&&(l.parentId=e[21].parentId),s&1&&(l.nodeClickDistance=e[0]),i.$set(l)},i(r){o||(R(i.$$.fragment,r),o=!0)},o(r){F(i.$$.fragment,r),o=!1},d(r){r&&C(n),ue(i,r)}}}function ch(t){let e,n=[],i=new fh,o,r=Ke(t[1]);const s=l=>l[21].id;for(let l=0;l<r.length;l+=1){let a=Ko(t,r,l),u=s(a);i.set(u,n[l]=Fo(u,a))}return{c(){e=Q("div");for(let l=0;l<n.length;l+=1)n[l].c();this.h()},l(l){e=x(l,"DIV",{class:!0});var a=q(e);for(let u=0;u<n.length;u+=1)n[u].l(a);a.forEach(C),this.h()},h(){p(e,"class","svelte-flow__nodes svelte-tf4uy4")},m(l,a){J(l,e,a);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(e,null);o=!0},p(l,[a]){a&2111&&(r=Ke(l[1]),Ge(),n=Hi(n,a,s,1,l,r,i,e,Ai,Fo,null,Ko),Je())},i(l){if(!o){for(let a=0;a<r.length;a+=1)R(n[a]);o=!0}},o(l){for(let a=0;a<n.length;a+=1)F(n[a]);o=!1},d(l){l&&C(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function dh(t,e,n){let i,o,r,s,l,{nodeClickDistance:a=0}=e;const{visibleNodes:u,nodesDraggable:f,nodesConnectable:c,elementsSelectable:d,updateNodeInternals:h,parentLookup:m}=qe();j(t,u,L=>n(1,i=L)),j(t,f,L=>n(2,o=L)),j(t,c,L=>n(4,s=L)),j(t,d,L=>n(3,r=L)),j(t,m,L=>n(5,l=L));const _=typeof ResizeObserver>"u"?null:new ResizeObserver(L=>{const D=new Map;L.forEach(Y=>{const G=Y.target.getAttribute("data-id");D.set(G,{id:G,nodeElement:Y.target,force:!0})}),h(D)});Ir(()=>{_==null||_.disconnect()});function b(L){Ce.call(this,t,L)}function g(L){Ce.call(this,t,L)}function w(L){Ce.call(this,t,L)}function y(L){Ce.call(this,t,L)}function E(L){Ce.call(this,t,L)}function S(L){Ce.call(this,t,L)}function T(L){Ce.call(this,t,L)}function V(L){Ce.call(this,t,L)}return t.$$set=L=>{"nodeClickDistance"in L&&n(0,a=L.nodeClickDistance)},[a,i,o,r,s,l,u,f,c,d,m,_,b,g,w,y,E,S,T,V]}class hh extends he{constructor(e){super(),ge(this,e,dh,ch,ye,{nodeClickDistance:0})}}const gh=hh;function qo(t){let e,n,i,o,r,s,l,a;var u=t[27];function f(c,d){return{props:{id:c[0],source:c[1],target:c[2],sourceX:c[14],sourceY:c[15],targetX:c[16],targetY:c[17],sourcePosition:c[18],targetPosition:c[19],animated:c[6],selected:c[7],label:c[10],labelStyle:c[11],data:c[3],style:c[4],interactionWidth:c[21],selectable:c[24],deletable:c[8]??!0,type:c[23],sourceHandleId:c[12],targetHandleId:c[13],markerStart:c[26],markerEnd:c[25]}}}return u&&(i=Xn(u,f(t))),{c(){e=Te("svg"),n=Te("g"),i&&se(i.$$.fragment),this.h()},l(c){e=ze(c,"svg",{});var d=q(e);n=ze(d,"g",{class:!0,"data-id":!0,"aria-label":!0,role:!0});var h=q(n);i&&fe(i.$$.fragment,h),h.forEach(C),d.forEach(C),this.h()},h(){p(n,"class",o=Ae(["svelte-flow__edge",t[22]])),p(n,"data-id",t[0]),p(n,"aria-label",r=t[20]===null?void 0:t[20]?t[20]:`Edge from ${t[1]} to ${t[2]}`),p(n,"role","img"),de(n,"animated",t[6]),de(n,"selected",t[7]),de(n,"selectable",t[24]),me(e,"z-index",t[5])},m(c,d){J(c,e,d),X(e,n),i&&ae(i,n,null),s=!0,l||(a=[Se(n,"click",t[32]),Se(n,"contextmenu",t[41]),Se(n,"mouseenter",t[42]),Se(n,"mouseleave",t[43])],l=!0)},p(c,d){if(d[0]&134217728&&u!==(u=c[27])){if(i){Ge();const h=i;F(h.$$.fragment,1,0,()=>{ue(h,1)}),Je()}u?(i=Xn(u,f(c)),se(i.$$.fragment),R(i.$$.fragment,1),ae(i,n,null)):i=null}else if(u){const h={};d[0]&1&&(h.id=c[0]),d[0]&2&&(h.source=c[1]),d[0]&4&&(h.target=c[2]),d[0]&16384&&(h.sourceX=c[14]),d[0]&32768&&(h.sourceY=c[15]),d[0]&65536&&(h.targetX=c[16]),d[0]&131072&&(h.targetY=c[17]),d[0]&262144&&(h.sourcePosition=c[18]),d[0]&524288&&(h.targetPosition=c[19]),d[0]&64&&(h.animated=c[6]),d[0]&128&&(h.selected=c[7]),d[0]&1024&&(h.label=c[10]),d[0]&2048&&(h.labelStyle=c[11]),d[0]&8&&(h.data=c[3]),d[0]&16&&(h.style=c[4]),d[0]&2097152&&(h.interactionWidth=c[21]),d[0]&16777216&&(h.selectable=c[24]),d[0]&256&&(h.deletable=c[8]??!0),d[0]&8388608&&(h.type=c[23]),d[0]&4096&&(h.sourceHandleId=c[12]),d[0]&8192&&(h.targetHandleId=c[13]),d[0]&67108864&&(h.markerStart=c[26]),d[0]&33554432&&(h.markerEnd=c[25]),i.$set(h)}(!s||d[0]&4194304&&o!==(o=Ae(["svelte-flow__edge",c[22]])))&&p(n,"class",o),(!s||d[0]&1)&&p(n,"data-id",c[0]),(!s||d[0]&1048582&&r!==(r=c[20]===null?void 0:c[20]?c[20]:`Edge from ${c[1]} to ${c[2]}`))&&p(n,"aria-label",r),(!s||d[0]&4194368)&&de(n,"animated",c[6]),(!s||d[0]&4194432)&&de(n,"selected",c[7]),(!s||d[0]&20971520)&&de(n,"selectable",c[24]),d[0]&32&&me(e,"z-index",c[5])},i(c){s||(i&&R(i.$$.fragment,c),s=!0)},o(c){i&&F(i.$$.fragment,c),s=!1},d(c){c&&C(e),i&&ue(i),l=!1,mt(a)}}}function mh(t){let e,n,i=!t[9]&&qo(t);return{c(){i&&i.c(),e=Ie()},l(o){i&&i.l(o),e=Ie()},m(o,r){i&&i.m(o,r),J(o,e,r),n=!0},p(o,r){o[9]?i&&(Ge(),F(i,1,1,()=>{i=null}),Je()):i?(i.p(o,r),r[0]&512&&R(i,1)):(i=qo(o),i.c(),R(i,1),i.m(e.parentNode,e))},i(o){n||(R(i),n=!0)},o(o){F(i),n=!1},d(o){o&&C(e),i&&i.d(o)}}}function _h(t,e,n){let i,o,r,s,l,a,u,f,c,{id:d}=e,{type:h="default"}=e,{source:m=""}=e,{target:_=""}=e,{data:b={}}=e,{style:g=void 0}=e,{zIndex:w=void 0}=e,{animated:y=!1}=e,{selected:E=!1}=e,{selectable:S=void 0}=e,{deletable:T=void 0}=e,{hidden:V=!1}=e,{label:L=void 0}=e,{labelStyle:D=void 0}=e,{markerStart:Y=void 0}=e,{markerEnd:G=void 0}=e,{sourceHandle:B=void 0}=e,{targetHandle:Z=void 0}=e,{sourceX:k}=e,{sourceY:A}=e,{targetX:v}=e,{targetY:N}=e,{sourcePosition:O}=e,{targetPosition:I}=e,{ariaLabel:W=void 0}=e,{interactionWidth:U=void 0}=e,{class:$=""}=e;Ln("svelteflow__edge_id",d);const{edgeLookup:oe,edgeTypes:H,flowId:te,elementsSelectable:re}=qe();j(t,oe,K=>n(44,a=K)),j(t,H,K=>n(40,c=K)),j(t,te,K=>n(39,f=K)),j(t,re,K=>n(38,u=K));const z=xn(),ce=Tl();function we(K){const De=a.get(d);De&&(ce(d),z("edgeclick",{event:K,edge:De}))}function be(K,De){const Me=a.get(d);Me&&z(De,{event:K,edge:Me})}const ve=K=>{be(K,"edgecontextmenu")},Ee=K=>{be(K,"edgemouseenter")},He=K=>{be(K,"edgemouseleave")};return t.$$set=K=>{"id"in K&&n(0,d=K.id),"type"in K&&n(34,h=K.type),"source"in K&&n(1,m=K.source),"target"in K&&n(2,_=K.target),"data"in K&&n(3,b=K.data),"style"in K&&n(4,g=K.style),"zIndex"in K&&n(5,w=K.zIndex),"animated"in K&&n(6,y=K.animated),"selected"in K&&n(7,E=K.selected),"selectable"in K&&n(35,S=K.selectable),"deletable"in K&&n(8,T=K.deletable),"hidden"in K&&n(9,V=K.hidden),"label"in K&&n(10,L=K.label),"labelStyle"in K&&n(11,D=K.labelStyle),"markerStart"in K&&n(36,Y=K.markerStart),"markerEnd"in K&&n(37,G=K.markerEnd),"sourceHandle"in K&&n(12,B=K.sourceHandle),"targetHandle"in K&&n(13,Z=K.targetHandle),"sourceX"in K&&n(14,k=K.sourceX),"sourceY"in K&&n(15,A=K.sourceY),"targetX"in K&&n(16,v=K.targetX),"targetY"in K&&n(17,N=K.targetY),"sourcePosition"in K&&n(18,O=K.sourcePosition),"targetPosition"in K&&n(19,I=K.targetPosition),"ariaLabel"in K&&n(20,W=K.ariaLabel),"interactionWidth"in K&&n(21,U=K.interactionWidth),"class"in K&&n(22,$=K.class)},t.$$.update=()=>{t.$$.dirty[1]&8&&n(23,i=h||"default"),t.$$.dirty[0]&8388608|t.$$.dirty[1]&512&&n(27,o=c[i]||zl),t.$$.dirty[1]&288&&n(26,r=Y?`url('#${Oi(Y,f)}')`:void 0),t.$$.dirty[1]&320&&n(25,s=G?`url('#${Oi(G,f)}')`:void 0),t.$$.dirty[1]&144&&n(24,l=S??u)},[d,m,_,b,g,w,y,E,T,V,L,D,B,Z,k,A,v,N,O,I,W,U,$,i,l,s,r,o,oe,H,te,re,we,be,h,S,Y,G,u,f,c,ve,Ee,He]}class yh extends he{constructor(e){super(),ge(this,e,_h,mh,Or,{id:0,type:34,source:1,target:2,data:3,style:4,zIndex:5,animated:6,selected:7,selectable:35,deletable:8,hidden:9,label:10,labelStyle:11,markerStart:36,markerEnd:37,sourceHandle:12,targetHandle:13,sourceX:14,sourceY:15,targetX:16,targetY:17,sourcePosition:18,targetPosition:19,ariaLabel:20,interactionWidth:21,class:22},null,[-1,-1])}}const bh=yh;function wh(t,e,n){let{onMount:i=void 0}=e,{onDestroy:o=void 0}=e;return Qn(()=>(i==null||i(),o)),t.$$set=r=>{"onMount"in r&&n(0,i=r.onMount),"onDestroy"in r&&n(1,o=r.onDestroy)},[i,o]}class vh extends he{constructor(e){super(),ge(this,e,wh,null,ye,{onMount:0,onDestroy:1})}}const ph=vh;function Zo(t,e,n){const i=t.slice();return i[2]=e[n],i}function Uo(t,e){let n,i,o;const r=[e[2]];let s={};for(let l=0;l<r.length;l+=1)s=Pe(s,r[l]);return i=new zh({props:s}),{key:t,first:null,c(){n=Ie(),se(i.$$.fragment),this.h()},l(l){n=Ie(),fe(i.$$.fragment,l),this.h()},h(){this.first=n},m(l,a){J(l,n,a),ae(i,l,a),o=!0},p(l,a){e=l;const u=a&1?At(r,[dn(e[2])]):{};i.$set(u)},i(l){o||(R(i.$$.fragment,l),o=!0)},o(l){F(i.$$.fragment,l),o=!1},d(l){l&&C(n),ue(i,l)}}}function kh(t){let e,n=[],i=new Map,o,r=Ke(t[0]);const s=l=>l[2].id;for(let l=0;l<r.length;l+=1){let a=Zo(t,r,l),u=s(a);i.set(u,n[l]=Uo(u,a))}return{c(){e=Te("defs");for(let l=0;l<n.length;l+=1)n[l].c()},l(l){e=ze(l,"defs",{});var a=q(e);for(let u=0;u<n.length;u+=1)n[u].l(a);a.forEach(C)},m(l,a){J(l,e,a);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(e,null);o=!0},p(l,[a]){a&1&&(r=Ke(l[0]),Ge(),n=Hi(n,a,s,1,l,r,i,e,Ai,Uo,null,Zo),Je())},i(l){if(!o){for(let a=0;a<r.length;a+=1)R(n[a]);o=!0}},o(l){for(let a=0;a<n.length;a+=1)F(n[a]);o=!1},d(l){l&&C(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function Eh(t,e,n){let i;const{markers:o}=qe();return j(t,o,r=>n(0,i=r)),[i,o]}class Sh extends he{constructor(e){super(),ge(this,e,Eh,kh,ye,{})}}const Ch=Sh;function Mh(t){let e;return{c(){e=Te("polyline"),this.h()},l(n){e=ze(n,"polyline",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,fill:!0,points:!0}),q(e).forEach(C),this.h()},h(){p(e,"stroke",t[6]),p(e,"stroke-linecap","round"),p(e,"stroke-linejoin","round"),p(e,"stroke-width",t[7]),p(e,"fill",t[6]),p(e,"points","-5,-4 0,0 -5,4 -5,-4")},m(n,i){J(n,e,i)},p(n,i){i&64&&p(e,"stroke",n[6]),i&128&&p(e,"stroke-width",n[7]),i&64&&p(e,"fill",n[6])},d(n){n&&C(e)}}}function Nh(t){let e;return{c(){e=Te("polyline"),this.h()},l(n){e=ze(n,"polyline",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,fill:!0,points:!0}),q(e).forEach(C),this.h()},h(){p(e,"stroke",t[6]),p(e,"stroke-linecap","round"),p(e,"stroke-linejoin","round"),p(e,"stroke-width",t[7]),p(e,"fill","none"),p(e,"points","-5,-4 0,0 -5,4")},m(n,i){J(n,e,i)},p(n,i){i&64&&p(e,"stroke",n[6]),i&128&&p(e,"stroke-width",n[7])},d(n){n&&C(e)}}}function Ph(t){let e,n,i;function o(l,a){if(l[1]===Un.Arrow)return Nh;if(l[1]===Un.ArrowClosed)return Mh}let r=o(t),s=r&&r(t);return{c(){e=Te("marker"),s&&s.c(),this.h()},l(l){e=ze(l,"marker",{class:!0,id:!0,markerWidth:!0,markerHeight:!0,viewBox:!0,markerUnits:!0,orient:!0,refX:!0,refY:!0});var a=q(e);s&&s.l(a),a.forEach(C),this.h()},h(){p(e,"class","svelte-flow__arrowhead"),p(e,"id",t[0]),p(e,"markerWidth",n=`${t[2]}`),p(e,"markerHeight",i=`${t[3]}`),p(e,"viewBox","-10 -10 20 20"),p(e,"markerUnits",t[4]),p(e,"orient",t[5]),p(e,"refX","0"),p(e,"refY","0")},m(l,a){J(l,e,a),s&&s.m(e,null)},p(l,[a]){r===(r=o(l))&&s?s.p(l,a):(s&&s.d(1),s=r&&r(l),s&&(s.c(),s.m(e,null))),a&1&&p(e,"id",l[0]),a&4&&n!==(n=`${l[2]}`)&&p(e,"markerWidth",n),a&8&&i!==(i=`${l[3]}`)&&p(e,"markerHeight",i),a&16&&p(e,"markerUnits",l[4]),a&32&&p(e,"orient",l[5])},i:pe,o:pe,d(l){l&&C(e),s&&s.d()}}}function Dh(t,e,n){let{id:i}=e,{type:o}=e,{width:r=12.5}=e,{height:s=12.5}=e,{markerUnits:l="strokeWidth"}=e,{orient:a="auto-start-reverse"}=e,{color:u=void 0}=e,{strokeWidth:f=void 0}=e;return t.$$set=c=>{"id"in c&&n(0,i=c.id),"type"in c&&n(1,o=c.type),"width"in c&&n(2,r=c.width),"height"in c&&n(3,s=c.height),"markerUnits"in c&&n(4,l=c.markerUnits),"orient"in c&&n(5,a=c.orient),"color"in c&&n(6,u=c.color),"strokeWidth"in c&&n(7,f=c.strokeWidth)},[i,o,r,s,l,a,u,f]}class Th extends he{constructor(e){super(),ge(this,e,Dh,Ph,ye,{id:0,type:1,width:2,height:3,markerUnits:4,orient:5,color:6,strokeWidth:7})}}const zh=Th;function Go(t,e,n){const i=t.slice();return i[14]=e[n],i}function Jo(t,e){let n,i,o;return i=new bh({props:{id:e[14].id,source:e[14].source,target:e[14].target,data:e[14].data,style:e[14].style,animated:e[14].animated,selected:e[14].selected,selectable:e[14].selectable??e[1],deletable:e[14].deletable,hidden:e[14].hidden,label:e[14].label,labelStyle:e[14].labelStyle,markerStart:e[14].markerStart,markerEnd:e[14].markerEnd,sourceHandle:e[14].sourceHandle,targetHandle:e[14].targetHandle,sourceX:e[14].sourceX,sourceY:e[14].sourceY,targetX:e[14].targetX,targetY:e[14].targetY,sourcePosition:e[14].sourcePosition,targetPosition:e[14].targetPosition,ariaLabel:e[14].ariaLabel,interactionWidth:e[14].interactionWidth,class:e[14].class,type:e[14].type||"default",zIndex:e[14].zIndex}}),i.$on("edgeclick",e[7]),i.$on("edgecontextmenu",e[8]),i.$on("edgemouseenter",e[9]),i.$on("edgemouseleave",e[10]),{key:t,first:null,c(){n=Ie(),se(i.$$.fragment),this.h()},l(r){n=Ie(),fe(i.$$.fragment,r),this.h()},h(){this.first=n},m(r,s){J(r,n,s),ae(i,r,s),o=!0},p(r,s){e=r;const l={};s&1&&(l.id=e[14].id),s&1&&(l.source=e[14].source),s&1&&(l.target=e[14].target),s&1&&(l.data=e[14].data),s&1&&(l.style=e[14].style),s&1&&(l.animated=e[14].animated),s&1&&(l.selected=e[14].selected),s&3&&(l.selectable=e[14].selectable??e[1]),s&1&&(l.deletable=e[14].deletable),s&1&&(l.hidden=e[14].hidden),s&1&&(l.label=e[14].label),s&1&&(l.labelStyle=e[14].labelStyle),s&1&&(l.markerStart=e[14].markerStart),s&1&&(l.markerEnd=e[14].markerEnd),s&1&&(l.sourceHandle=e[14].sourceHandle),s&1&&(l.targetHandle=e[14].targetHandle),s&1&&(l.sourceX=e[14].sourceX),s&1&&(l.sourceY=e[14].sourceY),s&1&&(l.targetX=e[14].targetX),s&1&&(l.targetY=e[14].targetY),s&1&&(l.sourcePosition=e[14].sourcePosition),s&1&&(l.targetPosition=e[14].targetPosition),s&1&&(l.ariaLabel=e[14].ariaLabel),s&1&&(l.interactionWidth=e[14].interactionWidth),s&1&&(l.class=e[14].class),s&1&&(l.type=e[14].type||"default"),s&1&&(l.zIndex=e[14].zIndex),i.$set(l)},i(r){o||(R(i.$$.fragment,r),o=!0)},o(r){F(i.$$.fragment,r),o=!1},d(r){r&&C(n),ue(i,r)}}}function jo(t){let e,n;return e=new ph({props:{onMount:t[11],onDestroy:t[12]}}),{c(){se(e.$$.fragment)},l(i){fe(e.$$.fragment,i)},m(i,o){ae(e,i,o),n=!0},p(i,o){const r={};o&4&&(r.onMount=i[11]),o&4&&(r.onDestroy=i[12]),e.$set(r)},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){F(e.$$.fragment,i),n=!1},d(i){ue(e,i)}}}function Oh(t){let e,n,i,o,r=[],s=new Map,l,a;i=new Ch({});let u=Ke(t[0]);const f=d=>d[14].id;for(let d=0;d<u.length;d+=1){let h=Go(t,u,d),m=f(h);s.set(m,r[d]=Jo(m,h))}let c=t[0].length>0&&jo(t);return{c(){e=Q("div"),n=Te("svg"),se(i.$$.fragment),o=ne();for(let d=0;d<r.length;d+=1)r[d].c();l=ne(),c&&c.c(),this.h()},l(d){e=x(d,"DIV",{class:!0});var h=q(e);n=ze(h,"svg",{class:!0});var m=q(n);fe(i.$$.fragment,m),m.forEach(C),o=ie(h);for(let _=0;_<r.length;_+=1)r[_].l(h);l=ie(h),c&&c.l(h),h.forEach(C),this.h()},h(){p(n,"class","svelte-flow__marker"),p(e,"class","svelte-flow__edges")},m(d,h){J(d,e,h),X(e,n),ae(i,n,null),X(e,o);for(let m=0;m<r.length;m+=1)r[m]&&r[m].m(e,null);X(e,l),c&&c.m(e,null),a=!0},p(d,[h]){h&3&&(u=Ke(d[0]),Ge(),r=Hi(r,h,f,1,d,u,s,e,Ai,Jo,l,Go),Je()),d[0].length>0?c?(c.p(d,h),h&1&&R(c,1)):(c=jo(d),c.c(),R(c,1),c.m(e,null)):c&&(Ge(),F(c,1,1,()=>{c=null}),Je())},i(d){if(!a){R(i.$$.fragment,d);for(let h=0;h<u.length;h+=1)R(r[h]);R(c),a=!0}},o(d){F(i.$$.fragment,d);for(let h=0;h<r.length;h+=1)F(r[h]);F(c),a=!1},d(d){d&&C(e),ue(i);for(let h=0;h<r.length;h+=1)r[h].d();c&&c.d()}}}function Ih(t,e,n){let i,o,r,{defaultEdgeOptions:s}=e;const{visibleEdges:l,edgesInitialized:a,edges:{setDefaultOptions:u},elementsSelectable:f}=qe();j(t,l,g=>n(0,i=g)),j(t,a,g=>n(2,r=g)),j(t,f,g=>n(1,o=g)),Qn(()=>{s&&u(s)});function c(g){Ce.call(this,t,g)}function d(g){Ce.call(this,t,g)}function h(g){Ce.call(this,t,g)}function m(g){Ce.call(this,t,g)}const _=()=>{Rt(a,r=!0,r)},b=()=>{Rt(a,r=!1,r)};return t.$$set=g=>{"defaultEdgeOptions"in g&&n(6,s=g.defaultEdgeOptions)},[i,o,r,l,a,f,s,c,d,h,m,_,b]}class Hh extends he{constructor(e){super(),ge(this,e,Ih,Oh,ye,{defaultEdgeOptions:6})}}const Ah=Hh;function Qo(t){let e;return{c(){e=Q("div"),this.h()},l(n){e=x(n,"DIV",{class:!0}),q(e).forEach(C),this.h()},h(){p(e,"class","svelte-flow__selection svelte-1iugwpu"),me(e,"width",typeof t[2]=="string"?t[2]:`${t[2]}px`),me(e,"height",typeof t[3]=="string"?t[3]:`${t[3]}px`),me(e,"transform",`translate(${t[0]}px, ${t[1]}px)`)},m(n,i){J(n,e,i)},p(n,i){i&4&&me(e,"width",typeof n[2]=="string"?n[2]:`${n[2]}px`),i&8&&me(e,"height",typeof n[3]=="string"?n[3]:`${n[3]}px`),i&3&&me(e,"transform",`translate(${n[0]}px, ${n[1]}px)`)},d(n){n&&C(e)}}}function Vh(t){let e,n=t[4]&&Qo(t);return{c(){n&&n.c(),e=Ie()},l(i){n&&n.l(i),e=Ie()},m(i,o){n&&n.m(i,o),J(i,e,o)},p(i,[o]){i[4]?n?n.p(i,o):(n=Qo(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:pe,o:pe,d(i){i&&C(e),n&&n.d(i)}}}function Lh(t,e,n){let{x:i=0}=e,{y:o=0}=e,{width:r=0}=e,{height:s=0}=e,{isVisible:l=!0}=e;return t.$$set=a=>{"x"in a&&n(0,i=a.x),"y"in a&&n(1,o=a.y),"width"in a&&n(2,r=a.width),"height"in a&&n(3,s=a.height),"isVisible"in a&&n(4,l=a.isVisible)},[i,o,r,s,l]}class Xh extends he{constructor(e){super(),ge(this,e,Lh,Vh,ye,{x:0,y:1,width:2,height:3,isVisible:4})}}const Al=Xh;function Rh(t){var i,o,r,s;let e,n;return e=new Al({props:{isVisible:!!(t[0]&&t[1]==="user"),width:(i=t[0])==null?void 0:i.width,height:(o=t[0])==null?void 0:o.height,x:(r=t[0])==null?void 0:r.x,y:(s=t[0])==null?void 0:s.y}}),{c(){se(e.$$.fragment)},l(l){fe(e.$$.fragment,l)},m(l,a){ae(e,l,a),n=!0},p(l,[a]){var f,c,d,h;const u={};a&3&&(u.isVisible=!!(l[0]&&l[1]==="user")),a&1&&(u.width=(f=l[0])==null?void 0:f.width),a&1&&(u.height=(c=l[0])==null?void 0:c.height),a&1&&(u.x=(d=l[0])==null?void 0:d.x),a&1&&(u.y=(h=l[0])==null?void 0:h.y),e.$set(u)},i(l){n||(R(e.$$.fragment,l),n=!0)},o(l){F(e.$$.fragment,l),n=!1},d(l){ue(e,l)}}}function Yh(t,e,n){let i,o;const{selectionRect:r,selectionRectMode:s}=qe();return j(t,r,l=>n(0,i=l)),j(t,s,l=>n(1,o=l)),[i,o,r,s]}class Bh extends he{constructor(e){super(),ge(this,e,Yh,Rh,ye,{})}}const Wh=Bh;function xo(t){let e,n,i,o,r;return n=new Al({props:{width:"100%",height:"100%",x:0,y:0}}),{c(){e=Q("div"),se(n.$$.fragment),this.h()},l(s){e=x(s,"DIV",{class:!0,style:!0,role:!0,tabindex:!0});var l=q(e);fe(n.$$.fragment,l),l.forEach(C),this.h()},h(){p(e,"class","selection-wrapper nopan svelte-5pxri"),me(e,"width",t[1].width+"px"),me(e,"height",t[1].height+"px"),me(e,"transform","translate("+t[1].x+"px, "+t[1].y+"px)"),p(e,"role","button"),p(e,"tabindex","-1")},m(s,l){J(s,e,l),ae(n,e,null),i=!0,o||(r=[nt(Hl.call(null,e,{disabled:!1,store:t[2],onDrag:t[11],onDragStart:t[12],onDragStop:t[13]})),Se(e,"contextmenu",t[7]),Se(e,"click",t[8]),Se(e,"keyup",Fh)],o=!0)},p(s,l){(!i||l&2)&&me(e,"width",s[1].width+"px"),(!i||l&2)&&me(e,"height",s[1].height+"px"),(!i||l&2)&&me(e,"transform","translate("+s[1].x+"px, "+s[1].y+"px)")},i(s){i||(R(n.$$.fragment,s),i=!0)},o(s){F(n.$$.fragment,s),i=!1},d(s){s&&C(e),ue(n),o=!1,mt(r)}}}function Kh(t){let e=t[0]==="nodes"&&t[1]&&Xt(t[1].x)&&Xt(t[1].y),n,i,o=e&&xo(t);return{c(){o&&o.c(),n=Ie()},l(r){o&&o.l(r),n=Ie()},m(r,s){o&&o.m(r,s),J(r,n,s),i=!0},p(r,[s]){s&3&&(e=r[0]==="nodes"&&r[1]&&Xt(r[1].x)&&Xt(r[1].y)),e?o?(o.p(r,s),s&3&&R(o,1)):(o=xo(r),o.c(),R(o,1),o.m(n.parentNode,n)):o&&(Ge(),F(o,1,1,()=>{o=null}),Je())},i(r){i||(R(o),i=!0)},o(r){F(o),i=!1},d(r){r&&C(n),o&&o.d(r)}}}const Fh=()=>{};function qh(t,e,n){let i,o,r;const s=qe(),{selectionRectMode:l,nodes:a,nodeLookup:u}=s;j(t,l,g=>n(0,r=g)),j(t,a,g=>n(9,i=g)),j(t,u,g=>n(10,o=g));const f=xn();let c=null;function d(g){const w=i.filter(y=>y.selected);f("selectioncontextmenu",{nodes:w,event:g})}function h(g){const w=i.filter(y=>y.selected);f("selectionclick",{nodes:w,event:g})}const m=(g,w,y,E)=>{f("nodedrag",{event:g,targetNode:null,nodes:E})},_=(g,w,y,E)=>{f("nodedragstart",{event:g,targetNode:null,nodes:E})},b=(g,w,y,E)=>{f("nodedragstop",{event:g,targetNode:null,nodes:E})};return t.$$.update=()=>{t.$$.dirty&1537&&r==="nodes"&&n(1,c=oi(o,{filter:g=>!!g.selected}))},[r,c,s,l,a,u,f,d,h,i,o,m,_,b]}class Zh extends he{constructor(e){super(),ge(this,e,qh,Kh,ye,{})}}const Uh=Zh;function wt(t,e){let{enabled:n=!0,trigger:i,type:o="keydown"}=e;function r(s){const l=Array.isArray(i)?i:[i],a={alt:s.altKey,ctrl:s.ctrlKey,shift:s.shiftKey,meta:s.metaKey};for(const u of l){const f={modifier:[],preventDefault:!1,enabled:!0,...u},{modifier:c,key:d,callback:h,preventDefault:m,enabled:_}=f;if(_){if(c.length&&!(Array.isArray(c)?c:[c]).map(w=>typeof w=="string"?[w]:w).some(w=>w.every(y=>a[y])))continue;if(s.key===d){m&&s.preventDefault();const b={node:t,trigger:f,originalEvent:s};t.dispatchEvent(new CustomEvent("shortcut",{detail:b})),h==null||h(b)}}}}return n&&t.addEventListener(o,r),{update:s=>{const{enabled:l=!0,type:a="keydown"}=s;n&&(!l||o!==a)?t.removeEventListener(o,r):!n&&l&&t.addEventListener(a,r),n=l,o=a,i=s.trigger},destroy:()=>{t.removeEventListener(o,r)}}}function Gh(t){let e,n,i,o,r,s,l,a,u,f,c,d;return{c:pe,l:pe,m(h,m){c||(d=[nt(e=wt.call(null,window,{trigger:Re(t[0],t[11]),type:"keydown"})),nt(n=wt.call(null,window,{trigger:Re(t[0],t[12]),type:"keyup"})),nt(i=wt.call(null,window,{trigger:Re(t[1],t[13]),type:"keydown"})),nt(o=wt.call(null,window,{trigger:Re(t[1],t[14]),type:"keyup"})),nt(r=wt.call(null,window,{trigger:Re(t[2],t[15]),type:"keydown"})),nt(s=wt.call(null,window,{trigger:Re(t[2],t[16]),type:"keyup"})),nt(l=wt.call(null,window,{trigger:Re(t[3],t[17]),type:"keydown"})),nt(a=wt.call(null,window,{trigger:Re(t[3],t[18]),type:"keyup"})),nt(u=wt.call(null,window,{trigger:Re(t[4],t[19]),type:"keydown"})),nt(f=wt.call(null,window,{trigger:Re(t[4],t[20]),type:"keyup"})),Se(window,"blur",t[10]),Se(window,"contextmenu",t[10])],c=!0)},p(h,[m]){e&&Ue(e.update)&&m&1&&e.update.call(null,{trigger:Re(h[0],h[11]),type:"keydown"}),n&&Ue(n.update)&&m&1&&n.update.call(null,{trigger:Re(h[0],h[12]),type:"keyup"}),i&&Ue(i.update)&&m&2&&i.update.call(null,{trigger:Re(h[1],h[13]),type:"keydown"}),o&&Ue(o.update)&&m&2&&o.update.call(null,{trigger:Re(h[1],h[14]),type:"keyup"}),r&&Ue(r.update)&&m&4&&r.update.call(null,{trigger:Re(h[2],h[15]),type:"keydown"}),s&&Ue(s.update)&&m&4&&s.update.call(null,{trigger:Re(h[2],h[16]),type:"keyup"}),l&&Ue(l.update)&&m&8&&l.update.call(null,{trigger:Re(h[3],h[17]),type:"keydown"}),a&&Ue(a.update)&&m&8&&a.update.call(null,{trigger:Re(h[3],h[18]),type:"keyup"}),u&&Ue(u.update)&&m&16&&u.update.call(null,{trigger:Re(h[4],h[19]),type:"keydown"}),f&&Ue(f.update)&&m&16&&f.update.call(null,{trigger:Re(h[4],h[20]),type:"keyup"})},i:pe,o:pe,d(h){c=!1,mt(d)}}}function Vl(t){return t!==null&&typeof t=="object"}function Jh(t){return Vl(t)?t.modifier||[]:[]}function jh(t){return t==null?"":Vl(t)?t.key:t}function Re(t,e){return(Array.isArray(t)?t:[t]).map(i=>{const o=jh(i);return{key:o,modifier:Jh(i),enabled:o!==null,callback:e}})}function Qh(t,e,n){let{selectionKey:i="Shift"}=e,{multiSelectionKey:o=Gn()?"Meta":"Control"}=e,{deleteKey:r="Backspace"}=e,{panActivationKey:s=" "}=e,{zoomActivationKey:l=Gn()?"Meta":"Control"}=e;const{selectionKeyPressed:a,multiselectionKeyPressed:u,deleteKeyPressed:f,panActivationKeyPressed:c,zoomActivationKeyPressed:d,selectionRect:h}=qe();function m(){h.set(null),a.set(!1),u.set(!1),f.set(!1),c.set(!1),d.set(!1)}const _=()=>a.set(!0),b=()=>a.set(!1),g=()=>u.set(!0),w=()=>u.set(!1),y=D=>{!(D.originalEvent.ctrlKey||D.originalEvent.metaKey||D.originalEvent.shiftKey)&&!sc(D.originalEvent)&&f.set(!0)},E=()=>f.set(!1),S=()=>c.set(!0),T=()=>c.set(!1),V=()=>d.set(!0),L=()=>d.set(!1);return t.$$set=D=>{"selectionKey"in D&&n(0,i=D.selectionKey),"multiSelectionKey"in D&&n(1,o=D.multiSelectionKey),"deleteKey"in D&&n(2,r=D.deleteKey),"panActivationKey"in D&&n(3,s=D.panActivationKey),"zoomActivationKey"in D&&n(4,l=D.zoomActivationKey)},[i,o,r,s,l,a,u,f,c,d,m,_,b,g,w,y,E,S,T,V,L]}class xh extends he{constructor(e){super(),ge(this,e,Qh,Gh,ye,{selectionKey:0,multiSelectionKey:1,deleteKey:2,panActivationKey:3,zoomActivationKey:4})}}const $h=xh,eg=t=>({}),$o=t=>({});function er(t){let e,n,i,o;const r=t[13].connectionLine,s=ot(r,t,t[12],$o);let l=!t[2]&&tr(t);return{c(){e=Te("svg"),n=Te("g"),s&&s.c(),l&&l.c(),this.h()},l(a){e=ze(a,"svg",{width:!0,height:!0,class:!0,style:!0});var u=q(e);n=ze(u,"g",{class:!0});var f=q(n);s&&s.l(f),l&&l.l(f),f.forEach(C),u.forEach(C),this.h()},h(){p(n,"class",i=Ae(["svelte-flow__connection",So(t[3].isValid)])),p(e,"width",t[5]),p(e,"height",t[6]),p(e,"class","svelte-flow__connectionline"),p(e,"style",t[0])},m(a,u){J(a,e,u),X(e,n),s&&s.m(n,null),l&&l.m(n,null),o=!0},p(a,u){s&&s.p&&(!o||u&4096)&&rt(s,r,a,a[12],o?st(r,a[12],u,eg):lt(a[12]),$o),a[2]?l&&(l.d(1),l=null):l?l.p(a,u):(l=tr(a),l.c(),l.m(n,null)),(!o||u&8&&i!==(i=Ae(["svelte-flow__connection",So(a[3].isValid)])))&&p(n,"class",i),(!o||u&32)&&p(e,"width",a[5]),(!o||u&64)&&p(e,"height",a[6]),(!o||u&1)&&p(e,"style",a[0])},i(a){o||(R(s,a),o=!0)},o(a){F(s,a),o=!1},d(a){a&&C(e),s&&s.d(a),l&&l.d()}}}function tr(t){let e;return{c(){e=Te("path"),this.h()},l(n){e=ze(n,"path",{d:!0,style:!0,fill:!0,class:!0}),q(e).forEach(C),this.h()},h(){p(e,"d",t[4]),p(e,"style",t[1]),p(e,"fill","none"),p(e,"class","svelte-flow__connection-path")},m(n,i){J(n,e,i)},p(n,i){i&16&&p(e,"d",n[4]),i&2&&p(e,"style",n[1])},d(n){n&&C(e)}}}function tg(t){let e,n,i=t[3].inProgress&&er(t);return{c(){i&&i.c(),e=Ie()},l(o){i&&i.l(o),e=Ie()},m(o,r){i&&i.m(o,r),J(o,e,r),n=!0},p(o,[r]){o[3].inProgress?i?(i.p(o,r),r&8&&R(i,1)):(i=er(o),i.c(),R(i,1),i.m(e.parentNode,e)):i&&(Ge(),F(i,1,1,()=>{i=null}),Je())},i(o){n||(R(i),n=!0)},o(o){F(i),n=!1},d(o){o&&C(e),i&&i.d(o)}}}function ng(t,e,n){let i,o,r,s,{$$slots:l={},$$scope:a}=e,{containerStyle:u=""}=e,{style:f=""}=e,{isCustomComponent:c=!1}=e;const{width:d,height:h,connection:m,connectionLineType:_}=qe();j(t,d,g=>n(5,r=g)),j(t,h,g=>n(6,s=g)),j(t,m,g=>n(3,o=g)),j(t,_,g=>n(11,i=g));let b=null;return t.$$set=g=>{"containerStyle"in g&&n(0,u=g.containerStyle),"style"in g&&n(1,f=g.style),"isCustomComponent"in g&&n(2,c=g.isCustomComponent),"$$scope"in g&&n(12,a=g.$$scope)},t.$$.update=()=>{if(t.$$.dirty&2060&&o.inProgress&&!c){const{from:g,to:w,fromPosition:y,toPosition:E}=o,S={sourceX:g.x,sourceY:g.y,sourcePosition:y,targetX:w.x,targetY:w.y,targetPosition:E};switch(i){case xt.Bezier:n(4,[b]=_l(S),b);break;case xt.Step:n(4,[b]=Jn({...S,borderRadius:0}),b);break;case xt.SmoothStep:n(4,[b]=Jn(S),b);break;default:n(4,[b]=bl(S),b)}}},[u,f,c,o,b,r,s,d,h,m,_,i,a,l]}class ig extends he{constructor(e){super(),ge(this,e,ng,tg,ye,{containerStyle:0,style:1,isCustomComponent:2})}}const og=ig;function rg(t){let e,n,i;const o=t[8].default,r=ot(o,t,t[7],null);let s=[{class:n=Ae(["svelte-flow__panel",t[1],...t[2]])},{style:t[0]},t[5]],l={};for(let a=0;a<s.length;a+=1)l=Pe(l,s[a]);return{c(){e=Q("div"),r&&r.c(),this.h()},l(a){e=x(a,"DIV",{class:!0,style:!0});var u=q(e);r&&r.l(u),u.forEach(C),this.h()},h(){$t(e,l),me(e,"pointer-events",t[3]?"none":"")},m(a,u){J(a,e,u),r&&r.m(e,null),i=!0},p(a,[u]){r&&r.p&&(!i||u&128)&&rt(r,o,a,a[7],i?st(o,a[7],u,null):lt(a[7]),null),$t(e,l=At(s,[(!i||u&6&&n!==(n=Ae(["svelte-flow__panel",a[1],...a[2]])))&&{class:n},(!i||u&1)&&{style:a[0]},u&32&&a[5]])),me(e,"pointer-events",a[3]?"none":"")},i(a){i||(R(r,a),i=!0)},o(a){F(r,a),i=!1},d(a){a&&C(e),r&&r.d(a)}}}function lg(t,e,n){let i;const o=["position","style","class"];let r=Xe(e,o),s,{$$slots:l={},$$scope:a}=e,{position:u="top-right"}=e,{style:f=void 0}=e,{class:c=void 0}=e;const{selectionRectMode:d}=qe();return j(t,d,h=>n(3,s=h)),t.$$set=h=>{e=Pe(Pe({},e),_t(h)),n(5,r=Xe(e,o)),"position"in h&&n(6,u=h.position),"style"in h&&n(0,f=h.style),"class"in h&&n(1,c=h.class),"$$scope"in h&&n(7,a=h.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,i=`${u}`.split("-"))},[f,c,i,s,d,r,u,a,l]}class sg extends he{constructor(e){super(),ge(this,e,lg,rg,ye,{position:6,style:0,class:1})}}const Ll=sg;function nr(t){let e,n;return e=new Ll({props:{position:t[1],class:"svelte-flow__attribution","data-message":"Feel free to remove the attribution or check out how you could support us: https://svelteflow.dev/support-us",$$slots:{default:[ag]},$$scope:{ctx:t}}}),{c(){se(e.$$.fragment)},l(i){fe(e.$$.fragment,i)},m(i,o){ae(e,i,o),n=!0},p(i,o){const r={};o&2&&(r.position=i[1]),o&4&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){F(e.$$.fragment,i),n=!1},d(i){ue(e,i)}}}function ag(t){let e,n="Svelte Flow";return{c(){e=Q("a"),e.textContent=n,this.h()},l(i){e=x(i,"A",{href:!0,target:!0,rel:!0,"aria-label":!0,"data-svelte-h":!0}),Tt(e)!=="svelte-2vm8e4"&&(e.textContent=n),this.h()},h(){p(e,"href","https://svelteflow.dev"),p(e,"target","_blank"),p(e,"rel","noopener noreferrer"),p(e,"aria-label","Svelte Flow attribution")},m(i,o){J(i,e,o)},p:pe,d(i){i&&C(e)}}}function ug(t){var o;let e,n,i=!((o=t[0])!=null&&o.hideAttribution)&&nr(t);return{c(){i&&i.c(),e=Ie()},l(r){i&&i.l(r),e=Ie()},m(r,s){i&&i.m(r,s),J(r,e,s),n=!0},p(r,[s]){var l;(l=r[0])!=null&&l.hideAttribution?i&&(Ge(),F(i,1,1,()=>{i=null}),Je()):i?(i.p(r,s),s&1&&R(i,1)):(i=nr(r),i.c(),R(i,1),i.m(e.parentNode,e))},i(r){n||(R(i),n=!0)},o(r){F(i),n=!1},d(r){r&&C(e),i&&i.d(r)}}}function fg(t,e,n){let{proOptions:i=void 0}=e,{position:o="bottom-right"}=e;return t.$$set=r=>{"proOptions"in r&&n(0,i=r.proOptions),"position"in r&&n(1,o=r.position)},[i,o]}class cg extends he{constructor(e){super(),ge(this,e,fg,ug,ye,{proOptions:0,position:1})}}const dg=cg;function ir(t,{nodeTypes:e,edgeTypes:n,minZoom:i,maxZoom:o,translateExtent:r,paneClickDistance:s}){e!==void 0&&t.setNodeTypes(e),n!==void 0&&t.setEdgeTypes(n),i!==void 0&&t.setMinZoom(i),o!==void 0&&t.setMaxZoom(o),r!==void 0&&t.setTranslateExtent(r),s!==void 0&&t.setPaneClickDistance(s)}const hg=t=>Object.keys(t);function gg(t,e){hg(e).forEach(n=>{const i=e[n];i!==void 0&&t[n].set(i)})}function mg(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function _g(t="light"){return dt("light",n=>{if(t!=="system"){n(t);return}const i=mg(),o=()=>n(i!=null&&i.matches?"dark":"light");return n(i!=null&&i.matches?"dark":"light"),i==null||i.addEventListener("change",o),()=>{i==null||i.removeEventListener("change",o)}})}const yg=t=>({}),or=t=>({slot:"connectionLine"});function bg(t){let e;const n=t[75].connectionLine,i=ot(n,t,t[99],or);return{c(){i&&i.c()},l(o){i&&i.l(o)},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r[3]&64)&&rt(i,n,o,o[99],e?st(n,o[99],r,yg):lt(o[99]),or)},i(o){e||(R(i,o),e=!0)},o(o){F(i,o),e=!1},d(o){i&&i.d(o)}}}function wg(t){let e,n,i,o,r,s,l,a,u,f,c,d;return e=new Ah({props:{defaultEdgeOptions:t[21]}}),e.$on("edgeclick",t[78]),e.$on("edgecontextmenu",t[79]),e.$on("edgemouseenter",t[80]),e.$on("edgemouseleave",t[81]),i=new og({props:{containerStyle:t[7],style:t[6],isCustomComponent:t[34].connectionLine,$$slots:{connectionLine:[bg]},$$scope:{ctx:t}}}),u=new gh({props:{nodeClickDistance:t[23]}}),u.$on("nodeclick",t[82]),u.$on("nodemouseenter",t[83]),u.$on("nodemousemove",t[84]),u.$on("nodemouseleave",t[85]),u.$on("nodedragstart",t[86]),u.$on("nodedrag",t[87]),u.$on("nodedragstop",t[88]),u.$on("nodecontextmenu",t[89]),c=new Uh({}),c.$on("selectionclick",t[90]),c.$on("selectioncontextmenu",t[91]),c.$on("nodedragstart",t[92]),c.$on("nodedrag",t[93]),c.$on("nodedragstop",t[94]),{c(){se(e.$$.fragment),n=ne(),se(i.$$.fragment),o=ne(),r=Q("div"),s=ne(),l=Q("div"),a=ne(),se(u.$$.fragment),f=ne(),se(c.$$.fragment),this.h()},l(h){fe(e.$$.fragment,h),n=ie(h),fe(i.$$.fragment,h),o=ie(h),r=x(h,"DIV",{class:!0}),q(r).forEach(C),s=ie(h),l=x(h,"DIV",{class:!0}),q(l).forEach(C),a=ie(h),fe(u.$$.fragment,h),f=ie(h),fe(c.$$.fragment,h),this.h()},h(){p(r,"class","svelte-flow__edgelabel-renderer"),p(l,"class","svelte-flow__viewport-portal")},m(h,m){ae(e,h,m),J(h,n,m),ae(i,h,m),J(h,o,m),J(h,r,m),J(h,s,m),J(h,l,m),J(h,a,m),ae(u,h,m),J(h,f,m),ae(c,h,m),d=!0},p(h,m){const _={};m[0]&2097152&&(_.defaultEdgeOptions=h[21]),e.$set(_);const b={};m[0]&128&&(b.containerStyle=h[7]),m[0]&64&&(b.style=h[6]),m[1]&8&&(b.isCustomComponent=h[34].connectionLine),m[3]&64&&(b.$$scope={dirty:m,ctx:h}),i.$set(b);const g={};m[0]&8388608&&(g.nodeClickDistance=h[23]),u.$set(g)},i(h){d||(R(e.$$.fragment,h),R(i.$$.fragment,h),R(u.$$.fragment,h),R(c.$$.fragment,h),d=!0)},o(h){F(e.$$.fragment,h),F(i.$$.fragment,h),F(u.$$.fragment,h),F(c.$$.fragment,h),d=!1},d(h){h&&(C(n),C(o),C(r),C(s),C(l),C(a),C(f)),ue(e,h),ue(i,h),ue(u,h),ue(c,h)}}}function vg(t){let e,n,i,o;return e=new oh({props:{$$slots:{default:[wg]},$$scope:{ctx:t}}}),i=new Wh({}),{c(){se(e.$$.fragment),n=ne(),se(i.$$.fragment)},l(r){fe(e.$$.fragment,r),n=ie(r),fe(i.$$.fragment,r)},m(r,s){ae(e,r,s),J(r,n,s),ae(i,r,s),o=!0},p(r,s){const l={};s[0]&10485952|s[1]&8|s[3]&64&&(l.$$scope={dirty:s,ctx:r}),e.$set(l)},i(r){o||(R(e.$$.fragment,r),R(i.$$.fragment,r),o=!0)},o(r){F(e.$$.fragment,r),F(i.$$.fragment,r),o=!1},d(r){r&&C(n),ue(e,r),ue(i,r)}}}function pg(t){let e,n;return e=new eh({props:{panOnDrag:t[17]===void 0?!0:t[17],selectionOnDrag:t[18],$$slots:{default:[vg]},$$scope:{ctx:t}}}),e.$on("paneclick",t[95]),e.$on("panecontextmenu",t[96]),{c(){se(e.$$.fragment)},l(i){fe(e.$$.fragment,i)},m(i,o){ae(e,i,o),n=!0},p(i,o){const r={};o[0]&131072&&(r.panOnDrag=i[17]===void 0?!0:i[17]),o[0]&262144&&(r.selectionOnDrag=i[18]),o[0]&10485952|o[1]&8|o[3]&64&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){F(e.$$.fragment,i),n=!1},d(i){ue(e,i)}}}function kg(t){let e,n,i,o,r,s,l,a,u,f,c,d;n=new $h({props:{selectionKey:t[1],deleteKey:t[5],panActivationKey:t[2],multiSelectionKey:t[3],zoomActivationKey:t[4]}}),o=new jd({props:{initialViewport:t[31],onMoveStart:t[8],onMove:t[9],onMoveEnd:t[10],panOnScrollMode:t[11]===void 0?kt.Free:t[11],preventScrolling:t[12]===void 0?!0:t[12],zoomOnScroll:t[13]===void 0?!0:t[13],zoomOnDoubleClick:t[14]===void 0?!0:t[14],zoomOnPinch:t[15]===void 0?!0:t[15],panOnScroll:t[16]===void 0?!1:t[16],panOnDrag:t[17]===void 0?!0:t[17],paneClickDistance:t[22]===void 0?0:t[22],$$slots:{default:[pg]},$$scope:{ctx:t}}}),s=new dg({props:{proOptions:t[20],position:t[19]}});const h=t[75].default,m=ot(h,t,t[99],null);let _=[{style:t[24]},{class:a=Ae(["svelte-flow",t[25],t[30]])},{"data-testid":"svelte-flow__wrapper"},t[33],{role:"application"}],b={};for(let g=0;g<_.length;g+=1)b=Pe(b,_[g]);return{c(){e=Q("div"),se(n.$$.fragment),i=ne(),se(o.$$.fragment),r=ne(),se(s.$$.fragment),l=ne(),m&&m.c(),this.h()},l(g){e=x(g,"DIV",{style:!0,class:!0,"data-testid":!0,role:!0});var w=q(e);fe(n.$$.fragment,w),i=ie(w),fe(o.$$.fragment,w),r=ie(w),fe(s.$$.fragment,w),l=ie(w),m&&m.l(w),w.forEach(C),this.h()},h(){$t(e,b),as(()=>t[98].call(e)),de(e,"svelte-12wlba6",!0)},m(g,w){J(g,e,w),ae(n,e,null),X(e,i),ae(o,e,null),X(e,r),ae(s,e,null),X(e,l),m&&m.m(e,null),t[97](e),u=us(e,t[98].bind(e)),f=!0,c||(d=[Se(e,"dragover",t[76]),Se(e,"drop",t[77])],c=!0)},p(g,w){const y={};w[0]&2&&(y.selectionKey=g[1]),w[0]&32&&(y.deleteKey=g[5]),w[0]&4&&(y.panActivationKey=g[2]),w[0]&8&&(y.multiSelectionKey=g[3]),w[0]&16&&(y.zoomActivationKey=g[4]),n.$set(y);const E={};w[0]&256&&(E.onMoveStart=g[8]),w[0]&512&&(E.onMove=g[9]),w[0]&1024&&(E.onMoveEnd=g[10]),w[0]&2048&&(E.panOnScrollMode=g[11]===void 0?kt.Free:g[11]),w[0]&4096&&(E.preventScrolling=g[12]===void 0?!0:g[12]),w[0]&8192&&(E.zoomOnScroll=g[13]===void 0?!0:g[13]),w[0]&16384&&(E.zoomOnDoubleClick=g[14]===void 0?!0:g[14]),w[0]&32768&&(E.zoomOnPinch=g[15]===void 0?!0:g[15]),w[0]&65536&&(E.panOnScroll=g[16]===void 0?!1:g[16]),w[0]&131072&&(E.panOnDrag=g[17]===void 0?!0:g[17]),w[0]&4194304&&(E.paneClickDistance=g[22]===void 0?0:g[22]),w[0]&10879168|w[1]&8|w[3]&64&&(E.$$scope={dirty:w,ctx:g}),o.$set(E);const S={};w[0]&1048576&&(S.proOptions=g[20]),w[0]&524288&&(S.position=g[19]),s.$set(S),m&&m.p&&(!f||w[3]&64)&&rt(m,h,g,g[99],f?st(h,g[99],w,null):lt(g[99]),null),$t(e,b=At(_,[(!f||w[0]&16777216)&&{style:g[24]},(!f||w[0]&1107296256&&a!==(a=Ae(["svelte-flow",g[25],g[30]])))&&{class:a},{"data-testid":"svelte-flow__wrapper"},w[1]&4&&g[33],{role:"application"}])),de(e,"svelte-12wlba6",!0)},i(g){f||(R(n.$$.fragment,g),R(o.$$.fragment,g),R(s.$$.fragment,g),R(m,g),f=!0)},o(g){F(n.$$.fragment,g),F(o.$$.fragment,g),F(s.$$.fragment,g),F(m,g),f=!1},d(g){g&&C(e),ue(n),ue(o),ue(s),m&&m.d(g),t[97](null),u(),c=!1,mt(d)}}}function Eg(t,e,n){let i;const o=["id","nodes","edges","fitView","fitViewOptions","minZoom","maxZoom","initialViewport","viewport","nodeTypes","edgeTypes","selectionKey","selectionMode","panActivationKey","multiSelectionKey","zoomActivationKey","nodesDraggable","nodesConnectable","nodeDragThreshold","elementsSelectable","snapGrid","deleteKey","connectionRadius","connectionLineType","connectionMode","connectionLineStyle","connectionLineContainerStyle","onMoveStart","onMove","onMoveEnd","isValidConnection","translateExtent","nodeExtent","onlyRenderVisibleElements","panOnScrollMode","preventScrolling","zoomOnScroll","zoomOnDoubleClick","zoomOnPinch","panOnScroll","panOnDrag","selectionOnDrag","autoPanOnConnect","autoPanOnNodeDrag","onerror","ondelete","onedgecreate","attributionPosition","proOptions","defaultEdgeOptions","width","height","colorMode","onconnect","onconnectstart","onconnectend","onbeforedelete","oninit","nodeOrigin","paneClickDistance","nodeClickDistance","defaultMarkerColor","style","class"];let r=Xe(e,o),s,l,a=pe,u=()=>(a(),a=to(L,M=>n(100,l=M)),L),f,c=pe,d=()=>(c(),c=to(i,M=>n(30,f=M)),i);t.$$.on_destroy.push(()=>a()),t.$$.on_destroy.push(()=>c());let{$$slots:h={},$$scope:m}=e;const _=fs(h);let{id:b="1"}=e,{nodes:g}=e,{edges:w}=e,{fitView:y=void 0}=e,{fitViewOptions:E=void 0}=e,{minZoom:S=void 0}=e,{maxZoom:T=void 0}=e,{initialViewport:V=void 0}=e,{viewport:L=void 0}=e;u();let{nodeTypes:D=void 0}=e,{edgeTypes:Y=void 0}=e,{selectionKey:G=void 0}=e,{selectionMode:B=void 0}=e,{panActivationKey:Z=void 0}=e,{multiSelectionKey:k=void 0}=e,{zoomActivationKey:A=void 0}=e,{nodesDraggable:v=void 0}=e,{nodesConnectable:N=void 0}=e,{nodeDragThreshold:O=void 0}=e,{elementsSelectable:I=void 0}=e,{snapGrid:W=void 0}=e,{deleteKey:U=void 0}=e,{connectionRadius:$=void 0}=e,{connectionLineType:oe=void 0}=e,{connectionMode:H=Kt.Strict}=e,{connectionLineStyle:te=""}=e,{connectionLineContainerStyle:re=""}=e,{onMoveStart:z=void 0}=e,{onMove:ce=void 0}=e,{onMoveEnd:we=void 0}=e,{isValidConnection:be=void 0}=e,{translateExtent:ve=void 0}=e,{nodeExtent:Ee=void 0}=e,{onlyRenderVisibleElements:He=void 0}=e,{panOnScrollMode:K=kt.Free}=e,{preventScrolling:De=!0}=e,{zoomOnScroll:Me=!0}=e,{zoomOnDoubleClick:at=!0}=e,{zoomOnPinch:Fe=!0}=e,{panOnScroll:je=!1}=e,{panOnDrag:Ve=!0}=e,{selectionOnDrag:Ne=void 0}=e,{autoPanOnConnect:ke=!0}=e,{autoPanOnNodeDrag:et=!0}=e,{onerror:Ze=void 0}=e,{ondelete:Qe=void 0}=e,{onedgecreate:bt=void 0}=e,{attributionPosition:tt=void 0}=e,{proOptions:ut=void 0}=e,{defaultEdgeOptions:P=void 0}=e,{width:xe=void 0}=e,{height:Le=void 0}=e,{colorMode:Oe="light"}=e,{onconnect:ft=void 0}=e,{onconnectstart:St=void 0}=e,{onconnectend:Ct=void 0}=e,{onbeforedelete:Mt=void 0}=e,{oninit:Ot=void 0}=e,{nodeOrigin:Vt=void 0}=e,{paneClickDistance:En=0}=e,{nodeClickDistance:Qi=0}=e,{defaultMarkerColor:ui="#b1b1b7"}=e,{style:xi=void 0}=e,{class:$i=void 0}=e,Sn,Zt,Ut;const Xl=l||V,$e=cs(ji)?qe():qd({nodes:ee(g),edges:ee(w),width:xe,height:Le,fitView:y,nodeOrigin:Vt,nodeExtent:Ee});Qn(()=>($e.width.set(Zt),$e.height.set(Ut),$e.domNode.set(Sn),$e.syncNodeStores(g),$e.syncEdgeStores(w),$e.syncViewport(L),y!==void 0&&$e.fitViewOnInit.set(y),E&&$e.fitViewOptions.set(E),ir($e,{nodeTypes:D,edgeTypes:Y,minZoom:S,maxZoom:T,translateExtent:ve,paneClickDistance:En}),()=>{$e.reset()}));const{initialized:eo}=$e;j(t,eo,M=>n(74,s=M));let fi=!1;function Rl(M){Ce.call(this,t,M)}function Yl(M){Ce.call(this,t,M)}function Bl(M){Ce.call(this,t,M)}function Wl(M){Ce.call(this,t,M)}function Kl(M){Ce.call(this,t,M)}function Fl(M){Ce.call(this,t,M)}function ql(M){Ce.call(this,t,M)}function Zl(M){Ce.call(this,t,M)}function Ul(M){Ce.call(this,t,M)}function Gl(M){Ce.call(this,t,M)}function Jl(M){Ce.call(this,t,M)}function jl(M){Ce.call(this,t,M)}function Ql(M){Ce.call(this,t,M)}function xl(M){Ce.call(this,t,M)}function $l(M){Ce.call(this,t,M)}function es(M){Ce.call(this,t,M)}function ts(M){Ce.call(this,t,M)}function ns(M){Ce.call(this,t,M)}function is(M){Ce.call(this,t,M)}function os(M){Ce.call(this,t,M)}function rs(M){Ce.call(this,t,M)}function ls(M){Ii[M?"unshift":"push"](()=>{Sn=M,n(28,Sn)})}function ss(){Zt=this.clientWidth,Ut=this.clientHeight,n(26,Zt),n(27,Ut)}return t.$$set=M=>{e=Pe(Pe({},e),_t(M)),n(33,r=Xe(e,o)),"id"in M&&n(35,b=M.id),"nodes"in M&&n(36,g=M.nodes),"edges"in M&&n(37,w=M.edges),"fitView"in M&&n(38,y=M.fitView),"fitViewOptions"in M&&n(39,E=M.fitViewOptions),"minZoom"in M&&n(40,S=M.minZoom),"maxZoom"in M&&n(41,T=M.maxZoom),"initialViewport"in M&&n(42,V=M.initialViewport),"viewport"in M&&u(n(0,L=M.viewport)),"nodeTypes"in M&&n(43,D=M.nodeTypes),"edgeTypes"in M&&n(44,Y=M.edgeTypes),"selectionKey"in M&&n(1,G=M.selectionKey),"selectionMode"in M&&n(45,B=M.selectionMode),"panActivationKey"in M&&n(2,Z=M.panActivationKey),"multiSelectionKey"in M&&n(3,k=M.multiSelectionKey),"zoomActivationKey"in M&&n(4,A=M.zoomActivationKey),"nodesDraggable"in M&&n(46,v=M.nodesDraggable),"nodesConnectable"in M&&n(47,N=M.nodesConnectable),"nodeDragThreshold"in M&&n(48,O=M.nodeDragThreshold),"elementsSelectable"in M&&n(49,I=M.elementsSelectable),"snapGrid"in M&&n(50,W=M.snapGrid),"deleteKey"in M&&n(5,U=M.deleteKey),"connectionRadius"in M&&n(51,$=M.connectionRadius),"connectionLineType"in M&&n(52,oe=M.connectionLineType),"connectionMode"in M&&n(53,H=M.connectionMode),"connectionLineStyle"in M&&n(6,te=M.connectionLineStyle),"connectionLineContainerStyle"in M&&n(7,re=M.connectionLineContainerStyle),"onMoveStart"in M&&n(8,z=M.onMoveStart),"onMove"in M&&n(9,ce=M.onMove),"onMoveEnd"in M&&n(10,we=M.onMoveEnd),"isValidConnection"in M&&n(54,be=M.isValidConnection),"translateExtent"in M&&n(55,ve=M.translateExtent),"nodeExtent"in M&&n(56,Ee=M.nodeExtent),"onlyRenderVisibleElements"in M&&n(57,He=M.onlyRenderVisibleElements),"panOnScrollMode"in M&&n(11,K=M.panOnScrollMode),"preventScrolling"in M&&n(12,De=M.preventScrolling),"zoomOnScroll"in M&&n(13,Me=M.zoomOnScroll),"zoomOnDoubleClick"in M&&n(14,at=M.zoomOnDoubleClick),"zoomOnPinch"in M&&n(15,Fe=M.zoomOnPinch),"panOnScroll"in M&&n(16,je=M.panOnScroll),"panOnDrag"in M&&n(17,Ve=M.panOnDrag),"selectionOnDrag"in M&&n(18,Ne=M.selectionOnDrag),"autoPanOnConnect"in M&&n(58,ke=M.autoPanOnConnect),"autoPanOnNodeDrag"in M&&n(59,et=M.autoPanOnNodeDrag),"onerror"in M&&n(60,Ze=M.onerror),"ondelete"in M&&n(61,Qe=M.ondelete),"onedgecreate"in M&&n(62,bt=M.onedgecreate),"attributionPosition"in M&&n(19,tt=M.attributionPosition),"proOptions"in M&&n(20,ut=M.proOptions),"defaultEdgeOptions"in M&&n(21,P=M.defaultEdgeOptions),"width"in M&&n(63,xe=M.width),"height"in M&&n(64,Le=M.height),"colorMode"in M&&n(65,Oe=M.colorMode),"onconnect"in M&&n(66,ft=M.onconnect),"onconnectstart"in M&&n(67,St=M.onconnectstart),"onconnectend"in M&&n(68,Ct=M.onconnectend),"onbeforedelete"in M&&n(69,Mt=M.onbeforedelete),"oninit"in M&&n(70,Ot=M.oninit),"nodeOrigin"in M&&n(71,Vt=M.nodeOrigin),"paneClickDistance"in M&&n(22,En=M.paneClickDistance),"nodeClickDistance"in M&&n(23,Qi=M.nodeClickDistance),"defaultMarkerColor"in M&&n(72,ui=M.defaultMarkerColor),"style"in M&&n(24,xi=M.style),"class"in M&&n(25,$i=M.class),"$$scope"in M&&n(99,m=M.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&201326592&&Zt!==void 0&&Ut!==void 0&&($e.width.set(Zt),$e.height.set(Ut)),t.$$.dirty[2]&6400&&!fi&&s&&(Ot==null||Ot(),n(73,fi=!0)),t.$$.dirty[1]&2097135632|t.$$.dirty[2]&1777&&gg($e,{flowId:b,connectionLineType:oe,connectionRadius:$,selectionMode:B,snapGrid:W,defaultMarkerColor:ui,nodesDraggable:v,nodesConnectable:N,elementsSelectable:I,onlyRenderVisibleElements:He,isValidConnection:be,autoPanOnConnect:ke,autoPanOnNodeDrag:et,onerror:Ze,ondelete:Qe,onedgecreate:bt,connectionMode:H,nodeDragThreshold:O,onconnect:ft,onconnectstart:St,onconnectend:Ct,onbeforedelete:Mt,nodeOrigin:Vt}),t.$$.dirty[0]&4194304|t.$$.dirty[1]&16791040&&ir($e,{nodeTypes:D,edgeTypes:Y,minZoom:S,maxZoom:T,translateExtent:ve,paneClickDistance:En}),t.$$.dirty[2]&8&&d(n(29,i=_g(Oe)))},[L,G,Z,k,A,U,te,re,z,ce,we,K,De,Me,at,Fe,je,Ve,Ne,tt,ut,P,En,Qi,xi,$i,Zt,Ut,Sn,i,f,Xl,eo,r,_,b,g,w,y,E,S,T,V,D,Y,B,v,N,O,I,W,$,oe,H,be,ve,Ee,He,ke,et,Ze,Qe,bt,xe,Le,Oe,ft,St,Ct,Mt,Ot,Vt,ui,fi,s,h,Rl,Yl,Bl,Wl,Kl,Fl,ql,Zl,Ul,Gl,Jl,jl,Ql,xl,$l,es,ts,ns,is,os,rs,ls,ss,m]}class Sg extends he{constructor(e){super(),ge(this,e,Eg,kg,ye,{id:35,nodes:36,edges:37,fitView:38,fitViewOptions:39,minZoom:40,maxZoom:41,initialViewport:42,viewport:0,nodeTypes:43,edgeTypes:44,selectionKey:1,selectionMode:45,panActivationKey:2,multiSelectionKey:3,zoomActivationKey:4,nodesDraggable:46,nodesConnectable:47,nodeDragThreshold:48,elementsSelectable:49,snapGrid:50,deleteKey:5,connectionRadius:51,connectionLineType:52,connectionMode:53,connectionLineStyle:6,connectionLineContainerStyle:7,onMoveStart:8,onMove:9,onMoveEnd:10,isValidConnection:54,translateExtent:55,nodeExtent:56,onlyRenderVisibleElements:57,panOnScrollMode:11,preventScrolling:12,zoomOnScroll:13,zoomOnDoubleClick:14,zoomOnPinch:15,panOnScroll:16,panOnDrag:17,selectionOnDrag:18,autoPanOnConnect:58,autoPanOnNodeDrag:59,onerror:60,ondelete:61,onedgecreate:62,attributionPosition:19,proOptions:20,defaultEdgeOptions:21,width:63,height:64,colorMode:65,onconnect:66,onconnectstart:67,onconnectend:68,onbeforedelete:69,oninit:70,nodeOrigin:71,paneClickDistance:22,nodeClickDistance:23,defaultMarkerColor:72,style:24,class:25},null,[-1,-1,-1,-1])}}const Cg=Sg,Mg=t=>({}),rr=t=>({class:"button-svg"});function Ng(t){let e,n,i,o,r;const s=t[8].default,l=ot(s,t,t[7],rr);let a=[{type:"button"},{class:n=Ae(["svelte-flow__controls-button",t[0]])},t[6]],u={};for(let f=0;f<a.length;f+=1)u=Pe(u,a[f]);return{c(){e=Q("button"),l&&l.c(),this.h()},l(f){e=x(f,"BUTTON",{type:!0,class:!0});var c=q(e);l&&l.l(c),c.forEach(C),this.h()},h(){$t(e,u),me(e,"--xy-controls-button-background-color-props",t[1]),me(e,"--xy-controls-button-background-color-hover-props",t[2]),me(e,"--xy-controls-button-color-props",t[3]),me(e,"--xy-controls-button-color-hover-props",t[4]),me(e,"--xy-controls-button-border-color-props",t[5])},m(f,c){J(f,e,c),l&&l.m(e,null),e.autofocus&&e.focus(),i=!0,o||(r=Se(e,"click",t[9]),o=!0)},p(f,[c]){l&&l.p&&(!i||c&128)&&rt(l,s,f,f[7],i?st(s,f[7],c,Mg):lt(f[7]),rr),$t(e,u=At(a,[{type:"button"},(!i||c&1&&n!==(n=Ae(["svelte-flow__controls-button",f[0]])))&&{class:n},c&64&&f[6]])),me(e,"--xy-controls-button-background-color-props",f[1]),me(e,"--xy-controls-button-background-color-hover-props",f[2]),me(e,"--xy-controls-button-color-props",f[3]),me(e,"--xy-controls-button-color-hover-props",f[4]),me(e,"--xy-controls-button-border-color-props",f[5])},i(f){i||(R(l,f),i=!0)},o(f){F(l,f),i=!1},d(f){f&&C(e),l&&l.d(f),o=!1,r()}}}function Pg(t,e,n){const i=["class","bgColor","bgColorHover","color","colorHover","borderColor"];let o=Xe(e,i),{$$slots:r={},$$scope:s}=e,{class:l=void 0}=e,{bgColor:a=void 0}=e,{bgColorHover:u=void 0}=e,{color:f=void 0}=e,{colorHover:c=void 0}=e,{borderColor:d=void 0}=e;function h(m){Ce.call(this,t,m)}return t.$$set=m=>{e=Pe(Pe({},e),_t(m)),n(6,o=Xe(e,i)),"class"in m&&n(0,l=m.class),"bgColor"in m&&n(1,a=m.bgColor),"bgColorHover"in m&&n(2,u=m.bgColorHover),"color"in m&&n(3,f=m.color),"colorHover"in m&&n(4,c=m.colorHover),"borderColor"in m&&n(5,d=m.borderColor),"$$scope"in m&&n(7,s=m.$$scope)},[l,a,u,f,c,d,o,s,r,h]}class Dg extends he{constructor(e){super(),ge(this,e,Pg,Ng,ye,{class:0,bgColor:1,bgColorHover:2,color:3,colorHover:4,borderColor:5})}}const jn=Dg;function Tg(t){let e,n;return{c(){e=Te("svg"),n=Te("path"),this.h()},l(i){e=ze(i,"svg",{xmlns:!0,viewBox:!0});var o=q(e);n=ze(o,"path",{d:!0}),q(n).forEach(C),o.forEach(C),this.h()},h(){p(n,"d","M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"viewBox","0 0 32 32")},m(i,o){J(i,e,o),X(e,n)},p:pe,i:pe,o:pe,d(i){i&&C(e)}}}class zg extends he{constructor(e){super(),ge(this,e,null,Tg,ye,{})}}const Og=zg;function Ig(t){let e,n;return{c(){e=Te("svg"),n=Te("path"),this.h()},l(i){e=ze(i,"svg",{xmlns:!0,viewBox:!0});var o=q(e);n=ze(o,"path",{d:!0}),q(n).forEach(C),o.forEach(C),this.h()},h(){p(n,"d","M0 0h32v4.2H0z"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"viewBox","0 0 32 5")},m(i,o){J(i,e,o),X(e,n)},p:pe,i:pe,o:pe,d(i){i&&C(e)}}}class Hg extends he{constructor(e){super(),ge(this,e,null,Ig,ye,{})}}const Ag=Hg;function Vg(t){let e,n;return{c(){e=Te("svg"),n=Te("path"),this.h()},l(i){e=ze(i,"svg",{xmlns:!0,viewBox:!0});var o=q(e);n=ze(o,"path",{d:!0}),q(n).forEach(C),o.forEach(C),this.h()},h(){p(n,"d","M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"viewBox","0 0 32 30")},m(i,o){J(i,e,o),X(e,n)},p:pe,i:pe,o:pe,d(i){i&&C(e)}}}class Lg extends he{constructor(e){super(),ge(this,e,null,Vg,ye,{})}}const Xg=Lg;function Rg(t){let e,n;return{c(){e=Te("svg"),n=Te("path"),this.h()},l(i){e=ze(i,"svg",{xmlns:!0,viewBox:!0});var o=q(e);n=ze(o,"path",{d:!0}),q(n).forEach(C),o.forEach(C),this.h()},h(){p(n,"d","M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"viewBox","0 0 25 32")},m(i,o){J(i,e,o),X(e,n)},p:pe,i:pe,o:pe,d(i){i&&C(e)}}}class Yg extends he{constructor(e){super(),ge(this,e,null,Rg,ye,{})}}const Bg=Yg;function Wg(t){let e,n;return{c(){e=Te("svg"),n=Te("path"),this.h()},l(i){e=ze(i,"svg",{xmlns:!0,viewBox:!0});var o=q(e);n=ze(o,"path",{d:!0}),q(n).forEach(C),o.forEach(C),this.h()},h(){p(n,"d","M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"viewBox","0 0 25 32")},m(i,o){J(i,e,o),X(e,n)},p:pe,i:pe,o:pe,d(i){i&&C(e)}}}class Kg extends he{constructor(e){super(),ge(this,e,null,Wg,ye,{})}}const Fg=Kg,qg=t=>({}),lr=t=>({}),Zg=t=>({}),sr=t=>({});function ar(t){let e,n,i,o;const r=[{class:"svelte-flow__controls-zoomin"},{title:"zoom in"},{"aria-label":"zoom in"},{disabled:t[9]},t[17]];let s={$$slots:{default:[Ug]},$$scope:{ctx:t}};for(let u=0;u<r.length;u+=1)s=Pe(s,r[u]);e=new jn({props:s}),e.$on("click",t[18]);const l=[{class:"svelte-flow__controls-zoomout"},{title:"zoom out"},{"aria-label":"zoom out"},{disabled:t[10]},t[17]];let a={$$slots:{default:[Gg]},$$scope:{ctx:t}};for(let u=0;u<l.length;u+=1)a=Pe(a,l[u]);return i=new jn({props:a}),i.$on("click",t[19]),{c(){se(e.$$.fragment),n=ne(),se(i.$$.fragment)},l(u){fe(e.$$.fragment,u),n=ie(u),fe(i.$$.fragment,u)},m(u,f){ae(e,u,f),J(u,n,f),ae(i,u,f),o=!0},p(u,f){const c=f[0]&131584?At(r,[r[0],r[1],r[2],f[0]&512&&{disabled:u[9]},f[0]&131072&&dn(u[17])]):{};f[1]&32&&(c.$$scope={dirty:f,ctx:u}),e.$set(c);const d=f[0]&132096?At(l,[l[0],l[1],l[2],f[0]&1024&&{disabled:u[10]},f[0]&131072&&dn(u[17])]):{};f[1]&32&&(d.$$scope={dirty:f,ctx:u}),i.$set(d)},i(u){o||(R(e.$$.fragment,u),R(i.$$.fragment,u),o=!0)},o(u){F(e.$$.fragment,u),F(i.$$.fragment,u),o=!1},d(u){u&&C(n),ue(e,u),ue(i,u)}}}function Ug(t){let e,n;return e=new Og({}),{c(){se(e.$$.fragment)},l(i){fe(e.$$.fragment,i)},m(i,o){ae(e,i,o),n=!0},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){F(e.$$.fragment,i),n=!1},d(i){ue(e,i)}}}function Gg(t){let e,n;return e=new Ag({}),{c(){se(e.$$.fragment)},l(i){fe(e.$$.fragment,i)},m(i,o){ae(e,i,o),n=!0},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){F(e.$$.fragment,i),n=!1},d(i){ue(e,i)}}}function ur(t){let e,n;const i=[{class:"svelte-flow__controls-fitview"},{title:"fit view"},{"aria-label":"fit view"},t[17]];let o={$$slots:{default:[Jg]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=Pe(o,i[r]);return e=new jn({props:o}),e.$on("click",t[20]),{c(){se(e.$$.fragment)},l(r){fe(e.$$.fragment,r)},m(r,s){ae(e,r,s),n=!0},p(r,s){const l=s[0]&131072?At(i,[i[0],i[1],i[2],dn(r[17])]):{};s[1]&32&&(l.$$scope={dirty:s,ctx:r}),e.$set(l)},i(r){n||(R(e.$$.fragment,r),n=!0)},o(r){F(e.$$.fragment,r),n=!1},d(r){ue(e,r)}}}function Jg(t){let e,n;return e=new Xg({}),{c(){se(e.$$.fragment)},l(i){fe(e.$$.fragment,i)},m(i,o){ae(e,i,o),n=!0},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){F(e.$$.fragment,i),n=!1},d(i){ue(e,i)}}}function fr(t){let e,n;const i=[{class:"svelte-flow__controls-interactive"},{title:"toggle interactivity"},{"aria-label":"toggle interactivity"},t[17]];let o={$$slots:{default:[xg]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=Pe(o,i[r]);return e=new jn({props:o}),e.$on("click",t[21]),{c(){se(e.$$.fragment)},l(r){fe(e.$$.fragment,r)},m(r,s){ae(e,r,s),n=!0},p(r,s){const l=s[0]&131072?At(i,[i[0],i[1],i[2],dn(r[17])]):{};s[0]&256|s[1]&32&&(l.$$scope={dirty:s,ctx:r}),e.$set(l)},i(r){n||(R(e.$$.fragment,r),n=!0)},o(r){F(e.$$.fragment,r),n=!1},d(r){ue(e,r)}}}function jg(t){let e,n;return e=new Bg({}),{c(){se(e.$$.fragment)},l(i){fe(e.$$.fragment,i)},m(i,o){ae(e,i,o),n=!0},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){F(e.$$.fragment,i),n=!1},d(i){ue(e,i)}}}function Qg(t){let e,n;return e=new Fg({}),{c(){se(e.$$.fragment)},l(i){fe(e.$$.fragment,i)},m(i,o){ae(e,i,o),n=!0},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){F(e.$$.fragment,i),n=!1},d(i){ue(e,i)}}}function xg(t){let e,n,i,o;const r=[Qg,jg],s=[];function l(a,u){return a[8]?0:1}return e=l(t),n=s[e]=r[e](t),{c(){n.c(),i=Ie()},l(a){n.l(a),i=Ie()},m(a,u){s[e].m(a,u),J(a,i,u),o=!0},p(a,u){let f=e;e=l(a),e!==f&&(Ge(),F(s[f],1,1,()=>{s[f]=null}),Je(),n=s[e],n||(n=s[e]=r[e](a),n.c()),R(n,1),n.m(i.parentNode,i))},i(a){o||(R(n),o=!0)},o(a){F(n),o=!1},d(a){a&&C(i),s[e].d(a)}}}function $g(t){let e,n,i,o,r,s;const l=t[35].before,a=ot(l,t,t[36],sr);let u=t[1]&&ar(t),f=t[2]&&ur(t),c=t[3]&&fr(t);const d=t[35].default,h=ot(d,t,t[36],null),m=t[35].after,_=ot(m,t,t[36],lr);return{c(){a&&a.c(),e=ne(),u&&u.c(),n=ne(),f&&f.c(),i=ne(),c&&c.c(),o=ne(),h&&h.c(),r=ne(),_&&_.c()},l(b){a&&a.l(b),e=ie(b),u&&u.l(b),n=ie(b),f&&f.l(b),i=ie(b),c&&c.l(b),o=ie(b),h&&h.l(b),r=ie(b),_&&_.l(b)},m(b,g){a&&a.m(b,g),J(b,e,g),u&&u.m(b,g),J(b,n,g),f&&f.m(b,g),J(b,i,g),c&&c.m(b,g),J(b,o,g),h&&h.m(b,g),J(b,r,g),_&&_.m(b,g),s=!0},p(b,g){a&&a.p&&(!s||g[1]&32)&&rt(a,l,b,b[36],s?st(l,b[36],g,Zg):lt(b[36]),sr),b[1]?u?(u.p(b,g),g[0]&2&&R(u,1)):(u=ar(b),u.c(),R(u,1),u.m(n.parentNode,n)):u&&(Ge(),F(u,1,1,()=>{u=null}),Je()),b[2]?f?(f.p(b,g),g[0]&4&&R(f,1)):(f=ur(b),f.c(),R(f,1),f.m(i.parentNode,i)):f&&(Ge(),F(f,1,1,()=>{f=null}),Je()),b[3]?c?(c.p(b,g),g[0]&8&&R(c,1)):(c=fr(b),c.c(),R(c,1),c.m(o.parentNode,o)):c&&(Ge(),F(c,1,1,()=>{c=null}),Je()),h&&h.p&&(!s||g[1]&32)&&rt(h,d,b,b[36],s?st(d,b[36],g,null):lt(b[36]),null),_&&_.p&&(!s||g[1]&32)&&rt(_,m,b,b[36],s?st(m,b[36],g,qg):lt(b[36]),lr)},i(b){s||(R(a,b),R(u),R(f),R(c),R(h,b),R(_,b),s=!0)},o(b){F(a,b),F(u),F(f),F(c),F(h,b),F(_,b),s=!1},d(b){b&&(C(e),C(n),C(i),C(o),C(r)),a&&a.d(b),u&&u.d(b),f&&f.d(b),c&&c.d(b),h&&h.d(b),_&&_.d(b)}}}function e1(t){let e,n;return e=new Ll({props:{class:Ae(["svelte-flow__controls",t[7],t[6]]),position:t[0],"data-testid":"svelte-flow__controls","aria-label":t[4]??"Svelte Flow controls",style:t[5],$$slots:{default:[$g]},$$scope:{ctx:t}}}),{c(){se(e.$$.fragment)},l(i){fe(e.$$.fragment,i)},m(i,o){ae(e,i,o),n=!0},p(i,o){const r={};o[0]&192&&(r.class=Ae(["svelte-flow__controls",i[7],i[6]])),o[0]&1&&(r.position=i[0]),o[0]&16&&(r["aria-label"]=i[4]??"Svelte Flow controls"),o[0]&32&&(r.style=i[5]),o[0]&1806|o[1]&32&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){F(e.$$.fragment,i),n=!1},d(i){ue(e,i)}}}function t1(t,e,n){let i,o,r,s,l,a,u,f,c,d,{$$slots:h={},$$scope:m}=e,{position:_="bottom-left"}=e,{showZoom:b=!0}=e,{showFitView:g=!0}=e,{showLock:w=!0}=e,{buttonBgColor:y=void 0}=e,{buttonBgColorHover:E=void 0}=e,{buttonColor:S=void 0}=e,{buttonColorHover:T=void 0}=e,{buttonBorderColor:V=void 0}=e,{ariaLabel:L=void 0}=e,{style:D=void 0}=e,{orientation:Y="vertical"}=e,{fitViewOptions:G=void 0}=e,{class:B=""}=e;const{zoomIn:Z,zoomOut:k,fitView:A,viewport:v,minZoom:N,maxZoom:O,nodesDraggable:I,nodesConnectable:W,elementsSelectable:U}=qe();j(t,v,z=>n(30,a=z)),j(t,N,z=>n(31,u=z)),j(t,O,z=>n(29,l=z)),j(t,I,z=>n(34,d=z)),j(t,W,z=>n(33,c=z)),j(t,U,z=>n(32,f=z));const $={bgColor:y,bgColorHover:E,color:S,colorHover:T,borderColor:V},oe=()=>{Z()},H=()=>{k()},te=()=>{A(G)},re=()=>{n(8,i=!i),I.set(i),W.set(i),U.set(i)};return t.$$set=z=>{"position"in z&&n(0,_=z.position),"showZoom"in z&&n(1,b=z.showZoom),"showFitView"in z&&n(2,g=z.showFitView),"showLock"in z&&n(3,w=z.showLock),"buttonBgColor"in z&&n(22,y=z.buttonBgColor),"buttonBgColorHover"in z&&n(23,E=z.buttonBgColorHover),"buttonColor"in z&&n(24,S=z.buttonColor),"buttonColorHover"in z&&n(25,T=z.buttonColorHover),"buttonBorderColor"in z&&n(26,V=z.buttonBorderColor),"ariaLabel"in z&&n(4,L=z.ariaLabel),"style"in z&&n(5,D=z.style),"orientation"in z&&n(27,Y=z.orientation),"fitViewOptions"in z&&n(28,G=z.fitViewOptions),"class"in z&&n(6,B=z.class),"$$scope"in z&&n(36,m=z.$$scope)},t.$$.update=()=>{t.$$.dirty[1]&14&&n(8,i=d||c||f),t.$$.dirty[0]&1073741824|t.$$.dirty[1]&1&&n(10,o=a.zoom<=u),t.$$.dirty[0]&1610612736&&n(9,r=a.zoom>=l),t.$$.dirty[0]&134217728&&n(7,s=Y==="horizontal"?"horizontal":"vertical")},[_,b,g,w,L,D,B,s,i,r,o,v,N,O,I,W,U,$,oe,H,te,re,y,E,S,T,V,Y,G,l,a,u,f,c,d,h,m]}class n1 extends he{constructor(e){super(),ge(this,e,t1,e1,ye,{position:0,showZoom:1,showFitView:2,showLock:3,buttonBgColor:22,buttonBgColorHover:23,buttonColor:24,buttonColorHover:25,buttonBorderColor:26,ariaLabel:4,style:5,orientation:27,fitViewOptions:28,class:6},null,[-1,-1])}}const i1=n1;var Ht;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(Ht||(Ht={}));function o1(t){let e,n;return{c(){e=Te("circle"),this.h()},l(i){e=ze(i,"circle",{cx:!0,cy:!0,r:!0,class:!0}),q(e).forEach(C),this.h()},h(){p(e,"cx",t[0]),p(e,"cy",t[0]),p(e,"r",t[0]),p(e,"class",n=Ae(["svelte-flow__background-pattern","dots",t[1]]))},m(i,o){J(i,e,o)},p(i,[o]){o&1&&p(e,"cx",i[0]),o&1&&p(e,"cy",i[0]),o&1&&p(e,"r",i[0]),o&2&&n!==(n=Ae(["svelte-flow__background-pattern","dots",i[1]]))&&p(e,"class",n)},i:pe,o:pe,d(i){i&&C(e)}}}function r1(t,e,n){let{radius:i=5}=e,{class:o=""}=e;return t.$$set=r=>{"radius"in r&&n(0,i=r.radius),"class"in r&&n(1,o=r.class)},[i,o]}class l1 extends he{constructor(e){super(),ge(this,e,r1,o1,ye,{radius:0,class:1})}}const s1=l1;function a1(t){let e,n,i;return{c(){e=Te("path"),this.h()},l(o){e=ze(o,"path",{"stroke-width":!0,d:!0,class:!0}),q(e).forEach(C),this.h()},h(){p(e,"stroke-width",t[0]),p(e,"d",n=`M${t[1][0]/2} 0 V${t[1][1]} M0 ${t[1][1]/2} H${t[1][0]}`),p(e,"class",i=Ae(["svelte-flow__background-pattern",t[2],t[3]]))},m(o,r){J(o,e,r)},p(o,[r]){r&1&&p(e,"stroke-width",o[0]),r&2&&n!==(n=`M${o[1][0]/2} 0 V${o[1][1]} M0 ${o[1][1]/2} H${o[1][0]}`)&&p(e,"d",n),r&12&&i!==(i=Ae(["svelte-flow__background-pattern",o[2],o[3]]))&&p(e,"class",i)},i:pe,o:pe,d(o){o&&C(e)}}}function u1(t,e,n){let{lineWidth:i=1}=e,{dimensions:o}=e,{variant:r=void 0}=e,{class:s=""}=e;return t.$$set=l=>{"lineWidth"in l&&n(0,i=l.lineWidth),"dimensions"in l&&n(1,o=l.dimensions),"variant"in l&&n(2,r=l.variant),"class"in l&&n(3,s=l.class)},[i,o,r,s]}class f1 extends he{constructor(e){super(),ge(this,e,u1,a1,ye,{lineWidth:0,dimensions:1,variant:2,class:3})}}const c1=f1;function d1(t){let e,n;return e=new c1({props:{dimensions:t[6],variant:t[0],lineWidth:t[1],class:t[4]}}),{c(){se(e.$$.fragment)},l(i){fe(e.$$.fragment,i)},m(i,o){ae(e,i,o),n=!0},p(i,o){const r={};o&64&&(r.dimensions=i[6]),o&1&&(r.variant=i[0]),o&2&&(r.lineWidth=i[1]),o&16&&(r.class=i[4]),e.$set(r)},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){F(e.$$.fragment,i),n=!1},d(i){ue(e,i)}}}function h1(t){let e,n;return e=new s1({props:{radius:t[7]/2,class:t[4]}}),{c(){se(e.$$.fragment)},l(i){fe(e.$$.fragment,i)},m(i,o){ae(e,i,o),n=!0},p(i,o){const r={};o&128&&(r.radius=i[7]/2),o&16&&(r.class=i[4]),e.$set(r)},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){F(e.$$.fragment,i),n=!1},d(i){ue(e,i)}}}function g1(t){let e,n,i,o,r,s,l,a,u,f,c,d,h;const m=[h1,d1],_=[];function b(g,w){return g[14]?0:1}return i=b(t),o=_[i]=m[i](t),{c(){e=Te("svg"),n=Te("pattern"),o.c(),f=Te("rect"),this.h()},l(g){e=ze(g,"svg",{class:!0,"data-testid":!0});var w=q(e);n=ze(w,"pattern",{id:!0,x:!0,y:!0,width:!0,height:!0,patternUnits:!0,patternTransform:!0});var y=q(n);o.l(y),y.forEach(C),f=ze(w,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),q(f).forEach(C),w.forEach(C),this.h()},h(){p(n,"id",t[11]),p(n,"x",r=t[9].x%t[8][0]),p(n,"y",s=t[9].y%t[8][1]),p(n,"width",l=t[8][0]),p(n,"height",a=t[8][1]),p(n,"patternUnits","userSpaceOnUse"),p(n,"patternTransform",u=`translate(-${t[10][0]},-${t[10][1]})`),p(f,"x","0"),p(f,"y","0"),p(f,"width","100%"),p(f,"height","100%"),p(f,"fill",c=`url(#${t[11]})`),p(e,"class",d=no(Ae(["svelte-flow__background",t[5]]))+" svelte-1r7pe8d"),p(e,"data-testid","svelte-flow__background"),me(e,"--xy-background-color-props",t[2]),me(e,"--xy-background-pattern-color-props",t[3])},m(g,w){J(g,e,w),X(e,n),_[i].m(n,null),X(e,f),h=!0},p(g,[w]){o.p(g,w),(!h||w&2048)&&p(n,"id",g[11]),(!h||w&768&&r!==(r=g[9].x%g[8][0]))&&p(n,"x",r),(!h||w&768&&s!==(s=g[9].y%g[8][1]))&&p(n,"y",s),(!h||w&256&&l!==(l=g[8][0]))&&p(n,"width",l),(!h||w&256&&a!==(a=g[8][1]))&&p(n,"height",a),(!h||w&1024&&u!==(u=`translate(-${g[10][0]},-${g[10][1]})`))&&p(n,"patternTransform",u),(!h||w&2048&&c!==(c=`url(#${g[11]})`))&&p(f,"fill",c),(!h||w&32&&d!==(d=no(Ae(["svelte-flow__background",g[5]]))+" svelte-1r7pe8d"))&&p(e,"class",d),w&4&&me(e,"--xy-background-color-props",g[2]),w&8&&me(e,"--xy-background-pattern-color-props",g[3])},i(g){h||(R(o),h=!0)},o(g){F(o),h=!1},d(g){g&&C(e),_[i].d()}}}const m1={[Ht.Dots]:1,[Ht.Lines]:1,[Ht.Cross]:6};function _1(t,e,n){let i,o,r,s,l,a,u,{id:f=void 0}=e,{variant:c=Ht.Dots}=e,{gap:d=20}=e,{size:h=1}=e,{lineWidth:m=1}=e,{bgColor:_=void 0}=e,{patternColor:b=void 0}=e,{patternClass:g=void 0}=e,{class:w=""}=e;const{viewport:y,flowId:E}=qe();j(t,y,D=>n(9,a=D)),j(t,E,D=>n(18,u=D));const S=h||m1[c],T=c===Ht.Dots,V=c===Ht.Cross,L=Array.isArray(d)?d:[d,d];return t.$$set=D=>{"id"in D&&n(15,f=D.id),"variant"in D&&n(0,c=D.variant),"gap"in D&&n(16,d=D.gap),"size"in D&&n(17,h=D.size),"lineWidth"in D&&n(1,m=D.lineWidth),"bgColor"in D&&n(2,_=D.bgColor),"patternColor"in D&&n(3,b=D.patternColor),"patternClass"in D&&n(4,g=D.patternClass),"class"in D&&n(5,w=D.class)},t.$$.update=()=>{t.$$.dirty&294912&&n(11,i=`background-pattern-${u}-${f||""}`),t.$$.dirty&512&&n(8,o=[L[0]*a.zoom||1,L[1]*a.zoom||1]),t.$$.dirty&512&&n(7,r=S*a.zoom),t.$$.dirty&384&&n(6,s=V?[r,r]:o),t.$$.dirty&192&&n(10,l=T?[r/2,r/2]:[s[0]/2,s[1]/2])},[c,m,_,b,g,w,s,r,o,a,l,i,y,E,T,f,d,h,u]}class y1 extends he{constructor(e){super(),ge(this,e,_1,g1,ye,{id:15,variant:0,gap:16,size:17,lineWidth:1,bgColor:2,patternColor:3,patternClass:4,class:5})}}const b1=y1;function w1(t){let e,n,i,o,r=t[0].name+"",s,l,a,u,f,c='<th class="text-left third svelte-3q253y">Start</th> <th class="svelte-3q253y">Duration</th> <th class="text-right third svelte-3q253y">Finish</th>',d,h,m,_=t[0].es+"",b,g,w,y=t[0].expected+"",E,S,T,V=t[0].ef+"",L,D,Y,G,B=t[0].ls+"",Z,k,A,v=t[0].lf+"",N,O,I,W,U,$,oe='<th class="text-left third svelte-3q253y">Min</th> <th class="svelte-3q253y">Likely</th> <th class="text-right third svelte-3q253y">Max</th>',H,te,re,z=t[0].min+"",ce,we,be,ve=t[0].likely+"",Ee,He,K,De=t[0].max+"",Me,at,Fe,je,Ve;return n=new ln({props:{type:"target",position:"left",isConnectable:t[1]}}),Fe=new ln({props:{type:"source",position:"right",isConnectable:t[1]}}),{c(){e=Q("div"),se(n.$$.fragment),i=ne(),o=Q("div"),s=Ye(r),a=ne(),u=Q("table"),f=Q("tr"),f.innerHTML=c,d=ne(),h=Q("tr"),m=Q("td"),b=Ye(_),g=ne(),w=Q("td"),E=Ye(y),S=ne(),T=Q("td"),L=Ye(V),D=ne(),Y=Q("tr"),G=Q("td"),Z=Ye(B),k=ne(),A=Q("td"),N=Ye(v),O=ne(),I=Q("hr"),W=ne(),U=Q("table"),$=Q("tr"),$.innerHTML=oe,H=ne(),te=Q("tr"),re=Q("td"),ce=Ye(z),we=ne(),be=Q("td"),Ee=Ye(ve),He=ne(),K=Q("td"),Me=Ye(De),at=ne(),se(Fe.$$.fragment),this.h()},l(Ne){e=x(Ne,"DIV",{class:!0});var ke=q(e);fe(n.$$.fragment,ke),i=ie(ke),o=x(ke,"DIV",{class:!0});var et=q(o);s=Be(et,r),et.forEach(C),a=ie(ke),u=x(ke,"TABLE",{style:!0,class:!0});var Ze=q(u);f=x(Ze,"TR",{"data-svelte-h":!0}),Tt(f)!=="svelte-1kap4rr"&&(f.innerHTML=c),d=ie(Ze),h=x(Ze,"TR",{});var Qe=q(h);m=x(Qe,"TD",{class:!0});var bt=q(m);b=Be(bt,_),bt.forEach(C),g=ie(Qe),w=x(Qe,"TD",{class:!0,rowspan:!0});var tt=q(w);E=Be(tt,y),tt.forEach(C),S=ie(Qe),T=x(Qe,"TD",{class:!0});var ut=q(T);L=Be(ut,V),ut.forEach(C),Qe.forEach(C),D=ie(Ze),Y=x(Ze,"TR",{});var P=q(Y);G=x(P,"TD",{class:!0});var xe=q(G);Z=Be(xe,B),xe.forEach(C),k=ie(P),A=x(P,"TD",{class:!0});var Le=q(A);N=Be(Le,v),Le.forEach(C),P.forEach(C),Ze.forEach(C),O=ie(ke),I=x(ke,"HR",{class:!0}),W=ie(ke),U=x(ke,"TABLE",{style:!0,class:!0});var Oe=q(U);$=x(Oe,"TR",{"data-svelte-h":!0}),Tt($)!=="svelte-11mrgyi"&&($.innerHTML=oe),H=ie(Oe),te=x(Oe,"TR",{});var ft=q(te);re=x(ft,"TD",{class:!0});var St=q(re);ce=Be(St,z),St.forEach(C),we=ie(ft),be=x(ft,"TD",{class:!0});var Ct=q(be);Ee=Be(Ct,ve),Ct.forEach(C),He=ie(ft),K=x(ft,"TD",{class:!0});var Mt=q(K);Me=Be(Mt,De),Mt.forEach(C),ft.forEach(C),Oe.forEach(C),at=ie(ke),fe(Fe.$$.fragment,ke),ke.forEach(C),this.h()},h(){p(o,"class",l="heading "+t[3]+" svelte-3q253y"),p(m,"class","text-left"),p(w,"class","text-center va-middle"),p(w,"rowspan","2"),p(T,"class","text-right"),p(G,"class","text-left"),p(A,"class","text-right"),me(u,"width","99.9%"),p(u,"class","svelte-3q253y"),p(I,"class","svelte-3q253y"),p(re,"class","text-left"),p(be,"class","text-center"),p(K,"class","text-right"),me(U,"width","99.9%"),p(U,"class","svelte-3q253y"),p(e,"class",je="critical-path-node "+t[2]+" svelte-3q253y")},m(Ne,ke){J(Ne,e,ke),ae(n,e,null),X(e,i),X(e,o),X(o,s),X(e,a),X(e,u),X(u,f),X(u,d),X(u,h),X(h,m),X(m,b),X(h,g),X(h,w),X(w,E),X(h,S),X(h,T),X(T,L),X(u,D),X(u,Y),X(Y,G),X(G,Z),X(Y,k),X(Y,A),X(A,N),X(e,O),X(e,I),X(e,W),X(e,U),X(U,$),X(U,H),X(U,te),X(te,re),X(re,ce),X(te,we),X(te,be),X(be,Ee),X(te,He),X(te,K),X(K,Me),X(e,at),ae(Fe,e,null),Ve=!0},p(Ne,[ke]){const et={};ke&2&&(et.isConnectable=Ne[1]),n.$set(et),(!Ve||ke&1)&&r!==(r=Ne[0].name+"")&&We(s,r),(!Ve||ke&8&&l!==(l="heading "+Ne[3]+" svelte-3q253y"))&&p(o,"class",l),(!Ve||ke&1)&&_!==(_=Ne[0].es+"")&&We(b,_),(!Ve||ke&1)&&y!==(y=Ne[0].expected+"")&&We(E,y),(!Ve||ke&1)&&V!==(V=Ne[0].ef+"")&&We(L,V),(!Ve||ke&1)&&B!==(B=Ne[0].ls+"")&&We(Z,B),(!Ve||ke&1)&&v!==(v=Ne[0].lf+"")&&We(N,v),(!Ve||ke&1)&&z!==(z=Ne[0].min+"")&&We(ce,z),(!Ve||ke&1)&&ve!==(ve=Ne[0].likely+"")&&We(Ee,ve),(!Ve||ke&1)&&De!==(De=Ne[0].max+"")&&We(Me,De);const Ze={};ke&2&&(Ze.isConnectable=Ne[1]),Fe.$set(Ze),(!Ve||ke&4&&je!==(je="critical-path-node "+Ne[2]+" svelte-3q253y"))&&p(e,"class",je)},i(Ne){Ve||(R(n.$$.fragment,Ne),R(Fe.$$.fragment,Ne),Ve=!0)},o(Ne){F(n.$$.fragment,Ne),F(Fe.$$.fragment,Ne),Ve=!1},d(Ne){Ne&&C(e),ue(n),ue(Fe)}}}function v1(t,e,n){let i,o,{data:r}=e,{isConnectable:s=!0}=e;return t.$$set=l=>{"data"in l&&n(0,r=l.data),"isConnectable"in l&&n(1,s=l.isConnectable)},t.$$.update=()=>{t.$$.dirty&1&&n(3,i=Number(r.progress)>=100?"bg-emerald":r.slack===0?"bg-darkSteel":"bg-darkBlue"),t.$$.dirty&1&&n(2,o=r.slack===0?"critical":"normal")},[r,s,o,i]}class p1 extends he{constructor(e){super(),ge(this,e,v1,w1,ye,{data:0,isConnectable:1})}}function k1(t,e,n={}){const{nodeWidth:i=250,nodeHeight:o=150,horizontalSpacing:r=100,verticalSpacing:s=50,startX:l=50,startY:a=50}=n;if(!(t!=null&&t.length))return console.warn("No nodes provided for layout"),[];const u=new Map(t.map(w=>[w.id,{...w,level:0,column:0}])),f=new Map,c=new Map;t.forEach(w=>{f.set(w.id,[]),c.set(w.id,[])}),e.filter(w=>!w.source||!w.target?(console.warn("Invalid edge missing source or target:",w),!1):u.has(w.source)?u.has(w.target)?!0:(console.warn("Edge references non-existent target node:",w),!1):(console.warn("Edge references non-existent source node:",w),!1)).forEach(w=>{f.get(w.source).push(w.target),c.get(w.target).push(w.source)});const h=t.filter(w=>c.get(w.id).length===0);h.length===0&&(console.warn("No root nodes found (possible circular dependency)"),h.push(t[0]));const m=h.map(w=>w.id),_=new Set;let b=0;for(;m.length>0;){const w=m.shift();if(_.has(w))continue;_.add(w);const y=u.get(w),E=c.get(w)||[],S=Math.max(0,...E.map(V=>{var L;return(((L=u.get(V))==null?void 0:L.level)||0)+1}));y.level=S,b=Math.max(b,S),(f.get(w)||[]).forEach(V=>{_.has(V)||m.push(V)})}const g=new Array(b+1).fill(0).map(()=>[]);return u.forEach(w=>{g[w.level].push(w)}),g.forEach((w,y)=>{const E=l+y*(i+r);w.forEach((S,T)=>{const V=a+T*(o+s);S.position={x:E,y:V}})}),Array.from(u.values())}function cr(t){let e,n;return e=new b1({props:{variant:"dots",gap:t[5][0],size:1}}),{c(){se(e.$$.fragment)},l(i){fe(e.$$.fragment,i)},m(i,o){ae(e,i,o),n=!0},p:pe,i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){F(e.$$.fragment,i),n=!1},d(i){ue(e,i)}}}function dr(t){let e,n;return e=new i1({}),{c(){se(e.$$.fragment)},l(i){fe(e.$$.fragment,i)},m(i,o){ae(e,i,o),n=!0},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){F(e.$$.fragment,i),n=!1},d(i){ue(e,i)}}}function E1(t){let e,n,i,o=t[0]&&cr(t),r=t[1]&&dr();return{c(){o&&o.c(),e=ne(),r&&r.c(),n=Ie()},l(s){o&&o.l(s),e=ie(s),r&&r.l(s),n=Ie()},m(s,l){o&&o.m(s,l),J(s,e,l),r&&r.m(s,l),J(s,n,l),i=!0},p(s,l){s[0]?o?(o.p(s,l),l&1&&R(o,1)):(o=cr(s),o.c(),R(o,1),o.m(e.parentNode,e)):o&&(Ge(),F(o,1,1,()=>{o=null}),Je()),s[1]?r?l&2&&R(r,1):(r=dr(),r.c(),R(r,1),r.m(n.parentNode,n)):r&&(Ge(),F(r,1,1,()=>{r=null}),Je())},i(s){i||(R(o),R(r),i=!0)},o(s){F(o),F(r),i=!1},d(s){s&&(C(e),C(n)),o&&o.d(s),r&&r.d(s)}}}function S1(t){let e,n,i;return n=new Cg({props:{nodes:t[2],edges:t[3],nodeTypes:t[4],viewport:Ar,nodesDraggable:!0,nodesConnectable:!1,elementsSelectable:!0,minZoom:.5,maxZoom:2,snapToGrid:!0,snapGrid:t[5],$$slots:{default:[E1]},$$scope:{ctx:t}}}),n.$on("viewportChange",t[7]),n.$on("nodedrag",C1),n.$on("nodedragstart",M1),n.$on("nodedragstop",t[6]),{c(){e=Q("div"),se(n.$$.fragment),this.h()},l(o){e=x(o,"DIV",{style:!0});var r=q(e);fe(n.$$.fragment,r),r.forEach(C),this.h()},h(){me(e,"width","100%"),me(e,"height","100%")},m(o,r){J(o,e,r),ae(n,e,null),i=!0},p(o,[r]){const s={};r&2051&&(s.$$scope={dirty:r,ctx:o}),n.$set(s)},i(o){i||(R(n.$$.fragment,o),i=!0)},o(o){F(n.$$.fragment,o),i=!1},d(o){o&&C(e),ue(n)}}}const hr=200,gr=120;function C1(t){}function M1(t){}function N1(t,e,n){let i,o,r;j(t,Hr,m=>n(8,i=m)),j(t,ds,m=>n(0,o=m)),j(t,hs,m=>n(1,r=m));const s=le([]),l=le([]),a={default:p1},u=[20,20],f=Math.ceil(hr/u[0])*u[0]+40,c=Math.ceil(gr/u[1])*u[1]+20;function d(m){const _=ee(s);gs(_)}function h(m){Ar.set(m.detail)}return t.$$.update=()=>{if(t.$$.dirty&256&&i.map){const m=Object.values(i.map).map(g=>({id:g.id,position:{x:Math.round((g.x||0)/u[0])*u[0],y:Math.round((g.y||0)/u[1])*u[1]},data:{...g,label:g.name||g.id},type:"default"})),_=Object.values(i.map).flatMap(g=>g.predecessors.map(w=>{const y=i.map[w],E=g,S=y.slack===0&&E.slack===0,T=Number(y.progress)>=100&&Number(E.progress)<100;return{id:`${w}-${g.id}`,source:w,target:g.id,type:"default",class:S?"critical-path":"normal-path",animated:T}})),b=m.filter(g=>!g.position.x&&!g.position.y);if(b.length>0){const w=k1(b,_,{nodeWidth:hr,nodeHeight:gr,horizontalSpacing:f,verticalSpacing:c}).map(E=>({...E,position:{x:Math.round(E.position.x/u[0])*u[0],y:Math.round(E.position.y/u[1])*u[1]}})),y=m.map(E=>E.position.x||E.position.y?E:w.find(S=>S.id===E.id)||E);s.set(y)}else s.set(m);l.set(_)}},[o,r,s,l,a,u,d,h,i]}class P1 extends he{constructor(e){super(),ge(this,e,N1,S1,ye,{})}}function mr(t,e,n){const i=t.slice();return i[11]=e[n],i[12]=e,i[13]=n,i}function _r(t,e,n){const i=t.slice();return i[14]=e[n],i}function yr(t,e,n){const i=t.slice();return i[11]=e[n],i[17]=e,i[18]=n,i}function br(t,e,n){const i=t.slice();return i[19]=e[n],i}function wr(t){let e,n=t[19]+"",i;return{c(){e=Q("th"),i=Ye(n)},l(o){e=x(o,"TH",{});var r=q(e);i=Be(r,n),r.forEach(C)},m(o,r){J(o,e,r),X(e,i)},p(o,r){r&4&&n!==(n=o[19]+"")&&We(i,n)},d(o){o&&C(e)}}}function vr(t){let e,n,i,o;function r(){t[9].call(n,t[17],t[18])}return{c(){e=Q("td"),n=Q("input"),this.h()},l(s){e=x(s,"TD",{class:!0});var l=q(e);n=x(l,"INPUT",{type:!0,class:!0}),l.forEach(C),this.h()},h(){p(n,"type","text"),p(n,"class","metro-input svelte-1jpgd8u"),p(e,"class","svelte-1jpgd8u")},m(s,l){J(s,e,l),X(e,n),en(n,t[11]),i||(o=[Se(n,"input",r),Se(n,"paste",t[4])],i=!0)},p(s,l){t=s,l&4&&n.value!==t[11]&&en(n,t[11])},d(s){s&&C(e),i=!1,mt(o)}}}function pr(t){let e,n,i,o,r,s;function l(){return t[8](t[14])}let a=Ke(t[2].getRow(t[14])),u=[];for(let f=0;f<a.length;f+=1)u[f]=vr(yr(t,a,f));return{c(){e=Q("tr"),n=Q("td"),i=Q("span"),o=ne();for(let f=0;f<u.length;f+=1)u[f].c();this.h()},l(f){e=x(f,"TR",{});var c=q(e);n=x(c,"TD",{class:!0});var d=q(n);i=x(d,"SPAN",{class:!0,style:!0,role:!0,"aria-label":!0}),q(i).forEach(C),d.forEach(C),o=ie(c);for(let h=0;h<u.length;h+=1)u[h].l(c);c.forEach(C),this.h()},h(){p(i,"class","mif-cross-light"),me(i,"cursor","pointer"),p(i,"role","button"),p(i,"aria-label","Delete row"),p(n,"class","svelte-1jpgd8u")},m(f,c){J(f,e,c),X(e,n),X(n,i),X(e,o);for(let d=0;d<u.length;d+=1)u[d]&&u[d].m(e,null);r||(s=Se(i,"click",l),r=!0)},p(f,c){if(t=f,c&20){a=Ke(t[2].getRow(t[14]));let d;for(d=0;d<a.length;d+=1){const h=yr(t,a,d);u[d]?u[d].p(h,c):(u[d]=vr(h),u[d].c(),u[d].m(e,null))}for(;d<u.length;d+=1)u[d].d(1);u.length=a.length}},d(f){f&&C(e),Yt(u,f),r=!1,s()}}}function kr(t){let e,n,i,o;function r(){t[10].call(n,t[12],t[13])}return{c(){e=Q("td"),n=Q("input"),this.h()},l(s){e=x(s,"TD",{class:!0});var l=q(e);n=x(l,"INPUT",{type:!0,class:!0}),l.forEach(C),this.h()},h(){p(n,"type","text"),p(n,"class","metro-input svelte-1jpgd8u"),p(e,"class","svelte-1jpgd8u")},m(s,l){J(s,e,l),X(e,n),en(n,t[11]),i||(o=[Se(n,"input",r),Se(n,"paste",t[4]),Se(n,"blur",t[5])],i=!0)},p(s,l){t=s,l&2&&n.value!==t[11]&&en(n,t[11])},d(s){s&&C(e),i=!1,mt(o)}}}function D1(t){let e,n,i,o,r,s,l,a,u,f,c='<span class="mif-chevron-thin-right"></span>',d,h=Ke(t[2].getHeader()),m=[];for(let y=0;y<h.length;y+=1)m[y]=wr(br(t,h,y));let _=Ke(t[2].getAllIds()),b=[];for(let y=0;y<_.length;y+=1)b[y]=pr(_r(t,_,y));let g=Ke(t[1]),w=[];for(let y=0;y<g.length;y+=1)w[y]=kr(mr(t,g,y));return{c(){e=Q("table"),n=Q("thead"),i=Q("tr"),o=Q("th"),r=ne();for(let y=0;y<m.length;y+=1)m[y].c();s=ne(),l=Q("tbody");for(let y=0;y<b.length;y+=1)b[y].c();a=ne(),u=Q("tr"),f=Q("td"),f.innerHTML=c,d=ne();for(let y=0;y<w.length;y+=1)w[y].c();this.h()},l(y){e=x(y,"TABLE",{class:!0});var E=q(e);n=x(E,"THEAD",{});var S=q(n);i=x(S,"TR",{});var T=q(i);o=x(T,"TH",{}),q(o).forEach(C),r=ie(T);for(let D=0;D<m.length;D+=1)m[D].l(T);T.forEach(C),S.forEach(C),s=ie(E),l=x(E,"TBODY",{});var V=q(l);for(let D=0;D<b.length;D+=1)b[D].l(V);a=ie(V),u=x(V,"TR",{});var L=q(u);f=x(L,"TD",{class:!0,"data-svelte-h":!0}),Tt(f)!=="svelte-qk2oid"&&(f.innerHTML=c),d=ie(L);for(let D=0;D<w.length;D+=1)w[D].l(L);L.forEach(C),V.forEach(C),E.forEach(C),this.h()},h(){p(f,"class","svelte-1jpgd8u"),p(e,"class","table subcompact table-border cell-border striped")},m(y,E){J(y,e,E),X(e,n),X(n,i),X(i,o),X(i,r);for(let S=0;S<m.length;S+=1)m[S]&&m[S].m(i,null);X(e,s),X(e,l);for(let S=0;S<b.length;S+=1)b[S]&&b[S].m(l,null);X(l,a),X(l,u),X(u,f),X(u,d);for(let S=0;S<w.length;S+=1)w[S]&&w[S].m(u,null)},p(y,[E]){if(E&4){h=Ke(y[2].getHeader());let S;for(S=0;S<h.length;S+=1){const T=br(y,h,S);m[S]?m[S].p(T,E):(m[S]=wr(T),m[S].c(),m[S].m(i,null))}for(;S<m.length;S+=1)m[S].d(1);m.length=h.length}if(E&84){_=Ke(y[2].getAllIds());let S;for(S=0;S<_.length;S+=1){const T=_r(y,_,S);b[S]?b[S].p(T,E):(b[S]=pr(T),b[S].c(),b[S].m(l,a))}for(;S<b.length;S+=1)b[S].d(1);b.length=_.length}if(E&50){g=Ke(y[1]);let S;for(S=0;S<g.length;S+=1){const T=mr(y,g,S);w[S]?w[S].p(T,E):(w[S]=kr(T),w[S].c(),w[S].m(u,null))}for(;S<w.length;S+=1)w[S].d(1);w.length=g.length}},i:pe,o:pe,d(y){y&&C(e),Yt(m,y),Yt(b,y),Yt(w,y)}}}function T1(t,e,n){let i,o,{name:r}=e,s=wi(r);j(t,s,m=>n(2,o=m));let l=le(Array(o.getHeader().length).fill(""));j(t,l,m=>n(1,i=m)),l.reset=()=>l.update(m=>Array(o.getHeader().length).fill(""));function a(m){m.preventDefault();let b=(m.clipboardData||window.clipboardData).getData("text").split(/\n|\r/).filter(g=>g.length).map(g=>g.split(/\t/));s.update(g=>{let w=new ms(b[0]);return b.slice(1).forEach(y=>{w.add_or_replace_row(y[0],y)}),w}),l.reset()}function u(){if(i.join("")===""){console.log("empty buffer, skipping");return}s.update(m=>(m.add_or_replace_row(i[0],i),m)),l.reset()}function f(m){s.update(_=>(_.delete_row(m),_))}const c=m=>f(m);function d(m,_){m[_]=this.value}function h(m,_){m[_]=this.value,l.set(i)}return t.$$set=m=>{"name"in m&&n(7,r=m.name)},[l,i,o,s,a,u,f,r,c,d,h]}class Er extends he{constructor(e){super(),ge(this,e,T1,D1,ye,{name:7})}}function Sr(t,e,n){const i=t.slice();return i[6]=e[n],i[7]=e,i[8]=n,i}function Cr(t,e,n){const i=t.slice();i[9]=e[n];const o=H1(i[9]);return i[10]=o,i}function Mr(t){let e,n,i,o,r,s,l,a,u=t[6].isEditing?"Save":"Edit",f,c,d,h='<span class="mif-bin"></span>',m,_,b,g,w;function y(D,Y){if(D[6].isEditing)return O1;if(D[6].content)return z1}let E=y(t),S=E&&E(t),T=t[6].tool_calls&&t[6].tool_calls.length>0&&Nr(t);function V(){return t[4](t[8])}function L(){return t[5](t[8])}return{c(){e=Q("div"),n=Q("div"),S&&S.c(),i=ne(),T&&T.c(),o=ne(),r=Q("div"),s=Q("button"),l=Q("span"),a=ne(),f=Ye(u),c=ne(),d=Q("button"),d.innerHTML=h,_=ne(),this.h()},l(D){e=x(D,"DIV",{class:!0});var Y=q(e);n=x(Y,"DIV",{class:!0});var G=q(n);S&&S.l(G),i=ie(G),T&&T.l(G),o=ie(G),r=x(G,"DIV",{class:!0});var B=q(r);s=x(B,"BUTTON",{class:!0});var Z=q(s);l=x(Z,"SPAN",{class:!0}),q(l).forEach(C),a=ie(Z),f=Be(Z,u),Z.forEach(C),c=ie(B),d=x(B,"BUTTON",{class:!0,"data-svelte-h":!0}),Tt(d)!=="svelte-vji6vz"&&(d.innerHTML=h),B.forEach(C),G.forEach(C),_=ie(Y),Y.forEach(C),this.h()},h(){p(l,"class","mif-pencil"),p(s,"class","button small"),p(d,"class","button small alert"),p(r,"class","message-actions svelte-om5vl5"),p(n,"class",m="message-content "+(t[6].role==="user"?"bg-darkBlue fg-white":"bg-lightGray")+" svelte-om5vl5"),p(e,"class",b="message "+t[6].role+" svelte-om5vl5")},m(D,Y){J(D,e,Y),X(e,n),S&&S.m(n,null),X(n,i),T&&T.m(n,null),X(n,o),X(n,r),X(r,s),X(s,l),X(s,a),X(s,f),X(r,c),X(r,d),X(e,_),g||(w=[Se(s,"click",V),Se(d,"click",L)],g=!0)},p(D,Y){t=D,E===(E=y(t))&&S?S.p(t,Y):(S&&S.d(1),S=E&&E(t),S&&(S.c(),S.m(n,i))),t[6].tool_calls&&t[6].tool_calls.length>0?T?T.p(t,Y):(T=Nr(t),T.c(),T.m(n,o)):T&&(T.d(1),T=null),Y&1&&u!==(u=t[6].isEditing?"Save":"Edit")&&We(f,u),Y&1&&m!==(m="message-content "+(t[6].role==="user"?"bg-darkBlue fg-white":"bg-lightGray")+" svelte-om5vl5")&&p(n,"class",m),Y&1&&b!==(b="message "+t[6].role+" svelte-om5vl5")&&p(e,"class",b)},d(D){D&&C(e),S&&S.d(),T&&T.d(),g=!1,mt(w)}}}function z1(t){let e,n=t[6].content+"",i;return{c(){e=Q("div"),i=Ye(n)},l(o){e=x(o,"DIV",{});var r=q(e);i=Be(r,n),r.forEach(C)},m(o,r){J(o,e,r),X(e,i)},p(o,r){r&1&&n!==(n=o[6].content+"")&&We(i,n)},d(o){o&&C(e)}}}function O1(t){let e,n,i;function o(){t[3].call(e,t[7],t[8])}return{c(){e=Q("textarea"),this.h()},l(r){e=x(r,"TEXTAREA",{"data-role":!0,class:!0}),q(e).forEach(C),this.h()},h(){p(e,"data-role","textarea"),p(e,"class","w-100")},m(r,s){J(r,e,s),en(e,t[6].content),n||(i=Se(e,"input",o),n=!0)},p(r,s){t=r,s&1&&en(e,t[6].content)},d(r){r&&C(e),n=!1,i()}}}function Nr(t){let e,n,i="Tool Calls:",o,r=Ke(t[6].tool_calls),s=[];for(let l=0;l<r.length;l+=1)s[l]=Pr(Cr(t,r,l));return{c(){e=Q("div"),n=Q("strong"),n.textContent=i,o=ne();for(let l=0;l<s.length;l+=1)s[l].c();this.h()},l(l){e=x(l,"DIV",{class:!0});var a=q(e);n=x(a,"STRONG",{"data-svelte-h":!0}),Tt(n)!=="svelte-lg2hf7"&&(n.textContent=i),o=ie(a);for(let u=0;u<s.length;u+=1)s[u].l(a);a.forEach(C),this.h()},h(){p(e,"class","tool-usage svelte-om5vl5")},m(l,a){J(l,e,a),X(e,n),X(e,o);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(e,null)},p(l,a){if(a&1){r=Ke(l[6].tool_calls);let u;for(u=0;u<r.length;u+=1){const f=Cr(l,r,u);s[u]?s[u].p(f,a):(s[u]=Pr(f),s[u].c(),s[u].m(e,null))}for(;u<s.length;u+=1)s[u].d(1);s.length=r.length}},d(l){l&&C(e),Yt(s,l)}}}function Pr(t){let e,n,i=t[10].name+"",o,r,s,l=t[10].args+"",a,u;return{c(){e=Q("div"),n=Q("span"),o=Ye(i),r=ne(),s=Q("div"),a=Ye(l),u=ne(),this.h()},l(f){e=x(f,"DIV",{class:!0});var c=q(e);n=x(c,"SPAN",{class:!0});var d=q(n);o=Be(d,i),d.forEach(C),r=ie(c),s=x(c,"DIV",{class:!0});var h=q(s);a=Be(h,l),h.forEach(C),u=ie(c),c.forEach(C),this.h()},h(){p(n,"class","tool-name svelte-om5vl5"),p(s,"class","tool-args"),p(e,"class","tool-call svelte-om5vl5")},m(f,c){J(f,e,c),X(e,n),X(n,o),X(e,r),X(e,s),X(s,a),X(e,u)},p(f,c){c&1&&i!==(i=f[10].name+"")&&We(o,i),c&1&&l!==(l=f[10].args+"")&&We(a,l)},d(f){f&&C(e)}}}function Dr(t){let e,n=t[6].role!=="developer"&&t[6].role!=="tool"&&Mr(t);return{c(){n&&n.c(),e=Ie()},l(i){n&&n.l(i),e=Ie()},m(i,o){n&&n.m(i,o),J(i,e,o)},p(i,o){i[6].role!=="developer"&&i[6].role!=="tool"?n?n.p(i,o):(n=Mr(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(i){i&&C(e),n&&n.d(i)}}}function I1(t){let e,n=Ke(t[0]),i=[];for(let o=0;o<n.length;o+=1)i[o]=Dr(Sr(t,n,o));return{c(){e=Q("div");for(let o=0;o<i.length;o+=1)i[o].c();this.h()},l(o){e=x(o,"DIV",{class:!0});var r=q(e);for(let s=0;s<i.length;s+=1)i[s].l(r);r.forEach(C),this.h()},h(){p(e,"class","chat-container svelte-om5vl5")},m(o,r){J(o,e,r);for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(e,null)},p(o,[r]){if(r&7){n=Ke(o[0]);let s;for(s=0;s<n.length;s+=1){const l=Sr(o,n,s);i[s]?i[s].p(l,r):(i[s]=Dr(l),i[s].c(),i[s].m(e,null))}for(;s<i.length;s+=1)i[s].d(1);i.length=n.length}},i:pe,o:pe,d(o){o&&C(e),Yt(i,o)}}}function H1(t){if(!t.function)return"";const e=JSON.parse(t.function.arguments||"{}");return{name:t.function.name,args:JSON.stringify(e,null,2)}}function A1(t,e,n){let i;j(t,sn,u=>n(0,i=u));function o(u){Rt(sn,i=i.filter((f,c)=>c!==u),i)}function r(u){Rt(sn,i[u].isEditing=!i[u].isEditing,i),Rt(sn,i=[...i],i)}function s(u,f){u[f].content=this.value,sn.set(i)}return[i,o,r,s,u=>r(u),u=>o(u)]}class V1 extends he{constructor(e){super(),ge(this,e,A1,I1,ye,{})}}function Tr(t,e,n){const i=t.slice();return i[9]=e[n],i}function L1(t){let e,n=`<span class="mif-checkmark fg-green mr-2"></span>
                No suggestions at this time - your project planning looks good!`;return{c(){e=Q("div"),e.innerHTML=n,this.h()},l(i){e=x(i,"DIV",{class:!0,"data-svelte-h":!0}),Tt(e)!=="svelte-8agedn"&&(e.innerHTML=n),this.h()},h(){p(e,"class","text-muted")},m(i,o){J(i,e,o)},p:pe,d(i){i&&C(e)}}}function X1(t){let e,n=Ke(t[0]),i=[];for(let o=0;o<n.length;o+=1)i[o]=zr(Tr(t,n,o));return{c(){e=Q("ul");for(let o=0;o<i.length;o+=1)i[o].c();this.h()},l(o){e=x(o,"UL",{class:!0});var r=q(e);for(let s=0;s<i.length;s+=1)i[s].l(r);r.forEach(C),this.h()},h(){p(e,"class","mt-0 mb-0")},m(o,r){J(o,e,r);for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(e,null)},p(o,r){if(r&1){n=Ke(o[0]);let s;for(s=0;s<n.length;s+=1){const l=Tr(o,n,s);i[s]?i[s].p(l,r):(i[s]=zr(l),i[s].c(),i[s].m(e,null))}for(;s<i.length;s+=1)i[s].d(1);i.length=n.length}},d(o){o&&C(e),Yt(i,o)}}}function zr(t){let e,n,i,o=t[9].text+"",r,s,l,a=new Date(t[9].timestamp).toLocaleString()+"",u,f;return{c(){e=Q("li"),n=Q("span"),i=ne(),r=Ye(o),s=ne(),l=Q("small"),u=Ye(a),f=ne(),this.h()},l(c){e=x(c,"LI",{class:!0});var d=q(e);n=x(d,"SPAN",{class:!0}),q(n).forEach(C),i=ie(d),r=Be(d,o),s=ie(d),l=x(d,"SMALL",{class:!0});var h=q(l);u=Be(h,a),h.forEach(C),f=ie(d),d.forEach(C),this.h()},h(){p(n,"class","mif-lightbulb fg-amber mr-2"),p(l,"class","text-muted ml-2"),p(e,"class","mt-1")},m(c,d){J(c,e,d),X(e,n),X(e,i),X(e,r),X(e,s),X(e,l),X(l,u),X(e,f)},p(c,d){d&1&&o!==(o=c[9].text+"")&&We(r,o),d&1&&a!==(a=new Date(c[9].timestamp).toLocaleString()+"")&&We(u,a)},d(c){c&&C(e)}}}function R1(t){let e,n,i="AI Suggestions",o,r;function s(u,f){return u[0].length>0?X1:L1}let l=s(t),a=l(t);return{c(){e=Q("div"),n=Q("div"),n.textContent=i,o=ne(),r=Q("div"),a.c(),this.h()},l(u){e=x(u,"DIV",{class:!0});var f=q(e);n=x(f,"DIV",{class:!0,"data-svelte-h":!0}),Tt(n)!=="svelte-r0c7jt"&&(n.textContent=i),o=ie(f),r=x(f,"DIV",{class:!0});var c=q(r);a.l(c),c.forEach(C),f.forEach(C),this.h()},h(){p(n,"class","text-leader"),p(r,"class","border bd-default p-2 mt-2"),p(e,"class","p-2")},m(u,f){J(u,e,f),X(e,n),X(e,o),X(e,r),a.m(r,null)},p(u,[f]){l===(l=s(u))&&a?a.p(u,f):(a.d(1),a=l(u),a&&(a.c(),a.m(r,null)))},i:pe,o:pe,d(u){u&&C(e),a.d()}}}function Y1(t,e,n){let i,o,r,s,l;j(t,Hr,c=>n(4,i=c)),j(t,ys,c=>n(7,s=c)),j(t,_s,c=>n(0,l=c));const a=wi("tasks");j(t,a,c=>n(6,r=c));const u=wi("resources");j(t,u,c=>n(5,o=c));function f(){const c=[],d=s;if(d!=null&&d.projectName||c.push("Define a project name in the Project Charter"),(!(d!=null&&d.startDate)||!(d!=null&&d.endDate))&&c.push("Set project start and end dates in the Project Charter"),!r||r.toJSON().length<=1)c.push("Start by adding some initial tasks to your project");else{const h=r.toJSON().slice(1);h.filter(b=>!b[6]).length>0&&c.push("Review tasks without dependencies to ensure proper sequencing"),h.filter(b=>!b[5]).length>0&&c.push("Assign resources to tasks that currently have none")}return(!o||o.toJSON().length<=1)&&c.push("Add resource availability information to enable proper resource planning"),i!=null&&i.length||c.push("Calculate the critical path to identify crucial project tasks"),c}return f(),[l,a,u]}class B1 extends he{constructor(e){super(),ge(this,e,Y1,R1,ye,{})}}function W1(t){let e,n,i,o='<li><a href="#_target_1">Tasks</a></li> <li><a href="#_target_2">Resources</a></li> <li><a href="#_target_3">Instructions</a></li> <li><a href="#_target_4">Suggestions</a></li>',r,s,l,a,u,f,c,d,h,m,_,b,g,w,y,E,S;return a=new Er({props:{name:"tasks"}}),c=new Er({props:{name:"resources"}}),m=new V1({}),g=new B1({}),E=new P1({}),{c(){e=Q("div"),n=Q("div"),i=Q("ul"),i.innerHTML=o,r=ne(),s=Q("div"),l=Q("div"),se(a.$$.fragment),u=ne(),f=Q("div"),se(c.$$.fragment),d=ne(),h=Q("div"),se(m.$$.fragment),_=ne(),b=Q("div"),se(g.$$.fragment),w=ne(),y=Q("div"),se(E.$$.fragment),this.h()},l(T){e=x(T,"DIV",{"data-role":!0,class:!0,"data-split-sizes":!0});var V=q(e);n=x(V,"DIV",{class:!0});var L=q(n);i=x(L,"UL",{"data-role":!0,"data-expand":!0,"data-svelte-h":!0}),Tt(i)!=="svelte-13li787"&&(i.innerHTML=o),r=ie(L),s=x(L,"DIV",{class:!0});var D=q(s);l=x(D,"DIV",{id:!0});var Y=q(l);fe(a.$$.fragment,Y),Y.forEach(C),u=ie(D),f=x(D,"DIV",{id:!0});var G=q(f);fe(c.$$.fragment,G),G.forEach(C),d=ie(D),h=x(D,"DIV",{id:!0});var B=q(h);fe(m.$$.fragment,B),B.forEach(C),_=ie(D),b=x(D,"DIV",{id:!0});var Z=q(b);fe(g.$$.fragment,Z),Z.forEach(C),D.forEach(C),L.forEach(C),w=ie(V),y=x(V,"DIV",{class:!0});var k=q(y);fe(E.$$.fragment,k),k.forEach(C),V.forEach(C),this.h()},h(){p(i,"data-role","tabs"),p(i,"data-expand","true"),p(l,"id","_target_1"),p(f,"id","_target_2"),p(h,"id","_target_3"),p(b,"id","_target_4"),p(s,"class","border bd-default no-border-top p-2 scrollable svelte-zgnndq"),p(n,"class",""),p(y,"class","d-flex flex-justify-center flex-align-center"),p(e,"data-role","splitter"),p(e,"class","h-100"),p(e,"data-split-sizes","30, 70")},m(T,V){J(T,e,V),X(e,n),X(n,i),X(n,r),X(n,s),X(s,l),ae(a,l,null),X(s,u),X(s,f),ae(c,f,null),X(s,d),X(s,h),ae(m,h,null),X(s,_),X(s,b),ae(g,b,null),X(e,w),X(e,y),ae(E,y,null),S=!0},p:pe,i(T){S||(R(a.$$.fragment,T),R(c.$$.fragment,T),R(m.$$.fragment,T),R(g.$$.fragment,T),R(E.$$.fragment,T),S=!0)},o(T){F(a.$$.fragment,T),F(c.$$.fragment,T),F(m.$$.fragment,T),F(g.$$.fragment,T),F(E.$$.fragment,T),S=!1},d(T){T&&C(e),ue(a),ue(c),ue(m),ue(g),ue(E)}}}class x1 extends he{constructor(e){super(),ge(this,e,null,W1,ye,{})}}export{x1 as component};
