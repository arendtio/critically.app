import{s as ve,r as ot,f as j,g as x,h as Z,d as C,j as v,G as ge,i as ee,w as ke,x as rt,y as lt,z as st,A as dt,H as Wn,B as $,a as le,l as We,c as se,m as Ke,n as Fe,I as Ye,J as Ie,K as bt,L as nt,M as Qe,N as oe,k as be,O as Oe,e as He,P as Ae,Q as Kn,o as Sn,C as Rt,R as ii,p as Cn,S as Ar,T as Hr,q as Fn,U as Te,v as L,D as Ce,V as rn,u as At,W as cs,X as fs,Y as ds,Z as hs,_ as to,F as no,E as Ft,$ as Lt}from"../chunks/scheduler.8fe615de.js";import{S as _e,i as ye,a as F,t as J,b as ce,d as he,m as fe,e as de,g as je,c as xe}from"../chunks/index.aa40aee3.js";import{c as Vr}from"../chunks/criticalPath.store.c7804fd0.js";import{a as Rr,s as gs,b as ms,c as _s}from"../chunks/xyflow.store.70449895.js";import{w as ue,r as mt,d as en}from"../chunks/index.6deb0bed.js";import{e as Ue,u as Ri,o as Xi}from"../chunks/each.640a64ca.js";import{g as Ei,T as io}from"../chunks/tables.store.802e2f5f.js";import{c as Bt,d as oo,a as ys}from"../chunks/assistant.store.dcdfcf39.js";import{p as bs}from"../chunks/projectCharter.store.e87999d8.js";const ws=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function Yt(t,e){const n={},i={},o={$$scope:1};let r=t.length;for(;r--;){const s=t[r],l=e[r];if(l){for(const a in s)a in l||(i[a]=1);for(const a in l)o[a]||(n[a]=l[a],o[a]=1);t[r]=l}else for(const a in s)o[a]=1}for(const s in i)s in n||(n[s]=void 0);return n}function yn(t){return typeof t=="object"&&t!==null?t:{}}function Xe(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,i;n<t.length;n++)(i=Xe(t[n]))!==""&&(e+=(e&&" ")+i);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var vs={value:()=>{}};function oi(){for(var t=0,e=arguments.length,n={},i;t<e;++t){if(!(i=arguments[t]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new Xn(n)}function Xn(t){this._=t}function ks(t,e){return t.trim().split(/^|\s+/).map(function(n){var i="",o=n.indexOf(".");if(o>=0&&(i=n.slice(o+1),n=n.slice(0,o)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}Xn.prototype=oi.prototype={constructor:Xn,on:function(t,e){var n=this._,i=ks(t+"",n),o,r=-1,s=i.length;if(arguments.length<2){for(;++r<s;)if((o=(t=i[r]).type)&&(o=ps(n[o],t.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++r<s;)if(o=(t=i[r]).type)n[o]=ro(n[o],t.name,e);else if(e==null)for(o in n)n[o]=ro(n[o],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Xn(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var n=new Array(o),i=0,o,r;i<o;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],o=0,r=i.length;o<r;++o)i[o].value.apply(e,n)}};function ps(t,e){for(var n=0,i=t.length,o;n<i;++n)if((o=t[n]).name===e)return o.value}function ro(t,e,n){for(var i=0,o=t.length;i<o;++i)if(t[i].name===e){t[i]=vs,t=t.slice(0,i).concat(t.slice(i+1));break}return n!=null&&t.push({name:e,value:n}),t}var Si="http://www.w3.org/1999/xhtml";const lo={svg:"http://www.w3.org/2000/svg",xhtml:Si,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ri(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),lo.hasOwnProperty(e)?{space:lo[e],local:t}:t}function Es(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Si&&e.documentElement.namespaceURI===Si?e.createElement(t):e.createElementNS(n,t)}}function Ss(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Xr(t){var e=ri(t);return(e.local?Ss:Es)(e)}function Cs(){}function Li(t){return t==null?Cs:function(){return this.querySelector(t)}}function Ms(t){typeof t!="function"&&(t=Li(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r=e[o],s=r.length,l=i[o]=new Array(s),a,u,c=0;c<s;++c)(a=r[c])&&(u=t.call(a,a.__data__,c,r))&&("__data__"in a&&(u.__data__=a.__data__),l[c]=u);return new ut(i,this._parents)}function Ps(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Ts(){return[]}function Lr(t){return t==null?Ts:function(){return this.querySelectorAll(t)}}function Ds(t){return function(){return Ps(t.apply(this,arguments))}}function Is(t){typeof t=="function"?t=Ds(t):t=Lr(t);for(var e=this._groups,n=e.length,i=[],o=[],r=0;r<n;++r)for(var s=e[r],l=s.length,a,u=0;u<l;++u)(a=s[u])&&(i.push(t.call(a,a.__data__,u,s)),o.push(a));return new ut(i,o)}function Yr(t){return function(){return this.matches(t)}}function Br(t){return function(e){return e.matches(t)}}var Ns=Array.prototype.find;function zs(t){return function(){return Ns.call(this.children,t)}}function Os(){return this.firstElementChild}function As(t){return this.select(t==null?Os:zs(typeof t=="function"?t:Br(t)))}var Hs=Array.prototype.filter;function Vs(){return Array.from(this.children)}function Rs(t){return function(){return Hs.call(this.children,t)}}function Xs(t){return this.selectAll(t==null?Vs:Rs(typeof t=="function"?t:Br(t)))}function Ls(t){typeof t!="function"&&(t=Yr(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r=e[o],s=r.length,l=i[o]=[],a,u=0;u<s;++u)(a=r[u])&&t.call(a,a.__data__,u,r)&&l.push(a);return new ut(i,this._parents)}function Wr(t){return new Array(t.length)}function Ys(){return new ut(this._enter||this._groups.map(Wr),this._parents)}function Zn(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Zn.prototype={constructor:Zn,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Bs(t){return function(){return t}}function Ws(t,e,n,i,o,r){for(var s=0,l,a=e.length,u=r.length;s<u;++s)(l=e[s])?(l.__data__=r[s],i[s]=l):n[s]=new Zn(t,r[s]);for(;s<a;++s)(l=e[s])&&(o[s]=l)}function Ks(t,e,n,i,o,r,s){var l,a,u=new Map,c=e.length,d=r.length,f=new Array(c),h;for(l=0;l<c;++l)(a=e[l])&&(f[l]=h=s.call(a,a.__data__,l,e)+"",u.has(h)?o[l]=a:u.set(h,a));for(l=0;l<d;++l)h=s.call(t,r[l],l,r)+"",(a=u.get(h))?(i[l]=a,a.__data__=r[l],u.delete(h)):n[l]=new Zn(t,r[l]);for(l=0;l<c;++l)(a=e[l])&&u.get(f[l])===a&&(o[l]=a)}function Fs(t){return t.__data__}function Zs(t,e){if(!arguments.length)return Array.from(this,Fs);var n=e?Ks:Ws,i=this._parents,o=this._groups;typeof t!="function"&&(t=Bs(t));for(var r=o.length,s=new Array(r),l=new Array(r),a=new Array(r),u=0;u<r;++u){var c=i[u],d=o[u],f=d.length,h=qs(t.call(c,c&&c.__data__,u,i)),m=h.length,y=l[u]=new Array(m),_=s[u]=new Array(m),g=a[u]=new Array(f);n(c,d,y,_,g,h,e);for(var w=0,b=0,p,T;w<m;++w)if(p=y[w]){for(w>=b&&(b=w+1);!(T=_[b])&&++b<m;);p._next=T||null}}return s=new ut(s,i),s._enter=l,s._exit=a,s}function qs(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Us(){return new ut(this._exit||this._groups.map(Wr),this._parents)}function Gs(t,e,n){var i=this.enter(),o=this,r=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),e!=null&&(o=e(o),o&&(o=o.selection())),n==null?r.remove():n(r),i&&o?i.merge(o).order():o}function Js(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,o=n.length,r=i.length,s=Math.min(o,r),l=new Array(o),a=0;a<s;++a)for(var u=n[a],c=i[a],d=u.length,f=l[a]=new Array(d),h,m=0;m<d;++m)(h=u[m]||c[m])&&(f[m]=h);for(;a<o;++a)l[a]=n[a];return new ut(l,this._parents)}function Qs(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i=t[e],o=i.length-1,r=i[o],s;--o>=0;)(s=i[o])&&(r&&s.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(s,r),r=s);return this}function js(t){t||(t=xs);function e(d,f){return d&&f?t(d.__data__,f.__data__):!d-!f}for(var n=this._groups,i=n.length,o=new Array(i),r=0;r<i;++r){for(var s=n[r],l=s.length,a=o[r]=new Array(l),u,c=0;c<l;++c)(u=s[c])&&(a[c]=u);a.sort(e)}return new ut(o,this._parents).order()}function xs(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function $s(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function ea(){return Array.from(this)}function ta(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,r=i.length;o<r;++o){var s=i[o];if(s)return s}return null}function na(){let t=0;for(const e of this)++t;return t}function ia(){return!this.node()}function oa(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var o=e[n],r=0,s=o.length,l;r<s;++r)(l=o[r])&&t.call(l,l.__data__,r,o);return this}function ra(t){return function(){this.removeAttribute(t)}}function la(t){return function(){this.removeAttributeNS(t.space,t.local)}}function sa(t,e){return function(){this.setAttribute(t,e)}}function aa(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function ua(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function ca(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function fa(t,e){var n=ri(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((e==null?n.local?la:ra:typeof e=="function"?n.local?ca:ua:n.local?aa:sa)(n,e))}function Kr(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function da(t){return function(){this.style.removeProperty(t)}}function ha(t,e,n){return function(){this.style.setProperty(t,e,n)}}function ga(t,e,n){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function ma(t,e,n){return arguments.length>1?this.each((e==null?da:typeof e=="function"?ga:ha)(t,e,n??"")):ln(this.node(),t)}function ln(t,e){return t.style.getPropertyValue(e)||Kr(t).getComputedStyle(t,null).getPropertyValue(e)}function _a(t){return function(){delete this[t]}}function ya(t,e){return function(){this[t]=e}}function ba(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function wa(t,e){return arguments.length>1?this.each((e==null?_a:typeof e=="function"?ba:ya)(t,e)):this.node()[t]}function Fr(t){return t.trim().split(/^|\s+/)}function Yi(t){return t.classList||new Zr(t)}function Zr(t){this._node=t,this._names=Fr(t.getAttribute("class")||"")}Zr.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function qr(t,e){for(var n=Yi(t),i=-1,o=e.length;++i<o;)n.add(e[i])}function Ur(t,e){for(var n=Yi(t),i=-1,o=e.length;++i<o;)n.remove(e[i])}function va(t){return function(){qr(this,t)}}function ka(t){return function(){Ur(this,t)}}function pa(t,e){return function(){(e.apply(this,arguments)?qr:Ur)(this,t)}}function Ea(t,e){var n=Fr(t+"");if(arguments.length<2){for(var i=Yi(this.node()),o=-1,r=n.length;++o<r;)if(!i.contains(n[o]))return!1;return!0}return this.each((typeof e=="function"?pa:e?va:ka)(n,e))}function Sa(){this.textContent=""}function Ca(t){return function(){this.textContent=t}}function Ma(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Pa(t){return arguments.length?this.each(t==null?Sa:(typeof t=="function"?Ma:Ca)(t)):this.node().textContent}function Ta(){this.innerHTML=""}function Da(t){return function(){this.innerHTML=t}}function Ia(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Na(t){return arguments.length?this.each(t==null?Ta:(typeof t=="function"?Ia:Da)(t)):this.node().innerHTML}function za(){this.nextSibling&&this.parentNode.appendChild(this)}function Oa(){return this.each(za)}function Aa(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ha(){return this.each(Aa)}function Va(t){var e=typeof t=="function"?t:Xr(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Ra(){return null}function Xa(t,e){var n=typeof t=="function"?t:Xr(t),i=e==null?Ra:typeof e=="function"?e:Li(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function La(){var t=this.parentNode;t&&t.removeChild(this)}function Ya(){return this.each(La)}function Ba(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Wa(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ka(t){return this.select(t?Wa:Ba)}function Fa(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Za(t){return function(e){t.call(this,e,this.__data__)}}function qa(t){return t.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{type:e,name:n}})}function Ua(t){return function(){var e=this.__on;if(e){for(var n=0,i=-1,o=e.length,r;n<o;++n)r=e[n],(!t.type||r.type===t.type)&&r.name===t.name?this.removeEventListener(r.type,r.listener,r.options):e[++i]=r;++i?e.length=i:delete this.__on}}}function Ga(t,e,n){return function(){var i=this.__on,o,r=Za(e);if(i){for(var s=0,l=i.length;s<l;++s)if((o=i[s]).type===t.type&&o.name===t.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=r,o.options=n),o.value=e;return}}this.addEventListener(t.type,r,n),o={type:t.type,name:t.name,value:e,listener:r,options:n},i?i.push(o):this.__on=[o]}}function Ja(t,e,n){var i=qa(t+""),o,r=i.length,s;if(arguments.length<2){var l=this.node().__on;if(l){for(var a=0,u=l.length,c;a<u;++a)for(o=0,c=l[a];o<r;++o)if((s=i[o]).type===c.type&&s.name===c.name)return c.value}return}for(l=e?Ga:Ua,o=0;o<r;++o)this.each(l(i[o],e,n));return this}function Gr(t,e,n){var i=Kr(t),o=i.CustomEvent;typeof o=="function"?o=new o(e,n):(o=i.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function Qa(t,e){return function(){return Gr(this,t,e)}}function ja(t,e){return function(){return Gr(this,t,e.apply(this,arguments))}}function xa(t,e){return this.each((typeof e=="function"?ja:Qa)(t,e))}function*$a(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,r=i.length,s;o<r;++o)(s=i[o])&&(yield s)}var Jr=[null];function ut(t,e){this._groups=t,this._parents=e}function Mn(){return new ut([[document.documentElement]],Jr)}function eu(){return this}ut.prototype=Mn.prototype={constructor:ut,select:Ms,selectAll:Is,selectChild:As,selectChildren:Xs,filter:Ls,data:Zs,enter:Ys,exit:Us,join:Gs,merge:Js,selection:eu,order:Qs,sort:js,call:$s,nodes:ea,node:ta,size:na,empty:ia,each:oa,attr:fa,style:ma,property:wa,classed:Ea,text:Pa,html:Na,raise:Oa,lower:Ha,append:Va,insert:Xa,remove:Ya,clone:Ka,datum:Fa,on:Ja,dispatch:xa,[Symbol.iterator]:$a};function _t(t){return typeof t=="string"?new ut([[document.querySelector(t)]],[document.documentElement]):new ut([[t]],Jr)}function tu(t){let e;for(;e=t.sourceEvent;)t=e;return t}function pt(t,e){if(t=tu(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}}return[t.pageX,t.pageY]}const nu={passive:!1},bn={capture:!0,passive:!1};function mi(t){t.stopImmediatePropagation()}function tn(t){t.preventDefault(),t.stopImmediatePropagation()}function Qr(t){var e=t.document.documentElement,n=_t(t).on("dragstart.drag",tn,bn);"onselectstart"in e?n.on("selectstart.drag",tn,bn):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function jr(t,e){var n=t.document.documentElement,i=_t(t).on("dragstart.drag",null);e&&(i.on("click.drag",tn,bn),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Nn=t=>()=>t;function Ci(t,{sourceEvent:e,subject:n,target:i,identifier:o,active:r,x:s,y:l,dx:a,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:r,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}Ci.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function iu(t){return!t.ctrlKey&&!t.button}function ou(){return this.parentNode}function ru(t,e){return e??{x:t.x,y:t.y}}function lu(){return navigator.maxTouchPoints||"ontouchstart"in this}function su(){var t=iu,e=ou,n=ru,i=lu,o={},r=oi("start","drag","end"),s=0,l,a,u,c,d=0;function f(p){p.on("mousedown.drag",h).filter(i).on("touchstart.drag",_).on("touchmove.drag",g,nu).on("touchend.drag touchcancel.drag",w).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(p,T){if(!(c||!t.call(this,p,T))){var A=b(this,e.call(this,p,T),p,T,"mouse");A&&(_t(p.view).on("mousemove.drag",m,bn).on("mouseup.drag",y,bn),Qr(p.view),mi(p),u=!1,l=p.clientX,a=p.clientY,A("start",p))}}function m(p){if(tn(p),!u){var T=p.clientX-l,A=p.clientY-a;u=T*T+A*A>d}o.mouse("drag",p)}function y(p){_t(p.view).on("mousemove.drag mouseup.drag",null),jr(p.view,u),tn(p),o.mouse("end",p)}function _(p,T){if(t.call(this,p,T)){var A=p.changedTouches,S=e.call(this,p,T),V=A.length,N,B;for(N=0;N<V;++N)(B=b(this,S,p,T,A[N].identifier,A[N]))&&(mi(p),B("start",p,A[N]))}}function g(p){var T=p.changedTouches,A=T.length,S,V;for(S=0;S<A;++S)(V=o[T[S].identifier])&&(tn(p),V("drag",p,T[S]))}function w(p){var T=p.changedTouches,A=T.length,S,V;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),S=0;S<A;++S)(V=o[T[S].identifier])&&(mi(p),V("end",p,T[S]))}function b(p,T,A,S,V,N){var B=r.copy(),U=pt(N||A,T),K,O,k;if((k=n.call(p,new Ci("beforestart",{sourceEvent:A,target:f,identifier:V,active:s,x:U[0],y:U[1],dx:0,dy:0,dispatch:B}),S))!=null)return K=k.x-U[0]||0,O=k.y-U[1]||0,function Y(E,P,R){var X=U,q;switch(E){case"start":o[V]=Y,q=s++;break;case"end":delete o[V],--s;case"drag":U=pt(R||P,T),q=s;break}B.call(E,p,new Ci(E,{sourceEvent:P,subject:k,target:f,identifier:V,active:q,x:U[0]+K,y:U[1]+O,dx:U[0]-X[0],dy:U[1]-X[1],dispatch:B}),S)}}return f.filter=function(p){return arguments.length?(t=typeof p=="function"?p:Nn(!!p),f):t},f.container=function(p){return arguments.length?(e=typeof p=="function"?p:Nn(p),f):e},f.subject=function(p){return arguments.length?(n=typeof p=="function"?p:Nn(p),f):n},f.touchable=function(p){return arguments.length?(i=typeof p=="function"?p:Nn(!!p),f):i},f.on=function(){var p=r.on.apply(r,arguments);return p===r?f:p},f.clickDistance=function(p){return arguments.length?(d=(p=+p)*p,f):Math.sqrt(d)},f}function Bi(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function xr(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Pn(){}var wn=.7,qn=1/wn,nn="\\s*([+-]?\\d+)\\s*",vn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Et="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",au=/^#([0-9a-f]{3,8})$/,uu=new RegExp(`^rgb\\(${nn},${nn},${nn}\\)$`),cu=new RegExp(`^rgb\\(${Et},${Et},${Et}\\)$`),fu=new RegExp(`^rgba\\(${nn},${nn},${nn},${vn}\\)$`),du=new RegExp(`^rgba\\(${Et},${Et},${Et},${vn}\\)$`),hu=new RegExp(`^hsl\\(${vn},${Et},${Et}\\)$`),gu=new RegExp(`^hsla\\(${vn},${Et},${Et},${vn}\\)$`),so={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Bi(Pn,kn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ao,formatHex:ao,formatHex8:mu,formatHsl:_u,formatRgb:uo,toString:uo});function ao(){return this.rgb().formatHex()}function mu(){return this.rgb().formatHex8()}function _u(){return $r(this).formatHsl()}function uo(){return this.rgb().formatRgb()}function kn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=au.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?co(e):n===3?new it(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?zn(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?zn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=uu.exec(t))?new it(e[1],e[2],e[3],1):(e=cu.exec(t))?new it(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=fu.exec(t))?zn(e[1],e[2],e[3],e[4]):(e=du.exec(t))?zn(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=hu.exec(t))?go(e[1],e[2]/100,e[3]/100,1):(e=gu.exec(t))?go(e[1],e[2]/100,e[3]/100,e[4]):so.hasOwnProperty(t)?co(so[t]):t==="transparent"?new it(NaN,NaN,NaN,0):null}function co(t){return new it(t>>16&255,t>>8&255,t&255,1)}function zn(t,e,n,i){return i<=0&&(t=e=n=NaN),new it(t,e,n,i)}function yu(t){return t instanceof Pn||(t=kn(t)),t?(t=t.rgb(),new it(t.r,t.g,t.b,t.opacity)):new it}function Mi(t,e,n,i){return arguments.length===1?yu(t):new it(t,e,n,i??1)}function it(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}Bi(it,Mi,xr(Pn,{brighter(t){return t=t==null?qn:Math.pow(qn,t),new it(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?wn:Math.pow(wn,t),new it(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new it(Zt(this.r),Zt(this.g),Zt(this.b),Un(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:fo,formatHex:fo,formatHex8:bu,formatRgb:ho,toString:ho}));function fo(){return`#${Wt(this.r)}${Wt(this.g)}${Wt(this.b)}`}function bu(){return`#${Wt(this.r)}${Wt(this.g)}${Wt(this.b)}${Wt((isNaN(this.opacity)?1:this.opacity)*255)}`}function ho(){const t=Un(this.opacity);return`${t===1?"rgb(":"rgba("}${Zt(this.r)}, ${Zt(this.g)}, ${Zt(this.b)}${t===1?")":`, ${t})`}`}function Un(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Zt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Wt(t){return t=Zt(t),(t<16?"0":"")+t.toString(16)}function go(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new yt(t,e,n,i)}function $r(t){if(t instanceof yt)return new yt(t.h,t.s,t.l,t.opacity);if(t instanceof Pn||(t=kn(t)),!t)return new yt;if(t instanceof yt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,o=Math.min(e,n,i),r=Math.max(e,n,i),s=NaN,l=r-o,a=(r+o)/2;return l?(e===r?s=(n-i)/l+(n<i)*6:n===r?s=(i-e)/l+2:s=(e-n)/l+4,l/=a<.5?r+o:2-r-o,s*=60):l=a>0&&a<1?0:s,new yt(s,l,a,t.opacity)}function wu(t,e,n,i){return arguments.length===1?$r(t):new yt(t,e,n,i??1)}function yt(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}Bi(yt,wu,xr(Pn,{brighter(t){return t=t==null?qn:Math.pow(qn,t),new yt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?wn:Math.pow(wn,t),new yt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,o=2*n-i;return new it(_i(t>=240?t-240:t+120,o,i),_i(t,o,i),_i(t<120?t+240:t-120,o,i),this.opacity)},clamp(){return new yt(mo(this.h),On(this.s),On(this.l),Un(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Un(this.opacity);return`${t===1?"hsl(":"hsla("}${mo(this.h)}, ${On(this.s)*100}%, ${On(this.l)*100}%${t===1?")":`, ${t})`}`}}));function mo(t){return t=(t||0)%360,t<0?t+360:t}function On(t){return Math.max(0,Math.min(1,t||0))}function _i(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const el=t=>()=>t;function vu(t,e){return function(n){return t+n*e}}function ku(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function pu(t){return(t=+t)==1?tl:function(e,n){return n-e?ku(e,n,t):el(isNaN(e)?n:e)}}function tl(t,e){var n=e-t;return n?vu(t,n):el(isNaN(t)?e:t)}const _o=function t(e){var n=pu(e);function i(o,r){var s=n((o=Mi(o)).r,(r=Mi(r)).r),l=n(o.g,r.g),a=n(o.b,r.b),u=tl(o.opacity,r.opacity);return function(c){return o.r=s(c),o.g=l(c),o.b=a(c),o.opacity=u(c),o+""}}return i.gamma=t,i}(1);function Vt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Pi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yi=new RegExp(Pi.source,"g");function Eu(t){return function(){return t}}function Su(t){return function(e){return t(e)+""}}function Cu(t,e){var n=Pi.lastIndex=yi.lastIndex=0,i,o,r,s=-1,l=[],a=[];for(t=t+"",e=e+"";(i=Pi.exec(t))&&(o=yi.exec(e));)(r=o.index)>n&&(r=e.slice(n,r),l[s]?l[s]+=r:l[++s]=r),(i=i[0])===(o=o[0])?l[s]?l[s]+=o:l[++s]=o:(l[++s]=null,a.push({i:s,x:Vt(i,o)})),n=yi.lastIndex;return n<e.length&&(r=e.slice(n),l[s]?l[s]+=r:l[++s]=r),l.length<2?a[0]?Su(a[0].x):Eu(e):(e=a.length,function(u){for(var c=0,d;c<e;++c)l[(d=a[c]).i]=d.x(u);return l.join("")})}var yo=180/Math.PI,Ti={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function nl(t,e,n,i,o,r){var s,l,a;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(a=t*n+e*i)&&(n-=t*a,i-=e*a),(l=Math.sqrt(n*n+i*i))&&(n/=l,i/=l,a/=l),t*i<e*n&&(t=-t,e=-e,a=-a,s=-s),{translateX:o,translateY:r,rotate:Math.atan2(e,t)*yo,skewX:Math.atan(a)*yo,scaleX:s,scaleY:l}}var An;function Mu(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Ti:nl(e.a,e.b,e.c,e.d,e.e,e.f)}function Pu(t){return t==null||(An||(An=document.createElementNS("http://www.w3.org/2000/svg","g")),An.setAttribute("transform",t),!(t=An.transform.baseVal.consolidate()))?Ti:(t=t.matrix,nl(t.a,t.b,t.c,t.d,t.e,t.f))}function il(t,e,n,i){function o(u){return u.length?u.pop()+" ":""}function r(u,c,d,f,h,m){if(u!==d||c!==f){var y=h.push("translate(",null,e,null,n);m.push({i:y-4,x:Vt(u,d)},{i:y-2,x:Vt(c,f)})}else(d||f)&&h.push("translate("+d+e+f+n)}function s(u,c,d,f){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),f.push({i:d.push(o(d)+"rotate(",null,i)-2,x:Vt(u,c)})):c&&d.push(o(d)+"rotate("+c+i)}function l(u,c,d,f){u!==c?f.push({i:d.push(o(d)+"skewX(",null,i)-2,x:Vt(u,c)}):c&&d.push(o(d)+"skewX("+c+i)}function a(u,c,d,f,h,m){if(u!==d||c!==f){var y=h.push(o(h)+"scale(",null,",",null,")");m.push({i:y-4,x:Vt(u,d)},{i:y-2,x:Vt(c,f)})}else(d!==1||f!==1)&&h.push(o(h)+"scale("+d+","+f+")")}return function(u,c){var d=[],f=[];return u=t(u),c=t(c),r(u.translateX,u.translateY,c.translateX,c.translateY,d,f),s(u.rotate,c.rotate,d,f),l(u.skewX,c.skewX,d,f),a(u.scaleX,u.scaleY,c.scaleX,c.scaleY,d,f),u=c=null,function(h){for(var m=-1,y=f.length,_;++m<y;)d[(_=f[m]).i]=_.x(h);return d.join("")}}}var Tu=il(Mu,"px, ","px)","deg)"),Du=il(Pu,", ",")",")"),Iu=1e-12;function bo(t){return((t=Math.exp(t))+1/t)/2}function Nu(t){return((t=Math.exp(t))-1/t)/2}function zu(t){return((t=Math.exp(2*t))-1)/(t+1)}const Ou=function t(e,n,i){function o(r,s){var l=r[0],a=r[1],u=r[2],c=s[0],d=s[1],f=s[2],h=c-l,m=d-a,y=h*h+m*m,_,g;if(y<Iu)g=Math.log(f/u)/e,_=function(S){return[l+S*h,a+S*m,u*Math.exp(e*S*g)]};else{var w=Math.sqrt(y),b=(f*f-u*u+i*y)/(2*u*n*w),p=(f*f-u*u-i*y)/(2*f*n*w),T=Math.log(Math.sqrt(b*b+1)-b),A=Math.log(Math.sqrt(p*p+1)-p);g=(A-T)/e,_=function(S){var V=S*g,N=bo(T),B=u/(n*w)*(N*zu(e*V+T)-Nu(T));return[l+B*h,a+B*m,u*N/bo(e*V+T)]}}return _.duration=g*1e3*e/Math.SQRT2,_}return o.rho=function(r){var s=Math.max(.001,+r),l=s*s,a=l*l;return t(s,l,a)},o}(Math.SQRT2,2,4);var sn=0,mn=0,hn=0,ol=1e3,Gn,_n,Jn=0,qt=0,li=0,pn=typeof performance=="object"&&performance.now?performance:Date,rl=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Wi(){return qt||(rl(Au),qt=pn.now()+li)}function Au(){qt=0}function Qn(){this._call=this._time=this._next=null}Qn.prototype=ll.prototype={constructor:Qn,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Wi():+n)+(e==null?0:+e),!this._next&&_n!==this&&(_n?_n._next=this:Gn=this,_n=this),this._call=t,this._time=n,Di()},stop:function(){this._call&&(this._call=null,this._time=1/0,Di())}};function ll(t,e,n){var i=new Qn;return i.restart(t,e,n),i}function Hu(){Wi(),++sn;for(var t=Gn,e;t;)(e=qt-t._time)>=0&&t._call.call(void 0,e),t=t._next;--sn}function wo(){qt=(Jn=pn.now())+li,sn=mn=0;try{Hu()}finally{sn=0,Ru(),qt=0}}function Vu(){var t=pn.now(),e=t-Jn;e>ol&&(li-=e,Jn=t)}function Ru(){for(var t,e=Gn,n,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Gn=n);_n=t,Di(i)}function Di(t){if(!sn){mn&&(mn=clearTimeout(mn));var e=t-qt;e>24?(t<1/0&&(mn=setTimeout(wo,t-pn.now()-li)),hn&&(hn=clearInterval(hn))):(hn||(Jn=pn.now(),hn=setInterval(Vu,ol)),sn=1,rl(wo))}}function vo(t,e,n){var i=new Qn;return e=e==null?0:+e,i.restart(o=>{i.stop(),t(o+e)},e,n),i}var Xu=oi("start","end","cancel","interrupt"),Lu=[],sl=0,ko=1,Ii=2,Ln=3,po=4,Ni=5,Yn=6;function si(t,e,n,i,o,r){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;Yu(t,n,{name:e,index:i,group:o,on:Xu,tween:Lu,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:sl})}function Ki(t,e){var n=wt(t,e);if(n.state>sl)throw new Error("too late; already scheduled");return n}function Ct(t,e){var n=wt(t,e);if(n.state>Ln)throw new Error("too late; already running");return n}function wt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Yu(t,e,n){var i=t.__transition,o;i[e]=n,n.timer=ll(r,0,n.time);function r(u){n.state=ko,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var c,d,f,h;if(n.state!==ko)return a();for(c in i)if(h=i[c],h.name===n.name){if(h.state===Ln)return vo(s);h.state===po?(h.state=Yn,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[c]):+c<e&&(h.state=Yn,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[c])}if(vo(function(){n.state===Ln&&(n.state=po,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=Ii,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Ii){for(n.state=Ln,o=new Array(f=n.tween.length),c=0,d=-1;c<f;++c)(h=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(o[++d]=h);o.length=d+1}}function l(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(a),n.state=Ni,1),d=-1,f=o.length;++d<f;)o[d].call(t,c);n.state===Ni&&(n.on.call("end",t,t.__data__,n.index,n.group),a())}function a(){n.state=Yn,n.timer.stop(),delete i[e];for(var u in i)return;delete t.__transition}}function Bn(t,e){var n=t.__transition,i,o,r=!0,s;if(n){e=e==null?null:e+"";for(s in n){if((i=n[s]).name!==e){r=!1;continue}o=i.state>Ii&&i.state<Ni,i.state=Yn,i.timer.stop(),i.on.call(o?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete n[s]}r&&delete t.__transition}}function Bu(t){return this.each(function(){Bn(this,t)})}function Wu(t,e){var n,i;return function(){var o=Ct(this,t),r=o.tween;if(r!==n){i=n=r;for(var s=0,l=i.length;s<l;++s)if(i[s].name===e){i=i.slice(),i.splice(s,1);break}}o.tween=i}}function Ku(t,e,n){var i,o;if(typeof n!="function")throw new Error;return function(){var r=Ct(this,t),s=r.tween;if(s!==i){o=(i=s).slice();for(var l={name:e,value:n},a=0,u=o.length;a<u;++a)if(o[a].name===e){o[a]=l;break}a===u&&o.push(l)}r.tween=o}}function Fu(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i=wt(this.node(),n).tween,o=0,r=i.length,s;o<r;++o)if((s=i[o]).name===t)return s.value;return null}return this.each((e==null?Wu:Ku)(n,t,e))}function Fi(t,e,n){var i=t._id;return t.each(function(){var o=Ct(this,i);(o.value||(o.value={}))[e]=n.apply(this,arguments)}),function(o){return wt(o,i).value[e]}}function al(t,e){var n;return(typeof e=="number"?Vt:e instanceof kn?_o:(n=kn(e))?(e=n,_o):Cu)(t,e)}function Zu(t){return function(){this.removeAttribute(t)}}function qu(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Uu(t,e,n){var i,o=n+"",r;return function(){var s=this.getAttribute(t);return s===o?null:s===i?r:r=e(i=s,n)}}function Gu(t,e,n){var i,o=n+"",r;return function(){var s=this.getAttributeNS(t.space,t.local);return s===o?null:s===i?r:r=e(i=s,n)}}function Ju(t,e,n){var i,o,r;return function(){var s,l=n(this),a;return l==null?void this.removeAttribute(t):(s=this.getAttribute(t),a=l+"",s===a?null:s===i&&a===o?r:(o=a,r=e(i=s,l)))}}function Qu(t,e,n){var i,o,r;return function(){var s,l=n(this),a;return l==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),a=l+"",s===a?null:s===i&&a===o?r:(o=a,r=e(i=s,l)))}}function ju(t,e){var n=ri(t),i=n==="transform"?Du:al;return this.attrTween(t,typeof e=="function"?(n.local?Qu:Ju)(n,i,Fi(this,"attr."+t,e)):e==null?(n.local?qu:Zu)(n):(n.local?Gu:Uu)(n,i,e))}function xu(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function $u(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function ec(t,e){var n,i;function o(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&$u(t,r)),n}return o._value=e,o}function tc(t,e){var n,i;function o(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&xu(t,r)),n}return o._value=e,o}function nc(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var i=ri(t);return this.tween(n,(i.local?ec:tc)(i,e))}function ic(t,e){return function(){Ki(this,t).delay=+e.apply(this,arguments)}}function oc(t,e){return e=+e,function(){Ki(this,t).delay=e}}function rc(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?ic:oc)(e,t)):wt(this.node(),e).delay}function lc(t,e){return function(){Ct(this,t).duration=+e.apply(this,arguments)}}function sc(t,e){return e=+e,function(){Ct(this,t).duration=e}}function ac(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?lc:sc)(e,t)):wt(this.node(),e).duration}function uc(t,e){if(typeof e!="function")throw new Error;return function(){Ct(this,t).ease=e}}function cc(t){var e=this._id;return arguments.length?this.each(uc(e,t)):wt(this.node(),e).ease}function fc(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Ct(this,t).ease=n}}function dc(t){if(typeof t!="function")throw new Error;return this.each(fc(this._id,t))}function hc(t){typeof t!="function"&&(t=Yr(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r=e[o],s=r.length,l=i[o]=[],a,u=0;u<s;++u)(a=r[u])&&t.call(a,a.__data__,u,r)&&l.push(a);return new Ht(i,this._parents,this._name,this._id)}function gc(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,o=n.length,r=Math.min(i,o),s=new Array(i),l=0;l<r;++l)for(var a=e[l],u=n[l],c=a.length,d=s[l]=new Array(c),f,h=0;h<c;++h)(f=a[h]||u[h])&&(d[h]=f);for(;l<i;++l)s[l]=e[l];return new Ht(s,this._parents,this._name,this._id)}function mc(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function _c(t,e,n){var i,o,r=mc(e)?Ki:Ct;return function(){var s=r(this,t),l=s.on;l!==i&&(o=(i=l).copy()).on(e,n),s.on=o}}function yc(t,e){var n=this._id;return arguments.length<2?wt(this.node(),n).on.on(t):this.each(_c(n,t,e))}function bc(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function wc(){return this.on("end.remove",bc(this._id))}function vc(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Li(t));for(var i=this._groups,o=i.length,r=new Array(o),s=0;s<o;++s)for(var l=i[s],a=l.length,u=r[s]=new Array(a),c,d,f=0;f<a;++f)(c=l[f])&&(d=t.call(c,c.__data__,f,l))&&("__data__"in c&&(d.__data__=c.__data__),u[f]=d,si(u[f],e,n,f,u,wt(c,n)));return new Ht(r,this._parents,e,n)}function kc(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Lr(t));for(var i=this._groups,o=i.length,r=[],s=[],l=0;l<o;++l)for(var a=i[l],u=a.length,c,d=0;d<u;++d)if(c=a[d]){for(var f=t.call(c,c.__data__,d,a),h,m=wt(c,n),y=0,_=f.length;y<_;++y)(h=f[y])&&si(h,e,n,y,f,m);r.push(f),s.push(c)}return new Ht(r,s,e,n)}var pc=Mn.prototype.constructor;function Ec(){return new pc(this._groups,this._parents)}function Sc(t,e){var n,i,o;return function(){var r=ln(this,t),s=(this.style.removeProperty(t),ln(this,t));return r===s?null:r===n&&s===i?o:o=e(n=r,i=s)}}function ul(t){return function(){this.style.removeProperty(t)}}function Cc(t,e,n){var i,o=n+"",r;return function(){var s=ln(this,t);return s===o?null:s===i?r:r=e(i=s,n)}}function Mc(t,e,n){var i,o,r;return function(){var s=ln(this,t),l=n(this),a=l+"";return l==null&&(a=l=(this.style.removeProperty(t),ln(this,t))),s===a?null:s===i&&a===o?r:(o=a,r=e(i=s,l))}}function Pc(t,e){var n,i,o,r="style."+e,s="end."+r,l;return function(){var a=Ct(this,t),u=a.on,c=a.value[r]==null?l||(l=ul(e)):void 0;(u!==n||o!==c)&&(i=(n=u).copy()).on(s,o=c),a.on=i}}function Tc(t,e,n){var i=(t+="")=="transform"?Tu:al;return e==null?this.styleTween(t,Sc(t,i)).on("end.style."+t,ul(t)):typeof e=="function"?this.styleTween(t,Mc(t,i,Fi(this,"style."+t,e))).each(Pc(this._id,t)):this.styleTween(t,Cc(t,i,e),n).on("end.style."+t,null)}function Dc(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function Ic(t,e,n){var i,o;function r(){var s=e.apply(this,arguments);return s!==o&&(i=(o=s)&&Dc(t,s,n)),i}return r._value=e,r}function Nc(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,Ic(t,e,n??""))}function zc(t){return function(){this.textContent=t}}function Oc(t){return function(){var e=t(this);this.textContent=e??""}}function Ac(t){return this.tween("text",typeof t=="function"?Oc(Fi(this,"text",t)):zc(t==null?"":t+""))}function Hc(t){return function(e){this.textContent=t.call(this,e)}}function Vc(t){var e,n;function i(){var o=t.apply(this,arguments);return o!==n&&(e=(n=o)&&Hc(o)),e}return i._value=t,i}function Rc(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Vc(t))}function Xc(){for(var t=this._name,e=this._id,n=cl(),i=this._groups,o=i.length,r=0;r<o;++r)for(var s=i[r],l=s.length,a,u=0;u<l;++u)if(a=s[u]){var c=wt(a,e);si(a,t,n,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Ht(i,this._parents,t,n)}function Lc(){var t,e,n=this,i=n._id,o=n.size();return new Promise(function(r,s){var l={value:s},a={value:function(){--o===0&&r()}};n.each(function(){var u=Ct(this,i),c=u.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(a)),u.on=e}),o===0&&r()})}var Yc=0;function Ht(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function cl(){return++Yc}var Nt=Mn.prototype;Ht.prototype={constructor:Ht,select:vc,selectAll:kc,selectChild:Nt.selectChild,selectChildren:Nt.selectChildren,filter:hc,merge:gc,selection:Ec,transition:Xc,call:Nt.call,nodes:Nt.nodes,node:Nt.node,size:Nt.size,empty:Nt.empty,each:Nt.each,on:yc,attr:ju,attrTween:nc,style:Tc,styleTween:Nc,text:Ac,textTween:Rc,remove:wc,tween:Fu,delay:rc,duration:ac,ease:cc,easeVarying:dc,end:Lc,[Symbol.iterator]:Nt[Symbol.iterator]};function Bc(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Wc={time:null,delay:0,duration:250,ease:Bc};function Kc(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Fc(t){var e,n;t instanceof Ht?(e=t._id,t=t._name):(e=cl(),(n=Wc).time=Wi(),t=t==null?null:t+"");for(var i=this._groups,o=i.length,r=0;r<o;++r)for(var s=i[r],l=s.length,a,u=0;u<l;++u)(a=s[u])&&si(a,t,e,u,s,n||Kc(a,e));return new Ht(i,this._parents,t,e)}Mn.prototype.interrupt=Bu;Mn.prototype.transition=Fc;const Hn=t=>()=>t;function Zc(t,{sourceEvent:e,target:n,transform:i,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function zt(t,e,n){this.k=t,this.x=e,this.y=n}zt.prototype={constructor:zt,scale:function(t){return t===1?this:new zt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new zt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ai=new zt(1,0,0);fl.prototype=zt.prototype;function fl(t){for(;!t.__zoom;)if(!(t=t.parentNode))return ai;return t.__zoom}function bi(t){t.stopImmediatePropagation()}function gn(t){t.preventDefault(),t.stopImmediatePropagation()}function qc(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Uc(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Eo(){return this.__zoom||ai}function Gc(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Jc(){return navigator.maxTouchPoints||"ontouchstart"in this}function Qc(t,e,n){var i=t.invertX(e[0][0])-n[0][0],o=t.invertX(e[1][0])-n[1][0],r=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o),s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s))}function jc(){var t=qc,e=Uc,n=Qc,i=Gc,o=Jc,r=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],l=250,a=Ou,u=oi("start","zoom","end"),c,d,f,h=500,m=150,y=0,_=10;function g(k){k.property("__zoom",Eo).on("wheel.zoom",V,{passive:!1}).on("mousedown.zoom",N).on("dblclick.zoom",B).filter(o).on("touchstart.zoom",U).on("touchmove.zoom",K).on("touchend.zoom touchcancel.zoom",O).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(k,Y,E,P){var R=k.selection?k.selection():k;R.property("__zoom",Eo),k!==R?T(k,Y,E,P):R.interrupt().each(function(){A(this,arguments).event(P).start().zoom(null,typeof Y=="function"?Y.apply(this,arguments):Y).end()})},g.scaleBy=function(k,Y,E,P){g.scaleTo(k,function(){var R=this.__zoom.k,X=typeof Y=="function"?Y.apply(this,arguments):Y;return R*X},E,P)},g.scaleTo=function(k,Y,E,P){g.transform(k,function(){var R=e.apply(this,arguments),X=this.__zoom,q=E==null?p(R):typeof E=="function"?E.apply(this,arguments):E,te=X.invert(q),ie=typeof Y=="function"?Y.apply(this,arguments):Y;return n(b(w(X,ie),q,te),R,s)},E,P)},g.translateBy=function(k,Y,E,P){g.transform(k,function(){return n(this.__zoom.translate(typeof Y=="function"?Y.apply(this,arguments):Y,typeof E=="function"?E.apply(this,arguments):E),e.apply(this,arguments),s)},null,P)},g.translateTo=function(k,Y,E,P,R){g.transform(k,function(){var X=e.apply(this,arguments),q=this.__zoom,te=P==null?p(X):typeof P=="function"?P.apply(this,arguments):P;return n(ai.translate(te[0],te[1]).scale(q.k).translate(typeof Y=="function"?-Y.apply(this,arguments):-Y,typeof E=="function"?-E.apply(this,arguments):-E),X,s)},P,R)};function w(k,Y){return Y=Math.max(r[0],Math.min(r[1],Y)),Y===k.k?k:new zt(Y,k.x,k.y)}function b(k,Y,E){var P=Y[0]-E[0]*k.k,R=Y[1]-E[1]*k.k;return P===k.x&&R===k.y?k:new zt(k.k,P,R)}function p(k){return[(+k[0][0]+ +k[1][0])/2,(+k[0][1]+ +k[1][1])/2]}function T(k,Y,E,P){k.on("start.zoom",function(){A(this,arguments).event(P).start()}).on("interrupt.zoom end.zoom",function(){A(this,arguments).event(P).end()}).tween("zoom",function(){var R=this,X=arguments,q=A(R,X).event(P),te=e.apply(R,X),ie=E==null?p(te):typeof E=="function"?E.apply(R,X):E,H=Math.max(te[1][0]-te[0][0],te[1][1]-te[0][1]),D=R.__zoom,W=typeof Y=="function"?Y.apply(R,X):Y,Q=a(D.invert(ie).concat(H/D.k),W.invert(ie).concat(H/W.k));return function(I){if(I===1)I=W;else{var ne=Q(I),re=H/ne[2];I=new zt(re,ie[0]-ne[0]*re,ie[1]-ne[1]*re)}q.zoom(null,I)}})}function A(k,Y,E){return!E&&k.__zooming||new S(k,Y)}function S(k,Y){this.that=k,this.args=Y,this.active=0,this.sourceEvent=null,this.extent=e.apply(k,Y),this.taps=0}S.prototype={event:function(k){return k&&(this.sourceEvent=k),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(k,Y){return this.mouse&&k!=="mouse"&&(this.mouse[1]=Y.invert(this.mouse[0])),this.touch0&&k!=="touch"&&(this.touch0[1]=Y.invert(this.touch0[0])),this.touch1&&k!=="touch"&&(this.touch1[1]=Y.invert(this.touch1[0])),this.that.__zoom=Y,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(k){var Y=_t(this.that).datum();u.call(k,this.that,new Zc(k,{sourceEvent:this.sourceEvent,target:g,type:k,transform:this.that.__zoom,dispatch:u}),Y)}};function V(k,...Y){if(!t.apply(this,arguments))return;var E=A(this,Y).event(k),P=this.__zoom,R=Math.max(r[0],Math.min(r[1],P.k*Math.pow(2,i.apply(this,arguments)))),X=pt(k);if(E.wheel)(E.mouse[0][0]!==X[0]||E.mouse[0][1]!==X[1])&&(E.mouse[1]=P.invert(E.mouse[0]=X)),clearTimeout(E.wheel);else{if(P.k===R)return;E.mouse=[X,P.invert(X)],Bn(this),E.start()}gn(k),E.wheel=setTimeout(q,m),E.zoom("mouse",n(b(w(P,R),E.mouse[0],E.mouse[1]),E.extent,s));function q(){E.wheel=null,E.end()}}function N(k,...Y){if(f||!t.apply(this,arguments))return;var E=k.currentTarget,P=A(this,Y,!0).event(k),R=_t(k.view).on("mousemove.zoom",ie,!0).on("mouseup.zoom",H,!0),X=pt(k,E),q=k.clientX,te=k.clientY;Qr(k.view),bi(k),P.mouse=[X,this.__zoom.invert(X)],Bn(this),P.start();function ie(D){if(gn(D),!P.moved){var W=D.clientX-q,Q=D.clientY-te;P.moved=W*W+Q*Q>y}P.event(D).zoom("mouse",n(b(P.that.__zoom,P.mouse[0]=pt(D,E),P.mouse[1]),P.extent,s))}function H(D){R.on("mousemove.zoom mouseup.zoom",null),jr(D.view,P.moved),gn(D),P.event(D).end()}}function B(k,...Y){if(t.apply(this,arguments)){var E=this.__zoom,P=pt(k.changedTouches?k.changedTouches[0]:k,this),R=E.invert(P),X=E.k*(k.shiftKey?.5:2),q=n(b(w(E,X),P,R),e.apply(this,Y),s);gn(k),l>0?_t(this).transition().duration(l).call(T,q,P,k):_t(this).call(g.transform,q,P,k)}}function U(k,...Y){if(t.apply(this,arguments)){var E=k.touches,P=E.length,R=A(this,Y,k.changedTouches.length===P).event(k),X,q,te,ie;for(bi(k),q=0;q<P;++q)te=E[q],ie=pt(te,this),ie=[ie,this.__zoom.invert(ie),te.identifier],R.touch0?!R.touch1&&R.touch0[2]!==ie[2]&&(R.touch1=ie,R.taps=0):(R.touch0=ie,X=!0,R.taps=1+!!c);c&&(c=clearTimeout(c)),X&&(R.taps<2&&(d=ie[0],c=setTimeout(function(){c=null},h)),Bn(this),R.start())}}function K(k,...Y){if(this.__zooming){var E=A(this,Y).event(k),P=k.changedTouches,R=P.length,X,q,te,ie;for(gn(k),X=0;X<R;++X)q=P[X],te=pt(q,this),E.touch0&&E.touch0[2]===q.identifier?E.touch0[0]=te:E.touch1&&E.touch1[2]===q.identifier&&(E.touch1[0]=te);if(q=E.that.__zoom,E.touch1){var H=E.touch0[0],D=E.touch0[1],W=E.touch1[0],Q=E.touch1[1],I=(I=W[0]-H[0])*I+(I=W[1]-H[1])*I,ne=(ne=Q[0]-D[0])*ne+(ne=Q[1]-D[1])*ne;q=w(q,Math.sqrt(I/ne)),te=[(H[0]+W[0])/2,(H[1]+W[1])/2],ie=[(D[0]+Q[0])/2,(D[1]+Q[1])/2]}else if(E.touch0)te=E.touch0[0],ie=E.touch0[1];else return;E.zoom("touch",n(b(q,te,ie),E.extent,s))}}function O(k,...Y){if(this.__zooming){var E=A(this,Y).event(k),P=k.changedTouches,R=P.length,X,q;for(bi(k),f&&clearTimeout(f),f=setTimeout(function(){f=null},h),X=0;X<R;++X)q=P[X],E.touch0&&E.touch0[2]===q.identifier?delete E.touch0:E.touch1&&E.touch1[2]===q.identifier&&delete E.touch1;if(E.touch1&&!E.touch0&&(E.touch0=E.touch1,delete E.touch1),E.touch0)E.touch0[1]=this.__zoom.invert(E.touch0[0]);else if(E.end(),E.taps===2&&(q=pt(q,this),Math.hypot(d[0]-q[0],d[1]-q[1])<_)){var te=_t(this).on("dblclick.zoom");te&&te.apply(this,arguments)}}}return g.wheelDelta=function(k){return arguments.length?(i=typeof k=="function"?k:Hn(+k),g):i},g.filter=function(k){return arguments.length?(t=typeof k=="function"?k:Hn(!!k),g):t},g.touchable=function(k){return arguments.length?(o=typeof k=="function"?k:Hn(!!k),g):o},g.extent=function(k){return arguments.length?(e=typeof k=="function"?k:Hn([[+k[0][0],+k[0][1]],[+k[1][0],+k[1][1]]]),g):e},g.scaleExtent=function(k){return arguments.length?(r[0]=+k[0],r[1]=+k[1],g):[r[0],r[1]]},g.translateExtent=function(k){return arguments.length?(s[0][0]=+k[0][0],s[1][0]=+k[1][0],s[0][1]=+k[0][1],s[1][1]=+k[1][1],g):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},g.constrain=function(k){return arguments.length?(n=k,g):n},g.duration=function(k){return arguments.length?(l=+k,g):l},g.interpolate=function(k){return arguments.length?(a=k,g):a},g.on=function(){var k=u.on.apply(u,arguments);return k===u?g:k},g.clickDistance=function(k){return arguments.length?(y=(k=+k)*k,g):Math.sqrt(y)},g.tapDistance=function(k){return arguments.length?(_=+k,g):_},g}const Tn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:n,targetHandle:i})=>`Couldn't create edge for ${t} handle id: "${t==="source"?n:i}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(t="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${t}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID."},jn=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]];var Ut;(function(t){t.Strict="strict",t.Loose="loose"})(Ut||(Ut={}));var St;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(St||(St={}));var xn;(function(t){t.Partial="partial",t.Full="full"})(xn||(xn={}));const zi={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var on;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(on||(on={}));var $n;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})($n||($n={}));var we;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(we||(we={}));const So={[we.Left]:we.Right,[we.Right]:we.Left,[we.Top]:we.Bottom,[we.Bottom]:we.Top};function xc(t,e){if(!t&&!e)return!0;if(!t||!e||t.size!==e.size)return!1;if(!t.size&&!e.size)return!0;for(const n of t.keys())if(!e.has(n))return!1;return!0}function Co(t,e,n){if(!n)return;const i=[];t.forEach((o,r)=>{e!=null&&e.has(r)||i.push(o)}),i.length&&n(i)}function Mo(t){return t===null?null:t?"valid":"invalid"}const $c=t=>"id"in t&&"source"in t&&"target"in t,dl=t=>"id"in t&&"internals"in t&&!("source"in t)&&!("target"in t),Dn=(t,e=[0,0])=>{const{width:n,height:i}=Jt(t),o=t.origin??e,r=n*o[0],s=i*o[1];return{x:t.position.x-r,y:t.position.y-s}},ui=(t,e={})=>{if(t.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return t.forEach(i=>{if(e.filter===void 0||e.filter(i)){const o=Hi(i);n=Zi(n,o)}}),qi(n)},hl=(t,e,[n,i,o]=[0,0,1],r=!1,s=!1)=>{const l={...fi(e,[n,i,o]),width:e.width/o,height:e.height/o},a=[];for(const u of t.values()){const{measured:c,selectable:d=!0,hidden:f=!1}=u;if(s&&!d||f)continue;const h=c.width??u.width??u.initialWidth??null,m=c.height??u.height??u.initialHeight??null,y=Ui(l,ci(u)),_=(h??0)*(m??0),g=r&&y>0;(!u.internals.handleBounds||g||y>=_||u.dragging)&&a.push(u)}return a},Oi=(t,e)=>{const n=new Set;return t.forEach(i=>{n.add(i.id)}),e.filter(i=>n.has(i.source)||n.has(i.target))};function Po(t,e){const n=new Map,i=e!=null&&e.nodes?new Set(e.nodes.map(o=>o.id)):null;return t.forEach(o=>{o.measured.width&&o.measured.height&&((e==null?void 0:e.includeHiddenNodes)||!o.hidden)&&(!i||i.has(o.id))&&n.set(o.id,o)}),n}async function To({nodes:t,width:e,height:n,panZoom:i,minZoom:o,maxZoom:r},s){if(t.size===0)return Promise.resolve(!1);const l=ui(t),a=_l(l,e,n,(s==null?void 0:s.minZoom)??o,(s==null?void 0:s.maxZoom)??r,(s==null?void 0:s.padding)??.1);return await i.setViewport(a,{duration:s==null?void 0:s.duration}),Promise.resolve(!0)}function ef({nodeId:t,nextPosition:e,nodeLookup:n,nodeOrigin:i=[0,0],nodeExtent:o,onError:r}){const s=n.get(t),l=s.parentId?n.get(s.parentId):void 0,{x:a,y:u}=l?l.internals.positionAbsolute:{x:0,y:0},c=s.origin??i;let d=o;if(s.extent==="parent"&&!s.expandParent)if(!l)r==null||r("005",Tn.error005());else{const h=l.measured.width,m=l.measured.height;h&&m&&(d=[[a,u],[a+h,u+m]])}else l&&un(s.extent)&&(d=[[s.extent[0][0]+a,s.extent[0][1]+u],[s.extent[1][0]+a,s.extent[1][1]+u]]);const f=un(d)?Gt(e,d,s.measured):e;return{position:{x:f.x-a+s.measured.width*c[0],y:f.y-u+s.measured.height*c[1]},positionAbsolute:f}}async function tf({nodesToRemove:t=[],edgesToRemove:e=[],nodes:n,edges:i,onBeforeDelete:o}){const r=new Set(t.map(f=>f.id)),s=[];for(const f of n){if(f.deletable===!1)continue;const h=r.has(f.id),m=!h&&f.parentId&&s.find(y=>y.id===f.parentId);(h||m)&&s.push(f)}const l=new Set(e.map(f=>f.id)),a=i.filter(f=>f.deletable!==!1),c=Oi(s,a);for(const f of a)l.has(f.id)&&!c.find(m=>m.id===f.id)&&c.push(f);if(!o)return{edges:c,nodes:s};const d=await o({nodes:s,edges:c});return typeof d=="boolean"?d?{edges:c,nodes:s}:{edges:[],nodes:[]}:d}const an=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),Gt=(t={x:0,y:0},e,n)=>({x:an(t.x,e[0][0],e[1][0]-((n==null?void 0:n.width)??0)),y:an(t.y,e[0][1],e[1][1]-((n==null?void 0:n.height)??0))});function gl(t,e,n){const{width:i,height:o}=Jt(n),{x:r,y:s}=n.internals.positionAbsolute;return Gt(t,[[r,s],[r+i,s+o]],e)}const Do=(t,e,n)=>t<e?an(Math.abs(t-e),1,e)/e:t>n?-an(Math.abs(t-n),1,e)/e:0,ml=(t,e,n=15,i=40)=>{const o=Do(t.x,i,e.width-i)*n,r=Do(t.y,i,e.height-i)*n;return[o,r]},Zi=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),Ai=({x:t,y:e,width:n,height:i})=>({x:t,y:e,x2:t+n,y2:e+i}),qi=({x:t,y:e,x2:n,y2:i})=>({x:t,y:e,width:n-t,height:i-e}),ci=(t,e=[0,0])=>{var o,r;const{x:n,y:i}=dl(t)?t.internals.positionAbsolute:Dn(t,e);return{x:n,y:i,width:((o=t.measured)==null?void 0:o.width)??t.width??t.initialWidth??0,height:((r=t.measured)==null?void 0:r.height)??t.height??t.initialHeight??0}},Hi=(t,e=[0,0])=>{var o,r;const{x:n,y:i}=dl(t)?t.internals.positionAbsolute:Dn(t,e);return{x:n,y:i,x2:n+(((o=t.measured)==null?void 0:o.width)??t.width??t.initialWidth??0),y2:i+(((r=t.measured)==null?void 0:r.height)??t.height??t.initialHeight??0)}},nf=(t,e)=>qi(Zi(Ai(t),Ai(e))),Ui=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),i=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*i)},Kt=t=>!isNaN(t)&&isFinite(t),of=(t,e)=>{},Gi=(t,e=[1,1])=>({x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}),fi=({x:t,y:e},[n,i,o],r=!1,s=[1,1])=>{const l={x:(t-n)/o,y:(e-i)/o};return r?Gi(l,s):l},rf=({x:t,y:e},[n,i,o])=>({x:t*o+n,y:e*o+i}),_l=(t,e,n,i,o,r)=>{const s=e/(t.width*(1+r)),l=n/(t.height*(1+r)),a=Math.min(s,l),u=an(a,i,o),c=t.x+t.width/2,d=t.y+t.height/2,f=e/2-c*u,h=n/2-d*u;return{x:f,y:h,zoom:u}},ei=()=>{var t;return typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)==null?void 0:t.indexOf("Mac"))>=0};function un(t){return t!==void 0&&t!=="parent"}function Jt(t){var e,n;return{width:((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth??0,height:((n=t.measured)==null?void 0:n.height)??t.height??t.initialHeight??0}}function Io(t){var e,n;return(((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth)!==void 0&&(((n=t.measured)==null?void 0:n.height)??t.height??t.initialHeight)!==void 0}function wi(t,{snapGrid:e=[0,0],snapToGrid:n=!1,transform:i,containerBounds:o}){const{x:r,y:s}=Ot(t),l=fi({x:r-((o==null?void 0:o.left)??0),y:s-((o==null?void 0:o.top)??0)},i),{x:a,y:u}=n?Gi(l,e):l;return{xSnapped:a,ySnapped:u,...l}}const Ji=t=>({width:t.offsetWidth,height:t.offsetHeight}),lf=t=>{var e;return((e=t==null?void 0:t.getRootNode)==null?void 0:e.call(t))||(window==null?void 0:window.document)},sf=["INPUT","SELECT","TEXTAREA"];function af(t){var i,o;const e=((o=(i=t.composedPath)==null?void 0:i.call(t))==null?void 0:o[0])||t.target;return(e==null?void 0:e.nodeType)!==1?!1:sf.includes(e.nodeName)||e.hasAttribute("contenteditable")||!!e.closest(".nokey")}const yl=t=>"clientX"in t,Ot=(t,e)=>{var r,s;const n=yl(t),i=n?t.clientX:(r=t.touches)==null?void 0:r[0].clientX,o=n?t.clientY:(s=t.touches)==null?void 0:s[0].clientY;return{x:i-((e==null?void 0:e.left)??0),y:o-((e==null?void 0:e.top)??0)}},No=(t,e,n,i,o)=>{const r=e.querySelectorAll(`.${t}`);return!r||!r.length?null:Array.from(r).map(s=>{const l=s.getBoundingClientRect();return{id:s.getAttribute("data-handleid"),type:t,nodeId:o,position:s.getAttribute("data-handlepos"),x:(l.left-n.left)/i,y:(l.top-n.top)/i,...Ji(s)}})};function uf({sourceX:t,sourceY:e,targetX:n,targetY:i,sourceControlX:o,sourceControlY:r,targetControlX:s,targetControlY:l}){const a=t*.125+o*.375+s*.375+n*.125,u=e*.125+r*.375+l*.375+i*.125,c=Math.abs(a-t),d=Math.abs(u-e);return[a,u,c,d]}function Vn(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function zo({pos:t,x1:e,y1:n,x2:i,y2:o,c:r}){switch(t){case we.Left:return[e-Vn(e-i,r),n];case we.Right:return[e+Vn(i-e,r),n];case we.Top:return[e,n-Vn(n-o,r)];case we.Bottom:return[e,n+Vn(o-n,r)]}}function bl({sourceX:t,sourceY:e,sourcePosition:n=we.Bottom,targetX:i,targetY:o,targetPosition:r=we.Top,curvature:s=.25}){const[l,a]=zo({pos:n,x1:t,y1:e,x2:i,y2:o,c:s}),[u,c]=zo({pos:r,x1:i,y1:o,x2:t,y2:e,c:s}),[d,f,h,m]=uf({sourceX:t,sourceY:e,targetX:i,targetY:o,sourceControlX:l,sourceControlY:a,targetControlX:u,targetControlY:c});return[`M${t},${e} C${l},${a} ${u},${c} ${i},${o}`,d,f,h,m]}function wl({sourceX:t,sourceY:e,targetX:n,targetY:i}){const o=Math.abs(n-t)/2,r=n<t?n+o:n-o,s=Math.abs(i-e)/2,l=i<e?i+s:i-s;return[r,l,o,s]}function cf({sourceNode:t,targetNode:e,selected:n=!1,zIndex:i=0,elevateOnSelect:o=!1}){if(!o)return i;const r=n||e.selected||t.selected,s=Math.max(t.internals.z||0,e.internals.z||0,1e3);return i+(r?s:0)}function ff({sourceNode:t,targetNode:e,width:n,height:i,transform:o}){const r=Zi(Hi(t),Hi(e));r.x===r.x2&&(r.x2+=1),r.y===r.y2&&(r.y2+=1);const s={x:-o[0]/o[2],y:-o[1]/o[2],width:n/o[2],height:i/o[2]};return Ui(s,qi(r))>0}const df=({source:t,sourceHandle:e,target:n,targetHandle:i})=>`xy-edge__${t}${e||""}-${n}${i||""}`,hf=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),gf=(t,e)=>{if(!t.source||!t.target)return e;let n;return $c(t)?n={...t}:n={...t,id:df(t)},hf(n,e)?e:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,e.concat(n))};function vl({sourceX:t,sourceY:e,targetX:n,targetY:i}){const[o,r,s,l]=wl({sourceX:t,sourceY:e,targetX:n,targetY:i});return[`M ${t},${e}L ${n},${i}`,o,r,s,l]}const Oo={[we.Left]:{x:-1,y:0},[we.Right]:{x:1,y:0},[we.Top]:{x:0,y:-1},[we.Bottom]:{x:0,y:1}},mf=({source:t,sourcePosition:e=we.Bottom,target:n})=>e===we.Left||e===we.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},Ao=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function _f({source:t,sourcePosition:e=we.Bottom,target:n,targetPosition:i=we.Top,center:o,offset:r}){const s=Oo[e],l=Oo[i],a={x:t.x+s.x*r,y:t.y+s.y*r},u={x:n.x+l.x*r,y:n.y+l.y*r},c=mf({source:a,sourcePosition:e,target:u}),d=c.x!==0?"x":"y",f=c[d];let h=[],m,y;const _={x:0,y:0},g={x:0,y:0},[w,b,p,T]=wl({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(s[d]*l[d]===-1){m=o.x??w,y=o.y??b;const S=[{x:m,y:a.y},{x:m,y:u.y}],V=[{x:a.x,y},{x:u.x,y}];s[d]===f?h=d==="x"?S:V:h=d==="x"?V:S}else{const S=[{x:a.x,y:u.y}],V=[{x:u.x,y:a.y}];if(d==="x"?h=s.x===f?V:S:h=s.y===f?S:V,e===i){const O=Math.abs(t[d]-n[d]);if(O<=r){const k=Math.min(r-1,r-O);s[d]===f?_[d]=(a[d]>t[d]?-1:1)*k:g[d]=(u[d]>n[d]?-1:1)*k}}if(e!==i){const O=d==="x"?"y":"x",k=s[d]===l[O],Y=a[O]>u[O],E=a[O]<u[O];(s[d]===1&&(!k&&Y||k&&E)||s[d]!==1&&(!k&&E||k&&Y))&&(h=d==="x"?S:V)}const N={x:a.x+_.x,y:a.y+_.y},B={x:u.x+g.x,y:u.y+g.y},U=Math.max(Math.abs(N.x-h[0].x),Math.abs(B.x-h[0].x)),K=Math.max(Math.abs(N.y-h[0].y),Math.abs(B.y-h[0].y));U>=K?(m=(N.x+B.x)/2,y=h[0].y):(m=h[0].x,y=(N.y+B.y)/2)}return[[t,{x:a.x+_.x,y:a.y+_.y},...h,{x:u.x+g.x,y:u.y+g.y},n],m,y,p,T]}function yf(t,e,n,i){const o=Math.min(Ao(t,e)/2,Ao(e,n)/2,i),{x:r,y:s}=e;if(t.x===r&&r===n.x||t.y===s&&s===n.y)return`L${r} ${s}`;if(t.y===s){const u=t.x<n.x?-1:1,c=t.y<n.y?1:-1;return`L ${r+o*u},${s}Q ${r},${s} ${r},${s+o*c}`}const l=t.x<n.x?1:-1,a=t.y<n.y?-1:1;return`L ${r},${s+o*a}Q ${r},${s} ${r+o*l},${s}`}function ti({sourceX:t,sourceY:e,sourcePosition:n=we.Bottom,targetX:i,targetY:o,targetPosition:r=we.Top,borderRadius:s=5,centerX:l,centerY:a,offset:u=20}){const[c,d,f,h,m]=_f({source:{x:t,y:e},sourcePosition:n,target:{x:i,y:o},targetPosition:r,center:{x:l,y:a},offset:u});return[c.reduce((_,g,w)=>{let b="";return w>0&&w<c.length-1?b=yf(c[w-1],g,c[w+1],s):b=`${w===0?"M":"L"}${g.x} ${g.y}`,_+=b,_},""),d,f,h,m]}function Ho(t){var e;return t&&!!(t.internals.handleBounds||(e=t.handles)!=null&&e.length)&&!!(t.measured.width||t.width||t.initialWidth)}function bf(t){var d;const{sourceNode:e,targetNode:n}=t;if(!Ho(e)||!Ho(n))return null;const i=e.internals.handleBounds||Vo(e.handles),o=n.internals.handleBounds||Vo(n.handles),r=Ro((i==null?void 0:i.source)??[],t.sourceHandle),s=Ro(t.connectionMode===Ut.Strict?(o==null?void 0:o.target)??[]:((o==null?void 0:o.target)??[]).concat((o==null?void 0:o.source)??[]),t.targetHandle);if(!r||!s)return(d=t.onError)==null||d.call(t,"008",Tn.error008(r?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const l=(r==null?void 0:r.position)||we.Bottom,a=(s==null?void 0:s.position)||we.Top,u=En(e,r,l),c=En(n,s,a);return{sourceX:u.x,sourceY:u.y,targetX:c.x,targetY:c.y,sourcePosition:l,targetPosition:a}}function Vo(t){if(!t)return null;const e=[],n=[];for(const i of t)i.width=i.width??1,i.height=i.height??1,i.type==="source"?e.push(i):i.type==="target"&&n.push(i);return{source:e,target:n}}function En(t,e,n=we.Left,i=!1){const o=((e==null?void 0:e.x)??0)+t.internals.positionAbsolute.x,r=((e==null?void 0:e.y)??0)+t.internals.positionAbsolute.y,{width:s,height:l}=e??Jt(t);if(i)return{x:o+s/2,y:r+l/2};switch((e==null?void 0:e.position)??n){case we.Top:return{x:o+s/2,y:r};case we.Right:return{x:o+s,y:r+l/2};case we.Bottom:return{x:o+s/2,y:r+l};case we.Left:return{x:o,y:r+l/2}}}function Ro(t,e){return t&&(e?t.find(n=>n.id===e):t[0])||null}function Vi(t,e){return t?typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(i=>`${i}=${t[i]}`).join("&")}`:""}function wf(t,{id:e,defaultColor:n,defaultMarkerStart:i,defaultMarkerEnd:o}){const r=new Set;return t.reduce((s,l)=>([l.markerStart||i,l.markerEnd||o].forEach(a=>{if(a&&typeof a=="object"){const u=Vi(a,e);r.has(u)||(s.push({id:u,color:a.color||n,...a}),r.add(u))}}),s),[]).sort((s,l)=>s.id.localeCompare(l.id))}const Qi={nodeOrigin:[0,0],nodeExtent:jn,elevateNodesOnSelect:!0,defaults:{}},vf={...Qi,checkEquality:!0};function ji(t,e){const n={...t};for(const i in e)e[i]!==void 0&&(n[i]=e[i]);return n}function kf(t,e,n){const i=ji(Qi,n);for(const o of t.values())if(o.parentId)xi(o,t,e,i);else{const r=Dn(o,i.nodeOrigin),s=un(o.extent)?o.extent:i.nodeExtent,l=Gt(r,s,Jt(o));o.internals.positionAbsolute=l}}function kl(t,e,n,i){var l,a;const o=ji(vf,i),r=new Map(e),s=o!=null&&o.elevateNodesOnSelect?1e3:0;e.clear(),n.clear();for(const u of t){let c=r.get(u.id);if(o.checkEquality&&u===(c==null?void 0:c.internals.userNode))e.set(u.id,c);else{const d=Dn(u,o.nodeOrigin),f=un(u.extent)?u.extent:o.nodeExtent,h=Gt(d,f,Jt(u));c={...o.defaults,...u,measured:{width:(l=u.measured)==null?void 0:l.width,height:(a=u.measured)==null?void 0:a.height},internals:{positionAbsolute:h,handleBounds:u.measured?c==null?void 0:c.internals.handleBounds:void 0,z:pl(u,s),userNode:u}},e.set(u.id,c)}u.parentId&&xi(c,e,n,i)}}function pf(t,e){if(!t.parentId)return;const n=e.get(t.parentId);n?n.set(t.id,t):e.set(t.parentId,new Map([[t.id,t]]))}function xi(t,e,n,i){const{elevateNodesOnSelect:o,nodeOrigin:r,nodeExtent:s}=ji(Qi,i),l=t.parentId,a=e.get(l);if(!a){console.warn(`Parent node ${l} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}pf(t,n);const u=o?1e3:0,{x:c,y:d,z:f}=Ef(t,a,r,s,u),{positionAbsolute:h}=t.internals,m=c!==h.x||d!==h.y;(m||f!==t.internals.z)&&e.set(t.id,{...t,internals:{...t.internals,positionAbsolute:m?{x:c,y:d}:h,z:f}})}function pl(t,e){return(Kt(t.zIndex)?t.zIndex:0)+(t.selected?e:0)}function Ef(t,e,n,i,o){const{x:r,y:s}=e.internals.positionAbsolute,l=Jt(t),a=Dn(t,n),u=un(t.extent)?Gt(a,t.extent,l):a;let c=Gt({x:r+u.x,y:s+u.y},i,l);t.extent==="parent"&&(c=gl(c,l,e));const d=pl(t,o),f=e.internals.z??0;return{x:c.x,y:c.y,z:f>d?f:d}}function Sf(t,e,n,i=[0,0]){var s;const o=[],r=new Map;for(const l of t){const a=e.get(l.parentId);if(!a)continue;const u=((s=r.get(l.parentId))==null?void 0:s.expandedRect)??ci(a),c=nf(u,l.rect);r.set(l.parentId,{expandedRect:c,parent:a})}return r.size>0&&r.forEach(({expandedRect:l,parent:a},u)=>{var b;const c=a.internals.positionAbsolute,d=Jt(a),f=a.origin??i,h=l.x<c.x?Math.round(Math.abs(c.x-l.x)):0,m=l.y<c.y?Math.round(Math.abs(c.y-l.y)):0,y=Math.max(d.width,Math.round(l.width)),_=Math.max(d.height,Math.round(l.height)),g=(y-d.width)*f[0],w=(_-d.height)*f[1];(h>0||m>0||g||w)&&(o.push({id:u,type:"position",position:{x:a.position.x-h+g,y:a.position.y-m+w}}),(b=n.get(u))==null||b.forEach(p=>{t.some(T=>T.id===p.id)||o.push({id:p.id,type:"position",position:{x:p.position.x+h,y:p.position.y+m}})})),(d.width<l.width||d.height<l.height||h||m)&&o.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:y+(h?f[0]*h-g:0),height:_+(m?f[1]*m-w:0)}})}),o}function Cf(t,e,n,i,o,r){const s=i==null?void 0:i.querySelector(".xyflow__viewport");let l=!1;if(!s)return{changes:[],updatedInternals:l};const a=[],u=window.getComputedStyle(s),{m22:c}=new window.DOMMatrixReadOnly(u.transform),d=[];for(const f of t.values()){const h=e.get(f.id);if(!h)continue;if(h.hidden){e.set(h.id,{...h,internals:{...h.internals,handleBounds:void 0}}),l=!0;continue}const m=Ji(f.nodeElement),y=h.measured.width!==m.width||h.measured.height!==m.height;if(!!(m.width&&m.height&&(y||!h.internals.handleBounds||f.force))){const g=f.nodeElement.getBoundingClientRect(),w=un(h.extent)?h.extent:r;let{positionAbsolute:b}=h.internals;h.parentId&&h.extent==="parent"?b=gl(b,m,e.get(h.parentId)):w&&(b=Gt(b,w,m));const p={...h,measured:m,internals:{...h.internals,positionAbsolute:b,handleBounds:{source:No("source",f.nodeElement,g,c,h.id),target:No("target",f.nodeElement,g,c,h.id)}}};e.set(h.id,p),h.parentId&&xi(p,e,n,{nodeOrigin:o}),l=!0,y&&(a.push({id:h.id,type:"dimensions",dimensions:m}),h.expandParent&&h.parentId&&d.push({id:h.id,parentId:h.parentId,rect:ci(p,o)}))}}if(d.length>0){const f=Sf(d,e,n,o);a.push(...f)}return{changes:a,updatedInternals:l}}async function Mf({delta:t,panZoom:e,transform:n,translateExtent:i,width:o,height:r}){if(!e||!t.x&&!t.y)return Promise.resolve(!1);const s=await e.setViewportConstrained({x:n[0]+t.x,y:n[1]+t.y,zoom:n[2]},[[0,0],[o,r]],i),l=!!s&&(s.x!==n[0]||s.y!==n[1]||s.k!==n[2]);return Promise.resolve(l)}function Xo(t,e,n,i,o,r){let s=o;const l=i.get(s)||new Map;i.set(s,l.set(n,e)),s=`${o}-${t}`;const a=i.get(s)||new Map;if(i.set(s,a.set(n,e)),r){s=`${o}-${t}-${r}`;const u=i.get(s)||new Map;i.set(s,u.set(n,e))}}function El(t,e,n){t.clear(),e.clear();for(const i of n){const{source:o,target:r,sourceHandle:s=null,targetHandle:l=null}=i,a={edgeId:i.id,source:o,target:r,sourceHandle:s,targetHandle:l},u=`${o}-${s}--${r}-${l}`,c=`${r}-${l}--${o}-${s}`;Xo("source",a,c,t,o,s),Xo("target",a,u,t,r,l),e.set(i.id,i)}}function Sl(t,e){if(!t.parentId)return!1;const n=e.get(t.parentId);return n?n.selected?!0:Sl(n,e):!1}function Lo(t,e,n){var o;let i=t;do{if((o=i==null?void 0:i.matches)!=null&&o.call(i,e))return!0;if(i===n)return!1;i=i==null?void 0:i.parentElement}while(i);return!1}function Pf(t,e,n,i){const o=new Map;for(const[r,s]of t)if((s.selected||s.id===i)&&(!s.parentId||!Sl(s,t))&&(s.draggable||e&&typeof s.draggable>"u")){const l=t.get(r);l&&o.set(r,{id:r,position:l.position||{x:0,y:0},distance:{x:n.x-l.internals.positionAbsolute.x,y:n.y-l.internals.positionAbsolute.y},extent:l.extent,parentId:l.parentId,origin:l.origin,expandParent:l.expandParent,internals:{positionAbsolute:l.internals.positionAbsolute||{x:0,y:0}},measured:{width:l.measured.width??0,height:l.measured.height??0}})}return o}function vi({nodeId:t,dragItems:e,nodeLookup:n,dragging:i=!0}){var s,l,a;const o=[];for(const[u,c]of e){const d=(s=n.get(u))==null?void 0:s.internals.userNode;d&&o.push({...d,position:c.position,dragging:i})}if(!t)return[o[0],o];const r=(l=n.get(t))==null?void 0:l.internals.userNode;return[r?{...r,position:((a=e.get(t))==null?void 0:a.position)||r.position,dragging:i}:o[0],o]}function Tf({onNodeMouseDown:t,getStoreItems:e,onDragStart:n,onDrag:i,onDragStop:o}){let r={x:null,y:null},s=0,l=new Map,a=!1,u={x:0,y:0},c=null,d=!1,f=null,h=!1;function m({noDragClassName:_,handleSelector:g,domNode:w,isSelectable:b,nodeId:p,nodeClickDistance:T=0}){f=_t(w);function A({x:B,y:U},K){const{nodeLookup:O,nodeExtent:k,snapGrid:Y,snapToGrid:E,nodeOrigin:P,onNodeDrag:R,onSelectionDrag:X,onError:q,updateNodePositions:te}=e();r={x:B,y:U};let ie=!1,H={x:0,y:0,x2:0,y2:0};if(l.size>1&&k){const D=ui(l);H=Ai(D)}for(const[D,W]of l){if(!O.has(D))continue;let Q={x:B-W.distance.x,y:U-W.distance.y};E&&(Q=Gi(Q,Y));let I=[[k[0][0],k[0][1]],[k[1][0],k[1][1]]];if(l.size>1&&k&&!W.extent){const{positionAbsolute:ae}=W.internals,me=ae.x-H.x+k[0][0],pe=ae.x+W.measured.width-H.x2+k[1][0],De=ae.y-H.y+k[0][1],G=ae.y+W.measured.height-H.y2+k[1][1];I=[[me,De],[pe,G]]}const{position:ne,positionAbsolute:re}=ef({nodeId:D,nextPosition:Q,nodeLookup:O,nodeExtent:I,nodeOrigin:P,onError:q});ie=ie||W.position.x!==ne.x||W.position.y!==ne.y,W.position=ne,W.internals.positionAbsolute=re}if(ie&&(te(l,!0),K&&(i||R||!p&&X))){const[D,W]=vi({nodeId:p,dragItems:l,nodeLookup:O});i==null||i(K,l,D,W),R==null||R(K,D,W),p||X==null||X(K,W)}}async function S(){if(!c)return;const{transform:B,panBy:U,autoPanSpeed:K}=e(),[O,k]=ml(u,c,K);(O!==0||k!==0)&&(r.x=(r.x??0)-O/B[2],r.y=(r.y??0)-k/B[2],await U({x:O,y:k})&&A(r,null)),s=requestAnimationFrame(S)}function V(B){var ie;const{nodeLookup:U,multiSelectionActive:K,nodesDraggable:O,transform:k,snapGrid:Y,snapToGrid:E,selectNodesOnDrag:P,onNodeDragStart:R,onSelectionDragStart:X,unselectNodesAndEdges:q}=e();d=!0,(!P||!b)&&!K&&p&&((ie=U.get(p))!=null&&ie.selected||q()),b&&P&&p&&(t==null||t(p));const te=wi(B.sourceEvent,{transform:k,snapGrid:Y,snapToGrid:E,containerBounds:c});if(r=te,l=Pf(U,O,te,p),l.size>0&&(n||R||!p&&X)){const[H,D]=vi({nodeId:p,dragItems:l,nodeLookup:U});n==null||n(B.sourceEvent,l,H,D),R==null||R(B.sourceEvent,H,D),p||X==null||X(B.sourceEvent,D)}}const N=su().clickDistance(T).on("start",B=>{const{domNode:U,nodeDragThreshold:K,transform:O,snapGrid:k,snapToGrid:Y}=e();c=(U==null?void 0:U.getBoundingClientRect())||null,h=!1,K===0&&V(B),r=wi(B.sourceEvent,{transform:O,snapGrid:k,snapToGrid:Y,containerBounds:c}),u=Ot(B.sourceEvent,c)}).on("drag",B=>{const{autoPanOnNodeDrag:U,transform:K,snapGrid:O,snapToGrid:k,nodeDragThreshold:Y,nodeLookup:E}=e(),P=wi(B.sourceEvent,{transform:K,snapGrid:O,snapToGrid:k,containerBounds:c});if((B.sourceEvent.type==="touchmove"&&B.sourceEvent.touches.length>1||p&&!E.has(p))&&(h=!0),!h){if(!a&&U&&d&&(a=!0,S()),!d){const R=P.xSnapped-(r.x??0),X=P.ySnapped-(r.y??0);Math.sqrt(R*R+X*X)>Y&&V(B)}(r.x!==P.xSnapped||r.y!==P.ySnapped)&&l&&d&&(u=Ot(B.sourceEvent,c),A(P,B.sourceEvent))}}).on("end",B=>{if(!(!d||h)&&(a=!1,d=!1,cancelAnimationFrame(s),l.size>0)){const{nodeLookup:U,updateNodePositions:K,onNodeDragStop:O,onSelectionDragStop:k}=e();if(K(l,!1),o||O||!p&&k){const[Y,E]=vi({nodeId:p,dragItems:l,nodeLookup:U,dragging:!1});o==null||o(B.sourceEvent,l,Y,E),O==null||O(B.sourceEvent,Y,E),p||k==null||k(B.sourceEvent,E)}}}).filter(B=>{const U=B.target;return!B.button&&(!_||!Lo(U,`.${_}`,w))&&(!g||Lo(U,g,w))});f.call(N)}function y(){f==null||f.on(".drag",null)}return{update:m,destroy:y}}function Df(t,e,n){const i=[],o={x:t.x-n,y:t.y-n,width:n*2,height:n*2};for(const r of e.values())Ui(o,ci(r))>0&&i.push(r);return i}const If=250;function Nf(t,e,n,i){var l,a;let o=[],r=1/0;const s=Df(t,n,e+If);for(const u of s){const c=[...((l=u.internals.handleBounds)==null?void 0:l.source)??[],...((a=u.internals.handleBounds)==null?void 0:a.target)??[]];for(const d of c){if(i.nodeId===d.nodeId&&i.type===d.type&&i.id===d.id)continue;const{x:f,y:h}=En(u,d,d.position,!0),m=Math.sqrt(Math.pow(f-t.x,2)+Math.pow(h-t.y,2));m>e||(m<r?(o=[{...d,x:f,y:h}],r=m):m===r&&o.push({...d,x:f,y:h}))}}if(!o.length)return null;if(o.length>1){const u=i.type==="source"?"target":"source";return o.find(c=>c.type===u)??o[0]}return o[0]}function Cl(t,e,n,i,o,r=!1){var u,c,d;const s=i.get(t);if(!s)return null;const l=o==="strict"?(u=s.internals.handleBounds)==null?void 0:u[e]:[...((c=s.internals.handleBounds)==null?void 0:c.source)??[],...((d=s.internals.handleBounds)==null?void 0:d.target)??[]],a=(n?l==null?void 0:l.find(f=>f.id===n):l==null?void 0:l[0])??null;return a&&r?{...a,...En(s,a,a.position,!0)}:a}function Ml(t,e){return t||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function zf(t,e){let n=null;return e?n=!0:t&&!e&&(n=!1),n}const Pl=()=>!0;function Of(t,{connectionMode:e,connectionRadius:n,handleId:i,nodeId:o,edgeUpdaterType:r,isTarget:s,domNode:l,nodeLookup:a,lib:u,autoPanOnConnect:c,flowId:d,panBy:f,cancelConnection:h,onConnectStart:m,onConnect:y,onConnectEnd:_,isValidConnection:g=Pl,onReconnectEnd:w,updateConnection:b,getTransform:p,getFromHandle:T,autoPanSpeed:A}){const S=lf(t.target);let V=0,N;const{x:B,y:U}=Ot(t),K=S==null?void 0:S.elementFromPoint(B,U),O=Ml(r,K),k=l==null?void 0:l.getBoundingClientRect();if(!k||!O)return;const Y=Cl(o,O,i,a,e);if(!Y)return;let E=Ot(t,k),P=!1,R=null,X=!1,q=null;function te(){if(!c||!k)return;const[re,ae]=ml(E,k,A);f({x:re,y:ae}),V=requestAnimationFrame(te)}const ie={...Y,nodeId:o,type:O,position:Y.position},H=a.get(o),W={inProgress:!0,isValid:null,from:En(H,ie,we.Left,!0),fromHandle:ie,fromPosition:ie.position,fromNode:H,to:E,toHandle:null,toPosition:So[ie.position],toNode:null};b(W);let Q=W;m==null||m(t,{nodeId:o,handleId:i,handleType:O});function I(re){if(!T()||!ie){ne(re);return}const ae=p();E=Ot(re,k),N=Nf(fi(E,ae,!1,[1,1]),n,a,ie),P||(te(),P=!0);const me=Tl(re,{handle:N,connectionMode:e,fromNodeId:o,fromHandleId:i,fromType:s?"target":"source",isValidConnection:g,doc:S,lib:u,flowId:d,nodeLookup:a});q=me.handleDomNode,R=me.connection,X=zf(!!N,me.isValid);const pe={...Q,isValid:X,to:N&&X?rf({x:N.x,y:N.y},ae):E,toHandle:me.toHandle,toPosition:X&&me.toHandle?me.toHandle.position:So[ie.position],toNode:me.toHandle?a.get(me.toHandle.nodeId):null};X&&N&&Q.toHandle&&pe.toHandle&&Q.toHandle.type===pe.toHandle.type&&Q.toHandle.nodeId===pe.toHandle.nodeId&&Q.toHandle.id===pe.toHandle.id&&Q.to.x===pe.to.x&&Q.to.y===pe.to.y||(b(pe),Q=pe)}function ne(re){(N||q)&&R&&X&&(y==null||y(R));const{inProgress:ae,...me}=Q,pe={...me,toPosition:Q.toHandle?Q.toPosition:null};_==null||_(re,pe),r&&(w==null||w(re,pe)),h(),cancelAnimationFrame(V),P=!1,X=!1,R=null,q=null,S.removeEventListener("mousemove",I),S.removeEventListener("mouseup",ne),S.removeEventListener("touchmove",I),S.removeEventListener("touchend",ne)}S.addEventListener("mousemove",I),S.addEventListener("mouseup",ne),S.addEventListener("touchmove",I),S.addEventListener("touchend",ne)}function Tl(t,{handle:e,connectionMode:n,fromNodeId:i,fromHandleId:o,fromType:r,doc:s,lib:l,flowId:a,isValidConnection:u=Pl,nodeLookup:c}){const d=r==="target",f=e?s.querySelector(`.${l}-flow__handle[data-id="${a}-${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`):null,{x:h,y:m}=Ot(t),y=s.elementFromPoint(h,m),_=y!=null&&y.classList.contains(`${l}-flow__handle`)?y:f,g={handleDomNode:_,isValid:!1,connection:null,toHandle:null};if(_){const w=Ml(void 0,_),b=_.getAttribute("data-nodeid"),p=_.getAttribute("data-handleid"),T=_.classList.contains("connectable"),A=_.classList.contains("connectableend");if(!b||!w)return g;const S={source:d?b:i,sourceHandle:d?p:o,target:d?i:b,targetHandle:d?o:p};g.connection=S;const N=T&&A&&(n===Ut.Strict?d&&w==="source"||!d&&w==="target":b!==i||p!==o);g.isValid=N&&u(S),g.toHandle=Cl(b,w,p,c,n,!1)}return g}const Af={onPointerDown:Of,isValid:Tl},Hf=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,di=t=>({x:t.x,y:t.y,zoom:t.k}),ki=({x:t,y:e,zoom:n})=>ai.translate(t,e).scale(n),$t=(t,e)=>t.target.closest(`.${e}`),Dl=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),pi=(t,e=0,n=()=>{})=>{const i=typeof e=="number"&&e>0;return i||n(),i?t.transition().duration(e).on("end",n):t},Il=t=>{const e=t.ctrlKey&&ei()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e};function Vf({zoomPanValues:t,noWheelClassName:e,d3Selection:n,d3Zoom:i,panOnScrollMode:o,panOnScrollSpeed:r,zoomOnPinch:s,onPanZoomStart:l,onPanZoom:a,onPanZoomEnd:u}){return c=>{if($t(c,e))return!1;c.preventDefault(),c.stopImmediatePropagation();const d=n.property("__zoom").k||1;if(c.ctrlKey&&s){const _=pt(c),g=Il(c),w=d*Math.pow(2,g);i.scaleTo(n,w,_,c);return}const f=c.deltaMode===1?20:1;let h=o===St.Vertical?0:c.deltaX*f,m=o===St.Horizontal?0:c.deltaY*f;!ei()&&c.shiftKey&&o!==St.Vertical&&(h=c.deltaY*f,m=0),i.translateBy(n,-(h/d)*r,-(m/d)*r,{internal:!0});const y=di(n.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling||(t.isPanScrolling=!0,l==null||l(c,y)),t.isPanScrolling&&(a==null||a(c,y),t.panScrollTimeout=setTimeout(()=>{u==null||u(c,y),t.isPanScrolling=!1},150))}}function Rf({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:n}){return function(i,o){if(!e&&i.type==="wheel"&&!i.ctrlKey||$t(i,t))return null;i.preventDefault(),n.call(this,i,o)}}function Xf({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:n}){return i=>{var r,s,l;if((r=i.sourceEvent)!=null&&r.internal)return;const o=di(i.transform);t.mouseButton=((s=i.sourceEvent)==null?void 0:s.button)||0,t.isZoomingOrPanning=!0,t.prevViewport=o,((l=i.sourceEvent)==null?void 0:l.type)==="mousedown"&&e(!0),n&&(n==null||n(i.sourceEvent,o))}}function Lf({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:n,onTransformChange:i,onPanZoom:o}){return r=>{var s,l;t.usedRightMouseButton=!!(n&&Dl(e,t.mouseButton??0)),(s=r.sourceEvent)!=null&&s.sync||i([r.transform.x,r.transform.y,r.transform.k]),o&&!((l=r.sourceEvent)!=null&&l.internal)&&(o==null||o(r.sourceEvent,di(r.transform)))}}function Yf({zoomPanValues:t,panOnDrag:e,panOnScroll:n,onDraggingChange:i,onPanZoomEnd:o,onPaneContextMenu:r}){return s=>{var l;if(!((l=s.sourceEvent)!=null&&l.internal)&&(t.isZoomingOrPanning=!1,r&&Dl(e,t.mouseButton??0)&&!t.usedRightMouseButton&&s.sourceEvent&&r(s.sourceEvent),t.usedRightMouseButton=!1,i(!1),o&&Hf(t.prevViewport,s.transform))){const a=di(s.transform);t.prevViewport=a,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{o==null||o(s.sourceEvent,a)},n?150:0)}}}function Bf({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:n,panOnDrag:i,panOnScroll:o,zoomOnDoubleClick:r,userSelectionActive:s,noWheelClassName:l,noPanClassName:a,lib:u}){return c=>{var m;const d=t||e,f=n&&c.ctrlKey;if(c.button===1&&c.type==="mousedown"&&($t(c,`${u}-flow__node`)||$t(c,`${u}-flow__edge`)))return!0;if(!i&&!d&&!o&&!r&&!n||s||$t(c,l)&&c.type==="wheel"||$t(c,a)&&(c.type!=="wheel"||o&&c.type==="wheel"&&!t)||!n&&c.ctrlKey&&c.type==="wheel")return!1;if(!n&&c.type==="touchstart"&&((m=c.touches)==null?void 0:m.length)>1)return c.preventDefault(),!1;if(!d&&!o&&!f&&c.type==="wheel"||!i&&(c.type==="mousedown"||c.type==="touchstart")||Array.isArray(i)&&!i.includes(c.button)&&c.type==="mousedown")return!1;const h=Array.isArray(i)&&i.includes(c.button)||!c.button||c.button<=1;return(!c.ctrlKey||c.type==="wheel")&&h}}function Wf({domNode:t,minZoom:e,maxZoom:n,paneClickDistance:i,translateExtent:o,viewport:r,onPanZoom:s,onPanZoomStart:l,onPanZoomEnd:a,onDraggingChange:u}){const c={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=t.getBoundingClientRect(),f=jc().clickDistance(!Kt(i)||i<0?0:i).scaleExtent([e,n]).translateExtent(o),h=_t(t).call(f);b({x:r.x,y:r.y,zoom:an(r.zoom,e,n)},[[0,0],[d.width,d.height]],o);const m=h.on("wheel.zoom"),y=h.on("dblclick.zoom");f.wheelDelta(Il);function _(K,O){return h?new Promise(k=>{f==null||f.transform(pi(h,O==null?void 0:O.duration,()=>k(!0)),K)}):Promise.resolve(!1)}function g({noWheelClassName:K,noPanClassName:O,onPaneContextMenu:k,userSelectionActive:Y,panOnScroll:E,panOnDrag:P,panOnScrollMode:R,panOnScrollSpeed:X,preventScrolling:q,zoomOnPinch:te,zoomOnScroll:ie,zoomOnDoubleClick:H,zoomActivationKeyPressed:D,lib:W,onTransformChange:Q}){Y&&!c.isZoomingOrPanning&&w();const ne=E&&!D&&!Y?Vf({zoomPanValues:c,noWheelClassName:K,d3Selection:h,d3Zoom:f,panOnScrollMode:R,panOnScrollSpeed:X,zoomOnPinch:te,onPanZoomStart:l,onPanZoom:s,onPanZoomEnd:a}):Rf({noWheelClassName:K,preventScrolling:q,d3ZoomHandler:m});if(h.on("wheel.zoom",ne,{passive:!1}),!Y){const ae=Xf({zoomPanValues:c,onDraggingChange:u,onPanZoomStart:l});f.on("start",ae);const me=Lf({zoomPanValues:c,panOnDrag:P,onPaneContextMenu:!!k,onPanZoom:s,onTransformChange:Q});f.on("zoom",me);const pe=Yf({zoomPanValues:c,panOnDrag:P,panOnScroll:E,onPaneContextMenu:k,onPanZoomEnd:a,onDraggingChange:u});f.on("end",pe)}const re=Bf({zoomActivationKeyPressed:D,panOnDrag:P,zoomOnScroll:ie,panOnScroll:E,zoomOnDoubleClick:H,zoomOnPinch:te,userSelectionActive:Y,noPanClassName:O,noWheelClassName:K,lib:W});f.filter(re),H?h.on("dblclick.zoom",y):h.on("dblclick.zoom",null)}function w(){f.on("zoom",null)}async function b(K,O,k){const Y=ki(K),E=f==null?void 0:f.constrain()(Y,O,k);return E&&await _(E),new Promise(P=>P(E))}async function p(K,O){const k=ki(K);return await _(k,O),new Promise(Y=>Y(k))}function T(K){if(h){const O=ki(K),k=h.property("__zoom");(k.k!==K.zoom||k.x!==K.x||k.y!==K.y)&&(f==null||f.transform(h,O,null,{sync:!0}))}}function A(){const K=h?fl(h.node()):{x:0,y:0,k:1};return{x:K.x,y:K.y,zoom:K.k}}function S(K,O){return h?new Promise(k=>{f==null||f.scaleTo(pi(h,O==null?void 0:O.duration,()=>k(!0)),K)}):Promise.resolve(!1)}function V(K,O){return h?new Promise(k=>{f==null||f.scaleBy(pi(h,O==null?void 0:O.duration,()=>k(!0)),K)}):Promise.resolve(!1)}function N(K){f==null||f.scaleExtent(K)}function B(K){f==null||f.translateExtent(K)}function U(K){const O=!Kt(K)||K<0?0:K;f==null||f.clickDistance(O)}return{update:g,destroy:w,setViewport:p,setViewportConstrained:b,getViewport:A,scaleTo:S,scaleBy:V,setScaleExtent:N,setTranslateExtent:B,syncViewport:T,setClickDistance:U}}var Yo;(function(t){t.Line="line",t.Handle="handle"})(Yo||(Yo={}));function Kf(t){let e,n,i,o,r,s;const l=t[45].default,a=ot(l,t,t[44],null);return{c(){e=j("div"),a&&a.c(),this.h()},l(u){e=x(u,"DIV",{"data-handleid":!0,"data-nodeid":!0,"data-handlepos":!0,"data-id":!0,class:!0,style:!0,role:!0,tabindex:!0});var c=Z(e);a&&a.l(c),c.forEach(C),this.h()},h(){v(e,"data-handleid",t[6]),v(e,"data-nodeid",t[14]),v(e,"data-handlepos",t[2]),v(e,"data-id",n=t[13]+"-"+t[14]+"-"+(t[0]||null)+"-"+t[1]),v(e,"class",i=Xe(["svelte-flow__handle",`svelte-flow__handle-${t[2]}`,"nodrag","nopan",t[2],t[4]])),v(e,"style",t[3]),v(e,"role","button"),v(e,"tabindex","-1"),ge(e,"valid",t[7]),ge(e,"connectingto",t[5]),ge(e,"connectingfrom",t[9]),ge(e,"source",!t[11]),ge(e,"target",t[11]),ge(e,"connectablestart",t[12]),ge(e,"connectableend",t[12]),ge(e,"connectable",t[12]),ge(e,"connectionindicator",t[12]&&(!t[10]||t[8]))},m(u,c){ee(u,e,c),a&&a.m(e,null),o=!0,r||(s=[ke(e,"mousedown",t[32]),ke(e,"touchstart",t[32])],r=!0)},p(u,c){a&&a.p&&(!o||c[1]&8192)&&rt(a,l,u,u[44],o?st(l,u[44],c,null):lt(u[44]),null),(!o||c[0]&64)&&v(e,"data-handleid",u[6]),(!o||c[0]&4)&&v(e,"data-handlepos",u[2]),(!o||c[0]&8195&&n!==(n=u[13]+"-"+u[14]+"-"+(u[0]||null)+"-"+u[1]))&&v(e,"data-id",n),(!o||c[0]&20&&i!==(i=Xe(["svelte-flow__handle",`svelte-flow__handle-${u[2]}`,"nodrag","nopan",u[2],u[4]])))&&v(e,"class",i),(!o||c[0]&8)&&v(e,"style",u[3]),(!o||c[0]&148)&&ge(e,"valid",u[7]),(!o||c[0]&52)&&ge(e,"connectingto",u[5]),(!o||c[0]&532)&&ge(e,"connectingfrom",u[9]),(!o||c[0]&2068)&&ge(e,"source",!u[11]),(!o||c[0]&2068)&&ge(e,"target",u[11]),(!o||c[0]&4116)&&ge(e,"connectablestart",u[12]),(!o||c[0]&4116)&&ge(e,"connectableend",u[12]),(!o||c[0]&4116)&&ge(e,"connectable",u[12]),(!o||c[0]&5396)&&ge(e,"connectionindicator",u[12]&&(!u[10]||u[8]))},i(u){o||(F(a,u),o=!0)},o(u){J(a,u),o=!1},d(u){u&&C(e),a&&a.d(u),r=!1,dt(s)}}}function Ff(t,e,n){let i,o,r,s,l,a,u,c,d,f,h,m,y,_,g,w,b,p,T,A,S,V,N,B,U,{$$slots:K={},$$scope:O}=e,{id:k=void 0}=e,{type:Y="source"}=e,{position:E=we.Top}=e,{style:P=void 0}=e,{isValidConnection:R=void 0}=e,{onconnect:X=void 0}=e,{ondisconnect:q=void 0}=e,{isConnectable:te=void 0}=e,{class:ie=void 0}=e;const H=Wn("svelteflow__node_id"),D=Wn("svelteflow__node_connectable");$(t,D,z=>n(43,U=z));const W=Ge(),{connectionMode:Q,domNode:I,nodeLookup:ne,connectionRadius:re,viewport:ae,isValidConnection:me,lib:pe,addEdge:De,onedgecreate:G,panBy:Me,cancelConnection:Se,updateConnection:Ve,autoPanOnConnect:Be,edges:Le,connectionLookup:Ze,onconnect:ct,onconnectstart:ft,onconnectend:$e,flowId:at,connection:Re}=W;$(t,Q,z=>n(40,f=z)),$(t,I,z=>n(55,N=z)),$(t,ne,z=>n(54,V=z)),$(t,re,z=>n(56,B=z)),$(t,ae,z=>n(46,y=z)),$(t,me,z=>n(51,p=z)),$(t,pe,z=>n(53,S=z)),$(t,G,z=>n(50,b=z)),$(t,Be,z=>n(52,A=z)),$(t,Le,z=>n(42,m=z)),$(t,Ze,z=>n(41,h=z)),$(t,ct,z=>n(49,w=z)),$(t,ft,z=>n(48,g=z)),$(t,$e,z=>n(47,_=z)),$(t,at,z=>n(13,T=z)),$(t,Re,z=>n(39,d=z));function Pe(z){const et=yl(z);(et&&z.button===0||!et)&&Af.onPointerDown(z,{handleId:r,nodeId:H,isTarget:i,connectionRadius:B,domNode:N,nodeLookup:V,connectionMode:f,lib:S,autoPanOnConnect:A,flowId:T,isValidConnection:R??p,updateConnection:Ve,cancelConnection:Se,panBy:Me,onConnect:ze=>{const Ne=b?b(ze):ze;Ne&&(De(Ne),w==null||w(ze))},onConnectStart:(ze,Ne)=>{g==null||g(ze,{nodeId:Ne.nodeId,handleId:Ne.handleId,handleType:Ne.handleType})},onConnectEnd:(ze,Ne)=>{_==null||_(ze,Ne)},getTransform:()=>[y.x,y.y,y.zoom],getFromHandle:()=>d.fromHandle})}let Ee=null,Je;return t.$$set=z=>{"id"in z&&n(0,k=z.id),"type"in z&&n(1,Y=z.type),"position"in z&&n(2,E=z.position),"style"in z&&n(3,P=z.style),"isValidConnection"in z&&n(33,R=z.isValidConnection),"onconnect"in z&&n(34,X=z.onconnect),"ondisconnect"in z&&n(35,q=z.ondisconnect),"isConnectable"in z&&n(36,te=z.isConnectable),"class"in z&&n(4,ie=z.class),"$$scope"in z&&n(44,O=z.$$scope)},t.$$.update=()=>{var z,et,ze,Ne,Mt,Pt,Tt,ht,gt;if(t.$$.dirty[0]&2&&n(11,i=Y==="target"),t.$$.dirty[1]&4128&&n(12,o=te!==void 0?te:U),t.$$.dirty[0]&1&&n(6,r=k||null),t.$$.dirty[0]&3|t.$$.dirty[1]&3096&&(X||q)&&n(38,Je=h.get(`${H}-${Y}${k?`-${k}`:""}`)),t.$$.dirty[1]&216){if(Ee&&!xc(Je,Ee)){const vt=Je??new Map;Co(Ee,vt,q),Co(vt,Ee,X)}n(37,Ee=Je??new Map)}t.$$.dirty[1]&256&&n(10,s=!!d.fromHandle),t.$$.dirty[0]&66|t.$$.dirty[1]&256&&n(9,l=((z=d.fromHandle)==null?void 0:z.nodeId)===H&&((et=d.fromHandle)==null?void 0:et.type)===Y&&((ze=d.fromHandle)==null?void 0:ze.id)===r),t.$$.dirty[0]&66|t.$$.dirty[1]&256&&n(5,a=((Ne=d.toHandle)==null?void 0:Ne.nodeId)===H&&((Mt=d.toHandle)==null?void 0:Mt.type)===Y&&((Pt=d.toHandle)==null?void 0:Pt.id)===r),t.$$.dirty[0]&66|t.$$.dirty[1]&768&&n(8,u=f===Ut.Strict?((Tt=d.fromHandle)==null?void 0:Tt.type)!==Y:H!==((ht=d.fromHandle)==null?void 0:ht.nodeId)||r!==((gt=d.fromHandle)==null?void 0:gt.id)),t.$$.dirty[0]&32|t.$$.dirty[1]&256&&n(7,c=a&&d.isValid)},[k,Y,E,P,ie,a,r,c,u,l,s,i,o,T,H,D,Q,I,ne,re,ae,me,pe,G,Be,Le,Ze,ct,ft,$e,at,Re,Pe,R,X,q,te,Ee,Je,d,f,h,m,U,O,K]}class Zf extends _e{constructor(e){super(),ye(this,e,Ff,Kf,ve,{id:0,type:1,position:2,style:3,isValidConnection:33,onconnect:34,ondisconnect:35,isConnectable:36,class:4},null,[-1,-1])}}const cn=Zf;function qf(t){var a;let e,n,i=((a=t[0])==null?void 0:a.label)+"",o,r,s,l;return e=new cn({props:{type:"target",position:t[1]??we.Top}}),s=new cn({props:{type:"source",position:t[2]??we.Bottom}}),{c(){ce(e.$$.fragment),n=le(),o=We(i),r=le(),ce(s.$$.fragment)},l(u){he(e.$$.fragment,u),n=se(u),o=Ke(u,i),r=se(u),he(s.$$.fragment,u)},m(u,c){fe(e,u,c),ee(u,n,c),ee(u,o,c),ee(u,r,c),fe(s,u,c),l=!0},p(u,[c]){var h;const d={};c&2&&(d.position=u[1]??we.Top),e.$set(d),(!l||c&1)&&i!==(i=((h=u[0])==null?void 0:h.label)+"")&&Fe(o,i);const f={};c&4&&(f.position=u[2]??we.Bottom),s.$set(f)},i(u){l||(F(e.$$.fragment,u),F(s.$$.fragment,u),l=!0)},o(u){J(e.$$.fragment,u),J(s.$$.fragment,u),l=!1},d(u){u&&(C(n),C(o),C(r)),de(e,u),de(s,u)}}}function Uf(t,e,n){const i=["data","targetPosition","sourcePosition"];Ye(e,i);let{data:o={label:"Node"}}=e,{targetPosition:r=void 0}=e,{sourcePosition:s=void 0}=e;return t.$$set=l=>{e=Ie(Ie({},e),bt(l)),n(3,Ye(e,i)),"data"in l&&n(0,o=l.data),"targetPosition"in l&&n(1,r=l.targetPosition),"sourcePosition"in l&&n(2,s=l.sourcePosition)},[o,r,s]}class Gf extends _e{constructor(e){super(),ye(this,e,Uf,qf,ve,{data:0,targetPosition:1,sourcePosition:2})}}const Nl=Gf;function Jf(t){var s;let e=((s=t[0])==null?void 0:s.label)+"",n,i,o,r;return o=new cn({props:{type:"source",position:t[1]??we.Bottom}}),{c(){n=We(e),i=le(),ce(o.$$.fragment)},l(l){n=Ke(l,e),i=se(l),he(o.$$.fragment,l)},m(l,a){ee(l,n,a),ee(l,i,a),fe(o,l,a),r=!0},p(l,[a]){var c;(!r||a&1)&&e!==(e=((c=l[0])==null?void 0:c.label)+"")&&Fe(n,e);const u={};a&2&&(u.position=l[1]??we.Bottom),o.$set(u)},i(l){r||(F(o.$$.fragment,l),r=!0)},o(l){J(o.$$.fragment,l),r=!1},d(l){l&&(C(n),C(i)),de(o,l)}}}function Qf(t,e,n){const i=["data","sourcePosition"];Ye(e,i);let{data:o={label:"Node"}}=e,{sourcePosition:r=void 0}=e;return t.$$set=s=>{e=Ie(Ie({},e),bt(s)),n(2,Ye(e,i)),"data"in s&&n(0,o=s.data),"sourcePosition"in s&&n(1,r=s.sourcePosition)},[o,r]}class jf extends _e{constructor(e){super(),ye(this,e,Qf,Jf,ve,{data:0,sourcePosition:1})}}const xf=jf;function $f(t){var s;let e=((s=t[0])==null?void 0:s.label)+"",n,i,o,r;return o=new cn({props:{type:"target",position:t[1]??we.Top}}),{c(){n=We(e),i=le(),ce(o.$$.fragment)},l(l){n=Ke(l,e),i=se(l),he(o.$$.fragment,l)},m(l,a){ee(l,n,a),ee(l,i,a),fe(o,l,a),r=!0},p(l,[a]){var c;(!r||a&1)&&e!==(e=((c=l[0])==null?void 0:c.label)+"")&&Fe(n,e);const u={};a&2&&(u.position=l[1]??we.Top),o.$set(u)},i(l){r||(F(o.$$.fragment,l),r=!0)},o(l){J(o.$$.fragment,l),r=!1},d(l){l&&(C(n),C(i)),de(o,l)}}}function ed(t,e,n){const i=["data","targetPosition"];Ye(e,i);let{data:o={label:"Node"}}=e,{targetPosition:r=void 0}=e;return t.$$set=s=>{e=Ie(Ie({},e),bt(s)),n(2,Ye(e,i)),"data"in s&&n(0,o=s.data),"targetPosition"in s&&n(1,r=s.targetPosition)},[o,r]}class td extends _e{constructor(e){super(),ye(this,e,ed,$f,ve,{data:0,targetPosition:1})}}const nd=td;function id(t,e,n){const i=[];return Ye(e,i),t.$$set=o=>{e=Ie(Ie({},e),bt(o)),n(0,Ye(e,i))},[]}class od extends _e{constructor(e){super(),ye(this,e,id,null,ve,{})}}const rd=od;function Bo(t,e,n){if(!e)return;const i=n?e.querySelector(n):e;i&&i.appendChild(t)}function ld(t,{target:e,domNode:n}){return Bo(t,n,e),{async update({target:i,domNode:o}){Bo(t,o,i)},destroy(){t.parentNode&&t.parentNode.removeChild(t)}}}function sd(t){let e,n,i,o,r;const s=t[3].default,l=ot(s,t,t[2],null);return{c(){e=j("div"),l&&l.c()},l(a){e=x(a,"DIV",{});var u=Z(e);l&&l.l(u),u.forEach(C)},m(a,u){ee(a,e,u),l&&l.m(e,null),i=!0,o||(r=nt(n=ld.call(null,e,{target:".svelte-flow__edgelabel-renderer",domNode:t[0]})),o=!0)},p(a,[u]){l&&l.p&&(!i||u&4)&&rt(l,s,a,a[2],i?st(s,a[2],u,null):lt(a[2]),null),n&&Qe(n.update)&&u&1&&n.update.call(null,{target:".svelte-flow__edgelabel-renderer",domNode:a[0]})},i(a){i||(F(l,a),i=!0)},o(a){J(l,a),i=!1},d(a){a&&C(e),l&&l.d(a),o=!1,r()}}}function ad(t,e,n){let i,{$$slots:o={},$$scope:r}=e;const{domNode:s}=Ge();return $(t,s,l=>n(0,i=l)),t.$$set=l=>{"$$scope"in l&&n(2,r=l.$$scope)},[i,s,r,o]}class ud extends _e{constructor(e){super(),ye(this,e,ad,sd,ve,{})}}const cd=ud;function zl(){const{edgeLookup:t,selectionRect:e,selectionRectMode:n,multiselectionKeyPressed:i,addSelectedEdges:o,unselectNodesAndEdges:r,elementsSelectable:s}=Ge();return l=>{const a=oe(t).get(l);if(!a){console.warn("012",Tn.error012(l));return}(a.selectable||oe(s)&&typeof a.selectable>"u")&&(e.set(null),n.set(null),a.selected?a.selected&&oe(i)&&r({nodes:[],edges:[a]}):o([l]))}}function fd(t){let e,n,i=`translate(-50%, -50%) translate(${t[1]}px,${t[2]}px)`,o,r,s;const l=t[5].default,a=ot(l,t,t[7],null);return{c(){e=j("div"),a&&a.c(),this.h()},l(u){e=x(u,"DIV",{class:!0,style:!0,role:!0,tabindex:!0});var c=Z(e);a&&a.l(c),c.forEach(C),this.h()},h(){v(e,"class","svelte-flow__edge-label"),v(e,"style",n="pointer-events: all;"+t[0]),v(e,"role","button"),v(e,"tabindex","-1"),be(e,"transform",i)},m(u,c){ee(u,e,c),a&&a.m(e,null),o=!0,r||(s=[ke(e,"keyup",hd),ke(e,"click",t[6])],r=!0)},p(u,c){a&&a.p&&(!o||c&128)&&rt(a,l,u,u[7],o?st(l,u[7],c,null):lt(u[7]),null),(!o||c&1&&n!==(n="pointer-events: all;"+u[0]))&&v(e,"style",n);const d=c&1;(c&7&&i!==(i=`translate(-50%, -50%) translate(${u[1]}px,${u[2]}px)`)||d)&&be(e,"transform",i)},i(u){o||(F(a,u),o=!0)},o(u){J(a,u),o=!1},d(u){u&&C(e),a&&a.d(u),r=!1,dt(s)}}}function dd(t){let e,n;return e=new cd({props:{$$slots:{default:[fd]},$$scope:{ctx:t}}}),{c(){ce(e.$$.fragment)},l(i){he(e.$$.fragment,i)},m(i,o){fe(e,i,o),n=!0},p(i,[o]){const r={};o&135&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(F(e.$$.fragment,i),n=!0)},o(i){J(e.$$.fragment,i),n=!1},d(i){de(e,i)}}}const hd=()=>{};function gd(t,e,n){let{$$slots:i={},$$scope:o}=e,{style:r=void 0}=e,{x:s=void 0}=e,{y:l=void 0}=e;const a=zl(),u=Wn("svelteflow__edge_id"),c=()=>{u&&a(u)};return t.$$set=d=>{"style"in d&&n(0,r=d.style),"x"in d&&n(1,s=d.x),"y"in d&&n(2,l=d.y),"$$scope"in d&&n(7,o=d.$$scope)},[r,s,l,a,u,i,c,o]}class md extends _e{constructor(e){super(),ye(this,e,gd,dd,ve,{style:0,x:1,y:2})}}const _d=md;function yd(t){let e;return{c(){e=Oe("path"),this.h()},l(n){e=Ae(n,"path",{d:!0,"stroke-opacity":!0,"stroke-width":!0,fill:!0,class:!0}),Z(e).forEach(C),this.h()},h(){v(e,"d",t[1]),v(e,"stroke-opacity",0),v(e,"stroke-width",t[10]),v(e,"fill","none"),v(e,"class","svelte-flow__edge-interaction")},m(n,i){ee(n,e,i)},p(n,i){i&2&&v(e,"d",n[1])},d(n){n&&C(e)}}}function Wo(t){let e,n;return e=new _d({props:{x:t[3],y:t[4],style:t[5],$$slots:{default:[bd]},$$scope:{ctx:t}}}),{c(){ce(e.$$.fragment)},l(i){he(e.$$.fragment,i)},m(i,o){fe(e,i,o),n=!0},p(i,o){const r={};o&8&&(r.x=i[3]),o&16&&(r.y=i[4]),o&32&&(r.style=i[5]),o&4100&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(F(e.$$.fragment,i),n=!0)},o(i){J(e.$$.fragment,i),n=!1},d(i){de(e,i)}}}function bd(t){let e;return{c(){e=We(t[2])},l(n){e=Ke(n,t[2])},m(n,i){ee(n,e,i)},p(n,i){i&4&&Fe(e,n[2])},d(n){n&&C(e)}}}function wd(t){let e,n,i,o,r,s,l=t[10]&&yd(t),a=t[2]&&Wo(t);return{c(){e=Oe("path"),i=le(),l&&l.c(),o=le(),a&&a.c(),r=He(),this.h()},l(u){e=Ae(u,"path",{id:!0,d:!0,class:!0,"marker-start":!0,"marker-end":!0,fill:!0,style:!0}),Z(e).forEach(C),i=se(u),l&&l.l(u),o=se(u),a&&a.l(u),r=He(),this.h()},h(){v(e,"id",t[0]),v(e,"d",t[1]),v(e,"class",n=Xe(["svelte-flow__edge-path",t[9]])),v(e,"marker-start",t[6]),v(e,"marker-end",t[7]),v(e,"fill","none"),v(e,"style",t[8])},m(u,c){ee(u,e,c),ee(u,i,c),l&&l.m(u,c),ee(u,o,c),a&&a.m(u,c),ee(u,r,c),s=!0},p(u,[c]){(!s||c&1)&&v(e,"id",u[0]),(!s||c&2)&&v(e,"d",u[1]),(!s||c&512&&n!==(n=Xe(["svelte-flow__edge-path",u[9]])))&&v(e,"class",n),(!s||c&64)&&v(e,"marker-start",u[6]),(!s||c&128)&&v(e,"marker-end",u[7]),(!s||c&256)&&v(e,"style",u[8]),u[10]&&l.p(u,c),u[2]?a?(a.p(u,c),c&4&&F(a,1)):(a=Wo(u),a.c(),F(a,1),a.m(r.parentNode,r)):a&&(je(),J(a,1,1,()=>{a=null}),xe())},i(u){s||(F(a),s=!0)},o(u){J(a),s=!1},d(u){u&&(C(e),C(i),C(o),C(r)),l&&l.d(u),a&&a.d(u)}}}function vd(t,e,n){let{id:i=void 0}=e,{path:o}=e,{label:r=void 0}=e,{labelX:s=void 0}=e,{labelY:l=void 0}=e,{labelStyle:a=void 0}=e,{markerStart:u=void 0}=e,{markerEnd:c=void 0}=e,{style:d=void 0}=e,{interactionWidth:f=20}=e,{class:h=void 0}=e,m=f===void 0?20:f;return t.$$set=y=>{"id"in y&&n(0,i=y.id),"path"in y&&n(1,o=y.path),"label"in y&&n(2,r=y.label),"labelX"in y&&n(3,s=y.labelX),"labelY"in y&&n(4,l=y.labelY),"labelStyle"in y&&n(5,a=y.labelStyle),"markerStart"in y&&n(6,u=y.markerStart),"markerEnd"in y&&n(7,c=y.markerEnd),"style"in y&&n(8,d=y.style),"interactionWidth"in y&&n(11,f=y.interactionWidth),"class"in y&&n(9,h=y.class)},[i,o,r,s,l,a,u,c,d,h,m,f]}class kd extends _e{constructor(e){super(),ye(this,e,vd,wd,ve,{id:0,path:1,label:2,labelX:3,labelY:4,labelStyle:5,markerStart:6,markerEnd:7,style:8,interactionWidth:11,class:9})}}const hi=kd;function pd(t){let e,n;return e=new hi({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){ce(e.$$.fragment)},l(i){he(e.$$.fragment,i)},m(i,o){fe(e,i,o),n=!0},p(i,[o]){const r={};o&256&&(r.path=i[8]),o&128&&(r.labelX=i[7]),o&64&&(r.labelY=i[6]),o&1&&(r.label=i[0]),o&2&&(r.labelStyle=i[1]),o&8&&(r.markerStart=i[3]),o&16&&(r.markerEnd=i[4]),o&32&&(r.interactionWidth=i[5]),o&4&&(r.style=i[2]),e.$set(r)},i(i){n||(F(e.$$.fragment,i),n=!0)},o(i){J(e.$$.fragment,i),n=!1},d(i){de(e,i)}}}function Ed(t,e,n){let i,o,r;const s=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","sourcePosition","targetX","targetY","targetPosition"];Ye(e,s);let{label:l=void 0}=e,{labelStyle:a=void 0}=e,{style:u=void 0}=e,{markerStart:c=void 0}=e,{markerEnd:d=void 0}=e,{interactionWidth:f=void 0}=e,{sourceX:h}=e,{sourceY:m}=e,{sourcePosition:y}=e,{targetX:_}=e,{targetY:g}=e,{targetPosition:w}=e;return t.$$set=b=>{e=Ie(Ie({},e),bt(b)),n(15,Ye(e,s)),"label"in b&&n(0,l=b.label),"labelStyle"in b&&n(1,a=b.labelStyle),"style"in b&&n(2,u=b.style),"markerStart"in b&&n(3,c=b.markerStart),"markerEnd"in b&&n(4,d=b.markerEnd),"interactionWidth"in b&&n(5,f=b.interactionWidth),"sourceX"in b&&n(9,h=b.sourceX),"sourceY"in b&&n(10,m=b.sourceY),"sourcePosition"in b&&n(11,y=b.sourcePosition),"targetX"in b&&n(12,_=b.targetX),"targetY"in b&&n(13,g=b.targetY),"targetPosition"in b&&n(14,w=b.targetPosition)},t.$$.update=()=>{t.$$.dirty&32256&&n(8,[i,o,r]=bl({sourceX:h,sourceY:m,targetX:_,targetY:g,sourcePosition:y,targetPosition:w}),i,(n(7,o),n(9,h),n(10,m),n(12,_),n(13,g),n(11,y),n(14,w)),(n(6,r),n(9,h),n(10,m),n(12,_),n(13,g),n(11,y),n(14,w)))},[l,a,u,c,d,f,r,o,i,h,m,y,_,g,w]}class Sd extends _e{constructor(e){super(),ye(this,e,Ed,pd,ve,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,sourcePosition:11,targetX:12,targetY:13,targetPosition:14})}}const Ol=Sd;function Cd(t){let e,n;return e=new hi({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){ce(e.$$.fragment)},l(i){he(e.$$.fragment,i)},m(i,o){fe(e,i,o),n=!0},p(i,[o]){const r={};o&256&&(r.path=i[8]),o&128&&(r.labelX=i[7]),o&64&&(r.labelY=i[6]),o&1&&(r.label=i[0]),o&2&&(r.labelStyle=i[1]),o&8&&(r.markerStart=i[3]),o&16&&(r.markerEnd=i[4]),o&32&&(r.interactionWidth=i[5]),o&4&&(r.style=i[2]),e.$set(r)},i(i){n||(F(e.$$.fragment,i),n=!0)},o(i){J(e.$$.fragment,i),n=!1},d(i){de(e,i)}}}function Md(t,e,n){let i,o,r;const s=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","sourcePosition","targetX","targetY","targetPosition"];Ye(e,s);let{label:l=void 0}=e,{labelStyle:a=void 0}=e,{style:u=void 0}=e,{markerStart:c=void 0}=e,{markerEnd:d=void 0}=e,{interactionWidth:f=void 0}=e,{sourceX:h}=e,{sourceY:m}=e,{sourcePosition:y}=e,{targetX:_}=e,{targetY:g}=e,{targetPosition:w}=e;return t.$$set=b=>{e=Ie(Ie({},e),bt(b)),n(15,Ye(e,s)),"label"in b&&n(0,l=b.label),"labelStyle"in b&&n(1,a=b.labelStyle),"style"in b&&n(2,u=b.style),"markerStart"in b&&n(3,c=b.markerStart),"markerEnd"in b&&n(4,d=b.markerEnd),"interactionWidth"in b&&n(5,f=b.interactionWidth),"sourceX"in b&&n(9,h=b.sourceX),"sourceY"in b&&n(10,m=b.sourceY),"sourcePosition"in b&&n(11,y=b.sourcePosition),"targetX"in b&&n(12,_=b.targetX),"targetY"in b&&n(13,g=b.targetY),"targetPosition"in b&&n(14,w=b.targetPosition)},t.$$.update=()=>{t.$$.dirty&32256&&n(8,[i,o,r]=ti({sourceX:h,sourceY:m,targetX:_,targetY:g,sourcePosition:y,targetPosition:w}),i,(n(7,o),n(9,h),n(10,m),n(12,_),n(13,g),n(11,y),n(14,w)),(n(6,r),n(9,h),n(10,m),n(12,_),n(13,g),n(11,y),n(14,w)))},[l,a,u,c,d,f,r,o,i,h,m,y,_,g,w]}class Pd extends _e{constructor(e){super(),ye(this,e,Md,Cd,ve,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,sourcePosition:11,targetX:12,targetY:13,targetPosition:14})}}const Td=Pd;function Dd(t){let e,n;return e=new hi({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){ce(e.$$.fragment)},l(i){he(e.$$.fragment,i)},m(i,o){fe(e,i,o),n=!0},p(i,[o]){const r={};o&256&&(r.path=i[8]),o&128&&(r.labelX=i[7]),o&64&&(r.labelY=i[6]),o&1&&(r.label=i[0]),o&2&&(r.labelStyle=i[1]),o&8&&(r.markerStart=i[3]),o&16&&(r.markerEnd=i[4]),o&32&&(r.interactionWidth=i[5]),o&4&&(r.style=i[2]),e.$set(r)},i(i){n||(F(e.$$.fragment,i),n=!0)},o(i){J(e.$$.fragment,i),n=!1},d(i){de(e,i)}}}function Id(t,e,n){let i,o,r;const s=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","targetX","targetY"];Ye(e,s);let{label:l=void 0}=e,{labelStyle:a=void 0}=e,{style:u=void 0}=e,{markerStart:c=void 0}=e,{markerEnd:d=void 0}=e,{interactionWidth:f=void 0}=e,{sourceX:h}=e,{sourceY:m}=e,{targetX:y}=e,{targetY:_}=e;return t.$$set=g=>{e=Ie(Ie({},e),bt(g)),n(13,Ye(e,s)),"label"in g&&n(0,l=g.label),"labelStyle"in g&&n(1,a=g.labelStyle),"style"in g&&n(2,u=g.style),"markerStart"in g&&n(3,c=g.markerStart),"markerEnd"in g&&n(4,d=g.markerEnd),"interactionWidth"in g&&n(5,f=g.interactionWidth),"sourceX"in g&&n(9,h=g.sourceX),"sourceY"in g&&n(10,m=g.sourceY),"targetX"in g&&n(11,y=g.targetX),"targetY"in g&&n(12,_=g.targetY)},t.$$.update=()=>{t.$$.dirty&7680&&n(8,[i,o,r]=vl({sourceX:h,sourceY:m,targetX:y,targetY:_}),i,(n(7,o),n(9,h),n(10,m),n(11,y),n(12,_)),(n(6,r),n(9,h),n(10,m),n(11,y),n(12,_)))},[l,a,u,c,d,f,r,o,i,h,m,y,_]}class Nd extends _e{constructor(e){super(),ye(this,e,Id,Dd,ve,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,targetX:11,targetY:12})}}const zd=Nd;function Od(t){let e,n;return e=new hi({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){ce(e.$$.fragment)},l(i){he(e.$$.fragment,i)},m(i,o){fe(e,i,o),n=!0},p(i,[o]){const r={};o&256&&(r.path=i[8]),o&128&&(r.labelX=i[7]),o&64&&(r.labelY=i[6]),o&1&&(r.label=i[0]),o&2&&(r.labelStyle=i[1]),o&8&&(r.markerStart=i[3]),o&16&&(r.markerEnd=i[4]),o&32&&(r.interactionWidth=i[5]),o&4&&(r.style=i[2]),e.$set(r)},i(i){n||(F(e.$$.fragment,i),n=!0)},o(i){J(e.$$.fragment,i),n=!1},d(i){de(e,i)}}}function Ad(t,e,n){let i,o,r;const s=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","sourcePosition","targetX","targetY","targetPosition"];Ye(e,s);let{label:l=void 0}=e,{labelStyle:a=void 0}=e,{style:u=void 0}=e,{markerStart:c=void 0}=e,{markerEnd:d=void 0}=e,{interactionWidth:f=void 0}=e,{sourceX:h}=e,{sourceY:m}=e,{sourcePosition:y}=e,{targetX:_}=e,{targetY:g}=e,{targetPosition:w}=e;return t.$$set=b=>{e=Ie(Ie({},e),bt(b)),n(15,Ye(e,s)),"label"in b&&n(0,l=b.label),"labelStyle"in b&&n(1,a=b.labelStyle),"style"in b&&n(2,u=b.style),"markerStart"in b&&n(3,c=b.markerStart),"markerEnd"in b&&n(4,d=b.markerEnd),"interactionWidth"in b&&n(5,f=b.interactionWidth),"sourceX"in b&&n(9,h=b.sourceX),"sourceY"in b&&n(10,m=b.sourceY),"sourcePosition"in b&&n(11,y=b.sourcePosition),"targetX"in b&&n(12,_=b.targetX),"targetY"in b&&n(13,g=b.targetY),"targetPosition"in b&&n(14,w=b.targetPosition)},t.$$.update=()=>{t.$$.dirty&32256&&n(8,[i,o,r]=ti({sourceX:h,sourceY:m,targetX:_,targetY:g,sourcePosition:y,targetPosition:w,borderRadius:0}),i,(n(7,o),n(9,h),n(10,m),n(12,_),n(13,g),n(11,y),n(14,w)),(n(6,r),n(9,h),n(10,m),n(12,_),n(13,g),n(11,y),n(14,w)))},[l,a,u,c,d,f,r,o,i,h,m,y,_,g,w]}class Hd extends _e{constructor(e){super(),ye(this,e,Ad,Od,ve,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,sourcePosition:11,targetX:12,targetY:13,targetPosition:14})}}const Vd=Hd;function Rd(t,e){const n=t.set,i=e.set,o=oe(t),r=oe(e);let l=o.length===0&&r.length>0?r:o;t.set(l);const a=u=>{const c=n(u);return l=c,i(l),c};t.set=e.set=a,t.update=e.update=u=>a(u(l))}function Xd(t,e){const n=t.set,i=e.set;let o=oe(e);t.set(o);const r=s=>{n(s),i(s),o=s};t.set=e.set=r,t.update=e.update=s=>r(s(o))}const Ld=(t,e,n)=>{if(!n)return;const i=oe(t),o=e.set,r=n.set;let s=n?oe(n):{x:0,y:0,zoom:1};e.set(s),e.set=l=>(o(l),r(l),s=l,l),n.set=l=>(i==null||i.syncViewport(l),o(l),r(l),s=l,l),e.update=l=>{e.set(l(s))},n.update=l=>{n.set(l(s))}},Yd=(t,e,n,i=[0,0],o=jn)=>{const{subscribe:r,set:s,update:l}=ue([]);let a=t,u={},c=!0;const d=y=>(kl(y,e,n,{elevateNodesOnSelect:c,nodeOrigin:i,nodeExtent:o,defaults:u,checkEquality:!1}),a=y,s(a),a),f=y=>d(y(a)),h=y=>{u=y},m=y=>{c=y.elevateNodesOnSelect??c};return d(a),{subscribe:r,set:d,update:f,setDefaultOptions:h,setOptions:m}},Bd=(t,e,n,i)=>{const{subscribe:o,set:r,update:s}=ue([]);let l=t,a=i||{};const u=f=>{const h=a?f.map(m=>({...a,...m})):f;El(e,n,h),l=h,r(l)},c=f=>u(f(l)),d=f=>{a=f};return u(l),{subscribe:o,set:u,update:c,setDefaultOptions:d}},Al={input:xf,output:nd,default:Nl,group:rd},Hl={straight:zd,smoothstep:Td,default:Ol,step:Vd},Wd=({nodes:t=[],edges:e=[],width:n,height:i,fitView:o,nodeOrigin:r,nodeExtent:s})=>{const l=new Map,a=new Map,u=new Map,c=new Map,d=r??[0,0],f=s??jn;kl(t,l,a,{nodeExtent:f,nodeOrigin:d,elevateNodesOnSelect:!1,checkEquality:!1}),El(u,c,e);let h={x:0,y:0,zoom:1};if(o&&n&&i){const m=ui(l,{filter:y=>!!((y.width||y.initialWidth)&&(y.height||y.initialHeight))});h=_l(m,n,i,.5,2,.1)}return{flowId:ue(null),nodes:Yd(t,l,a,d,f),nodeLookup:mt(l),parentLookup:mt(a),edgeLookup:mt(c),visibleNodes:mt([]),edges:Bd(e,u,c),visibleEdges:mt([]),connectionLookup:mt(u),height:ue(500),width:ue(500),minZoom:ue(.5),maxZoom:ue(2),nodeOrigin:ue(d),nodeDragThreshold:ue(1),nodeExtent:ue(f),translateExtent:ue(jn),autoPanOnNodeDrag:ue(!0),autoPanOnConnect:ue(!0),fitViewOnInit:ue(!1),fitViewOnInitDone:ue(!1),fitViewOptions:ue(void 0),panZoom:ue(null),snapGrid:ue(null),dragging:ue(!1),selectionRect:ue(null),selectionKeyPressed:ue(!1),multiselectionKeyPressed:ue(!1),deleteKeyPressed:ue(!1),panActivationKeyPressed:ue(!1),zoomActivationKeyPressed:ue(!1),selectionRectMode:ue(null),selectionMode:ue(xn.Partial),nodeTypes:ue(Al),edgeTypes:ue(Hl),viewport:ue(h),connectionMode:ue(Ut.Strict),domNode:ue(null),connection:mt(zi),connectionLineType:ue(on.Bezier),connectionRadius:ue(20),isValidConnection:ue(()=>!0),nodesDraggable:ue(!0),nodesConnectable:ue(!0),elementsSelectable:ue(!0),selectNodesOnDrag:ue(!0),markers:mt([]),defaultMarkerColor:ue("#b1b1b7"),lib:mt("svelte"),onlyRenderVisibleElements:ue(!1),onerror:ue(of),ondelete:ue(void 0),onedgecreate:ue(void 0),onconnect:ue(void 0),onconnectstart:ue(void 0),onconnectend:ue(void 0),onbeforedelete:ue(void 0),nodesInitialized:ue(!1),edgesInitialized:ue(!1),viewportInitialized:ue(!1),initialized:mt(!1)}};function Kd(t){const e=en([t.edges,t.nodes,t.nodeLookup,t.onlyRenderVisibleElements,t.viewport,t.width,t.height],([n,,i,o,r,s,l])=>o&&s&&l?n.filter(u=>{const c=i.get(u.source),d=i.get(u.target);return c&&d&&ff({sourceNode:c,targetNode:d,width:s,height:l,transform:[r.x,r.y,r.zoom]})}):n);return en([e,t.nodes,t.nodeLookup,t.connectionMode,t.onerror],([n,,i,o,r])=>n.reduce((l,a)=>{const u=i.get(a.source),c=i.get(a.target);if(!u||!c)return l;const d=bf({id:a.id,sourceNode:u,targetNode:c,sourceHandle:a.sourceHandle||null,targetHandle:a.targetHandle||null,connectionMode:o,onError:r});return d&&l.push({...a,zIndex:cf({selected:a.selected,zIndex:a.zIndex,sourceNode:u,targetNode:c,elevateOnSelect:!1}),...d}),l},[]))}function Fd(t){return en([t.nodeLookup,t.onlyRenderVisibleElements,t.width,t.height,t.viewport,t.nodes],([e,n,i,o,r])=>{const s=[r.x,r.y,r.zoom];return n?hl(e,{x:0,y:0,width:i,height:o},s,!0):Array.from(e.values())})}const $i=Symbol();function Zd({nodes:t,edges:e,width:n,height:i,fitView:o,nodeOrigin:r,nodeExtent:s}){const l=Wd({nodes:t,edges:e,width:n,height:i,fitView:o,nodeOrigin:r,nodeExtent:s});function a(E){l.nodeTypes.set({...Al,...E})}function u(E){l.edgeTypes.set({...Hl,...E})}function c(E){const P=oe(l.edges);l.edges.set(gf(E,P))}const d=(E,P=!1)=>{var X;const R=oe(l.nodeLookup);for(const[q,te]of E){const ie=(X=R.get(q))==null?void 0:X.internals.userNode;ie&&(ie.position=te.position,ie.dragging=P)}l.nodes.update(q=>q)};function f(E){var te,ie,H;const P=oe(l.nodeLookup),R=oe(l.parentLookup),{changes:X,updatedInternals:q}=Cf(E,P,oe(l.parentLookup),oe(l.domNode),oe(l.nodeOrigin));if(q){if(kf(P,R,{nodeOrigin:r,nodeExtent:s}),!oe(l.fitViewOnInitDone)&&oe(l.fitViewOnInit)){const D=oe(l.fitViewOptions),W=m({...D,nodes:D==null?void 0:D.nodes});l.fitViewOnInitDone.set(W)}for(const D of X){const W=(te=P.get(D.id))==null?void 0:te.internals.userNode;if(W)switch(D.type){case"dimensions":{const Q={...W.measured,...D.dimensions};D.setAttributes&&(W.width=((ie=D.dimensions)==null?void 0:ie.width)??W.width,W.height=((H=D.dimensions)==null?void 0:H.height)??W.height),W.measured=Q;break}case"position":W.position=D.position??W.position;break}}l.nodes.update(D=>D),oe(l.nodesInitialized)||l.nodesInitialized.set(!0)}}function h(E){const P=oe(l.panZoom),R=oe(l.domNode);if(!P||!R)return Promise.resolve(!1);const{width:X,height:q}=Ji(R),te=Po(oe(l.nodeLookup),E);return To({nodes:te,width:X,height:q,minZoom:oe(l.minZoom),maxZoom:oe(l.maxZoom),panZoom:P},E)}function m(E){const P=oe(l.panZoom);if(!P)return!1;const R=Po(oe(l.nodeLookup),E);return To({nodes:R,width:oe(l.width),height:oe(l.height),minZoom:oe(l.minZoom),maxZoom:oe(l.maxZoom),panZoom:P},E),R.size>0}function y(E,P){const R=oe(l.panZoom);return R?R.scaleBy(E,P):Promise.resolve(!1)}function _(E){return y(1.2,E)}function g(E){return y(1/1.2,E)}function w(E){const P=oe(l.panZoom);P&&(P.setScaleExtent([E,oe(l.maxZoom)]),l.minZoom.set(E))}function b(E){const P=oe(l.panZoom);P&&(P.setScaleExtent([oe(l.minZoom),E]),l.maxZoom.set(E))}function p(E){const P=oe(l.panZoom);P&&(P.setTranslateExtent(E),l.translateExtent.set(E))}function T(E){let P=!1;return E.forEach(R=>{R.selected&&(R.selected=!1,P=!0)}),P}function A(E){var P;(P=oe(l.panZoom))==null||P.setClickDistance(E)}function S(E){T((E==null?void 0:E.nodes)||oe(l.nodes))&&l.nodes.set(oe(l.nodes)),T((E==null?void 0:E.edges)||oe(l.edges))&&l.edges.set(oe(l.edges))}l.deleteKeyPressed.subscribe(async E=>{var P;if(E){const R=oe(l.nodes),X=oe(l.edges),q=R.filter(D=>D.selected),te=X.filter(D=>D.selected),{nodes:ie,edges:H}=await tf({nodesToRemove:q,edgesToRemove:te,nodes:R,edges:X,onBeforeDelete:oe(l.onbeforedelete)});(ie.length||H.length)&&(l.nodes.update(D=>D.filter(W=>!ie.some(Q=>Q.id===W.id))),l.edges.update(D=>D.filter(W=>!H.some(Q=>Q.id===W.id))),(P=oe(l.ondelete))==null||P({nodes:ie,edges:H}))}});function V(E){const P=oe(l.multiselectionKeyPressed);l.nodes.update(R=>R.map(X=>{const q=E.includes(X.id),te=P&&X.selected||q;return X.selected=te,X})),P||l.edges.update(R=>R.map(X=>(X.selected=!1,X)))}function N(E){const P=oe(l.multiselectionKeyPressed);l.edges.update(R=>R.map(X=>{const q=E.includes(X.id),te=P&&X.selected||q;return X.selected=te,X})),P||l.nodes.update(R=>R.map(X=>(X.selected=!1,X)))}function B(E){var R;const P=(R=oe(l.nodes))==null?void 0:R.find(X=>X.id===E);if(!P){console.warn("012",Tn.error012(E));return}l.selectionRect.set(null),l.selectionRectMode.set(null),P.selected?P.selected&&oe(l.multiselectionKeyPressed)&&S({nodes:[P],edges:[]}):V([E])}function U(E){const P=oe(l.viewport);return Mf({delta:E,panZoom:oe(l.panZoom),transform:[P.x,P.y,P.zoom],translateExtent:oe(l.translateExtent),width:oe(l.width),height:oe(l.height)})}const K=ue(zi),O=E=>{K.set({...E})};function k(){K.set(zi)}function Y(){l.fitViewOnInitDone.set(!1),l.selectionRect.set(null),l.selectionRectMode.set(null),l.snapGrid.set(null),l.isValidConnection.set(()=>!0),S(),k()}return{...l,visibleEdges:Kd(l),visibleNodes:Fd(l),connection:en([K,l.viewport],([E,P])=>E.inProgress?{...E,to:fi(E.to,[P.x,P.y,P.zoom])}:{...E}),markers:en([l.edges,l.defaultMarkerColor,l.flowId],([E,P,R])=>wf(E,{defaultColor:P,id:R})),initialized:(()=>{let E=!1;const P=oe(l.nodes).length,R=oe(l.edges).length;return en([l.nodesInitialized,l.edgesInitialized,l.viewportInitialized],([X,q,te])=>E||(P===0?E=te:R===0?E=te&&X:E=te&&X&&q,E))})(),syncNodeStores:E=>Rd(l.nodes,E),syncEdgeStores:E=>Xd(l.edges,E),syncViewport:E=>Ld(l.panZoom,l.viewport,E),setNodeTypes:a,setEdgeTypes:u,addEdge:c,updateNodePositions:d,updateNodeInternals:f,zoomIn:_,zoomOut:g,fitView:E=>h(E),setMinZoom:w,setMaxZoom:b,setTranslateExtent:p,setPaneClickDistance:A,unselectNodesAndEdges:S,addSelectedNodes:V,addSelectedEdges:N,handleNodeSelection:B,panBy:U,updateConnection:O,cancelConnection:k,reset:Y}}function Ge(){const t=Wn($i);if(!t)throw new Error("In order to use useStore you need to wrap your component in a <SvelteFlowProvider />");return t.getStore()}function qd({nodes:t,edges:e,width:n,height:i,fitView:o,nodeOrigin:r,nodeExtent:s}){const l=Zd({nodes:t,edges:e,width:n,height:i,fitView:o,nodeOrigin:r,nodeExtent:s});return Kn($i,{getStore:()=>l}),l}function Ud(t,e){const{panZoom:n,minZoom:i,maxZoom:o,initialViewport:r,viewport:s,dragging:l,translateExtent:a,paneClickDistance:u}=e,c=Wf({domNode:t,minZoom:i,maxZoom:o,translateExtent:a,viewport:r,paneClickDistance:u,onDraggingChange:l.set}),d=c.getViewport();return s.set(d),n.set(c),c.update(e),{update(f){c.update(f)}}}function Gd(t){let e,n,i,o,r;const s=t[35].default,l=ot(s,t,t[34],null);return{c(){e=j("div"),l&&l.c(),this.h()},l(a){e=x(a,"DIV",{class:!0});var u=Z(e);l&&l.l(u),u.forEach(C),this.h()},h(){v(e,"class","svelte-flow__zoom svelte-4xkw84")},m(a,u){ee(a,e,u),l&&l.m(e,null),i=!0,o||(r=nt(n=Ud.call(null,e,{viewport:t[18],minZoom:t[12],maxZoom:t[13],initialViewport:t[11],dragging:t[23],panZoom:t[19],onPanZoomStart:t[0],onPanZoom:t[1],onPanZoomEnd:t[2],zoomOnScroll:t[5],zoomOnDoubleClick:t[6],zoomOnPinch:t[7],panOnScroll:t[9],panOnDrag:t[10],panOnScrollSpeed:.5,panOnScrollMode:t[3]||St.Free,zoomActivationKeyPressed:t[14],preventScrolling:typeof t[4]=="boolean"?t[4]:!0,noPanClassName:"nopan",noWheelClassName:"nowheel",userSelectionActive:!!t[15],translateExtent:t[16],lib:t[17],paneClickDistance:t[8],onTransformChange:t[29]})),o=!0)},p(a,u){l&&l.p&&(!i||u[1]&8)&&rt(l,s,a,a[34],i?st(s,a[34],u,null):lt(a[34]),null),n&&Qe(n.update)&&u[0]&262143&&n.update.call(null,{viewport:a[18],minZoom:a[12],maxZoom:a[13],initialViewport:a[11],dragging:a[23],panZoom:a[19],onPanZoomStart:a[0],onPanZoom:a[1],onPanZoomEnd:a[2],zoomOnScroll:a[5],zoomOnDoubleClick:a[6],zoomOnPinch:a[7],panOnScroll:a[9],panOnDrag:a[10],panOnScrollSpeed:.5,panOnScrollMode:a[3]||St.Free,zoomActivationKeyPressed:a[14],preventScrolling:typeof a[4]=="boolean"?a[4]:!0,noPanClassName:"nopan",noWheelClassName:"nowheel",userSelectionActive:!!a[15],translateExtent:a[16],lib:a[17],paneClickDistance:a[8],onTransformChange:a[29]})},i(a){i||(F(l,a),i=!0)},o(a){J(l,a),i=!1},d(a){a&&C(e),l&&l.d(a),o=!1,r()}}}function Jd(t,e,n){let i,o,r,s,l,a,u,c,d,f,h,{$$slots:m={},$$scope:y}=e,{initialViewport:_=void 0}=e,{onMoveStart:g=void 0}=e,{onMove:w=void 0}=e,{onMoveEnd:b=void 0}=e,{panOnScrollMode:p}=e,{preventScrolling:T}=e,{zoomOnScroll:A}=e,{zoomOnDoubleClick:S}=e,{zoomOnPinch:V}=e,{panOnDrag:N}=e,{panOnScroll:B}=e,{paneClickDistance:U}=e;const{viewport:K,panZoom:O,selectionRect:k,minZoom:Y,maxZoom:E,dragging:P,translateExtent:R,lib:X,panActivationKeyPressed:q,zoomActivationKeyPressed:te,viewportInitialized:ie}=Ge();$(t,k,D=>n(15,d=D)),$(t,Y,D=>n(12,a=D)),$(t,E,D=>n(13,u=D)),$(t,R,D=>n(16,f=D)),$(t,X,D=>n(17,h=D)),$(t,q,D=>n(33,l=D)),$(t,te,D=>n(14,c=D)),$(t,ie,D=>n(36,s=D));const H=D=>K.set({x:D[0],y:D[1],zoom:D[2]});return Sn(()=>{Rt(ie,s=!0,s)}),t.$$set=D=>{"initialViewport"in D&&n(30,_=D.initialViewport),"onMoveStart"in D&&n(0,g=D.onMoveStart),"onMove"in D&&n(1,w=D.onMove),"onMoveEnd"in D&&n(2,b=D.onMoveEnd),"panOnScrollMode"in D&&n(3,p=D.panOnScrollMode),"preventScrolling"in D&&n(4,T=D.preventScrolling),"zoomOnScroll"in D&&n(5,A=D.zoomOnScroll),"zoomOnDoubleClick"in D&&n(6,S=D.zoomOnDoubleClick),"zoomOnPinch"in D&&n(7,V=D.zoomOnPinch),"panOnDrag"in D&&n(31,N=D.panOnDrag),"panOnScroll"in D&&n(32,B=D.panOnScroll),"paneClickDistance"in D&&n(8,U=D.paneClickDistance),"$$scope"in D&&n(34,y=D.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&1073741824&&n(11,i=_||{x:0,y:0,zoom:1}),t.$$.dirty[1]&5&&n(10,o=l||N),t.$$.dirty[1]&6&&n(9,r=l||B)},[g,w,b,p,T,A,S,V,U,r,o,i,a,u,c,d,f,h,K,O,k,Y,E,P,R,X,q,te,ie,H,_,N,B,l,y,m]}class Qd extends _e{constructor(e){super(),ye(this,e,Jd,Gd,ve,{initialViewport:30,onMoveStart:0,onMove:1,onMoveEnd:2,panOnScrollMode:3,preventScrolling:4,zoomOnScroll:5,zoomOnDoubleClick:6,zoomOnPinch:7,panOnDrag:31,panOnScroll:32,paneClickDistance:8},null,[-1,-1])}}const jd=Qd;function xd(t){let e,n,i,o;const r=t[28].default,s=ot(r,t,t[27],null);return{c(){e=j("div"),s&&s.c(),this.h()},l(l){e=x(l,"DIV",{class:!0});var a=Z(e);s&&s.l(a),a.forEach(C),this.h()},h(){v(e,"class","svelte-flow__pane svelte-1esy7hx"),ge(e,"draggable",t[0]===!0||Array.isArray(t[0])&&t[0].includes(0)),ge(e,"dragging",t[4]),ge(e,"selection",t[1])},m(l,a){ee(l,e,a),s&&s.m(e,null),t[29](e),n=!0,i||(o=[ke(e,"click",function(){Qe(t[3]?void 0:Rn(t[15],t[2]))&&(t[3]?void 0:Rn(t[15],t[2])).apply(this,arguments)}),ke(e,"pointerdown",function(){Qe(t[3]?t[16]:void 0)&&(t[3]?t[16]:void 0).apply(this,arguments)}),ke(e,"pointermove",function(){Qe(t[3]?t[17]:void 0)&&(t[3]?t[17]:void 0).apply(this,arguments)}),ke(e,"pointerup",function(){Qe(t[3]?t[18]:void 0)&&(t[3]?t[18]:void 0).apply(this,arguments)}),ke(e,"contextmenu",function(){Qe(Rn(t[19],t[2]))&&Rn(t[19],t[2]).apply(this,arguments)})],i=!0)},p(l,a){t=l,s&&s.p&&(!n||a[0]&134217728)&&rt(s,r,t,t[27],n?st(r,t[27],a,null):lt(t[27]),null),(!n||a[0]&1)&&ge(e,"draggable",t[0]===!0||Array.isArray(t[0])&&t[0].includes(0)),(!n||a[0]&16)&&ge(e,"dragging",t[4]),(!n||a[0]&2)&&ge(e,"selection",t[1])},i(l){n||(F(s,l),n=!0)},o(l){J(s,l),n=!1},d(l){l&&C(e),s&&s.d(l),t[29](null),i=!1,dt(o)}}}function Rn(t,e){return n=>{n.target===e&&(t==null||t(n))}}function Ko(t){return e=>{const n=t.includes(e.id);return e.selected!==n&&(e.selected=n),e}}function $d(t,e,n){let i,o,r,s,l,a,u,c,d,f,h,m,y,{$$slots:_={},$$scope:g}=e,{panOnDrag:w=void 0}=e,{selectionOnDrag:b=void 0}=e;const p=ii(),{nodes:T,nodeLookup:A,edges:S,viewport:V,dragging:N,elementsSelectable:B,selectionRect:U,selectionRectMode:K,selectionKeyPressed:O,selectionMode:k,panActivationKeyPressed:Y,unselectNodesAndEdges:E}=Ge();$(t,A,I=>n(36,d=I)),$(t,S,I=>n(33,a=I)),$(t,V,I=>n(35,c=I)),$(t,N,I=>n(4,y=I)),$(t,B,I=>n(25,h=I)),$(t,U,I=>n(24,f=I)),$(t,K,I=>n(23,l=I)),$(t,O,I=>n(22,s=I)),$(t,k,I=>n(34,u=I)),$(t,Y,I=>n(26,m=I));let P,R=null,X=[],q=!1;function te(I){if(q){q=!1;return}p("paneclick",{event:I}),E(),K.set(null)}function ie(I){var ae,me;if(R=P.getBoundingClientRect(),!B||!o||I.button!==0||I.target!==P||!R)return;(me=(ae=I.target)==null?void 0:ae.setPointerCapture)==null||me.call(ae,I.pointerId);const{x:ne,y:re}=Ot(I,R);E(),U.set({width:0,height:0,startX:ne,startY:re,x:ne,y:re})}function H(I){if(!o||!R||!f)return;q=!0;const ne=Ot(I,R),re=f.startX??0,ae=f.startY??0,me={...f,x:ne.x<re?ne.x:re,y:ne.y<ae?ne.y:ae,width:Math.abs(ne.x-re),height:Math.abs(ne.y-ae)},pe=X.map(Se=>Se.id),De=Oi(X,a).map(Se=>Se.id);X=hl(d,me,[c.x,c.y,c.zoom],u===xn.Partial,!0);const G=Oi(X,a).map(Se=>Se.id),Me=X.map(Se=>Se.id);(pe.length!==Me.length||Me.some(Se=>!pe.includes(Se)))&&T.update(Se=>Se.map(Ko(Me))),(De.length!==G.length||G.some(Se=>!De.includes(Se)))&&S.update(Se=>Se.map(Ko(G))),K.set("user"),U.set(me)}function D(I){var ne,re;I.button===0&&((re=(ne=I.target)==null?void 0:ne.releasePointerCapture)==null||re.call(ne,I.pointerId),!o&&l==="user"&&I.target===P&&(te==null||te(I)),U.set(null),X.length>0&&Rt(K,l="nodes",l),s&&(q=!1))}const W=I=>{if(Array.isArray(i)&&(i!=null&&i.includes(2))){I.preventDefault();return}p("panecontextmenu",{event:I})};function Q(I){Cn[I?"unshift":"push"](()=>{P=I,n(2,P)})}return t.$$set=I=>{"panOnDrag"in I&&n(0,w=I.panOnDrag),"selectionOnDrag"in I&&n(20,b=I.selectionOnDrag),"$$scope"in I&&n(27,g=I.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&67108865&&n(21,i=m||w),t.$$.dirty[0]&24117248&&n(1,o=s||f||b&&i!==!0),t.$$.dirty[0]&41943042&&n(3,r=h&&(o||l==="user"))},[w,o,P,r,y,A,S,V,N,B,U,K,O,k,Y,te,ie,H,D,W,b,i,s,l,f,h,m,g,_,Q]}class eh extends _e{constructor(e){super(),ye(this,e,$d,xd,ve,{panOnDrag:0,selectionOnDrag:20},null,[-1,-1])}}const th=eh;function nh(t){let e,n;const i=t[3].default,o=ot(i,t,t[2],null);return{c(){e=j("div"),o&&o.c(),this.h()},l(r){e=x(r,"DIV",{class:!0,style:!0});var s=Z(e);o&&o.l(s),s.forEach(C),this.h()},h(){v(e,"class","svelte-flow__viewport xyflow__viewport svelte-1floaup"),be(e,"transform","translate("+t[0].x+"px, "+t[0].y+"px) scale("+t[0].zoom+")")},m(r,s){ee(r,e,s),o&&o.m(e,null),n=!0},p(r,[s]){o&&o.p&&(!n||s&4)&&rt(o,i,r,r[2],n?st(i,r[2],s,null):lt(r[2]),null),(!n||s&1)&&be(e,"transform","translate("+r[0].x+"px, "+r[0].y+"px) scale("+r[0].zoom+")")},i(r){n||(F(o,r),n=!0)},o(r){J(o,r),n=!1},d(r){r&&C(e),o&&o.d(r)}}}function ih(t,e,n){let i,{$$slots:o={},$$scope:r}=e;const{viewport:s}=Ge();return $(t,s,l=>n(0,i=l)),t.$$set=l=>{"$$scope"in l&&n(2,r=l.$$scope)},[i,s,r,o]}class oh extends _e{constructor(e){super(),ye(this,e,ih,nh,ve,{})}}const rh=oh;function Vl(t,e){const{store:n,onDrag:i,onDragStart:o,onDragStop:r,onNodeMouseDown:s}=e,l=Tf({onDrag:i,onDragStart:o,onDragStop:r,onNodeMouseDown:s,getStoreItems:()=>{const u=oe(n.snapGrid),c=oe(n.viewport);return{nodes:oe(n.nodes),nodeLookup:oe(n.nodeLookup),edges:oe(n.edges),nodeExtent:oe(n.nodeExtent),snapGrid:u||[0,0],snapToGrid:!!u,nodeOrigin:oe(n.nodeOrigin),multiSelectionActive:oe(n.multiselectionKeyPressed),domNode:oe(n.domNode),transform:[c.x,c.y,c.zoom],autoPanOnNodeDrag:oe(n.autoPanOnNodeDrag),nodesDraggable:oe(n.nodesDraggable),selectNodesOnDrag:oe(n.selectNodesOnDrag),nodeDragThreshold:oe(n.nodeDragThreshold),unselectNodesAndEdges:n.unselectNodesAndEdges,updateNodePositions:n.updateNodePositions,panBy:n.panBy}}});function a(u,c){if(c.disabled){l.destroy();return}l.update({domNode:u,noDragClassName:c.noDragClass,handleSelector:c.handleSelector,nodeId:c.nodeId,isSelectable:c.isSelectable,nodeClickDistance:c.nodeClickDistance})}return a(t,e),{update(u){a(t,u)},destroy(){l.destroy()}}}function lh({width:t,height:e,initialWidth:n,initialHeight:i,measuredWidth:o,measuredHeight:r}){if(o===void 0&&r===void 0){const s=t??n,l=e??i;return{width:s?`width:${s}px;`:"",height:l?`height:${l}px;`:""}}return{width:t?`width:${t}px;`:"",height:e?`height:${e}px;`:""}}function Fo(t){let e,n,i,o,r,s=`translate(${t[12]}px, ${t[13]}px)`,l,a,u;var c=t[27];function d(f,h){return{props:{data:f[2],id:f[1],selected:f[3]??!1,selectable:f[5]??f[28]??!0,deletable:f[7]??!0,sourcePosition:f[14],targetPosition:f[15],zIndex:f[16],dragging:f[9],draggable:f[4]??f[29]??!0,dragHandle:f[19],parentId:f[21],type:f[25],isConnectable:f[30],positionAbsoluteX:f[12],positionAbsoluteY:f[13],width:f[17],height:f[18]}}}return c&&(n=Fn(c,d(t))),{c(){e=j("div"),n&&ce(n.$$.fragment),this.h()},l(f){e=x(f,"DIV",{"data-id":!0,class:!0,style:!0});var h=Z(e);n&&he(n.$$.fragment,h),h.forEach(C),this.h()},h(){v(e,"data-id",t[1]),v(e,"class",i=Xe(["svelte-flow__node",`svelte-flow__node-${t[25]}`,t[23]])),v(e,"style",o=(t[10]??"")+";"+t[26].width+t[26].height),ge(e,"dragging",t[9]),ge(e,"selected",t[3]),ge(e,"draggable",t[4]),ge(e,"connectable",t[6]),ge(e,"selectable",t[5]),ge(e,"nopan",t[4]),ge(e,"parent",t[11]),be(e,"z-index",t[16]),be(e,"transform",s),be(e,"visibility",t[20]?"visible":"hidden")},m(f,h){ee(f,e,h),n&&fe(n,e,null),t[54](e),l=!0,a||(u=[nt(r=Vl.call(null,e,{nodeId:t[1],isSelectable:t[5],disabled:!1,handleSelector:t[19],noDragClass:"nodrag",nodeClickDistance:t[22],onNodeMouseDown:t[33],onDrag:t[51],onDragStart:t[52],onDragStop:t[53],store:t[31]})),ke(e,"click",t[38]),ke(e,"mouseenter",t[55]),ke(e,"mouseleave",t[56]),ke(e,"mousemove",t[57]),ke(e,"contextmenu",t[58])],a=!0)},p(f,h){if(h[0]&134217728&&c!==(c=f[27])){if(n){je();const y=n;J(y.$$.fragment,1,0,()=>{de(y,1)}),xe()}c?(n=Fn(c,d(f)),ce(n.$$.fragment),F(n.$$.fragment,1),fe(n,e,null)):n=null}else if(c){const y={};h[0]&4&&(y.data=f[2]),h[0]&2&&(y.id=f[1]),h[0]&8&&(y.selected=f[3]??!1),h[0]&268435488&&(y.selectable=f[5]??f[28]??!0),h[0]&128&&(y.deletable=f[7]??!0),h[0]&16384&&(y.sourcePosition=f[14]),h[0]&32768&&(y.targetPosition=f[15]),h[0]&65536&&(y.zIndex=f[16]),h[0]&512&&(y.dragging=f[9]),h[0]&536870928&&(y.draggable=f[4]??f[29]??!0),h[0]&524288&&(y.dragHandle=f[19]),h[0]&2097152&&(y.parentId=f[21]),h[0]&33554432&&(y.type=f[25]),h[0]&1073741824&&(y.isConnectable=f[30]),h[0]&4096&&(y.positionAbsoluteX=f[12]),h[0]&8192&&(y.positionAbsoluteY=f[13]),h[0]&131072&&(y.width=f[17]),h[0]&262144&&(y.height=f[18]),n.$set(y)}(!l||h[0]&2)&&v(e,"data-id",f[1]),(!l||h[0]&41943040&&i!==(i=Xe(["svelte-flow__node",`svelte-flow__node-${f[25]}`,f[23]])))&&v(e,"class",i),(!l||h[0]&67109888&&o!==(o=(f[10]??"")+";"+f[26].width+f[26].height))&&v(e,"style",o),r&&Qe(r.update)&&h[0]&4718626&&r.update.call(null,{nodeId:f[1],isSelectable:f[5],disabled:!1,handleSelector:f[19],noDragClass:"nodrag",nodeClickDistance:f[22],onNodeMouseDown:f[33],onDrag:f[51],onDragStart:f[52],onDragStop:f[53],store:f[31]}),(!l||h[0]&41943552)&&ge(e,"dragging",f[9]),(!l||h[0]&41943048)&&ge(e,"selected",f[3]),(!l||h[0]&41943056)&&ge(e,"draggable",f[4]),(!l||h[0]&41943104)&&ge(e,"connectable",f[6]),(!l||h[0]&41943072)&&ge(e,"selectable",f[5]),(!l||h[0]&41943056)&&ge(e,"nopan",f[4]),(!l||h[0]&41945088)&&ge(e,"parent",f[11]);const m=h[0]&67109888;(h[0]&67175424||m)&&be(e,"z-index",f[16]),(h[0]&67122176&&s!==(s=`translate(${f[12]}px, ${f[13]}px)`)||m)&&be(e,"transform",s),(h[0]&68158464||m)&&be(e,"visibility",f[20]?"visible":"hidden")},i(f){l||(n&&F(n.$$.fragment,f),l=!0)},o(f){n&&J(n.$$.fragment,f),l=!1},d(f){f&&C(e),n&&de(n),t[54](null),a=!1,dt(u)}}}function sh(t){let e,n,i=!t[8]&&Fo(t);return{c(){i&&i.c(),e=He()},l(o){i&&i.l(o),e=He()},m(o,r){i&&i.m(o,r),ee(o,e,r),n=!0},p(o,r){o[8]?i&&(je(),J(i,1,1,()=>{i=null}),xe()):i?(i.p(o,r),r[0]&256&&F(i,1)):(i=Fo(o),i.c(),F(i,1),i.m(e.parentNode,e))},i(o){n||(F(i),n=!0)},o(o){J(i),n=!1},d(o){o&&C(e),i&&i.d(o)}}}function ah(t,e,n){let i,o,r,s,l,a,u,c,{node:d}=e,{id:f}=e,{data:h={}}=e,{selected:m=!1}=e,{draggable:y=void 0}=e,{selectable:_=void 0}=e,{connectable:g=!0}=e,{deletable:w=!0}=e,{hidden:b=!1}=e,{dragging:p=!1}=e,{resizeObserver:T=null}=e,{style:A=void 0}=e,{type:S="default"}=e,{isParent:V=!1}=e,{positionX:N}=e,{positionY:B}=e,{sourcePosition:U=void 0}=e,{targetPosition:K=void 0}=e,{zIndex:O}=e,{measuredWidth:k=void 0}=e,{measuredHeight:Y=void 0}=e,{initialWidth:E=void 0}=e,{initialHeight:P=void 0}=e,{width:R=void 0}=e,{height:X=void 0}=e,{dragHandle:q=void 0}=e,{initialized:te=!1}=e,{parentId:ie=void 0}=e,{nodeClickDistance:H=void 0}=e,{class:D=""}=e;const W=Ge(),{nodeTypes:Q,nodeDragThreshold:I,selectNodesOnDrag:ne,handleNodeSelection:re,updateNodeInternals:ae,elementsSelectable:me,nodesDraggable:pe}=W;$(t,Q,z=>n(50,l=z)),$(t,me,z=>n(28,a=z)),$(t,pe,z=>n(29,u=z));let De,G=null;const Me=ii(),Se=ue(g);$(t,Se,z=>n(30,c=z));let Ve,Be,Le;Kn("svelteflow__node_id",f),Kn("svelteflow__node_connectable",Se),Hr(()=>{G&&(T==null||T.unobserve(G))});function Ze(z){_&&(!oe(ne)||!y||oe(I)>0)&&re(f),Me("nodeclick",{node:d.internals.userNode,event:z})}const ct=(z,et,ze,Ne)=>{Me("nodedrag",{event:z,targetNode:ze,nodes:Ne})},ft=(z,et,ze,Ne)=>{Me("nodedragstart",{event:z,targetNode:ze,nodes:Ne})},$e=(z,et,ze,Ne)=>{Me("nodedragstop",{event:z,targetNode:ze,nodes:Ne})};function at(z){Cn[z?"unshift":"push"](()=>{De=z,n(24,De)})}const Re=z=>Me("nodemouseenter",{node:d,event:z}),Pe=z=>Me("nodemouseleave",{node:d,event:z}),Ee=z=>Me("nodemousemove",{node:d,event:z}),Je=z=>Me("nodecontextmenu",{node:d,event:z});return t.$$set=z=>{"node"in z&&n(0,d=z.node),"id"in z&&n(1,f=z.id),"data"in z&&n(2,h=z.data),"selected"in z&&n(3,m=z.selected),"draggable"in z&&n(4,y=z.draggable),"selectable"in z&&n(5,_=z.selectable),"connectable"in z&&n(6,g=z.connectable),"deletable"in z&&n(7,w=z.deletable),"hidden"in z&&n(8,b=z.hidden),"dragging"in z&&n(9,p=z.dragging),"resizeObserver"in z&&n(39,T=z.resizeObserver),"style"in z&&n(10,A=z.style),"type"in z&&n(40,S=z.type),"isParent"in z&&n(11,V=z.isParent),"positionX"in z&&n(12,N=z.positionX),"positionY"in z&&n(13,B=z.positionY),"sourcePosition"in z&&n(14,U=z.sourcePosition),"targetPosition"in z&&n(15,K=z.targetPosition),"zIndex"in z&&n(16,O=z.zIndex),"measuredWidth"in z&&n(41,k=z.measuredWidth),"measuredHeight"in z&&n(42,Y=z.measuredHeight),"initialWidth"in z&&n(43,E=z.initialWidth),"initialHeight"in z&&n(44,P=z.initialHeight),"width"in z&&n(17,R=z.width),"height"in z&&n(18,X=z.height),"dragHandle"in z&&n(19,q=z.dragHandle),"initialized"in z&&n(20,te=z.initialized),"parentId"in z&&n(21,ie=z.parentId),"nodeClickDistance"in z&&n(22,H=z.nodeClickDistance),"class"in z&&n(23,D=z.class)},t.$$.update=()=>{t.$$.dirty[1]&512&&n(25,i=S||"default"),t.$$.dirty[0]&33554432|t.$$.dirty[1]&524288&&n(49,o=!!l[i]),t.$$.dirty[0]&33554432|t.$$.dirty[1]&524288&&n(27,r=l[i]||Nl),t.$$.dirty[1]&262656&&(o||console.warn("003",Tn.error003(S))),t.$$.dirty[0]&393216|t.$$.dirty[1]&15360&&n(26,s=lh({width:R,height:X,initialWidth:E,initialHeight:P,measuredWidth:k,measuredHeight:Y})),t.$$.dirty[0]&64&&Se.set(!!g),t.$$.dirty[0]&50380802|t.$$.dirty[1]&229376&&((Ve&&i!==Ve||Be&&U!==Be||Le&&K!==Le)&&requestAnimationFrame(()=>ae(new Map([[f,{id:f,nodeElement:De,force:!0}]]))),n(46,Ve=i),n(47,Be=U),n(48,Le=K)),t.$$.dirty[0]&17825792|t.$$.dirty[1]&16640&&T&&(De!==G||!te)&&(G&&T.unobserve(G),De&&T.observe(De),n(45,G=De))},[d,f,h,m,y,_,g,w,b,p,A,V,N,B,U,K,O,R,X,q,te,ie,H,D,De,i,s,r,a,u,c,W,Q,re,me,pe,Me,Se,Ze,T,S,k,Y,E,P,G,Ve,Be,Le,o,l,ct,ft,$e,at,Re,Pe,Ee,Je]}class uh extends _e{constructor(e){super(),ye(this,e,ah,sh,Ar,{node:0,id:1,data:2,selected:3,draggable:4,selectable:5,connectable:6,deletable:7,hidden:8,dragging:9,resizeObserver:39,style:10,type:40,isParent:11,positionX:12,positionY:13,sourcePosition:14,targetPosition:15,zIndex:16,measuredWidth:41,measuredHeight:42,initialWidth:43,initialHeight:44,width:17,height:18,dragHandle:19,initialized:20,parentId:21,nodeClickDistance:22,class:23},null,[-1,-1])}}const ch=uh;const{Map:fh}=ws;function Zo(t,e,n){const i=t.slice();return i[21]=e[n],i}function qo(t,e){let n,i,o;return i=new ch({props:{node:e[21],id:e[21].id,data:e[21].data,selected:!!e[21].selected,hidden:!!e[21].hidden,draggable:!!(e[21].draggable||e[2]&&typeof e[21].draggable>"u"),selectable:!!(e[21].selectable||e[3]&&typeof e[21].selectable>"u"),connectable:!!(e[21].connectable||e[4]&&typeof e[21].connectable>"u"),deletable:e[21].deletable??!0,positionX:e[21].internals.positionAbsolute.x,positionY:e[21].internals.positionAbsolute.y,isParent:e[5].has(e[21].id),style:e[21].style,class:e[21].class,type:e[21].type??"default",sourcePosition:e[21].sourcePosition,targetPosition:e[21].targetPosition,dragging:e[21].dragging,zIndex:e[21].internals.z??0,dragHandle:e[21].dragHandle,initialized:Io(e[21]),width:e[21].width,height:e[21].height,initialWidth:e[21].initialWidth,initialHeight:e[21].initialHeight,measuredWidth:e[21].measured.width,measuredHeight:e[21].measured.height,parentId:e[21].parentId,resizeObserver:e[11],nodeClickDistance:e[0]}}),i.$on("nodeclick",e[12]),i.$on("nodemouseenter",e[13]),i.$on("nodemousemove",e[14]),i.$on("nodemouseleave",e[15]),i.$on("nodedrag",e[16]),i.$on("nodedragstart",e[17]),i.$on("nodedragstop",e[18]),i.$on("nodecontextmenu",e[19]),{key:t,first:null,c(){n=He(),ce(i.$$.fragment),this.h()},l(r){n=He(),he(i.$$.fragment,r),this.h()},h(){this.first=n},m(r,s){ee(r,n,s),fe(i,r,s),o=!0},p(r,s){e=r;const l={};s&2&&(l.node=e[21]),s&2&&(l.id=e[21].id),s&2&&(l.data=e[21].data),s&2&&(l.selected=!!e[21].selected),s&2&&(l.hidden=!!e[21].hidden),s&6&&(l.draggable=!!(e[21].draggable||e[2]&&typeof e[21].draggable>"u")),s&10&&(l.selectable=!!(e[21].selectable||e[3]&&typeof e[21].selectable>"u")),s&18&&(l.connectable=!!(e[21].connectable||e[4]&&typeof e[21].connectable>"u")),s&2&&(l.deletable=e[21].deletable??!0),s&2&&(l.positionX=e[21].internals.positionAbsolute.x),s&2&&(l.positionY=e[21].internals.positionAbsolute.y),s&34&&(l.isParent=e[5].has(e[21].id)),s&2&&(l.style=e[21].style),s&2&&(l.class=e[21].class),s&2&&(l.type=e[21].type??"default"),s&2&&(l.sourcePosition=e[21].sourcePosition),s&2&&(l.targetPosition=e[21].targetPosition),s&2&&(l.dragging=e[21].dragging),s&2&&(l.zIndex=e[21].internals.z??0),s&2&&(l.dragHandle=e[21].dragHandle),s&2&&(l.initialized=Io(e[21])),s&2&&(l.width=e[21].width),s&2&&(l.height=e[21].height),s&2&&(l.initialWidth=e[21].initialWidth),s&2&&(l.initialHeight=e[21].initialHeight),s&2&&(l.measuredWidth=e[21].measured.width),s&2&&(l.measuredHeight=e[21].measured.height),s&2&&(l.parentId=e[21].parentId),s&1&&(l.nodeClickDistance=e[0]),i.$set(l)},i(r){o||(F(i.$$.fragment,r),o=!0)},o(r){J(i.$$.fragment,r),o=!1},d(r){r&&C(n),de(i,r)}}}function dh(t){let e,n=[],i=new fh,o,r=Ue(t[1]);const s=l=>l[21].id;for(let l=0;l<r.length;l+=1){let a=Zo(t,r,l),u=s(a);i.set(u,n[l]=qo(u,a))}return{c(){e=j("div");for(let l=0;l<n.length;l+=1)n[l].c();this.h()},l(l){e=x(l,"DIV",{class:!0});var a=Z(e);for(let u=0;u<n.length;u+=1)n[u].l(a);a.forEach(C),this.h()},h(){v(e,"class","svelte-flow__nodes svelte-tf4uy4")},m(l,a){ee(l,e,a);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(e,null);o=!0},p(l,[a]){a&2111&&(r=Ue(l[1]),je(),n=Ri(n,a,s,1,l,r,i,e,Xi,qo,null,Zo),xe())},i(l){if(!o){for(let a=0;a<r.length;a+=1)F(n[a]);o=!0}},o(l){for(let a=0;a<n.length;a+=1)J(n[a]);o=!1},d(l){l&&C(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function hh(t,e,n){let i,o,r,s,l,{nodeClickDistance:a=0}=e;const{visibleNodes:u,nodesDraggable:c,nodesConnectable:d,elementsSelectable:f,updateNodeInternals:h,parentLookup:m}=Ge();$(t,u,V=>n(1,i=V)),$(t,c,V=>n(2,o=V)),$(t,d,V=>n(4,s=V)),$(t,f,V=>n(3,r=V)),$(t,m,V=>n(5,l=V));const y=typeof ResizeObserver>"u"?null:new ResizeObserver(V=>{const N=new Map;V.forEach(B=>{const U=B.target.getAttribute("data-id");N.set(U,{id:U,nodeElement:B.target,force:!0})}),h(N)});Hr(()=>{y==null||y.disconnect()});function _(V){Te.call(this,t,V)}function g(V){Te.call(this,t,V)}function w(V){Te.call(this,t,V)}function b(V){Te.call(this,t,V)}function p(V){Te.call(this,t,V)}function T(V){Te.call(this,t,V)}function A(V){Te.call(this,t,V)}function S(V){Te.call(this,t,V)}return t.$$set=V=>{"nodeClickDistance"in V&&n(0,a=V.nodeClickDistance)},[a,i,o,r,s,l,u,c,d,f,m,y,_,g,w,b,p,T,A,S]}class gh extends _e{constructor(e){super(),ye(this,e,hh,dh,ve,{nodeClickDistance:0})}}const mh=gh;function Uo(t){let e,n,i,o,r,s,l,a;var u=t[27];function c(d,f){return{props:{id:d[0],source:d[1],target:d[2],sourceX:d[14],sourceY:d[15],targetX:d[16],targetY:d[17],sourcePosition:d[18],targetPosition:d[19],animated:d[6],selected:d[7],label:d[10],labelStyle:d[11],data:d[3],style:d[4],interactionWidth:d[21],selectable:d[24],deletable:d[8]??!0,type:d[23],sourceHandleId:d[12],targetHandleId:d[13],markerStart:d[26],markerEnd:d[25]}}}return u&&(i=Fn(u,c(t))),{c(){e=Oe("svg"),n=Oe("g"),i&&ce(i.$$.fragment),this.h()},l(d){e=Ae(d,"svg",{});var f=Z(e);n=Ae(f,"g",{class:!0,"data-id":!0,"aria-label":!0,role:!0});var h=Z(n);i&&he(i.$$.fragment,h),h.forEach(C),f.forEach(C),this.h()},h(){v(n,"class",o=Xe(["svelte-flow__edge",t[22]])),v(n,"data-id",t[0]),v(n,"aria-label",r=t[20]===null?void 0:t[20]?t[20]:`Edge from ${t[1]} to ${t[2]}`),v(n,"role","img"),ge(n,"animated",t[6]),ge(n,"selected",t[7]),ge(n,"selectable",t[24]),be(e,"z-index",t[5])},m(d,f){ee(d,e,f),L(e,n),i&&fe(i,n,null),s=!0,l||(a=[ke(n,"click",t[32]),ke(n,"contextmenu",t[41]),ke(n,"mouseenter",t[42]),ke(n,"mouseleave",t[43])],l=!0)},p(d,f){if(f[0]&134217728&&u!==(u=d[27])){if(i){je();const h=i;J(h.$$.fragment,1,0,()=>{de(h,1)}),xe()}u?(i=Fn(u,c(d)),ce(i.$$.fragment),F(i.$$.fragment,1),fe(i,n,null)):i=null}else if(u){const h={};f[0]&1&&(h.id=d[0]),f[0]&2&&(h.source=d[1]),f[0]&4&&(h.target=d[2]),f[0]&16384&&(h.sourceX=d[14]),f[0]&32768&&(h.sourceY=d[15]),f[0]&65536&&(h.targetX=d[16]),f[0]&131072&&(h.targetY=d[17]),f[0]&262144&&(h.sourcePosition=d[18]),f[0]&524288&&(h.targetPosition=d[19]),f[0]&64&&(h.animated=d[6]),f[0]&128&&(h.selected=d[7]),f[0]&1024&&(h.label=d[10]),f[0]&2048&&(h.labelStyle=d[11]),f[0]&8&&(h.data=d[3]),f[0]&16&&(h.style=d[4]),f[0]&2097152&&(h.interactionWidth=d[21]),f[0]&16777216&&(h.selectable=d[24]),f[0]&256&&(h.deletable=d[8]??!0),f[0]&8388608&&(h.type=d[23]),f[0]&4096&&(h.sourceHandleId=d[12]),f[0]&8192&&(h.targetHandleId=d[13]),f[0]&67108864&&(h.markerStart=d[26]),f[0]&33554432&&(h.markerEnd=d[25]),i.$set(h)}(!s||f[0]&4194304&&o!==(o=Xe(["svelte-flow__edge",d[22]])))&&v(n,"class",o),(!s||f[0]&1)&&v(n,"data-id",d[0]),(!s||f[0]&1048582&&r!==(r=d[20]===null?void 0:d[20]?d[20]:`Edge from ${d[1]} to ${d[2]}`))&&v(n,"aria-label",r),(!s||f[0]&4194368)&&ge(n,"animated",d[6]),(!s||f[0]&4194432)&&ge(n,"selected",d[7]),(!s||f[0]&20971520)&&ge(n,"selectable",d[24]),f[0]&32&&be(e,"z-index",d[5])},i(d){s||(i&&F(i.$$.fragment,d),s=!0)},o(d){i&&J(i.$$.fragment,d),s=!1},d(d){d&&C(e),i&&de(i),l=!1,dt(a)}}}function _h(t){let e,n,i=!t[9]&&Uo(t);return{c(){i&&i.c(),e=He()},l(o){i&&i.l(o),e=He()},m(o,r){i&&i.m(o,r),ee(o,e,r),n=!0},p(o,r){o[9]?i&&(je(),J(i,1,1,()=>{i=null}),xe()):i?(i.p(o,r),r[0]&512&&F(i,1)):(i=Uo(o),i.c(),F(i,1),i.m(e.parentNode,e))},i(o){n||(F(i),n=!0)},o(o){J(i),n=!1},d(o){o&&C(e),i&&i.d(o)}}}function yh(t,e,n){let i,o,r,s,l,a,u,c,d,{id:f}=e,{type:h="default"}=e,{source:m=""}=e,{target:y=""}=e,{data:_={}}=e,{style:g=void 0}=e,{zIndex:w=void 0}=e,{animated:b=!1}=e,{selected:p=!1}=e,{selectable:T=void 0}=e,{deletable:A=void 0}=e,{hidden:S=!1}=e,{label:V=void 0}=e,{labelStyle:N=void 0}=e,{markerStart:B=void 0}=e,{markerEnd:U=void 0}=e,{sourceHandle:K=void 0}=e,{targetHandle:O=void 0}=e,{sourceX:k}=e,{sourceY:Y}=e,{targetX:E}=e,{targetY:P}=e,{sourcePosition:R}=e,{targetPosition:X}=e,{ariaLabel:q=void 0}=e,{interactionWidth:te=void 0}=e,{class:ie=""}=e;Kn("svelteflow__edge_id",f);const{edgeLookup:H,edgeTypes:D,flowId:W,elementsSelectable:Q}=Ge();$(t,H,G=>n(44,a=G)),$(t,D,G=>n(40,d=G)),$(t,W,G=>n(39,c=G)),$(t,Q,G=>n(38,u=G));const I=ii(),ne=zl();function re(G){const Me=a.get(f);Me&&(ne(f),I("edgeclick",{event:G,edge:Me}))}function ae(G,Me){const Se=a.get(f);Se&&I(Me,{event:G,edge:Se})}const me=G=>{ae(G,"edgecontextmenu")},pe=G=>{ae(G,"edgemouseenter")},De=G=>{ae(G,"edgemouseleave")};return t.$$set=G=>{"id"in G&&n(0,f=G.id),"type"in G&&n(34,h=G.type),"source"in G&&n(1,m=G.source),"target"in G&&n(2,y=G.target),"data"in G&&n(3,_=G.data),"style"in G&&n(4,g=G.style),"zIndex"in G&&n(5,w=G.zIndex),"animated"in G&&n(6,b=G.animated),"selected"in G&&n(7,p=G.selected),"selectable"in G&&n(35,T=G.selectable),"deletable"in G&&n(8,A=G.deletable),"hidden"in G&&n(9,S=G.hidden),"label"in G&&n(10,V=G.label),"labelStyle"in G&&n(11,N=G.labelStyle),"markerStart"in G&&n(36,B=G.markerStart),"markerEnd"in G&&n(37,U=G.markerEnd),"sourceHandle"in G&&n(12,K=G.sourceHandle),"targetHandle"in G&&n(13,O=G.targetHandle),"sourceX"in G&&n(14,k=G.sourceX),"sourceY"in G&&n(15,Y=G.sourceY),"targetX"in G&&n(16,E=G.targetX),"targetY"in G&&n(17,P=G.targetY),"sourcePosition"in G&&n(18,R=G.sourcePosition),"targetPosition"in G&&n(19,X=G.targetPosition),"ariaLabel"in G&&n(20,q=G.ariaLabel),"interactionWidth"in G&&n(21,te=G.interactionWidth),"class"in G&&n(22,ie=G.class)},t.$$.update=()=>{t.$$.dirty[1]&8&&n(23,i=h||"default"),t.$$.dirty[0]&8388608|t.$$.dirty[1]&512&&n(27,o=d[i]||Ol),t.$$.dirty[1]&288&&n(26,r=B?`url('#${Vi(B,c)}')`:void 0),t.$$.dirty[1]&320&&n(25,s=U?`url('#${Vi(U,c)}')`:void 0),t.$$.dirty[1]&144&&n(24,l=T??u)},[f,m,y,_,g,w,b,p,A,S,V,N,K,O,k,Y,E,P,R,X,q,te,ie,i,l,s,r,o,H,D,W,Q,re,ae,h,T,B,U,u,c,d,me,pe,De]}class bh extends _e{constructor(e){super(),ye(this,e,yh,_h,Ar,{id:0,type:34,source:1,target:2,data:3,style:4,zIndex:5,animated:6,selected:7,selectable:35,deletable:8,hidden:9,label:10,labelStyle:11,markerStart:36,markerEnd:37,sourceHandle:12,targetHandle:13,sourceX:14,sourceY:15,targetX:16,targetY:17,sourcePosition:18,targetPosition:19,ariaLabel:20,interactionWidth:21,class:22},null,[-1,-1])}}const wh=bh;function vh(t,e,n){let{onMount:i=void 0}=e,{onDestroy:o=void 0}=e;return Sn(()=>(i==null||i(),o)),t.$$set=r=>{"onMount"in r&&n(0,i=r.onMount),"onDestroy"in r&&n(1,o=r.onDestroy)},[i,o]}class kh extends _e{constructor(e){super(),ye(this,e,vh,null,ve,{onMount:0,onDestroy:1})}}const ph=kh;function Go(t,e,n){const i=t.slice();return i[2]=e[n],i}function Jo(t,e){let n,i,o;const r=[e[2]];let s={};for(let l=0;l<r.length;l+=1)s=Ie(s,r[l]);return i=new zh({props:s}),{key:t,first:null,c(){n=He(),ce(i.$$.fragment),this.h()},l(l){n=He(),he(i.$$.fragment,l),this.h()},h(){this.first=n},m(l,a){ee(l,n,a),fe(i,l,a),o=!0},p(l,a){e=l;const u=a&1?Yt(r,[yn(e[2])]):{};i.$set(u)},i(l){o||(F(i.$$.fragment,l),o=!0)},o(l){J(i.$$.fragment,l),o=!1},d(l){l&&C(n),de(i,l)}}}function Eh(t){let e,n=[],i=new Map,o,r=Ue(t[0]);const s=l=>l[2].id;for(let l=0;l<r.length;l+=1){let a=Go(t,r,l),u=s(a);i.set(u,n[l]=Jo(u,a))}return{c(){e=Oe("defs");for(let l=0;l<n.length;l+=1)n[l].c()},l(l){e=Ae(l,"defs",{});var a=Z(e);for(let u=0;u<n.length;u+=1)n[u].l(a);a.forEach(C)},m(l,a){ee(l,e,a);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(e,null);o=!0},p(l,[a]){a&1&&(r=Ue(l[0]),je(),n=Ri(n,a,s,1,l,r,i,e,Xi,Jo,null,Go),xe())},i(l){if(!o){for(let a=0;a<r.length;a+=1)F(n[a]);o=!0}},o(l){for(let a=0;a<n.length;a+=1)J(n[a]);o=!1},d(l){l&&C(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function Sh(t,e,n){let i;const{markers:o}=Ge();return $(t,o,r=>n(0,i=r)),[i,o]}class Ch extends _e{constructor(e){super(),ye(this,e,Sh,Eh,ve,{})}}const Mh=Ch;function Ph(t){let e;return{c(){e=Oe("polyline"),this.h()},l(n){e=Ae(n,"polyline",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,fill:!0,points:!0}),Z(e).forEach(C),this.h()},h(){v(e,"stroke",t[6]),v(e,"stroke-linecap","round"),v(e,"stroke-linejoin","round"),v(e,"stroke-width",t[7]),v(e,"fill",t[6]),v(e,"points","-5,-4 0,0 -5,4 -5,-4")},m(n,i){ee(n,e,i)},p(n,i){i&64&&v(e,"stroke",n[6]),i&128&&v(e,"stroke-width",n[7]),i&64&&v(e,"fill",n[6])},d(n){n&&C(e)}}}function Th(t){let e;return{c(){e=Oe("polyline"),this.h()},l(n){e=Ae(n,"polyline",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,fill:!0,points:!0}),Z(e).forEach(C),this.h()},h(){v(e,"stroke",t[6]),v(e,"stroke-linecap","round"),v(e,"stroke-linejoin","round"),v(e,"stroke-width",t[7]),v(e,"fill","none"),v(e,"points","-5,-4 0,0 -5,4")},m(n,i){ee(n,e,i)},p(n,i){i&64&&v(e,"stroke",n[6]),i&128&&v(e,"stroke-width",n[7])},d(n){n&&C(e)}}}function Dh(t){let e,n,i;function o(l,a){if(l[1]===$n.Arrow)return Th;if(l[1]===$n.ArrowClosed)return Ph}let r=o(t),s=r&&r(t);return{c(){e=Oe("marker"),s&&s.c(),this.h()},l(l){e=Ae(l,"marker",{class:!0,id:!0,markerWidth:!0,markerHeight:!0,viewBox:!0,markerUnits:!0,orient:!0,refX:!0,refY:!0});var a=Z(e);s&&s.l(a),a.forEach(C),this.h()},h(){v(e,"class","svelte-flow__arrowhead"),v(e,"id",t[0]),v(e,"markerWidth",n=`${t[2]}`),v(e,"markerHeight",i=`${t[3]}`),v(e,"viewBox","-10 -10 20 20"),v(e,"markerUnits",t[4]),v(e,"orient",t[5]),v(e,"refX","0"),v(e,"refY","0")},m(l,a){ee(l,e,a),s&&s.m(e,null)},p(l,[a]){r===(r=o(l))&&s?s.p(l,a):(s&&s.d(1),s=r&&r(l),s&&(s.c(),s.m(e,null))),a&1&&v(e,"id",l[0]),a&4&&n!==(n=`${l[2]}`)&&v(e,"markerWidth",n),a&8&&i!==(i=`${l[3]}`)&&v(e,"markerHeight",i),a&16&&v(e,"markerUnits",l[4]),a&32&&v(e,"orient",l[5])},i:Ce,o:Ce,d(l){l&&C(e),s&&s.d()}}}function Ih(t,e,n){let{id:i}=e,{type:o}=e,{width:r=12.5}=e,{height:s=12.5}=e,{markerUnits:l="strokeWidth"}=e,{orient:a="auto-start-reverse"}=e,{color:u=void 0}=e,{strokeWidth:c=void 0}=e;return t.$$set=d=>{"id"in d&&n(0,i=d.id),"type"in d&&n(1,o=d.type),"width"in d&&n(2,r=d.width),"height"in d&&n(3,s=d.height),"markerUnits"in d&&n(4,l=d.markerUnits),"orient"in d&&n(5,a=d.orient),"color"in d&&n(6,u=d.color),"strokeWidth"in d&&n(7,c=d.strokeWidth)},[i,o,r,s,l,a,u,c]}class Nh extends _e{constructor(e){super(),ye(this,e,Ih,Dh,ve,{id:0,type:1,width:2,height:3,markerUnits:4,orient:5,color:6,strokeWidth:7})}}const zh=Nh;function Qo(t,e,n){const i=t.slice();return i[14]=e[n],i}function jo(t,e){let n,i,o;return i=new wh({props:{id:e[14].id,source:e[14].source,target:e[14].target,data:e[14].data,style:e[14].style,animated:e[14].animated,selected:e[14].selected,selectable:e[14].selectable??e[1],deletable:e[14].deletable,hidden:e[14].hidden,label:e[14].label,labelStyle:e[14].labelStyle,markerStart:e[14].markerStart,markerEnd:e[14].markerEnd,sourceHandle:e[14].sourceHandle,targetHandle:e[14].targetHandle,sourceX:e[14].sourceX,sourceY:e[14].sourceY,targetX:e[14].targetX,targetY:e[14].targetY,sourcePosition:e[14].sourcePosition,targetPosition:e[14].targetPosition,ariaLabel:e[14].ariaLabel,interactionWidth:e[14].interactionWidth,class:e[14].class,type:e[14].type||"default",zIndex:e[14].zIndex}}),i.$on("edgeclick",e[7]),i.$on("edgecontextmenu",e[8]),i.$on("edgemouseenter",e[9]),i.$on("edgemouseleave",e[10]),{key:t,first:null,c(){n=He(),ce(i.$$.fragment),this.h()},l(r){n=He(),he(i.$$.fragment,r),this.h()},h(){this.first=n},m(r,s){ee(r,n,s),fe(i,r,s),o=!0},p(r,s){e=r;const l={};s&1&&(l.id=e[14].id),s&1&&(l.source=e[14].source),s&1&&(l.target=e[14].target),s&1&&(l.data=e[14].data),s&1&&(l.style=e[14].style),s&1&&(l.animated=e[14].animated),s&1&&(l.selected=e[14].selected),s&3&&(l.selectable=e[14].selectable??e[1]),s&1&&(l.deletable=e[14].deletable),s&1&&(l.hidden=e[14].hidden),s&1&&(l.label=e[14].label),s&1&&(l.labelStyle=e[14].labelStyle),s&1&&(l.markerStart=e[14].markerStart),s&1&&(l.markerEnd=e[14].markerEnd),s&1&&(l.sourceHandle=e[14].sourceHandle),s&1&&(l.targetHandle=e[14].targetHandle),s&1&&(l.sourceX=e[14].sourceX),s&1&&(l.sourceY=e[14].sourceY),s&1&&(l.targetX=e[14].targetX),s&1&&(l.targetY=e[14].targetY),s&1&&(l.sourcePosition=e[14].sourcePosition),s&1&&(l.targetPosition=e[14].targetPosition),s&1&&(l.ariaLabel=e[14].ariaLabel),s&1&&(l.interactionWidth=e[14].interactionWidth),s&1&&(l.class=e[14].class),s&1&&(l.type=e[14].type||"default"),s&1&&(l.zIndex=e[14].zIndex),i.$set(l)},i(r){o||(F(i.$$.fragment,r),o=!0)},o(r){J(i.$$.fragment,r),o=!1},d(r){r&&C(n),de(i,r)}}}function xo(t){let e,n;return e=new ph({props:{onMount:t[11],onDestroy:t[12]}}),{c(){ce(e.$$.fragment)},l(i){he(e.$$.fragment,i)},m(i,o){fe(e,i,o),n=!0},p(i,o){const r={};o&4&&(r.onMount=i[11]),o&4&&(r.onDestroy=i[12]),e.$set(r)},i(i){n||(F(e.$$.fragment,i),n=!0)},o(i){J(e.$$.fragment,i),n=!1},d(i){de(e,i)}}}function Oh(t){let e,n,i,o,r=[],s=new Map,l,a;i=new Mh({});let u=Ue(t[0]);const c=f=>f[14].id;for(let f=0;f<u.length;f+=1){let h=Qo(t,u,f),m=c(h);s.set(m,r[f]=jo(m,h))}let d=t[0].length>0&&xo(t);return{c(){e=j("div"),n=Oe("svg"),ce(i.$$.fragment),o=le();for(let f=0;f<r.length;f+=1)r[f].c();l=le(),d&&d.c(),this.h()},l(f){e=x(f,"DIV",{class:!0});var h=Z(e);n=Ae(h,"svg",{class:!0});var m=Z(n);he(i.$$.fragment,m),m.forEach(C),o=se(h);for(let y=0;y<r.length;y+=1)r[y].l(h);l=se(h),d&&d.l(h),h.forEach(C),this.h()},h(){v(n,"class","svelte-flow__marker"),v(e,"class","svelte-flow__edges")},m(f,h){ee(f,e,h),L(e,n),fe(i,n,null),L(e,o);for(let m=0;m<r.length;m+=1)r[m]&&r[m].m(e,null);L(e,l),d&&d.m(e,null),a=!0},p(f,[h]){h&3&&(u=Ue(f[0]),je(),r=Ri(r,h,c,1,f,u,s,e,Xi,jo,l,Qo),xe()),f[0].length>0?d?(d.p(f,h),h&1&&F(d,1)):(d=xo(f),d.c(),F(d,1),d.m(e,null)):d&&(je(),J(d,1,1,()=>{d=null}),xe())},i(f){if(!a){F(i.$$.fragment,f);for(let h=0;h<u.length;h+=1)F(r[h]);F(d),a=!0}},o(f){J(i.$$.fragment,f);for(let h=0;h<r.length;h+=1)J(r[h]);J(d),a=!1},d(f){f&&C(e),de(i);for(let h=0;h<r.length;h+=1)r[h].d();d&&d.d()}}}function Ah(t,e,n){let i,o,r,{defaultEdgeOptions:s}=e;const{visibleEdges:l,edgesInitialized:a,edges:{setDefaultOptions:u},elementsSelectable:c}=Ge();$(t,l,g=>n(0,i=g)),$(t,a,g=>n(2,r=g)),$(t,c,g=>n(1,o=g)),Sn(()=>{s&&u(s)});function d(g){Te.call(this,t,g)}function f(g){Te.call(this,t,g)}function h(g){Te.call(this,t,g)}function m(g){Te.call(this,t,g)}const y=()=>{Rt(a,r=!0,r)},_=()=>{Rt(a,r=!1,r)};return t.$$set=g=>{"defaultEdgeOptions"in g&&n(6,s=g.defaultEdgeOptions)},[i,o,r,l,a,c,s,d,f,h,m,y,_]}class Hh extends _e{constructor(e){super(),ye(this,e,Ah,Oh,ve,{defaultEdgeOptions:6})}}const Vh=Hh;function $o(t){let e;return{c(){e=j("div"),this.h()},l(n){e=x(n,"DIV",{class:!0}),Z(e).forEach(C),this.h()},h(){v(e,"class","svelte-flow__selection svelte-1iugwpu"),be(e,"width",typeof t[2]=="string"?t[2]:`${t[2]}px`),be(e,"height",typeof t[3]=="string"?t[3]:`${t[3]}px`),be(e,"transform",`translate(${t[0]}px, ${t[1]}px)`)},m(n,i){ee(n,e,i)},p(n,i){i&4&&be(e,"width",typeof n[2]=="string"?n[2]:`${n[2]}px`),i&8&&be(e,"height",typeof n[3]=="string"?n[3]:`${n[3]}px`),i&3&&be(e,"transform",`translate(${n[0]}px, ${n[1]}px)`)},d(n){n&&C(e)}}}function Rh(t){let e,n=t[4]&&$o(t);return{c(){n&&n.c(),e=He()},l(i){n&&n.l(i),e=He()},m(i,o){n&&n.m(i,o),ee(i,e,o)},p(i,[o]){i[4]?n?n.p(i,o):(n=$o(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:Ce,o:Ce,d(i){i&&C(e),n&&n.d(i)}}}function Xh(t,e,n){let{x:i=0}=e,{y:o=0}=e,{width:r=0}=e,{height:s=0}=e,{isVisible:l=!0}=e;return t.$$set=a=>{"x"in a&&n(0,i=a.x),"y"in a&&n(1,o=a.y),"width"in a&&n(2,r=a.width),"height"in a&&n(3,s=a.height),"isVisible"in a&&n(4,l=a.isVisible)},[i,o,r,s,l]}class Lh extends _e{constructor(e){super(),ye(this,e,Xh,Rh,ve,{x:0,y:1,width:2,height:3,isVisible:4})}}const Rl=Lh;function Yh(t){var i,o,r,s;let e,n;return e=new Rl({props:{isVisible:!!(t[0]&&t[1]==="user"),width:(i=t[0])==null?void 0:i.width,height:(o=t[0])==null?void 0:o.height,x:(r=t[0])==null?void 0:r.x,y:(s=t[0])==null?void 0:s.y}}),{c(){ce(e.$$.fragment)},l(l){he(e.$$.fragment,l)},m(l,a){fe(e,l,a),n=!0},p(l,[a]){var c,d,f,h;const u={};a&3&&(u.isVisible=!!(l[0]&&l[1]==="user")),a&1&&(u.width=(c=l[0])==null?void 0:c.width),a&1&&(u.height=(d=l[0])==null?void 0:d.height),a&1&&(u.x=(f=l[0])==null?void 0:f.x),a&1&&(u.y=(h=l[0])==null?void 0:h.y),e.$set(u)},i(l){n||(F(e.$$.fragment,l),n=!0)},o(l){J(e.$$.fragment,l),n=!1},d(l){de(e,l)}}}function Bh(t,e,n){let i,o;const{selectionRect:r,selectionRectMode:s}=Ge();return $(t,r,l=>n(0,i=l)),$(t,s,l=>n(1,o=l)),[i,o,r,s]}class Wh extends _e{constructor(e){super(),ye(this,e,Bh,Yh,ve,{})}}const Kh=Wh;function er(t){let e,n,i,o,r;return n=new Rl({props:{width:"100%",height:"100%",x:0,y:0}}),{c(){e=j("div"),ce(n.$$.fragment),this.h()},l(s){e=x(s,"DIV",{class:!0,style:!0,role:!0,tabindex:!0});var l=Z(e);he(n.$$.fragment,l),l.forEach(C),this.h()},h(){v(e,"class","selection-wrapper nopan svelte-5pxri"),be(e,"width",t[1].width+"px"),be(e,"height",t[1].height+"px"),be(e,"transform","translate("+t[1].x+"px, "+t[1].y+"px)"),v(e,"role","button"),v(e,"tabindex","-1")},m(s,l){ee(s,e,l),fe(n,e,null),i=!0,o||(r=[nt(Vl.call(null,e,{disabled:!1,store:t[2],onDrag:t[11],onDragStart:t[12],onDragStop:t[13]})),ke(e,"contextmenu",t[7]),ke(e,"click",t[8]),ke(e,"keyup",Zh)],o=!0)},p(s,l){(!i||l&2)&&be(e,"width",s[1].width+"px"),(!i||l&2)&&be(e,"height",s[1].height+"px"),(!i||l&2)&&be(e,"transform","translate("+s[1].x+"px, "+s[1].y+"px)")},i(s){i||(F(n.$$.fragment,s),i=!0)},o(s){J(n.$$.fragment,s),i=!1},d(s){s&&C(e),de(n),o=!1,dt(r)}}}function Fh(t){let e=t[0]==="nodes"&&t[1]&&Kt(t[1].x)&&Kt(t[1].y),n,i,o=e&&er(t);return{c(){o&&o.c(),n=He()},l(r){o&&o.l(r),n=He()},m(r,s){o&&o.m(r,s),ee(r,n,s),i=!0},p(r,[s]){s&3&&(e=r[0]==="nodes"&&r[1]&&Kt(r[1].x)&&Kt(r[1].y)),e?o?(o.p(r,s),s&3&&F(o,1)):(o=er(r),o.c(),F(o,1),o.m(n.parentNode,n)):o&&(je(),J(o,1,1,()=>{o=null}),xe())},i(r){i||(F(o),i=!0)},o(r){J(o),i=!1},d(r){r&&C(n),o&&o.d(r)}}}const Zh=()=>{};function qh(t,e,n){let i,o,r;const s=Ge(),{selectionRectMode:l,nodes:a,nodeLookup:u}=s;$(t,l,g=>n(0,r=g)),$(t,a,g=>n(9,i=g)),$(t,u,g=>n(10,o=g));const c=ii();let d=null;function f(g){const w=i.filter(b=>b.selected);c("selectioncontextmenu",{nodes:w,event:g})}function h(g){const w=i.filter(b=>b.selected);c("selectionclick",{nodes:w,event:g})}const m=(g,w,b,p)=>{c("nodedrag",{event:g,targetNode:null,nodes:p})},y=(g,w,b,p)=>{c("nodedragstart",{event:g,targetNode:null,nodes:p})},_=(g,w,b,p)=>{c("nodedragstop",{event:g,targetNode:null,nodes:p})};return t.$$.update=()=>{t.$$.dirty&1537&&r==="nodes"&&n(1,d=ui(o,{filter:g=>!!g.selected}))},[r,d,s,l,a,u,c,f,h,i,o,m,y,_]}class Uh extends _e{constructor(e){super(),ye(this,e,qh,Fh,ve,{})}}const Gh=Uh;function kt(t,e){let{enabled:n=!0,trigger:i,type:o="keydown"}=e;function r(s){const l=Array.isArray(i)?i:[i],a={alt:s.altKey,ctrl:s.ctrlKey,shift:s.shiftKey,meta:s.metaKey};for(const u of l){const c={modifier:[],preventDefault:!1,enabled:!0,...u},{modifier:d,key:f,callback:h,preventDefault:m,enabled:y}=c;if(y){if(d.length&&!(Array.isArray(d)?d:[d]).map(w=>typeof w=="string"?[w]:w).some(w=>w.every(b=>a[b])))continue;if(s.key===f){m&&s.preventDefault();const _={node:t,trigger:c,originalEvent:s};t.dispatchEvent(new CustomEvent("shortcut",{detail:_})),h==null||h(_)}}}}return n&&t.addEventListener(o,r),{update:s=>{const{enabled:l=!0,type:a="keydown"}=s;n&&(!l||o!==a)?t.removeEventListener(o,r):!n&&l&&t.addEventListener(a,r),n=l,o=a,i=s.trigger},destroy:()=>{t.removeEventListener(o,r)}}}function Jh(t){let e,n,i,o,r,s,l,a,u,c,d,f;return{c:Ce,l:Ce,m(h,m){d||(f=[nt(e=kt.call(null,window,{trigger:qe(t[0],t[11]),type:"keydown"})),nt(n=kt.call(null,window,{trigger:qe(t[0],t[12]),type:"keyup"})),nt(i=kt.call(null,window,{trigger:qe(t[1],t[13]),type:"keydown"})),nt(o=kt.call(null,window,{trigger:qe(t[1],t[14]),type:"keyup"})),nt(r=kt.call(null,window,{trigger:qe(t[2],t[15]),type:"keydown"})),nt(s=kt.call(null,window,{trigger:qe(t[2],t[16]),type:"keyup"})),nt(l=kt.call(null,window,{trigger:qe(t[3],t[17]),type:"keydown"})),nt(a=kt.call(null,window,{trigger:qe(t[3],t[18]),type:"keyup"})),nt(u=kt.call(null,window,{trigger:qe(t[4],t[19]),type:"keydown"})),nt(c=kt.call(null,window,{trigger:qe(t[4],t[20]),type:"keyup"})),ke(window,"blur",t[10]),ke(window,"contextmenu",t[10])],d=!0)},p(h,[m]){e&&Qe(e.update)&&m&1&&e.update.call(null,{trigger:qe(h[0],h[11]),type:"keydown"}),n&&Qe(n.update)&&m&1&&n.update.call(null,{trigger:qe(h[0],h[12]),type:"keyup"}),i&&Qe(i.update)&&m&2&&i.update.call(null,{trigger:qe(h[1],h[13]),type:"keydown"}),o&&Qe(o.update)&&m&2&&o.update.call(null,{trigger:qe(h[1],h[14]),type:"keyup"}),r&&Qe(r.update)&&m&4&&r.update.call(null,{trigger:qe(h[2],h[15]),type:"keydown"}),s&&Qe(s.update)&&m&4&&s.update.call(null,{trigger:qe(h[2],h[16]),type:"keyup"}),l&&Qe(l.update)&&m&8&&l.update.call(null,{trigger:qe(h[3],h[17]),type:"keydown"}),a&&Qe(a.update)&&m&8&&a.update.call(null,{trigger:qe(h[3],h[18]),type:"keyup"}),u&&Qe(u.update)&&m&16&&u.update.call(null,{trigger:qe(h[4],h[19]),type:"keydown"}),c&&Qe(c.update)&&m&16&&c.update.call(null,{trigger:qe(h[4],h[20]),type:"keyup"})},i:Ce,o:Ce,d(h){d=!1,dt(f)}}}function Xl(t){return t!==null&&typeof t=="object"}function Qh(t){return Xl(t)?t.modifier||[]:[]}function jh(t){return t==null?"":Xl(t)?t.key:t}function qe(t,e){return(Array.isArray(t)?t:[t]).map(i=>{const o=jh(i);return{key:o,modifier:Qh(i),enabled:o!==null,callback:e}})}function xh(t,e,n){let{selectionKey:i="Shift"}=e,{multiSelectionKey:o=ei()?"Meta":"Control"}=e,{deleteKey:r="Backspace"}=e,{panActivationKey:s=" "}=e,{zoomActivationKey:l=ei()?"Meta":"Control"}=e;const{selectionKeyPressed:a,multiselectionKeyPressed:u,deleteKeyPressed:c,panActivationKeyPressed:d,zoomActivationKeyPressed:f,selectionRect:h}=Ge();function m(){h.set(null),a.set(!1),u.set(!1),c.set(!1),d.set(!1),f.set(!1)}const y=()=>a.set(!0),_=()=>a.set(!1),g=()=>u.set(!0),w=()=>u.set(!1),b=N=>{!(N.originalEvent.ctrlKey||N.originalEvent.metaKey||N.originalEvent.shiftKey)&&!af(N.originalEvent)&&c.set(!0)},p=()=>c.set(!1),T=()=>d.set(!0),A=()=>d.set(!1),S=()=>f.set(!0),V=()=>f.set(!1);return t.$$set=N=>{"selectionKey"in N&&n(0,i=N.selectionKey),"multiSelectionKey"in N&&n(1,o=N.multiSelectionKey),"deleteKey"in N&&n(2,r=N.deleteKey),"panActivationKey"in N&&n(3,s=N.panActivationKey),"zoomActivationKey"in N&&n(4,l=N.zoomActivationKey)},[i,o,r,s,l,a,u,c,d,f,m,y,_,g,w,b,p,T,A,S,V]}class $h extends _e{constructor(e){super(),ye(this,e,xh,Jh,ve,{selectionKey:0,multiSelectionKey:1,deleteKey:2,panActivationKey:3,zoomActivationKey:4})}}const eg=$h,tg=t=>({}),tr=t=>({});function nr(t){let e,n,i,o;const r=t[13].connectionLine,s=ot(r,t,t[12],tr);let l=!t[2]&&ir(t);return{c(){e=Oe("svg"),n=Oe("g"),s&&s.c(),l&&l.c(),this.h()},l(a){e=Ae(a,"svg",{width:!0,height:!0,class:!0,style:!0});var u=Z(e);n=Ae(u,"g",{class:!0});var c=Z(n);s&&s.l(c),l&&l.l(c),c.forEach(C),u.forEach(C),this.h()},h(){v(n,"class",i=Xe(["svelte-flow__connection",Mo(t[3].isValid)])),v(e,"width",t[5]),v(e,"height",t[6]),v(e,"class","svelte-flow__connectionline"),v(e,"style",t[0])},m(a,u){ee(a,e,u),L(e,n),s&&s.m(n,null),l&&l.m(n,null),o=!0},p(a,u){s&&s.p&&(!o||u&4096)&&rt(s,r,a,a[12],o?st(r,a[12],u,tg):lt(a[12]),tr),a[2]?l&&(l.d(1),l=null):l?l.p(a,u):(l=ir(a),l.c(),l.m(n,null)),(!o||u&8&&i!==(i=Xe(["svelte-flow__connection",Mo(a[3].isValid)])))&&v(n,"class",i),(!o||u&32)&&v(e,"width",a[5]),(!o||u&64)&&v(e,"height",a[6]),(!o||u&1)&&v(e,"style",a[0])},i(a){o||(F(s,a),o=!0)},o(a){J(s,a),o=!1},d(a){a&&C(e),s&&s.d(a),l&&l.d()}}}function ir(t){let e;return{c(){e=Oe("path"),this.h()},l(n){e=Ae(n,"path",{d:!0,style:!0,fill:!0,class:!0}),Z(e).forEach(C),this.h()},h(){v(e,"d",t[4]),v(e,"style",t[1]),v(e,"fill","none"),v(e,"class","svelte-flow__connection-path")},m(n,i){ee(n,e,i)},p(n,i){i&16&&v(e,"d",n[4]),i&2&&v(e,"style",n[1])},d(n){n&&C(e)}}}function ng(t){let e,n,i=t[3].inProgress&&nr(t);return{c(){i&&i.c(),e=He()},l(o){i&&i.l(o),e=He()},m(o,r){i&&i.m(o,r),ee(o,e,r),n=!0},p(o,[r]){o[3].inProgress?i?(i.p(o,r),r&8&&F(i,1)):(i=nr(o),i.c(),F(i,1),i.m(e.parentNode,e)):i&&(je(),J(i,1,1,()=>{i=null}),xe())},i(o){n||(F(i),n=!0)},o(o){J(i),n=!1},d(o){o&&C(e),i&&i.d(o)}}}function ig(t,e,n){let i,o,r,s,{$$slots:l={},$$scope:a}=e,{containerStyle:u=""}=e,{style:c=""}=e,{isCustomComponent:d=!1}=e;const{width:f,height:h,connection:m,connectionLineType:y}=Ge();$(t,f,g=>n(5,r=g)),$(t,h,g=>n(6,s=g)),$(t,m,g=>n(3,o=g)),$(t,y,g=>n(11,i=g));let _=null;return t.$$set=g=>{"containerStyle"in g&&n(0,u=g.containerStyle),"style"in g&&n(1,c=g.style),"isCustomComponent"in g&&n(2,d=g.isCustomComponent),"$$scope"in g&&n(12,a=g.$$scope)},t.$$.update=()=>{if(t.$$.dirty&2060&&o.inProgress&&!d){const{from:g,to:w,fromPosition:b,toPosition:p}=o,T={sourceX:g.x,sourceY:g.y,sourcePosition:b,targetX:w.x,targetY:w.y,targetPosition:p};switch(i){case on.Bezier:n(4,[_]=bl(T),_);break;case on.Step:n(4,[_]=ti({...T,borderRadius:0}),_);break;case on.SmoothStep:n(4,[_]=ti(T),_);break;default:n(4,[_]=vl(T),_)}}},[u,c,d,o,_,r,s,f,h,m,y,i,a,l]}class og extends _e{constructor(e){super(),ye(this,e,ig,ng,ve,{containerStyle:0,style:1,isCustomComponent:2})}}const rg=og;function lg(t){let e,n,i;const o=t[8].default,r=ot(o,t,t[7],null);let s=[{class:n=Xe(["svelte-flow__panel",t[1],...t[2]])},{style:t[0]},t[5]],l={};for(let a=0;a<s.length;a+=1)l=Ie(l,s[a]);return{c(){e=j("div"),r&&r.c(),this.h()},l(a){e=x(a,"DIV",{class:!0,style:!0});var u=Z(e);r&&r.l(u),u.forEach(C),this.h()},h(){rn(e,l),be(e,"pointer-events",t[3]?"none":"")},m(a,u){ee(a,e,u),r&&r.m(e,null),i=!0},p(a,[u]){r&&r.p&&(!i||u&128)&&rt(r,o,a,a[7],i?st(o,a[7],u,null):lt(a[7]),null),rn(e,l=Yt(s,[(!i||u&6&&n!==(n=Xe(["svelte-flow__panel",a[1],...a[2]])))&&{class:n},(!i||u&1)&&{style:a[0]},u&32&&a[5]])),be(e,"pointer-events",a[3]?"none":"")},i(a){i||(F(r,a),i=!0)},o(a){J(r,a),i=!1},d(a){a&&C(e),r&&r.d(a)}}}function sg(t,e,n){let i;const o=["position","style","class"];let r=Ye(e,o),s,{$$slots:l={},$$scope:a}=e,{position:u="top-right"}=e,{style:c=void 0}=e,{class:d=void 0}=e;const{selectionRectMode:f}=Ge();return $(t,f,h=>n(3,s=h)),t.$$set=h=>{e=Ie(Ie({},e),bt(h)),n(5,r=Ye(e,o)),"position"in h&&n(6,u=h.position),"style"in h&&n(0,c=h.style),"class"in h&&n(1,d=h.class),"$$scope"in h&&n(7,a=h.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,i=`${u}`.split("-"))},[c,d,i,s,f,r,u,a,l]}class ag extends _e{constructor(e){super(),ye(this,e,sg,lg,ve,{position:6,style:0,class:1})}}const Ll=ag;function or(t){let e,n;return e=new Ll({props:{position:t[1],class:"svelte-flow__attribution","data-message":"Feel free to remove the attribution or check out how you could support us: https://svelteflow.dev/support-us",$$slots:{default:[ug]},$$scope:{ctx:t}}}),{c(){ce(e.$$.fragment)},l(i){he(e.$$.fragment,i)},m(i,o){fe(e,i,o),n=!0},p(i,o){const r={};o&2&&(r.position=i[1]),o&4&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(F(e.$$.fragment,i),n=!0)},o(i){J(e.$$.fragment,i),n=!1},d(i){de(e,i)}}}function ug(t){let e,n="Svelte Flow";return{c(){e=j("a"),e.textContent=n,this.h()},l(i){e=x(i,"A",{href:!0,target:!0,rel:!0,"aria-label":!0,"data-svelte-h":!0}),At(e)!=="svelte-2vm8e4"&&(e.textContent=n),this.h()},h(){v(e,"href","https://svelteflow.dev"),v(e,"target","_blank"),v(e,"rel","noopener noreferrer"),v(e,"aria-label","Svelte Flow attribution")},m(i,o){ee(i,e,o)},p:Ce,d(i){i&&C(e)}}}function cg(t){var o;let e,n,i=!((o=t[0])!=null&&o.hideAttribution)&&or(t);return{c(){i&&i.c(),e=He()},l(r){i&&i.l(r),e=He()},m(r,s){i&&i.m(r,s),ee(r,e,s),n=!0},p(r,[s]){var l;(l=r[0])!=null&&l.hideAttribution?i&&(je(),J(i,1,1,()=>{i=null}),xe()):i?(i.p(r,s),s&1&&F(i,1)):(i=or(r),i.c(),F(i,1),i.m(e.parentNode,e))},i(r){n||(F(i),n=!0)},o(r){J(i),n=!1},d(r){r&&C(e),i&&i.d(r)}}}function fg(t,e,n){let{proOptions:i=void 0}=e,{position:o="bottom-right"}=e;return t.$$set=r=>{"proOptions"in r&&n(0,i=r.proOptions),"position"in r&&n(1,o=r.position)},[i,o]}class dg extends _e{constructor(e){super(),ye(this,e,fg,cg,ve,{proOptions:0,position:1})}}const hg=dg;function rr(t,{nodeTypes:e,edgeTypes:n,minZoom:i,maxZoom:o,translateExtent:r,paneClickDistance:s}){e!==void 0&&t.setNodeTypes(e),n!==void 0&&t.setEdgeTypes(n),i!==void 0&&t.setMinZoom(i),o!==void 0&&t.setMaxZoom(o),r!==void 0&&t.setTranslateExtent(r),s!==void 0&&t.setPaneClickDistance(s)}const gg=t=>Object.keys(t);function mg(t,e){gg(e).forEach(n=>{const i=e[n];i!==void 0&&t[n].set(i)})}function _g(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function yg(t="light"){return mt("light",n=>{if(t!=="system"){n(t);return}const i=_g(),o=()=>n(i!=null&&i.matches?"dark":"light");return n(i!=null&&i.matches?"dark":"light"),i==null||i.addEventListener("change",o),()=>{i==null||i.removeEventListener("change",o)}})}const bg=t=>({}),lr=t=>({slot:"connectionLine"});function wg(t){let e;const n=t[75].connectionLine,i=ot(n,t,t[99],lr);return{c(){i&&i.c()},l(o){i&&i.l(o)},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r[3]&64)&&rt(i,n,o,o[99],e?st(n,o[99],r,bg):lt(o[99]),lr)},i(o){e||(F(i,o),e=!0)},o(o){J(i,o),e=!1},d(o){i&&i.d(o)}}}function vg(t){let e,n,i,o,r,s,l,a,u,c,d,f;return e=new Vh({props:{defaultEdgeOptions:t[21]}}),e.$on("edgeclick",t[78]),e.$on("edgecontextmenu",t[79]),e.$on("edgemouseenter",t[80]),e.$on("edgemouseleave",t[81]),i=new rg({props:{containerStyle:t[7],style:t[6],isCustomComponent:t[34].connectionLine,$$slots:{connectionLine:[wg]},$$scope:{ctx:t}}}),u=new mh({props:{nodeClickDistance:t[23]}}),u.$on("nodeclick",t[82]),u.$on("nodemouseenter",t[83]),u.$on("nodemousemove",t[84]),u.$on("nodemouseleave",t[85]),u.$on("nodedragstart",t[86]),u.$on("nodedrag",t[87]),u.$on("nodedragstop",t[88]),u.$on("nodecontextmenu",t[89]),d=new Gh({}),d.$on("selectionclick",t[90]),d.$on("selectioncontextmenu",t[91]),d.$on("nodedragstart",t[92]),d.$on("nodedrag",t[93]),d.$on("nodedragstop",t[94]),{c(){ce(e.$$.fragment),n=le(),ce(i.$$.fragment),o=le(),r=j("div"),s=le(),l=j("div"),a=le(),ce(u.$$.fragment),c=le(),ce(d.$$.fragment),this.h()},l(h){he(e.$$.fragment,h),n=se(h),he(i.$$.fragment,h),o=se(h),r=x(h,"DIV",{class:!0}),Z(r).forEach(C),s=se(h),l=x(h,"DIV",{class:!0}),Z(l).forEach(C),a=se(h),he(u.$$.fragment,h),c=se(h),he(d.$$.fragment,h),this.h()},h(){v(r,"class","svelte-flow__edgelabel-renderer"),v(l,"class","svelte-flow__viewport-portal")},m(h,m){fe(e,h,m),ee(h,n,m),fe(i,h,m),ee(h,o,m),ee(h,r,m),ee(h,s,m),ee(h,l,m),ee(h,a,m),fe(u,h,m),ee(h,c,m),fe(d,h,m),f=!0},p(h,m){const y={};m[0]&2097152&&(y.defaultEdgeOptions=h[21]),e.$set(y);const _={};m[0]&128&&(_.containerStyle=h[7]),m[0]&64&&(_.style=h[6]),m[1]&8&&(_.isCustomComponent=h[34].connectionLine),m[3]&64&&(_.$$scope={dirty:m,ctx:h}),i.$set(_);const g={};m[0]&8388608&&(g.nodeClickDistance=h[23]),u.$set(g)},i(h){f||(F(e.$$.fragment,h),F(i.$$.fragment,h),F(u.$$.fragment,h),F(d.$$.fragment,h),f=!0)},o(h){J(e.$$.fragment,h),J(i.$$.fragment,h),J(u.$$.fragment,h),J(d.$$.fragment,h),f=!1},d(h){h&&(C(n),C(o),C(r),C(s),C(l),C(a),C(c)),de(e,h),de(i,h),de(u,h),de(d,h)}}}function kg(t){let e,n,i,o;return e=new rh({props:{$$slots:{default:[vg]},$$scope:{ctx:t}}}),i=new Kh({}),{c(){ce(e.$$.fragment),n=le(),ce(i.$$.fragment)},l(r){he(e.$$.fragment,r),n=se(r),he(i.$$.fragment,r)},m(r,s){fe(e,r,s),ee(r,n,s),fe(i,r,s),o=!0},p(r,s){const l={};s[0]&10485952|s[1]&8|s[3]&64&&(l.$$scope={dirty:s,ctx:r}),e.$set(l)},i(r){o||(F(e.$$.fragment,r),F(i.$$.fragment,r),o=!0)},o(r){J(e.$$.fragment,r),J(i.$$.fragment,r),o=!1},d(r){r&&C(n),de(e,r),de(i,r)}}}function pg(t){let e,n;return e=new th({props:{panOnDrag:t[17]===void 0?!0:t[17],selectionOnDrag:t[18],$$slots:{default:[kg]},$$scope:{ctx:t}}}),e.$on("paneclick",t[95]),e.$on("panecontextmenu",t[96]),{c(){ce(e.$$.fragment)},l(i){he(e.$$.fragment,i)},m(i,o){fe(e,i,o),n=!0},p(i,o){const r={};o[0]&131072&&(r.panOnDrag=i[17]===void 0?!0:i[17]),o[0]&262144&&(r.selectionOnDrag=i[18]),o[0]&10485952|o[1]&8|o[3]&64&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(F(e.$$.fragment,i),n=!0)},o(i){J(e.$$.fragment,i),n=!1},d(i){de(e,i)}}}function Eg(t){let e,n,i,o,r,s,l,a,u,c,d,f;n=new eg({props:{selectionKey:t[1],deleteKey:t[5],panActivationKey:t[2],multiSelectionKey:t[3],zoomActivationKey:t[4]}}),o=new jd({props:{initialViewport:t[31],onMoveStart:t[8],onMove:t[9],onMoveEnd:t[10],panOnScrollMode:t[11]===void 0?St.Free:t[11],preventScrolling:t[12]===void 0?!0:t[12],zoomOnScroll:t[13]===void 0?!0:t[13],zoomOnDoubleClick:t[14]===void 0?!0:t[14],zoomOnPinch:t[15]===void 0?!0:t[15],panOnScroll:t[16]===void 0?!1:t[16],panOnDrag:t[17]===void 0?!0:t[17],paneClickDistance:t[22]===void 0?0:t[22],$$slots:{default:[pg]},$$scope:{ctx:t}}}),s=new hg({props:{proOptions:t[20],position:t[19]}});const h=t[75].default,m=ot(h,t,t[99],null);let y=[{style:t[24]},{class:a=Xe(["svelte-flow",t[25],t[30]])},{"data-testid":"svelte-flow__wrapper"},t[33],{role:"application"}],_={};for(let g=0;g<y.length;g+=1)_=Ie(_,y[g]);return{c(){e=j("div"),ce(n.$$.fragment),i=le(),ce(o.$$.fragment),r=le(),ce(s.$$.fragment),l=le(),m&&m.c(),this.h()},l(g){e=x(g,"DIV",{style:!0,class:!0,"data-testid":!0,role:!0});var w=Z(e);he(n.$$.fragment,w),i=se(w),he(o.$$.fragment,w),r=se(w),he(s.$$.fragment,w),l=se(w),m&&m.l(w),w.forEach(C),this.h()},h(){rn(e,_),cs(()=>t[98].call(e)),ge(e,"svelte-12wlba6",!0)},m(g,w){ee(g,e,w),fe(n,e,null),L(e,i),fe(o,e,null),L(e,r),fe(s,e,null),L(e,l),m&&m.m(e,null),t[97](e),u=fs(e,t[98].bind(e)),c=!0,d||(f=[ke(e,"dragover",t[76]),ke(e,"drop",t[77])],d=!0)},p(g,w){const b={};w[0]&2&&(b.selectionKey=g[1]),w[0]&32&&(b.deleteKey=g[5]),w[0]&4&&(b.panActivationKey=g[2]),w[0]&8&&(b.multiSelectionKey=g[3]),w[0]&16&&(b.zoomActivationKey=g[4]),n.$set(b);const p={};w[0]&256&&(p.onMoveStart=g[8]),w[0]&512&&(p.onMove=g[9]),w[0]&1024&&(p.onMoveEnd=g[10]),w[0]&2048&&(p.panOnScrollMode=g[11]===void 0?St.Free:g[11]),w[0]&4096&&(p.preventScrolling=g[12]===void 0?!0:g[12]),w[0]&8192&&(p.zoomOnScroll=g[13]===void 0?!0:g[13]),w[0]&16384&&(p.zoomOnDoubleClick=g[14]===void 0?!0:g[14]),w[0]&32768&&(p.zoomOnPinch=g[15]===void 0?!0:g[15]),w[0]&65536&&(p.panOnScroll=g[16]===void 0?!1:g[16]),w[0]&131072&&(p.panOnDrag=g[17]===void 0?!0:g[17]),w[0]&4194304&&(p.paneClickDistance=g[22]===void 0?0:g[22]),w[0]&10879168|w[1]&8|w[3]&64&&(p.$$scope={dirty:w,ctx:g}),o.$set(p);const T={};w[0]&1048576&&(T.proOptions=g[20]),w[0]&524288&&(T.position=g[19]),s.$set(T),m&&m.p&&(!c||w[3]&64)&&rt(m,h,g,g[99],c?st(h,g[99],w,null):lt(g[99]),null),rn(e,_=Yt(y,[(!c||w[0]&16777216)&&{style:g[24]},(!c||w[0]&1107296256&&a!==(a=Xe(["svelte-flow",g[25],g[30]])))&&{class:a},{"data-testid":"svelte-flow__wrapper"},w[1]&4&&g[33],{role:"application"}])),ge(e,"svelte-12wlba6",!0)},i(g){c||(F(n.$$.fragment,g),F(o.$$.fragment,g),F(s.$$.fragment,g),F(m,g),c=!0)},o(g){J(n.$$.fragment,g),J(o.$$.fragment,g),J(s.$$.fragment,g),J(m,g),c=!1},d(g){g&&C(e),de(n),de(o),de(s),m&&m.d(g),t[97](null),u(),d=!1,dt(f)}}}function Sg(t,e,n){let i;const o=["id","nodes","edges","fitView","fitViewOptions","minZoom","maxZoom","initialViewport","viewport","nodeTypes","edgeTypes","selectionKey","selectionMode","panActivationKey","multiSelectionKey","zoomActivationKey","nodesDraggable","nodesConnectable","nodeDragThreshold","elementsSelectable","snapGrid","deleteKey","connectionRadius","connectionLineType","connectionMode","connectionLineStyle","connectionLineContainerStyle","onMoveStart","onMove","onMoveEnd","isValidConnection","translateExtent","nodeExtent","onlyRenderVisibleElements","panOnScrollMode","preventScrolling","zoomOnScroll","zoomOnDoubleClick","zoomOnPinch","panOnScroll","panOnDrag","selectionOnDrag","autoPanOnConnect","autoPanOnNodeDrag","onerror","ondelete","onedgecreate","attributionPosition","proOptions","defaultEdgeOptions","width","height","colorMode","onconnect","onconnectstart","onconnectend","onbeforedelete","oninit","nodeOrigin","paneClickDistance","nodeClickDistance","defaultMarkerColor","style","class"];let r=Ye(e,o),s,l,a=Ce,u=()=>(a(),a=to(V,M=>n(100,l=M)),V),c,d=Ce,f=()=>(d(),d=to(i,M=>n(30,c=M)),i);t.$$.on_destroy.push(()=>a()),t.$$.on_destroy.push(()=>d());let{$$slots:h={},$$scope:m}=e;const y=ds(h);let{id:_="1"}=e,{nodes:g}=e,{edges:w}=e,{fitView:b=void 0}=e,{fitViewOptions:p=void 0}=e,{minZoom:T=void 0}=e,{maxZoom:A=void 0}=e,{initialViewport:S=void 0}=e,{viewport:V=void 0}=e;u();let{nodeTypes:N=void 0}=e,{edgeTypes:B=void 0}=e,{selectionKey:U=void 0}=e,{selectionMode:K=void 0}=e,{panActivationKey:O=void 0}=e,{multiSelectionKey:k=void 0}=e,{zoomActivationKey:Y=void 0}=e,{nodesDraggable:E=void 0}=e,{nodesConnectable:P=void 0}=e,{nodeDragThreshold:R=void 0}=e,{elementsSelectable:X=void 0}=e,{snapGrid:q=void 0}=e,{deleteKey:te=void 0}=e,{connectionRadius:ie=void 0}=e,{connectionLineType:H=void 0}=e,{connectionMode:D=Ut.Strict}=e,{connectionLineStyle:W=""}=e,{connectionLineContainerStyle:Q=""}=e,{onMoveStart:I=void 0}=e,{onMove:ne=void 0}=e,{onMoveEnd:re=void 0}=e,{isValidConnection:ae=void 0}=e,{translateExtent:me=void 0}=e,{nodeExtent:pe=void 0}=e,{onlyRenderVisibleElements:De=void 0}=e,{panOnScrollMode:G=St.Free}=e,{preventScrolling:Me=!0}=e,{zoomOnScroll:Se=!0}=e,{zoomOnDoubleClick:Ve=!0}=e,{zoomOnPinch:Be=!0}=e,{panOnScroll:Le=!1}=e,{panOnDrag:Ze=!0}=e,{selectionOnDrag:ct=void 0}=e,{autoPanOnConnect:ft=!0}=e,{autoPanOnNodeDrag:$e=!0}=e,{onerror:at=void 0}=e,{ondelete:Re=void 0}=e,{onedgecreate:Pe=void 0}=e,{attributionPosition:Ee=void 0}=e,{proOptions:Je=void 0}=e,{defaultEdgeOptions:z=void 0}=e,{width:et=void 0}=e,{height:ze=void 0}=e,{colorMode:Ne="light"}=e,{onconnect:Mt=void 0}=e,{onconnectstart:Pt=void 0}=e,{onconnectend:Tt=void 0}=e,{onbeforedelete:ht=void 0}=e,{oninit:gt=void 0}=e,{nodeOrigin:vt=void 0}=e,{paneClickDistance:Dt=0}=e,{nodeClickDistance:It=0}=e,{defaultMarkerColor:Qt="#b1b1b7"}=e,{style:fn=void 0}=e,{class:dn=void 0}=e,In,jt,xt;const Yl=l||S,tt=hs($i)?Ge():qd({nodes:oe(g),edges:oe(w),width:et,height:ze,fitView:b,nodeOrigin:vt,nodeExtent:pe});Sn(()=>(tt.width.set(jt),tt.height.set(xt),tt.domNode.set(In),tt.syncNodeStores(g),tt.syncEdgeStores(w),tt.syncViewport(V),b!==void 0&&tt.fitViewOnInit.set(b),p&&tt.fitViewOptions.set(p),rr(tt,{nodeTypes:N,edgeTypes:B,minZoom:T,maxZoom:A,translateExtent:me,paneClickDistance:Dt}),()=>{tt.reset()}));const{initialized:eo}=tt;$(t,eo,M=>n(74,s=M));let gi=!1;function Bl(M){Te.call(this,t,M)}function Wl(M){Te.call(this,t,M)}function Kl(M){Te.call(this,t,M)}function Fl(M){Te.call(this,t,M)}function Zl(M){Te.call(this,t,M)}function ql(M){Te.call(this,t,M)}function Ul(M){Te.call(this,t,M)}function Gl(M){Te.call(this,t,M)}function Jl(M){Te.call(this,t,M)}function Ql(M){Te.call(this,t,M)}function jl(M){Te.call(this,t,M)}function xl(M){Te.call(this,t,M)}function $l(M){Te.call(this,t,M)}function es(M){Te.call(this,t,M)}function ts(M){Te.call(this,t,M)}function ns(M){Te.call(this,t,M)}function is(M){Te.call(this,t,M)}function os(M){Te.call(this,t,M)}function rs(M){Te.call(this,t,M)}function ls(M){Te.call(this,t,M)}function ss(M){Te.call(this,t,M)}function as(M){Cn[M?"unshift":"push"](()=>{In=M,n(28,In)})}function us(){jt=this.clientWidth,xt=this.clientHeight,n(26,jt),n(27,xt)}return t.$$set=M=>{e=Ie(Ie({},e),bt(M)),n(33,r=Ye(e,o)),"id"in M&&n(35,_=M.id),"nodes"in M&&n(36,g=M.nodes),"edges"in M&&n(37,w=M.edges),"fitView"in M&&n(38,b=M.fitView),"fitViewOptions"in M&&n(39,p=M.fitViewOptions),"minZoom"in M&&n(40,T=M.minZoom),"maxZoom"in M&&n(41,A=M.maxZoom),"initialViewport"in M&&n(42,S=M.initialViewport),"viewport"in M&&u(n(0,V=M.viewport)),"nodeTypes"in M&&n(43,N=M.nodeTypes),"edgeTypes"in M&&n(44,B=M.edgeTypes),"selectionKey"in M&&n(1,U=M.selectionKey),"selectionMode"in M&&n(45,K=M.selectionMode),"panActivationKey"in M&&n(2,O=M.panActivationKey),"multiSelectionKey"in M&&n(3,k=M.multiSelectionKey),"zoomActivationKey"in M&&n(4,Y=M.zoomActivationKey),"nodesDraggable"in M&&n(46,E=M.nodesDraggable),"nodesConnectable"in M&&n(47,P=M.nodesConnectable),"nodeDragThreshold"in M&&n(48,R=M.nodeDragThreshold),"elementsSelectable"in M&&n(49,X=M.elementsSelectable),"snapGrid"in M&&n(50,q=M.snapGrid),"deleteKey"in M&&n(5,te=M.deleteKey),"connectionRadius"in M&&n(51,ie=M.connectionRadius),"connectionLineType"in M&&n(52,H=M.connectionLineType),"connectionMode"in M&&n(53,D=M.connectionMode),"connectionLineStyle"in M&&n(6,W=M.connectionLineStyle),"connectionLineContainerStyle"in M&&n(7,Q=M.connectionLineContainerStyle),"onMoveStart"in M&&n(8,I=M.onMoveStart),"onMove"in M&&n(9,ne=M.onMove),"onMoveEnd"in M&&n(10,re=M.onMoveEnd),"isValidConnection"in M&&n(54,ae=M.isValidConnection),"translateExtent"in M&&n(55,me=M.translateExtent),"nodeExtent"in M&&n(56,pe=M.nodeExtent),"onlyRenderVisibleElements"in M&&n(57,De=M.onlyRenderVisibleElements),"panOnScrollMode"in M&&n(11,G=M.panOnScrollMode),"preventScrolling"in M&&n(12,Me=M.preventScrolling),"zoomOnScroll"in M&&n(13,Se=M.zoomOnScroll),"zoomOnDoubleClick"in M&&n(14,Ve=M.zoomOnDoubleClick),"zoomOnPinch"in M&&n(15,Be=M.zoomOnPinch),"panOnScroll"in M&&n(16,Le=M.panOnScroll),"panOnDrag"in M&&n(17,Ze=M.panOnDrag),"selectionOnDrag"in M&&n(18,ct=M.selectionOnDrag),"autoPanOnConnect"in M&&n(58,ft=M.autoPanOnConnect),"autoPanOnNodeDrag"in M&&n(59,$e=M.autoPanOnNodeDrag),"onerror"in M&&n(60,at=M.onerror),"ondelete"in M&&n(61,Re=M.ondelete),"onedgecreate"in M&&n(62,Pe=M.onedgecreate),"attributionPosition"in M&&n(19,Ee=M.attributionPosition),"proOptions"in M&&n(20,Je=M.proOptions),"defaultEdgeOptions"in M&&n(21,z=M.defaultEdgeOptions),"width"in M&&n(63,et=M.width),"height"in M&&n(64,ze=M.height),"colorMode"in M&&n(65,Ne=M.colorMode),"onconnect"in M&&n(66,Mt=M.onconnect),"onconnectstart"in M&&n(67,Pt=M.onconnectstart),"onconnectend"in M&&n(68,Tt=M.onconnectend),"onbeforedelete"in M&&n(69,ht=M.onbeforedelete),"oninit"in M&&n(70,gt=M.oninit),"nodeOrigin"in M&&n(71,vt=M.nodeOrigin),"paneClickDistance"in M&&n(22,Dt=M.paneClickDistance),"nodeClickDistance"in M&&n(23,It=M.nodeClickDistance),"defaultMarkerColor"in M&&n(72,Qt=M.defaultMarkerColor),"style"in M&&n(24,fn=M.style),"class"in M&&n(25,dn=M.class),"$$scope"in M&&n(99,m=M.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&201326592&&jt!==void 0&&xt!==void 0&&(tt.width.set(jt),tt.height.set(xt)),t.$$.dirty[2]&6400&&!gi&&s&&(gt==null||gt(),n(73,gi=!0)),t.$$.dirty[1]&2097135632|t.$$.dirty[2]&1777&&mg(tt,{flowId:_,connectionLineType:H,connectionRadius:ie,selectionMode:K,snapGrid:q,defaultMarkerColor:Qt,nodesDraggable:E,nodesConnectable:P,elementsSelectable:X,onlyRenderVisibleElements:De,isValidConnection:ae,autoPanOnConnect:ft,autoPanOnNodeDrag:$e,onerror:at,ondelete:Re,onedgecreate:Pe,connectionMode:D,nodeDragThreshold:R,onconnect:Mt,onconnectstart:Pt,onconnectend:Tt,onbeforedelete:ht,nodeOrigin:vt}),t.$$.dirty[0]&4194304|t.$$.dirty[1]&16791040&&rr(tt,{nodeTypes:N,edgeTypes:B,minZoom:T,maxZoom:A,translateExtent:me,paneClickDistance:Dt}),t.$$.dirty[2]&8&&f(n(29,i=yg(Ne)))},[V,U,O,k,Y,te,W,Q,I,ne,re,G,Me,Se,Ve,Be,Le,Ze,ct,Ee,Je,z,Dt,It,fn,dn,jt,xt,In,i,c,Yl,eo,r,y,_,g,w,b,p,T,A,S,N,B,K,E,P,R,X,q,ie,H,D,ae,me,pe,De,ft,$e,at,Re,Pe,et,ze,Ne,Mt,Pt,Tt,ht,gt,vt,Qt,gi,s,h,Bl,Wl,Kl,Fl,Zl,ql,Ul,Gl,Jl,Ql,jl,xl,$l,es,ts,ns,is,os,rs,ls,ss,as,us,m]}class Cg extends _e{constructor(e){super(),ye(this,e,Sg,Eg,ve,{id:35,nodes:36,edges:37,fitView:38,fitViewOptions:39,minZoom:40,maxZoom:41,initialViewport:42,viewport:0,nodeTypes:43,edgeTypes:44,selectionKey:1,selectionMode:45,panActivationKey:2,multiSelectionKey:3,zoomActivationKey:4,nodesDraggable:46,nodesConnectable:47,nodeDragThreshold:48,elementsSelectable:49,snapGrid:50,deleteKey:5,connectionRadius:51,connectionLineType:52,connectionMode:53,connectionLineStyle:6,connectionLineContainerStyle:7,onMoveStart:8,onMove:9,onMoveEnd:10,isValidConnection:54,translateExtent:55,nodeExtent:56,onlyRenderVisibleElements:57,panOnScrollMode:11,preventScrolling:12,zoomOnScroll:13,zoomOnDoubleClick:14,zoomOnPinch:15,panOnScroll:16,panOnDrag:17,selectionOnDrag:18,autoPanOnConnect:58,autoPanOnNodeDrag:59,onerror:60,ondelete:61,onedgecreate:62,attributionPosition:19,proOptions:20,defaultEdgeOptions:21,width:63,height:64,colorMode:65,onconnect:66,onconnectstart:67,onconnectend:68,onbeforedelete:69,oninit:70,nodeOrigin:71,paneClickDistance:22,nodeClickDistance:23,defaultMarkerColor:72,style:24,class:25},null,[-1,-1,-1,-1])}}const Mg=Cg,Pg=t=>({}),sr=t=>({class:"button-svg"});function Tg(t){let e,n,i,o,r;const s=t[8].default,l=ot(s,t,t[7],sr);let a=[{type:"button"},{class:n=Xe(["svelte-flow__controls-button",t[0]])},t[6]],u={};for(let c=0;c<a.length;c+=1)u=Ie(u,a[c]);return{c(){e=j("button"),l&&l.c(),this.h()},l(c){e=x(c,"BUTTON",{type:!0,class:!0});var d=Z(e);l&&l.l(d),d.forEach(C),this.h()},h(){rn(e,u),be(e,"--xy-controls-button-background-color-props",t[1]),be(e,"--xy-controls-button-background-color-hover-props",t[2]),be(e,"--xy-controls-button-color-props",t[3]),be(e,"--xy-controls-button-color-hover-props",t[4]),be(e,"--xy-controls-button-border-color-props",t[5])},m(c,d){ee(c,e,d),l&&l.m(e,null),e.autofocus&&e.focus(),i=!0,o||(r=ke(e,"click",t[9]),o=!0)},p(c,[d]){l&&l.p&&(!i||d&128)&&rt(l,s,c,c[7],i?st(s,c[7],d,Pg):lt(c[7]),sr),rn(e,u=Yt(a,[{type:"button"},(!i||d&1&&n!==(n=Xe(["svelte-flow__controls-button",c[0]])))&&{class:n},d&64&&c[6]])),be(e,"--xy-controls-button-background-color-props",c[1]),be(e,"--xy-controls-button-background-color-hover-props",c[2]),be(e,"--xy-controls-button-color-props",c[3]),be(e,"--xy-controls-button-color-hover-props",c[4]),be(e,"--xy-controls-button-border-color-props",c[5])},i(c){i||(F(l,c),i=!0)},o(c){J(l,c),i=!1},d(c){c&&C(e),l&&l.d(c),o=!1,r()}}}function Dg(t,e,n){const i=["class","bgColor","bgColorHover","color","colorHover","borderColor"];let o=Ye(e,i),{$$slots:r={},$$scope:s}=e,{class:l=void 0}=e,{bgColor:a=void 0}=e,{bgColorHover:u=void 0}=e,{color:c=void 0}=e,{colorHover:d=void 0}=e,{borderColor:f=void 0}=e;function h(m){Te.call(this,t,m)}return t.$$set=m=>{e=Ie(Ie({},e),bt(m)),n(6,o=Ye(e,i)),"class"in m&&n(0,l=m.class),"bgColor"in m&&n(1,a=m.bgColor),"bgColorHover"in m&&n(2,u=m.bgColorHover),"color"in m&&n(3,c=m.color),"colorHover"in m&&n(4,d=m.colorHover),"borderColor"in m&&n(5,f=m.borderColor),"$$scope"in m&&n(7,s=m.$$scope)},[l,a,u,c,d,f,o,s,r,h]}class Ig extends _e{constructor(e){super(),ye(this,e,Dg,Tg,ve,{class:0,bgColor:1,bgColorHover:2,color:3,colorHover:4,borderColor:5})}}const ni=Ig;function Ng(t){let e,n;return{c(){e=Oe("svg"),n=Oe("path"),this.h()},l(i){e=Ae(i,"svg",{xmlns:!0,viewBox:!0});var o=Z(e);n=Ae(o,"path",{d:!0}),Z(n).forEach(C),o.forEach(C),this.h()},h(){v(n,"d","M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"),v(e,"xmlns","http://www.w3.org/2000/svg"),v(e,"viewBox","0 0 32 32")},m(i,o){ee(i,e,o),L(e,n)},p:Ce,i:Ce,o:Ce,d(i){i&&C(e)}}}class zg extends _e{constructor(e){super(),ye(this,e,null,Ng,ve,{})}}const Og=zg;function Ag(t){let e,n;return{c(){e=Oe("svg"),n=Oe("path"),this.h()},l(i){e=Ae(i,"svg",{xmlns:!0,viewBox:!0});var o=Z(e);n=Ae(o,"path",{d:!0}),Z(n).forEach(C),o.forEach(C),this.h()},h(){v(n,"d","M0 0h32v4.2H0z"),v(e,"xmlns","http://www.w3.org/2000/svg"),v(e,"viewBox","0 0 32 5")},m(i,o){ee(i,e,o),L(e,n)},p:Ce,i:Ce,o:Ce,d(i){i&&C(e)}}}class Hg extends _e{constructor(e){super(),ye(this,e,null,Ag,ve,{})}}const Vg=Hg;function Rg(t){let e,n;return{c(){e=Oe("svg"),n=Oe("path"),this.h()},l(i){e=Ae(i,"svg",{xmlns:!0,viewBox:!0});var o=Z(e);n=Ae(o,"path",{d:!0}),Z(n).forEach(C),o.forEach(C),this.h()},h(){v(n,"d","M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"),v(e,"xmlns","http://www.w3.org/2000/svg"),v(e,"viewBox","0 0 32 30")},m(i,o){ee(i,e,o),L(e,n)},p:Ce,i:Ce,o:Ce,d(i){i&&C(e)}}}class Xg extends _e{constructor(e){super(),ye(this,e,null,Rg,ve,{})}}const Lg=Xg;function Yg(t){let e,n;return{c(){e=Oe("svg"),n=Oe("path"),this.h()},l(i){e=Ae(i,"svg",{xmlns:!0,viewBox:!0});var o=Z(e);n=Ae(o,"path",{d:!0}),Z(n).forEach(C),o.forEach(C),this.h()},h(){v(n,"d","M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"),v(e,"xmlns","http://www.w3.org/2000/svg"),v(e,"viewBox","0 0 25 32")},m(i,o){ee(i,e,o),L(e,n)},p:Ce,i:Ce,o:Ce,d(i){i&&C(e)}}}class Bg extends _e{constructor(e){super(),ye(this,e,null,Yg,ve,{})}}const Wg=Bg;function Kg(t){let e,n;return{c(){e=Oe("svg"),n=Oe("path"),this.h()},l(i){e=Ae(i,"svg",{xmlns:!0,viewBox:!0});var o=Z(e);n=Ae(o,"path",{d:!0}),Z(n).forEach(C),o.forEach(C),this.h()},h(){v(n,"d","M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"),v(e,"xmlns","http://www.w3.org/2000/svg"),v(e,"viewBox","0 0 25 32")},m(i,o){ee(i,e,o),L(e,n)},p:Ce,i:Ce,o:Ce,d(i){i&&C(e)}}}class Fg extends _e{constructor(e){super(),ye(this,e,null,Kg,ve,{})}}const Zg=Fg,qg=t=>({}),ar=t=>({}),Ug=t=>({}),ur=t=>({});function cr(t){let e,n,i,o;const r=[{class:"svelte-flow__controls-zoomin"},{title:"zoom in"},{"aria-label":"zoom in"},{disabled:t[9]},t[17]];let s={$$slots:{default:[Gg]},$$scope:{ctx:t}};for(let u=0;u<r.length;u+=1)s=Ie(s,r[u]);e=new ni({props:s}),e.$on("click",t[18]);const l=[{class:"svelte-flow__controls-zoomout"},{title:"zoom out"},{"aria-label":"zoom out"},{disabled:t[10]},t[17]];let a={$$slots:{default:[Jg]},$$scope:{ctx:t}};for(let u=0;u<l.length;u+=1)a=Ie(a,l[u]);return i=new ni({props:a}),i.$on("click",t[19]),{c(){ce(e.$$.fragment),n=le(),ce(i.$$.fragment)},l(u){he(e.$$.fragment,u),n=se(u),he(i.$$.fragment,u)},m(u,c){fe(e,u,c),ee(u,n,c),fe(i,u,c),o=!0},p(u,c){const d=c[0]&131584?Yt(r,[r[0],r[1],r[2],c[0]&512&&{disabled:u[9]},c[0]&131072&&yn(u[17])]):{};c[1]&32&&(d.$$scope={dirty:c,ctx:u}),e.$set(d);const f=c[0]&132096?Yt(l,[l[0],l[1],l[2],c[0]&1024&&{disabled:u[10]},c[0]&131072&&yn(u[17])]):{};c[1]&32&&(f.$$scope={dirty:c,ctx:u}),i.$set(f)},i(u){o||(F(e.$$.fragment,u),F(i.$$.fragment,u),o=!0)},o(u){J(e.$$.fragment,u),J(i.$$.fragment,u),o=!1},d(u){u&&C(n),de(e,u),de(i,u)}}}function Gg(t){let e,n;return e=new Og({}),{c(){ce(e.$$.fragment)},l(i){he(e.$$.fragment,i)},m(i,o){fe(e,i,o),n=!0},i(i){n||(F(e.$$.fragment,i),n=!0)},o(i){J(e.$$.fragment,i),n=!1},d(i){de(e,i)}}}function Jg(t){let e,n;return e=new Vg({}),{c(){ce(e.$$.fragment)},l(i){he(e.$$.fragment,i)},m(i,o){fe(e,i,o),n=!0},i(i){n||(F(e.$$.fragment,i),n=!0)},o(i){J(e.$$.fragment,i),n=!1},d(i){de(e,i)}}}function fr(t){let e,n;const i=[{class:"svelte-flow__controls-fitview"},{title:"fit view"},{"aria-label":"fit view"},t[17]];let o={$$slots:{default:[Qg]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=Ie(o,i[r]);return e=new ni({props:o}),e.$on("click",t[20]),{c(){ce(e.$$.fragment)},l(r){he(e.$$.fragment,r)},m(r,s){fe(e,r,s),n=!0},p(r,s){const l=s[0]&131072?Yt(i,[i[0],i[1],i[2],yn(r[17])]):{};s[1]&32&&(l.$$scope={dirty:s,ctx:r}),e.$set(l)},i(r){n||(F(e.$$.fragment,r),n=!0)},o(r){J(e.$$.fragment,r),n=!1},d(r){de(e,r)}}}function Qg(t){let e,n;return e=new Lg({}),{c(){ce(e.$$.fragment)},l(i){he(e.$$.fragment,i)},m(i,o){fe(e,i,o),n=!0},i(i){n||(F(e.$$.fragment,i),n=!0)},o(i){J(e.$$.fragment,i),n=!1},d(i){de(e,i)}}}function dr(t){let e,n;const i=[{class:"svelte-flow__controls-interactive"},{title:"toggle interactivity"},{"aria-label":"toggle interactivity"},t[17]];let o={$$slots:{default:[$g]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=Ie(o,i[r]);return e=new ni({props:o}),e.$on("click",t[21]),{c(){ce(e.$$.fragment)},l(r){he(e.$$.fragment,r)},m(r,s){fe(e,r,s),n=!0},p(r,s){const l=s[0]&131072?Yt(i,[i[0],i[1],i[2],yn(r[17])]):{};s[0]&256|s[1]&32&&(l.$$scope={dirty:s,ctx:r}),e.$set(l)},i(r){n||(F(e.$$.fragment,r),n=!0)},o(r){J(e.$$.fragment,r),n=!1},d(r){de(e,r)}}}function jg(t){let e,n;return e=new Wg({}),{c(){ce(e.$$.fragment)},l(i){he(e.$$.fragment,i)},m(i,o){fe(e,i,o),n=!0},i(i){n||(F(e.$$.fragment,i),n=!0)},o(i){J(e.$$.fragment,i),n=!1},d(i){de(e,i)}}}function xg(t){let e,n;return e=new Zg({}),{c(){ce(e.$$.fragment)},l(i){he(e.$$.fragment,i)},m(i,o){fe(e,i,o),n=!0},i(i){n||(F(e.$$.fragment,i),n=!0)},o(i){J(e.$$.fragment,i),n=!1},d(i){de(e,i)}}}function $g(t){let e,n,i,o;const r=[xg,jg],s=[];function l(a,u){return a[8]?0:1}return e=l(t),n=s[e]=r[e](t),{c(){n.c(),i=He()},l(a){n.l(a),i=He()},m(a,u){s[e].m(a,u),ee(a,i,u),o=!0},p(a,u){let c=e;e=l(a),e!==c&&(je(),J(s[c],1,1,()=>{s[c]=null}),xe(),n=s[e],n||(n=s[e]=r[e](a),n.c()),F(n,1),n.m(i.parentNode,i))},i(a){o||(F(n),o=!0)},o(a){J(n),o=!1},d(a){a&&C(i),s[e].d(a)}}}function e1(t){let e,n,i,o,r,s;const l=t[35].before,a=ot(l,t,t[36],ur);let u=t[1]&&cr(t),c=t[2]&&fr(t),d=t[3]&&dr(t);const f=t[35].default,h=ot(f,t,t[36],null),m=t[35].after,y=ot(m,t,t[36],ar);return{c(){a&&a.c(),e=le(),u&&u.c(),n=le(),c&&c.c(),i=le(),d&&d.c(),o=le(),h&&h.c(),r=le(),y&&y.c()},l(_){a&&a.l(_),e=se(_),u&&u.l(_),n=se(_),c&&c.l(_),i=se(_),d&&d.l(_),o=se(_),h&&h.l(_),r=se(_),y&&y.l(_)},m(_,g){a&&a.m(_,g),ee(_,e,g),u&&u.m(_,g),ee(_,n,g),c&&c.m(_,g),ee(_,i,g),d&&d.m(_,g),ee(_,o,g),h&&h.m(_,g),ee(_,r,g),y&&y.m(_,g),s=!0},p(_,g){a&&a.p&&(!s||g[1]&32)&&rt(a,l,_,_[36],s?st(l,_[36],g,Ug):lt(_[36]),ur),_[1]?u?(u.p(_,g),g[0]&2&&F(u,1)):(u=cr(_),u.c(),F(u,1),u.m(n.parentNode,n)):u&&(je(),J(u,1,1,()=>{u=null}),xe()),_[2]?c?(c.p(_,g),g[0]&4&&F(c,1)):(c=fr(_),c.c(),F(c,1),c.m(i.parentNode,i)):c&&(je(),J(c,1,1,()=>{c=null}),xe()),_[3]?d?(d.p(_,g),g[0]&8&&F(d,1)):(d=dr(_),d.c(),F(d,1),d.m(o.parentNode,o)):d&&(je(),J(d,1,1,()=>{d=null}),xe()),h&&h.p&&(!s||g[1]&32)&&rt(h,f,_,_[36],s?st(f,_[36],g,null):lt(_[36]),null),y&&y.p&&(!s||g[1]&32)&&rt(y,m,_,_[36],s?st(m,_[36],g,qg):lt(_[36]),ar)},i(_){s||(F(a,_),F(u),F(c),F(d),F(h,_),F(y,_),s=!0)},o(_){J(a,_),J(u),J(c),J(d),J(h,_),J(y,_),s=!1},d(_){_&&(C(e),C(n),C(i),C(o),C(r)),a&&a.d(_),u&&u.d(_),c&&c.d(_),d&&d.d(_),h&&h.d(_),y&&y.d(_)}}}function t1(t){let e,n;return e=new Ll({props:{class:Xe(["svelte-flow__controls",t[7],t[6]]),position:t[0],"data-testid":"svelte-flow__controls","aria-label":t[4]??"Svelte Flow controls",style:t[5],$$slots:{default:[e1]},$$scope:{ctx:t}}}),{c(){ce(e.$$.fragment)},l(i){he(e.$$.fragment,i)},m(i,o){fe(e,i,o),n=!0},p(i,o){const r={};o[0]&192&&(r.class=Xe(["svelte-flow__controls",i[7],i[6]])),o[0]&1&&(r.position=i[0]),o[0]&16&&(r["aria-label"]=i[4]??"Svelte Flow controls"),o[0]&32&&(r.style=i[5]),o[0]&1806|o[1]&32&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(F(e.$$.fragment,i),n=!0)},o(i){J(e.$$.fragment,i),n=!1},d(i){de(e,i)}}}function n1(t,e,n){let i,o,r,s,l,a,u,c,d,f,{$$slots:h={},$$scope:m}=e,{position:y="bottom-left"}=e,{showZoom:_=!0}=e,{showFitView:g=!0}=e,{showLock:w=!0}=e,{buttonBgColor:b=void 0}=e,{buttonBgColorHover:p=void 0}=e,{buttonColor:T=void 0}=e,{buttonColorHover:A=void 0}=e,{buttonBorderColor:S=void 0}=e,{ariaLabel:V=void 0}=e,{style:N=void 0}=e,{orientation:B="vertical"}=e,{fitViewOptions:U=void 0}=e,{class:K=""}=e;const{zoomIn:O,zoomOut:k,fitView:Y,viewport:E,minZoom:P,maxZoom:R,nodesDraggable:X,nodesConnectable:q,elementsSelectable:te}=Ge();$(t,E,I=>n(30,a=I)),$(t,P,I=>n(31,u=I)),$(t,R,I=>n(29,l=I)),$(t,X,I=>n(34,f=I)),$(t,q,I=>n(33,d=I)),$(t,te,I=>n(32,c=I));const ie={bgColor:b,bgColorHover:p,color:T,colorHover:A,borderColor:S},H=()=>{O()},D=()=>{k()},W=()=>{Y(U)},Q=()=>{n(8,i=!i),X.set(i),q.set(i),te.set(i)};return t.$$set=I=>{"position"in I&&n(0,y=I.position),"showZoom"in I&&n(1,_=I.showZoom),"showFitView"in I&&n(2,g=I.showFitView),"showLock"in I&&n(3,w=I.showLock),"buttonBgColor"in I&&n(22,b=I.buttonBgColor),"buttonBgColorHover"in I&&n(23,p=I.buttonBgColorHover),"buttonColor"in I&&n(24,T=I.buttonColor),"buttonColorHover"in I&&n(25,A=I.buttonColorHover),"buttonBorderColor"in I&&n(26,S=I.buttonBorderColor),"ariaLabel"in I&&n(4,V=I.ariaLabel),"style"in I&&n(5,N=I.style),"orientation"in I&&n(27,B=I.orientation),"fitViewOptions"in I&&n(28,U=I.fitViewOptions),"class"in I&&n(6,K=I.class),"$$scope"in I&&n(36,m=I.$$scope)},t.$$.update=()=>{t.$$.dirty[1]&14&&n(8,i=f||d||c),t.$$.dirty[0]&1073741824|t.$$.dirty[1]&1&&n(10,o=a.zoom<=u),t.$$.dirty[0]&1610612736&&n(9,r=a.zoom>=l),t.$$.dirty[0]&134217728&&n(7,s=B==="horizontal"?"horizontal":"vertical")},[y,_,g,w,V,N,K,s,i,r,o,E,P,R,X,q,te,ie,H,D,W,Q,b,p,T,A,S,B,U,l,a,u,c,d,f,h,m]}class i1 extends _e{constructor(e){super(),ye(this,e,n1,t1,ve,{position:0,showZoom:1,showFitView:2,showLock:3,buttonBgColor:22,buttonBgColorHover:23,buttonColor:24,buttonColorHover:25,buttonBorderColor:26,ariaLabel:4,style:5,orientation:27,fitViewOptions:28,class:6},null,[-1,-1])}}const o1=i1;var Xt;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(Xt||(Xt={}));function r1(t){let e,n;return{c(){e=Oe("circle"),this.h()},l(i){e=Ae(i,"circle",{cx:!0,cy:!0,r:!0,class:!0}),Z(e).forEach(C),this.h()},h(){v(e,"cx",t[0]),v(e,"cy",t[0]),v(e,"r",t[0]),v(e,"class",n=Xe(["svelte-flow__background-pattern","dots",t[1]]))},m(i,o){ee(i,e,o)},p(i,[o]){o&1&&v(e,"cx",i[0]),o&1&&v(e,"cy",i[0]),o&1&&v(e,"r",i[0]),o&2&&n!==(n=Xe(["svelte-flow__background-pattern","dots",i[1]]))&&v(e,"class",n)},i:Ce,o:Ce,d(i){i&&C(e)}}}function l1(t,e,n){let{radius:i=5}=e,{class:o=""}=e;return t.$$set=r=>{"radius"in r&&n(0,i=r.radius),"class"in r&&n(1,o=r.class)},[i,o]}class s1 extends _e{constructor(e){super(),ye(this,e,l1,r1,ve,{radius:0,class:1})}}const a1=s1;function u1(t){let e,n,i;return{c(){e=Oe("path"),this.h()},l(o){e=Ae(o,"path",{"stroke-width":!0,d:!0,class:!0}),Z(e).forEach(C),this.h()},h(){v(e,"stroke-width",t[0]),v(e,"d",n=`M${t[1][0]/2} 0 V${t[1][1]} M0 ${t[1][1]/2} H${t[1][0]}`),v(e,"class",i=Xe(["svelte-flow__background-pattern",t[2],t[3]]))},m(o,r){ee(o,e,r)},p(o,[r]){r&1&&v(e,"stroke-width",o[0]),r&2&&n!==(n=`M${o[1][0]/2} 0 V${o[1][1]} M0 ${o[1][1]/2} H${o[1][0]}`)&&v(e,"d",n),r&12&&i!==(i=Xe(["svelte-flow__background-pattern",o[2],o[3]]))&&v(e,"class",i)},i:Ce,o:Ce,d(o){o&&C(e)}}}function c1(t,e,n){let{lineWidth:i=1}=e,{dimensions:o}=e,{variant:r=void 0}=e,{class:s=""}=e;return t.$$set=l=>{"lineWidth"in l&&n(0,i=l.lineWidth),"dimensions"in l&&n(1,o=l.dimensions),"variant"in l&&n(2,r=l.variant),"class"in l&&n(3,s=l.class)},[i,o,r,s]}class f1 extends _e{constructor(e){super(),ye(this,e,c1,u1,ve,{lineWidth:0,dimensions:1,variant:2,class:3})}}const d1=f1;function h1(t){let e,n;return e=new d1({props:{dimensions:t[6],variant:t[0],lineWidth:t[1],class:t[4]}}),{c(){ce(e.$$.fragment)},l(i){he(e.$$.fragment,i)},m(i,o){fe(e,i,o),n=!0},p(i,o){const r={};o&64&&(r.dimensions=i[6]),o&1&&(r.variant=i[0]),o&2&&(r.lineWidth=i[1]),o&16&&(r.class=i[4]),e.$set(r)},i(i){n||(F(e.$$.fragment,i),n=!0)},o(i){J(e.$$.fragment,i),n=!1},d(i){de(e,i)}}}function g1(t){let e,n;return e=new a1({props:{radius:t[7]/2,class:t[4]}}),{c(){ce(e.$$.fragment)},l(i){he(e.$$.fragment,i)},m(i,o){fe(e,i,o),n=!0},p(i,o){const r={};o&128&&(r.radius=i[7]/2),o&16&&(r.class=i[4]),e.$set(r)},i(i){n||(F(e.$$.fragment,i),n=!0)},o(i){J(e.$$.fragment,i),n=!1},d(i){de(e,i)}}}function m1(t){let e,n,i,o,r,s,l,a,u,c,d,f,h;const m=[g1,h1],y=[];function _(g,w){return g[14]?0:1}return i=_(t),o=y[i]=m[i](t),{c(){e=Oe("svg"),n=Oe("pattern"),o.c(),c=Oe("rect"),this.h()},l(g){e=Ae(g,"svg",{class:!0,"data-testid":!0});var w=Z(e);n=Ae(w,"pattern",{id:!0,x:!0,y:!0,width:!0,height:!0,patternUnits:!0,patternTransform:!0});var b=Z(n);o.l(b),b.forEach(C),c=Ae(w,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),Z(c).forEach(C),w.forEach(C),this.h()},h(){v(n,"id",t[11]),v(n,"x",r=t[9].x%t[8][0]),v(n,"y",s=t[9].y%t[8][1]),v(n,"width",l=t[8][0]),v(n,"height",a=t[8][1]),v(n,"patternUnits","userSpaceOnUse"),v(n,"patternTransform",u=`translate(-${t[10][0]},-${t[10][1]})`),v(c,"x","0"),v(c,"y","0"),v(c,"width","100%"),v(c,"height","100%"),v(c,"fill",d=`url(#${t[11]})`),v(e,"class",f=no(Xe(["svelte-flow__background",t[5]]))+" svelte-1r7pe8d"),v(e,"data-testid","svelte-flow__background"),be(e,"--xy-background-color-props",t[2]),be(e,"--xy-background-pattern-color-props",t[3])},m(g,w){ee(g,e,w),L(e,n),y[i].m(n,null),L(e,c),h=!0},p(g,[w]){o.p(g,w),(!h||w&2048)&&v(n,"id",g[11]),(!h||w&768&&r!==(r=g[9].x%g[8][0]))&&v(n,"x",r),(!h||w&768&&s!==(s=g[9].y%g[8][1]))&&v(n,"y",s),(!h||w&256&&l!==(l=g[8][0]))&&v(n,"width",l),(!h||w&256&&a!==(a=g[8][1]))&&v(n,"height",a),(!h||w&1024&&u!==(u=`translate(-${g[10][0]},-${g[10][1]})`))&&v(n,"patternTransform",u),(!h||w&2048&&d!==(d=`url(#${g[11]})`))&&v(c,"fill",d),(!h||w&32&&f!==(f=no(Xe(["svelte-flow__background",g[5]]))+" svelte-1r7pe8d"))&&v(e,"class",f),w&4&&be(e,"--xy-background-color-props",g[2]),w&8&&be(e,"--xy-background-pattern-color-props",g[3])},i(g){h||(F(o),h=!0)},o(g){J(o),h=!1},d(g){g&&C(e),y[i].d()}}}const _1={[Xt.Dots]:1,[Xt.Lines]:1,[Xt.Cross]:6};function y1(t,e,n){let i,o,r,s,l,a,u,{id:c=void 0}=e,{variant:d=Xt.Dots}=e,{gap:f=20}=e,{size:h=1}=e,{lineWidth:m=1}=e,{bgColor:y=void 0}=e,{patternColor:_=void 0}=e,{patternClass:g=void 0}=e,{class:w=""}=e;const{viewport:b,flowId:p}=Ge();$(t,b,N=>n(9,a=N)),$(t,p,N=>n(18,u=N));const T=h||_1[d],A=d===Xt.Dots,S=d===Xt.Cross,V=Array.isArray(f)?f:[f,f];return t.$$set=N=>{"id"in N&&n(15,c=N.id),"variant"in N&&n(0,d=N.variant),"gap"in N&&n(16,f=N.gap),"size"in N&&n(17,h=N.size),"lineWidth"in N&&n(1,m=N.lineWidth),"bgColor"in N&&n(2,y=N.bgColor),"patternColor"in N&&n(3,_=N.patternColor),"patternClass"in N&&n(4,g=N.patternClass),"class"in N&&n(5,w=N.class)},t.$$.update=()=>{t.$$.dirty&294912&&n(11,i=`background-pattern-${u}-${c||""}`),t.$$.dirty&512&&n(8,o=[V[0]*a.zoom||1,V[1]*a.zoom||1]),t.$$.dirty&512&&n(7,r=T*a.zoom),t.$$.dirty&384&&n(6,s=S?[r,r]:o),t.$$.dirty&192&&n(10,l=A?[r/2,r/2]:[s[0]/2,s[1]/2])},[d,m,y,_,g,w,s,r,o,a,l,i,b,p,A,c,f,h,u]}class b1 extends _e{constructor(e){super(),ye(this,e,y1,m1,ve,{id:15,variant:0,gap:16,size:17,lineWidth:1,bgColor:2,patternColor:3,patternClass:4,class:5})}}const w1=b1;function v1(t){let e,n,i,o,r,s=t[0].name+"",l,a,u,c=t[0].name+"",d,f,h,m,y,_='<th class="text-left third svelte-1i27hy3">Start</th> <th class="svelte-1i27hy3">Duration</th> <th class="text-right third svelte-1i27hy3">Finish</th>',g,w,b,p=t[0].es+"",T,A,S,V=t[0].expected+"",N,B,U,K=t[0].ef+"",O,k,Y,E,P=t[0].ls+"",R,X,q,te=t[0].lf+"",ie,H,D,W,Q,I,ne='<th class="text-left third svelte-1i27hy3">Min</th> <th class="svelte-1i27hy3">Likely</th> <th class="text-right third svelte-1i27hy3">Max</th>',re,ae,me,pe=t[0].min+"",De,G,Me,Se=t[0].likely+"",Ve,Be,Le,Ze=t[0].max+"",ct,ft,$e,at,Re;return n=new cn({props:{type:"target",position:"left",isConnectable:t[1]}}),$e=new cn({props:{type:"source",position:"right",isConnectable:t[1]}}),{c(){e=j("div"),ce(n.$$.fragment),i=le(),o=j("div"),r=j("div"),l=We(s),a=le(),u=j("div"),d=We(c),h=le(),m=j("table"),y=j("tr"),y.innerHTML=_,g=le(),w=j("tr"),b=j("td"),T=We(p),A=le(),S=j("td"),N=We(V),B=le(),U=j("td"),O=We(K),k=le(),Y=j("tr"),E=j("td"),R=We(P),X=le(),q=j("td"),ie=We(te),H=le(),D=j("hr"),W=le(),Q=j("table"),I=j("tr"),I.innerHTML=ne,re=le(),ae=j("tr"),me=j("td"),De=We(pe),G=le(),Me=j("td"),Ve=We(Se),Be=le(),Le=j("td"),ct=We(Ze),ft=le(),ce($e.$$.fragment),this.h()},l(Pe){e=x(Pe,"DIV",{class:!0});var Ee=Z(e);he(n.$$.fragment,Ee),i=se(Ee),o=x(Ee,"DIV",{class:!0});var Je=Z(o);r=x(Je,"DIV",{class:!0});var z=Z(r);l=Ke(z,s),z.forEach(C),a=se(Je),u=x(Je,"DIV",{class:!0});var et=Z(u);d=Ke(et,c),et.forEach(C),Je.forEach(C),h=se(Ee),m=x(Ee,"TABLE",{style:!0,class:!0});var ze=Z(m);y=x(ze,"TR",{"data-svelte-h":!0}),At(y)!=="svelte-1kap4rr"&&(y.innerHTML=_),g=se(ze),w=x(ze,"TR",{});var Ne=Z(w);b=x(Ne,"TD",{class:!0});var Mt=Z(b);T=Ke(Mt,p),Mt.forEach(C),A=se(Ne),S=x(Ne,"TD",{class:!0,rowspan:!0});var Pt=Z(S);N=Ke(Pt,V),Pt.forEach(C),B=se(Ne),U=x(Ne,"TD",{class:!0});var Tt=Z(U);O=Ke(Tt,K),Tt.forEach(C),Ne.forEach(C),k=se(ze),Y=x(ze,"TR",{});var ht=Z(Y);E=x(ht,"TD",{class:!0});var gt=Z(E);R=Ke(gt,P),gt.forEach(C),X=se(ht),q=x(ht,"TD",{class:!0});var vt=Z(q);ie=Ke(vt,te),vt.forEach(C),ht.forEach(C),ze.forEach(C),H=se(Ee),D=x(Ee,"HR",{class:!0}),W=se(Ee),Q=x(Ee,"TABLE",{style:!0,class:!0});var Dt=Z(Q);I=x(Dt,"TR",{"data-svelte-h":!0}),At(I)!=="svelte-11mrgyi"&&(I.innerHTML=ne),re=se(Dt),ae=x(Dt,"TR",{});var It=Z(ae);me=x(It,"TD",{class:!0});var Qt=Z(me);De=Ke(Qt,pe),Qt.forEach(C),G=se(It),Me=x(It,"TD",{class:!0});var fn=Z(Me);Ve=Ke(fn,Se),fn.forEach(C),Be=se(It),Le=x(It,"TD",{class:!0});var dn=Z(Le);ct=Ke(dn,Ze),dn.forEach(C),It.forEach(C),Dt.forEach(C),ft=se(Ee),he($e.$$.fragment,Ee),Ee.forEach(C),this.h()},h(){v(r,"class","heading-text svelte-1i27hy3"),v(u,"class","heading-full svelte-1i27hy3"),v(o,"class",f="heading "+t[3]+" svelte-1i27hy3"),v(b,"class","text-left"),v(S,"class","text-center va-middle"),v(S,"rowspan","2"),v(U,"class","text-right"),v(E,"class","text-left"),v(q,"class","text-right"),be(m,"width","99.9%"),v(m,"class","svelte-1i27hy3"),v(D,"class","svelte-1i27hy3"),v(me,"class","text-left"),v(Me,"class","text-center"),v(Le,"class","text-right"),be(Q,"width","99.9%"),v(Q,"class","svelte-1i27hy3"),v(e,"class",at="critical-path-node "+t[2]+" svelte-1i27hy3")},m(Pe,Ee){ee(Pe,e,Ee),fe(n,e,null),L(e,i),L(e,o),L(o,r),L(r,l),L(o,a),L(o,u),L(u,d),L(e,h),L(e,m),L(m,y),L(m,g),L(m,w),L(w,b),L(b,T),L(w,A),L(w,S),L(S,N),L(w,B),L(w,U),L(U,O),L(m,k),L(m,Y),L(Y,E),L(E,R),L(Y,X),L(Y,q),L(q,ie),L(e,H),L(e,D),L(e,W),L(e,Q),L(Q,I),L(Q,re),L(Q,ae),L(ae,me),L(me,De),L(ae,G),L(ae,Me),L(Me,Ve),L(ae,Be),L(ae,Le),L(Le,ct),L(e,ft),fe($e,e,null),Re=!0},p(Pe,[Ee]){const Je={};Ee&2&&(Je.isConnectable=Pe[1]),n.$set(Je),(!Re||Ee&1)&&s!==(s=Pe[0].name+"")&&Fe(l,s),(!Re||Ee&1)&&c!==(c=Pe[0].name+"")&&Fe(d,c),(!Re||Ee&8&&f!==(f="heading "+Pe[3]+" svelte-1i27hy3"))&&v(o,"class",f),(!Re||Ee&1)&&p!==(p=Pe[0].es+"")&&Fe(T,p),(!Re||Ee&1)&&V!==(V=Pe[0].expected+"")&&Fe(N,V),(!Re||Ee&1)&&K!==(K=Pe[0].ef+"")&&Fe(O,K),(!Re||Ee&1)&&P!==(P=Pe[0].ls+"")&&Fe(R,P),(!Re||Ee&1)&&te!==(te=Pe[0].lf+"")&&Fe(ie,te),(!Re||Ee&1)&&pe!==(pe=Pe[0].min+"")&&Fe(De,pe),(!Re||Ee&1)&&Se!==(Se=Pe[0].likely+"")&&Fe(Ve,Se),(!Re||Ee&1)&&Ze!==(Ze=Pe[0].max+"")&&Fe(ct,Ze);const z={};Ee&2&&(z.isConnectable=Pe[1]),$e.$set(z),(!Re||Ee&4&&at!==(at="critical-path-node "+Pe[2]+" svelte-1i27hy3"))&&v(e,"class",at)},i(Pe){Re||(F(n.$$.fragment,Pe),F($e.$$.fragment,Pe),Re=!0)},o(Pe){J(n.$$.fragment,Pe),J($e.$$.fragment,Pe),Re=!1},d(Pe){Pe&&C(e),de(n),de($e)}}}function k1(t,e,n){let i,o,{data:r}=e,{isConnectable:s=!0}=e,{id:l}=e,{selected:a=!1}=e,{selectable:u=!0}=e,{deletable:c=!1}=e,{sourcePosition:d=void 0}=e,{targetPosition:f=void 0}=e,{zIndex:h=0}=e,{dragging:m=!1}=e,{draggable:y=!0}=e,{dragHandle:_=void 0}=e,{parentId:g=void 0}=e,{type:w="default"}=e,{positionAbsoluteX:b=void 0}=e,{positionAbsoluteY:p=void 0}=e,{width:T=void 0}=e,{height:A=void 0}=e;return t.$$set=S=>{"data"in S&&n(0,r=S.data),"isConnectable"in S&&n(1,s=S.isConnectable),"id"in S&&n(4,l=S.id),"selected"in S&&n(5,a=S.selected),"selectable"in S&&n(6,u=S.selectable),"deletable"in S&&n(7,c=S.deletable),"sourcePosition"in S&&n(8,d=S.sourcePosition),"targetPosition"in S&&n(9,f=S.targetPosition),"zIndex"in S&&n(10,h=S.zIndex),"dragging"in S&&n(11,m=S.dragging),"draggable"in S&&n(12,y=S.draggable),"dragHandle"in S&&n(13,_=S.dragHandle),"parentId"in S&&n(14,g=S.parentId),"type"in S&&n(15,w=S.type),"positionAbsoluteX"in S&&n(16,b=S.positionAbsoluteX),"positionAbsoluteY"in S&&n(17,p=S.positionAbsoluteY),"width"in S&&n(18,T=S.width),"height"in S&&n(19,A=S.height)},t.$$.update=()=>{t.$$.dirty&1&&n(3,i=Number(r.progress)>=100?"bg-emerald":r.slack===0?"bg-darkSteel":"bg-darkBlue"),t.$$.dirty&1&&n(2,o=r.slack===0?"critical":"normal")},[r,s,o,i,l,a,u,c,d,f,h,m,y,_,g,w,b,p,T,A]}class p1 extends _e{constructor(e){super(),ye(this,e,k1,v1,ve,{data:0,isConnectable:1,id:4,selected:5,selectable:6,deletable:7,sourcePosition:8,targetPosition:9,zIndex:10,dragging:11,draggable:12,dragHandle:13,parentId:14,type:15,positionAbsoluteX:16,positionAbsoluteY:17,width:18,height:19})}}function E1(t,e){const n=new Map,i=new Map;return t.forEach(o=>{n.set(o.id,[]),i.set(o.id,[])}),e.forEach(o=>{o.source&&o.target&&(i.get(o.source).push(o.target),n.get(o.target).push(o.source))}),{incoming:n,outgoing:i}}function S1(t,e,n={}){const{nodeWidth:i=250,nodeHeight:o=150,horizontalSpacing:r=100,verticalSpacing:s=100,startX:l=50,startY:a=50,viewportHeight:u=800}=n,{incoming:c,outgoing:d}=E1(t,e),f=new Map(t.map(g=>[g.id,{...g,rank:0,order:0,width:i,height:o}])),h=t.filter(g=>c.get(g.id).length===0);let m=0;function y(g,w=0){const b=f.get(g);b.rank=Math.max(b.rank,w),m=Math.max(m,w),d.get(g).forEach(p=>{y(p,w+1)})}h.forEach(g=>y(g.id)),h.length===0&&t.length>0&&y(t[0].id);const _=new Array(m+1).fill(0).map(()=>[]);return f.forEach(g=>_[g.rank].push(g)),_.forEach((g,w)=>{w===0?g.sort((b,p)=>{const T=d.get(b.id).length;return d.get(p.id).length-T}):g.sort((b,p)=>{const T=c.get(b.id),A=c.get(p.id),S=T.reduce((N,B)=>N+f.get(B).order,0)/T.length,V=A.reduce((N,B)=>N+f.get(B).order,0)/A.length;return S-V}),g.forEach((b,p)=>{b.order=p})}),_.forEach((g,w)=>{const b=g.reduce((A,S,V)=>A+S.height+(V>0?s:0),0);let T=(u-b)/2;g.forEach(A=>{A.position={x:l+w*(i+r),y:T},T+=A.height+s})}),Array.from(f.values())}function hr(t){let e,n;return e=new w1({props:{variant:"dots",gap:t[5][0],size:1}}),{c(){ce(e.$$.fragment)},l(i){he(e.$$.fragment,i)},m(i,o){fe(e,i,o),n=!0},p:Ce,i(i){n||(F(e.$$.fragment,i),n=!0)},o(i){J(e.$$.fragment,i),n=!1},d(i){de(e,i)}}}function gr(t){let e,n;return e=new o1({}),{c(){ce(e.$$.fragment)},l(i){he(e.$$.fragment,i)},m(i,o){fe(e,i,o),n=!0},i(i){n||(F(e.$$.fragment,i),n=!0)},o(i){J(e.$$.fragment,i),n=!1},d(i){de(e,i)}}}function C1(t){let e,n,i,o=t[0]&&hr(t),r=t[1]&&gr();return{c(){o&&o.c(),e=le(),r&&r.c(),n=He()},l(s){o&&o.l(s),e=se(s),r&&r.l(s),n=He()},m(s,l){o&&o.m(s,l),ee(s,e,l),r&&r.m(s,l),ee(s,n,l),i=!0},p(s,l){s[0]?o?(o.p(s,l),l&1&&F(o,1)):(o=hr(s),o.c(),F(o,1),o.m(e.parentNode,e)):o&&(je(),J(o,1,1,()=>{o=null}),xe()),s[1]?r?l&2&&F(r,1):(r=gr(),r.c(),F(r,1),r.m(n.parentNode,n)):r&&(je(),J(r,1,1,()=>{r=null}),xe())},i(s){i||(F(o),F(r),i=!0)},o(s){J(o),J(r),i=!1},d(s){s&&(C(e),C(n)),o&&o.d(s),r&&r.d(s)}}}function M1(t){let e,n,i;return n=new Mg({props:{nodes:t[2],edges:t[3],nodeTypes:t[4],viewport:Rr,nodesDraggable:!0,nodesConnectable:!1,elementsSelectable:!0,minZoom:.5,maxZoom:2,snapToGrid:!0,snapGrid:t[5],$$slots:{default:[C1]},$$scope:{ctx:t}}}),n.$on("viewportChange",t[7]),n.$on("nodedragstop",t[6]),{c(){e=j("div"),ce(n.$$.fragment),this.h()},l(o){e=x(o,"DIV",{style:!0});var r=Z(e);he(n.$$.fragment,r),r.forEach(C),this.h()},h(){be(e,"width","100%"),be(e,"height","100%")},m(o,r){ee(o,e,r),fe(n,e,null),i=!0},p(o,[r]){const s={};r&2051&&(s.$$scope={dirty:r,ctx:o}),n.$set(s)},i(o){i||(F(n.$$.fragment,o),i=!0)},o(o){J(n.$$.fragment,o),i=!1},d(o){o&&C(e),de(n)}}}const mr=200,_r=120;function P1(t,e,n){let i,o,r;$(t,Vr,m=>n(8,i=m)),$(t,gs,m=>n(0,o=m)),$(t,ms,m=>n(1,r=m));const s=ue([]),l=ue([]),a={default:p1},u=[20,20],c=Math.ceil(mr/u[0])*u[0]+40,d=Math.ceil(_r/u[1])*u[1]+20;function f(m){const y=oe(s);_s(y)}function h(m){Rr.set(m.detail)}return t.$$.update=()=>{if(t.$$.dirty&256&&i.map){const m=Object.values(i.map).map(g=>({id:g.id,position:{x:Math.round((g.x||0)/u[0])*u[0],y:Math.round((g.y||0)/u[1])*u[1]},data:{...g,label:g.name||g.id},type:"default"})),y=Object.values(i.map).flatMap(g=>g.predecessors.map(w=>{const b=i.map[w],p=g,T=b.slack===0&&p.slack===0,A=Number(b.progress)>=100&&Number(p.progress)<100;return{id:`${w}-${g.id}`,source:w,target:g.id,type:"default",class:T?"critical-path":"normal-path",animated:A}})),_=m.filter(g=>!g.position.x&&!g.position.y);if(_.length>0){const w=S1(_,y,{nodeWidth:mr,nodeHeight:_r,horizontalSpacing:c,verticalSpacing:d,viewportHeight:window.innerHeight}).map(p=>({...p,position:{x:Math.round(p.position.x/u[0])*u[0],y:Math.round(p.position.y/u[1])*u[1]}})),b=m.map(p=>p.position.x||p.position.y?p:w.find(T=>T.id===p.id)||p);s.set(b)}else s.set(m);l.set(y)}},[o,r,s,l,a,u,f,h,i]}class T1 extends _e{constructor(e){super(),ye(this,e,P1,M1,ve,{})}}function yr(t,e,n){const i=t.slice();return i[41]=e[n],i[42]=e,i[43]=n,i}function br(t,e,n){const i=t.slice();return i[44]=e[n],i}function wr(t,e,n){const i=t.slice();return i[41]=e[n],i[47]=e,i[48]=n,i}function vr(t,e,n){const i=t.slice();return i[49]=e[n],i}function kr(t){let e,n=t[49]+"",i;return{c(){e=j("th"),i=We(n)},l(o){e=x(o,"TH",{});var r=Z(e);i=Ke(r,n),r.forEach(C)},m(o,r){ee(o,e,r),L(e,i)},p(o,r){r[0]&2&&n!==(n=o[49]+"")&&Fe(i,n)},d(o){o&&C(e)}}}function pr(t){let e,n,i,o,r;function s(){t[27].call(n,t[47],t[48])}function l(){return t[28](t[44])}function a(...f){return t[29](t[44],t[48],...f)}function u(...f){return t[30](t[44],t[48],...f)}function c(...f){return t[31](t[44],t[48],...f)}function d(...f){return t[32](t[44],t[48],...f)}return{c(){e=j("td"),n=j("input"),this.h()},l(f){e=x(f,"TD",{class:!0,"data-row-id":!0,"data-col-index":!0});var h=Z(e);n=x(h,"INPUT",{type:!0,class:!0}),h.forEach(C),this.h()},h(){v(n,"type","text"),v(n,"class","metro-input svelte-xzcyut"),v(e,"class","data-cell svelte-xzcyut"),v(e,"data-row-id",i=t[44]),v(e,"data-col-index",t[48]),ge(e,"selected-cell",t[2]&&t[2].rowId===t[44]&&t[2].colIndex===t[48]),ge(e,"highlight",t[4]&&t[3]&&t[3].colIndex===t[48]&&t[16](t[44],t[48]))},m(f,h){ee(f,e,h),L(e,n),Lt(n,t[41]),o||(r=[ke(n,"input",s),ke(n,"paste",t[17]),ke(n,"blur",l),ke(n,"keydown",a),ke(e,"pointerdown",u),ke(e,"click",c),ke(e,"keydown",d)],o=!0)},p(f,h){t=f,h[0]&2&&n.value!==t[41]&&Lt(n,t[41]),h[0]&2&&i!==(i=t[44])&&v(e,"data-row-id",i),h[0]&6&&ge(e,"selected-cell",t[2]&&t[2].rowId===t[44]&&t[2].colIndex===t[48]),h[0]&65562&&ge(e,"highlight",t[4]&&t[3]&&t[3].colIndex===t[48]&&t[16](t[44],t[48]))},d(f){f&&C(e),o=!1,dt(r)}}}function Er(t){var c,d;let e,n,i,o,r,s;function l(){return t[26](t[44])}let a=Ue(((d=(c=t[1])==null?void 0:c.getRow)==null?void 0:d.call(c,t[44]))??[]),u=[];for(let f=0;f<a.length;f+=1)u[f]=pr(wr(t,a,f));return{c(){e=j("tr"),n=j("td"),i=j("span"),o=le();for(let f=0;f<u.length;f+=1)u[f].c();this.h()},l(f){e=x(f,"TR",{});var h=Z(e);n=x(h,"TD",{class:!0});var m=Z(n);i=x(m,"SPAN",{class:!0,style:!0,role:!0,"aria-label":!0}),Z(i).forEach(C),m.forEach(C),o=se(h);for(let y=0;y<u.length;y+=1)u[y].l(h);h.forEach(C),this.h()},h(){v(i,"class","mif-cross-light"),be(i,"cursor","pointer"),v(i,"role","button"),v(i,"aria-label","Delete row"),v(n,"class","svelte-xzcyut")},m(f,h){ee(f,e,h),L(e,n),L(n,i),L(e,o);for(let m=0;m<u.length;m+=1)u[m]&&u[m].m(e,null);r||(s=ke(i,"click",l),r=!0)},p(f,h){var m,y;if(t=f,h[0]&3399710){a=Ue(((y=(m=t[1])==null?void 0:m.getRow)==null?void 0:y.call(m,t[44]))??[]);let _;for(_=0;_<a.length;_+=1){const g=wr(t,a,_);u[_]?u[_].p(g,h):(u[_]=pr(g),u[_].c(),u[_].m(e,null))}for(;_<u.length;_+=1)u[_].d(1);u.length=a.length}},d(f){f&&C(e),Ft(u,f),r=!1,s()}}}function Sr(t){let e,n,i,o;function r(){t[33].call(n,t[42],t[43])}return{c(){e=j("td"),n=j("input"),this.h()},l(s){e=x(s,"TD",{class:!0});var l=Z(e);n=x(l,"INPUT",{type:!0,class:!0}),l.forEach(C),this.h()},h(){v(n,"type","text"),v(n,"class","metro-input svelte-xzcyut"),v(e,"class","svelte-xzcyut")},m(s,l){ee(s,e,l),L(e,n),Lt(n,t[41]),i||(o=[ke(n,"input",r),ke(n,"paste",t[17]),ke(n,"blur",t[18])],i=!0)},p(s,l){t=s,l[0]&64&&n.value!==t[41]&&Lt(n,t[41])},d(s){s&&C(e),i=!1,dt(o)}}}function D1(t){var b,p,T,A;let e,n,i,o,r,s,l,a,u,c,d='<span class="mif-chevron-thin-right"></span>',f,h=Ue(((p=(b=t[1])==null?void 0:b.getHeader)==null?void 0:p.call(b))??[]),m=[];for(let S=0;S<h.length;S+=1)m[S]=kr(vr(t,h,S));let y=Ue(((A=(T=t[1])==null?void 0:T.getAllIds)==null?void 0:A.call(T))??[]),_=[];for(let S=0;S<y.length;S+=1)_[S]=Er(br(t,y,S));let g=Ue(t[6]),w=[];for(let S=0;S<g.length;S+=1)w[S]=Sr(yr(t,g,S));return{c(){e=j("table"),n=j("thead"),i=j("tr"),o=j("th"),r=le();for(let S=0;S<m.length;S+=1)m[S].c();s=le(),l=j("tbody");for(let S=0;S<_.length;S+=1)_[S].c();a=le(),u=j("tr"),c=j("td"),c.innerHTML=d,f=le();for(let S=0;S<w.length;S+=1)w[S].c();this.h()},l(S){e=x(S,"TABLE",{class:!0});var V=Z(e);n=x(V,"THEAD",{});var N=Z(n);i=x(N,"TR",{});var B=Z(i);o=x(B,"TH",{}),Z(o).forEach(C),r=se(B);for(let O=0;O<m.length;O+=1)m[O].l(B);B.forEach(C),N.forEach(C),s=se(V),l=x(V,"TBODY",{});var U=Z(l);for(let O=0;O<_.length;O+=1)_[O].l(U);a=se(U),u=x(U,"TR",{});var K=Z(u);c=x(K,"TD",{class:!0,"data-svelte-h":!0}),At(c)!=="svelte-qk2oid"&&(c.innerHTML=d),f=se(K);for(let O=0;O<w.length;O+=1)w[O].l(K);K.forEach(C),U.forEach(C),V.forEach(C),this.h()},h(){v(c,"class","svelte-xzcyut"),v(e,"class","table subcompact table-border cell-border striped")},m(S,V){ee(S,e,V),L(e,n),L(n,i),L(i,o),L(i,r);for(let N=0;N<m.length;N+=1)m[N]&&m[N].m(i,null);L(e,s),L(e,l);for(let N=0;N<_.length;N+=1)_[N]&&_[N].m(l,null);L(l,a),L(l,u),L(u,c),L(u,f);for(let N=0;N<w.length;N+=1)w[N]&&w[N].m(u,null);t[34](e)},p(S,V){var N,B,U,K;if(V[0]&2){h=Ue(((B=(N=S[1])==null?void 0:N.getHeader)==null?void 0:B.call(N))??[]);let O;for(O=0;O<h.length;O+=1){const k=vr(S,h,O);m[O]?m[O].p(k,V):(m[O]=kr(k),m[O].c(),m[O].m(i,null))}for(;O<m.length;O+=1)m[O].d(1);m.length=h.length}if(V[0]&3923998){y=Ue(((K=(U=S[1])==null?void 0:U.getAllIds)==null?void 0:K.call(U))??[]);let O;for(O=0;O<y.length;O+=1){const k=br(S,y,O);_[O]?_[O].p(k,V):(_[O]=Er(k),_[O].c(),_[O].m(l,a))}for(;O<_.length;O+=1)_[O].d(1);_.length=y.length}if(V[0]&393280){g=Ue(S[6]);let O;for(O=0;O<g.length;O+=1){const k=yr(S,g,O);w[O]?w[O].p(k,V):(w[O]=Sr(k),w[O].c(),w[O].m(u,null))}for(;O<w.length;O+=1)w[O].d(1);w.length=g.length}},i:Ce,o:Ce,d(S){S&&C(e),Ft(m,S),Ft(_,S),Ft(w,S),t[34](null)}}}function I1(t,e,n){let i,o,r,s,l,a,u,{name:c}=e,d=Ei(c);$(t,d,H=>n(1,i=H));let f=ue([]);$(t,f,H=>n(6,o=H)),f.reset=()=>f.update(H=>{var D;return(D=i==null?void 0:i.getHeader())!=null&&D.length?Array(i.getHeader().length).fill(""):[]});let h=ue(null);$(t,h,H=>n(3,l=H));let m=ue(null);$(t,m,H=>n(24,s=H));let y=ue(!1);$(t,y,H=>n(4,a=H));let _=ue(null);$(t,_,H=>n(25,u=H));let g,w=ue(null);$(t,w,H=>n(2,r=H));let b=null;Sn(()=>{const H=W=>{if(!a||!l)return;const Q=document.elementFromPoint(W.clientX,W.clientY);if(!Q)return;const I=Q.closest("td.data-cell");if(!I)return;const ne=I.getAttribute("data-row-id"),re=parseInt(I.getAttribute("data-col-index"));if(!u){const Ve=Math.abs(W.clientX-l.startX),Be=Math.abs(W.clientY-l.startY);(Ve>5||Be>5)&&_.set("rectangular")}m.set({rowId:ne,colIndex:re}),document.querySelectorAll("td.data-cell").forEach(Ve=>{Ve.classList.remove("highlight")});const ae=i.getAllIds(),me=ae.indexOf(l.rowId),pe=ae.indexOf(ne),[De,G]=me<pe?[me,pe]:[pe,me],[Me,Se]=l.colIndex<re?[l.colIndex,re]:[re,l.colIndex];document.querySelectorAll("td.data-cell").forEach(Ve=>{const Be=Ve.getAttribute("data-row-id"),Le=parseInt(Ve.getAttribute("data-col-index")),Ze=ae.indexOf(Be);Ze>=De&&Ze<=G&&Le>=Me&&Le<=Se&&Ve.classList.add("highlight")})},D=W=>{if(a&&l&&s){const Q=document.elementFromPoint(W.clientX,W.clientY);if(Q){const I=Q.closest("td.data-cell");if(I){const ne=I.getAttribute("data-row-id"),re=parseInt(I.getAttribute("data-col-index")),ae=i.getRow(l.rowId);if(ae){const me=ae[l.colIndex];p(l.rowId,ne,l.colIndex,re,me)}}}}document.querySelectorAll("td.data-cell").forEach(Q=>{Q.classList.remove("highlight")}),y.set(!1),h.set(null),m.set(null),w.set(null),_.set(null)};return document.addEventListener("pointermove",H),document.addEventListener("pointerup",D),()=>{document.removeEventListener("pointermove",H),document.removeEventListener("pointerup",D)}});function p(H,D,W,Q,I){const ne=i.getAllIds(),re=ne.indexOf(H),ae=ne.indexOf(D);if(re===-1||ae===-1)return;const[me,pe]=re<ae?[re,ae]:[ae,re],[De,G]=W<Q?[W,Q]:[Q,W],Me=new io(i.getHeader());ne.forEach((Se,Ve)=>{const Be=i.getRow(Se);if(Be){const Le=[...Be];if(Ve>=me&&Ve<=pe)for(let Ze=De;Ze<=G;Ze++)Le[Ze]=I;Me.add_or_replace_row(Se,Le)}}),d.set(Me)}function T(H,D,W){const Q=W.currentTarget.getBoundingClientRect(),I=W.clientX-Q.left,ne=W.clientY-Q.top;I>Q.width-8&&ne>Q.height-8&&(y.set(!0),h.set({rowId:H,colIndex:D,startX:W.clientX,startY:W.clientY}),m.set({rowId:H,colIndex:D}),w.set({rowId:H,colIndex:D}),_.set(null),W.preventDefault(),W.stopPropagation())}function A(H,D,W){const Q=W.currentTarget.getBoundingClientRect(),I=W.clientX-Q.left,ne=W.clientY-Q.top;I>Q.width-8&&ne>Q.height-8||(w.set({rowId:H,colIndex:D}),W.stopPropagation())}function S(){setTimeout(()=>{var H;!a&&((H=document.activeElement)==null?void 0:H.tagName)!=="INPUT"&&w.set(null)},0)}function V(H,D){if(!a||!l||!s||l.colIndex!==D)return!1;const W=i.getAllIds(),Q=W.indexOf(l.rowId),I=W.indexOf(H),ne=W.indexOf(s.rowId);if(Q===-1||I===-1||ne===-1)return!1;const[re,ae]=Q<ne?[Q,ne]:[ne,Q];return I>=re&&I<=ae}function N(H){let D=(H.clipboardData||window.clipboardData).getData("text");const W=D.includes(`
`),Q=D.includes("	");if(W&&Q){H.preventDefault();let I=D.split(/\n|\r/).filter(ne=>ne.length).map(ne=>ne.split(/\t/));d.update(ne=>{let re=new io(I[0]);return I.slice(1).forEach(ae=>{re.add_or_replace_row(ae[0],ae)}),re}),f.reset()}else{const I=H.target.closest("tr")===H.target.closest("table").querySelector("tbody tr:last-child");setTimeout(I?()=>{Array.from(H.target.closest("tr").querySelectorAll("input")).some(re=>re.value.trim()!=="")&&B()}:()=>{K(H.target.closest("td").getAttribute("data-row-id"))},0)}}function B(){o.join("")!==""&&(d.update(H=>(H.add_or_replace_row(o[0],o),H)),f.reset())}function U(H){d.update(D=>(D.delete_row(H),D))}function K(H){const D=i.getRow(H);d.update(W=>(W.add_or_replace_row(H,D),W))}function O(H,D,W){if(W.key==="Enter"||W.key==="ArrowDown"||W.key==="ArrowUp"){W.preventDefault();const Q=i.getAllIds(),I=Q.indexOf(H);let ne;if(W.key==="ArrowUp"?ne=I>0?I-1:I:ne=I<Q.length-1?I+1:I,ne!==I){const re=Q[ne];w.set({rowId:re,colIndex:D})}}}const k=H=>U(H);function Y(H,D){H[D]=this.value}const E=H=>{K(H),S()},P=(H,D,W)=>O(H,D,W),R=(H,D,W)=>T(H,D,W),X=(H,D,W)=>A(H,D,W),q=(H,D,W)=>O(H,D,W);function te(H,D){H[D]=this.value,f.set(o)}function ie(H){Cn[H?"unshift":"push"](()=>{g=H,n(5,g)})}return t.$$set=H=>{"name"in H&&n(22,c=H.name)},t.$$.update=()=>{if(t.$$.dirty[0]&8388612&&(n(23,b=r),b)){const H=document.querySelector(`td.data-cell[data-row-id="${b.rowId}"][data-col-index="${b.colIndex}"] input`);H&&document.activeElement!==H&&H.focus()}t.$$.dirty[0]&8,t.$$.dirty[0]&16777216,t.$$.dirty[0]&16,t.$$.dirty[0]&33554432,t.$$.dirty[0]&3&&i!=null&&i.getHeader()&&f.set(Array(i.getHeader().length).fill(""))},[f,i,r,l,a,g,o,d,h,m,y,_,w,T,A,S,V,N,B,U,K,O,c,b,s,u,k,Y,E,P,R,X,q,te,ie]}class Cr extends _e{constructor(e){super(),ye(this,e,I1,D1,ve,{name:22},null,[-1,-1])}}function Mr(t,e,n){const i=t.slice();return i[14]=e[n],i[15]=e,i[16]=n,i}function Pr(t,e,n){const i=t.slice();i[17]=e[n];const o=A1(i[17]);return i[18]=o,i}function Tr(t){let e,n,i,o,r,s,l,a,u=t[14].isEditing?"Save":"Edit",c,d,f,h='<span class="mif-bin"></span>',m,y,_,g,w;function b(N,B){if(N[14].isEditing)return z1;if(N[14].content)return N1}let p=b(t),T=p&&p(t),A=t[14].tool_calls&&t[14].tool_calls.length>0&&Dr(t);function S(){return t[9](t[16])}function V(){return t[10](t[16])}return{c(){e=j("div"),n=j("div"),T&&T.c(),i=le(),A&&A.c(),o=le(),r=j("div"),s=j("button"),l=j("span"),a=le(),c=We(u),d=le(),f=j("button"),f.innerHTML=h,y=le(),this.h()},l(N){e=x(N,"DIV",{class:!0});var B=Z(e);n=x(B,"DIV",{class:!0});var U=Z(n);T&&T.l(U),i=se(U),A&&A.l(U),o=se(U),r=x(U,"DIV",{class:!0});var K=Z(r);s=x(K,"BUTTON",{class:!0});var O=Z(s);l=x(O,"SPAN",{class:!0}),Z(l).forEach(C),a=se(O),c=Ke(O,u),O.forEach(C),d=se(K),f=x(K,"BUTTON",{class:!0,"data-svelte-h":!0}),At(f)!=="svelte-vji6vz"&&(f.innerHTML=h),K.forEach(C),U.forEach(C),y=se(B),B.forEach(C),this.h()},h(){v(l,"class","mif-pencil"),v(s,"class","button small"),v(f,"class","button small alert"),v(r,"class","message-actions svelte-1e67x8p"),v(n,"class",m="message-content "+(t[14].role==="user"?"bg-darkBlue fg-white":"bg-lightGray")+" svelte-1e67x8p"),v(e,"class",_="message "+t[14].role+" svelte-1e67x8p")},m(N,B){ee(N,e,B),L(e,n),T&&T.m(n,null),L(n,i),A&&A.m(n,null),L(n,o),L(n,r),L(r,s),L(s,l),L(s,a),L(s,c),L(r,d),L(r,f),L(e,y),g||(w=[ke(s,"click",S),ke(f,"click",V)],g=!0)},p(N,B){t=N,p===(p=b(t))&&T?T.p(t,B):(T&&T.d(1),T=p&&p(t),T&&(T.c(),T.m(n,i))),t[14].tool_calls&&t[14].tool_calls.length>0?A?A.p(t,B):(A=Dr(t),A.c(),A.m(n,o)):A&&(A.d(1),A=null),B&1&&u!==(u=t[14].isEditing?"Save":"Edit")&&Fe(c,u),B&1&&m!==(m="message-content "+(t[14].role==="user"?"bg-darkBlue fg-white":"bg-lightGray")+" svelte-1e67x8p")&&v(n,"class",m),B&1&&_!==(_="message "+t[14].role+" svelte-1e67x8p")&&v(e,"class",_)},d(N){N&&C(e),T&&T.d(),A&&A.d(),g=!1,dt(w)}}}function N1(t){let e,n=t[14].content+"",i;return{c(){e=j("div"),i=We(n)},l(o){e=x(o,"DIV",{});var r=Z(e);i=Ke(r,n),r.forEach(C)},m(o,r){ee(o,e,r),L(e,i)},p(o,r){r&1&&n!==(n=o[14].content+"")&&Fe(i,n)},d(o){o&&C(e)}}}function z1(t){let e,n,i;function o(){t[8].call(e,t[15],t[16])}return{c(){e=j("textarea"),this.h()},l(r){e=x(r,"TEXTAREA",{"data-role":!0,class:!0}),Z(e).forEach(C),this.h()},h(){v(e,"data-role","textarea"),v(e,"class","w-100")},m(r,s){ee(r,e,s),Lt(e,t[14].content),n||(i=ke(e,"input",o),n=!0)},p(r,s){t=r,s&1&&Lt(e,t[14].content)},d(r){r&&C(e),n=!1,i()}}}function Dr(t){let e,n,i="Tool Calls:",o,r=Ue(t[14].tool_calls),s=[];for(let l=0;l<r.length;l+=1)s[l]=Ir(Pr(t,r,l));return{c(){e=j("div"),n=j("strong"),n.textContent=i,o=le();for(let l=0;l<s.length;l+=1)s[l].c();this.h()},l(l){e=x(l,"DIV",{class:!0});var a=Z(e);n=x(a,"STRONG",{"data-svelte-h":!0}),At(n)!=="svelte-lg2hf7"&&(n.textContent=i),o=se(a);for(let u=0;u<s.length;u+=1)s[u].l(a);a.forEach(C),this.h()},h(){v(e,"class","tool-usage svelte-1e67x8p")},m(l,a){ee(l,e,a),L(e,n),L(e,o);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(e,null)},p(l,a){if(a&1){r=Ue(l[14].tool_calls);let u;for(u=0;u<r.length;u+=1){const c=Pr(l,r,u);s[u]?s[u].p(c,a):(s[u]=Ir(c),s[u].c(),s[u].m(e,null))}for(;u<s.length;u+=1)s[u].d(1);s.length=r.length}},d(l){l&&C(e),Ft(s,l)}}}function Ir(t){let e,n,i=t[18].name+"",o,r,s,l=t[18].args+"",a,u;return{c(){e=j("div"),n=j("span"),o=We(i),r=le(),s=j("div"),a=We(l),u=le(),this.h()},l(c){e=x(c,"DIV",{class:!0});var d=Z(e);n=x(d,"SPAN",{class:!0});var f=Z(n);o=Ke(f,i),f.forEach(C),r=se(d),s=x(d,"DIV",{class:!0});var h=Z(s);a=Ke(h,l),h.forEach(C),u=se(d),d.forEach(C),this.h()},h(){v(n,"class","tool-name svelte-1e67x8p"),v(s,"class","tool-args"),v(e,"class","tool-call svelte-1e67x8p")},m(c,d){ee(c,e,d),L(e,n),L(n,o),L(e,r),L(e,s),L(s,a),L(e,u)},p(c,d){d&1&&i!==(i=c[18].name+"")&&Fe(o,i),d&1&&l!==(l=c[18].args+"")&&Fe(a,l)},d(c){c&&C(e)}}}function Nr(t){let e,n=t[14].role!=="developer"&&t[14].role!=="tool"&&Tr(t);return{c(){n&&n.c(),e=He()},l(i){n&&n.l(i),e=He()},m(i,o){n&&n.m(i,o),ee(i,e,o)},p(i,o){i[14].role!=="developer"&&i[14].role!=="tool"?n?n.p(i,o):(n=Tr(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(i){i&&C(e),n&&n.d(i)}}}function O1(t){let e,n,i,o,r,s,l,a,u,c,d,f,h,m,y,_,g=Ue(t[0]),w=[];for(let b=0;b<g.length;b+=1)w[b]=Nr(Mr(t,g,b));return{c(){e=j("div");for(let b=0;b<w.length;b+=1)w[b].c();n=le(),i=j("div"),o=j("form"),r=j("input"),l=le(),a=j("button"),u=j("span"),d=le(),f=j("button"),h=j("span"),this.h()},l(b){e=x(b,"DIV",{class:!0});var p=Z(e);for(let N=0;N<w.length;N+=1)w[N].l(p);p.forEach(C),n=se(b),i=x(b,"DIV",{class:!0});var T=Z(i);o=x(T,"FORM",{class:!0});var A=Z(o);r=x(A,"INPUT",{type:!0,placeholder:!0,"data-role":!0,class:!0}),l=se(A),a=x(A,"BUTTON",{type:!0,class:!0});var S=Z(a);u=x(S,"SPAN",{class:!0}),Z(u).forEach(C),S.forEach(C),d=se(A),f=x(A,"BUTTON",{type:!0,class:!0});var V=Z(f);h=x(V,"SPAN",{class:!0}),Z(h).forEach(C),V.forEach(C),A.forEach(C),T.forEach(C),this.h()},h(){v(e,"class","chat-container svelte-1e67x8p"),v(r,"type","text"),v(r,"placeholder","Type your message..."),v(r,"data-role","input"),r.disabled=s=t[3].isThinking||t[3].isRecording||t[3].isSpeaking,v(r,"class","svelte-1e67x8p"),v(u,"class","mif-space-shuttle"),v(a,"type","submit"),v(a,"class","button primary send-button svelte-1e67x8p"),a.disabled=c=t[3].isThinking||t[3].isRecording||t[3].isSpeaking,v(h,"class","mif-bin"),v(f,"type","button"),v(f,"class","button alert clear-button svelte-1e67x8p"),f.disabled=m=t[3].isThinking||t[3].isRecording||t[3].isSpeaking,v(o,"class","input-form svelte-1e67x8p"),v(i,"class","input-container svelte-1e67x8p")},m(b,p){ee(b,e,p);for(let T=0;T<w.length;T+=1)w[T]&&w[T].m(e,null);t[11](e),ee(b,n,p),ee(b,i,p),L(i,o),L(o,r),Lt(r,t[2]),L(o,l),L(o,a),L(a,u),L(o,d),L(o,f),L(f,h),y||(_=[ke(r,"input",t[12]),ke(f,"click",t[6]),ke(o,"submit",t[7])],y=!0)},p(b,[p]){if(p&49){g=Ue(b[0]);let T;for(T=0;T<g.length;T+=1){const A=Mr(b,g,T);w[T]?w[T].p(A,p):(w[T]=Nr(A),w[T].c(),w[T].m(e,null))}for(;T<w.length;T+=1)w[T].d(1);w.length=g.length}p&8&&s!==(s=b[3].isThinking||b[3].isRecording||b[3].isSpeaking)&&(r.disabled=s),p&4&&r.value!==b[2]&&Lt(r,b[2]),p&8&&c!==(c=b[3].isThinking||b[3].isRecording||b[3].isSpeaking)&&(a.disabled=c),p&8&&m!==(m=b[3].isThinking||b[3].isRecording||b[3].isSpeaking)&&(f.disabled=m)},i:Ce,o:Ce,d(b){b&&(C(e),C(n),C(i)),Ft(w,b),t[11](null),y=!1,dt(_)}}}function A1(t){if(!t.function)return"";const e=JSON.parse(t.function.arguments||"{}");return{name:t.function.name,args:JSON.stringify(e,null,2)}}function H1(t,e,n){let i,o;$(t,Bt,g=>n(0,i=g)),$(t,oo,g=>n(3,o=g));let r,s="";function l(g){Rt(Bt,i=i.filter((w,b)=>b!==g),i)}function a(g){Rt(Bt,i[g].isEditing=!i[g].isEditing,i),Rt(Bt,i=[...i],i)}function u(){Bt.reset()}function c(){r&&n(1,r.scrollTop=r.scrollHeight,r)}function d(g){g.preventDefault(),s.trim()&&(Rt(Bt,i=[...i,{role:"user",content:s}],i),n(2,s=""),oo.handleTextInput())}function f(g,w){g[w].content=this.value,Bt.set(i)}const h=g=>a(g),m=g=>l(g);function y(g){Cn[g?"unshift":"push"](()=>{r=g,n(1,r)})}function _(){s=this.value,n(2,s)}return t.$$.update=()=>{t.$$.dirty&1&&i&&setTimeout(c,0)},[i,r,s,o,l,a,u,d,f,h,m,y,_]}class V1 extends _e{constructor(e){super(),ye(this,e,H1,O1,ve,{})}}function zr(t,e,n){const i=t.slice();return i[9]=e[n],i}function R1(t){let e,n=`<span class="mif-checkmark fg-green mr-2"></span>
                No suggestions at this time - your project planning looks good!`;return{c(){e=j("div"),e.innerHTML=n,this.h()},l(i){e=x(i,"DIV",{class:!0,"data-svelte-h":!0}),At(e)!=="svelte-8agedn"&&(e.innerHTML=n),this.h()},h(){v(e,"class","text-muted")},m(i,o){ee(i,e,o)},p:Ce,d(i){i&&C(e)}}}function X1(t){let e,n=Ue(t[0]),i=[];for(let o=0;o<n.length;o+=1)i[o]=Or(zr(t,n,o));return{c(){e=j("ul");for(let o=0;o<i.length;o+=1)i[o].c();this.h()},l(o){e=x(o,"UL",{class:!0});var r=Z(e);for(let s=0;s<i.length;s+=1)i[s].l(r);r.forEach(C),this.h()},h(){v(e,"class","mt-0 mb-0")},m(o,r){ee(o,e,r);for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(e,null)},p(o,r){if(r&1){n=Ue(o[0]);let s;for(s=0;s<n.length;s+=1){const l=zr(o,n,s);i[s]?i[s].p(l,r):(i[s]=Or(l),i[s].c(),i[s].m(e,null))}for(;s<i.length;s+=1)i[s].d(1);i.length=n.length}},d(o){o&&C(e),Ft(i,o)}}}function Or(t){let e,n,i,o=t[9].text+"",r,s,l,a=new Date(t[9].timestamp).toLocaleString()+"",u,c;return{c(){e=j("li"),n=j("span"),i=le(),r=We(o),s=le(),l=j("small"),u=We(a),c=le(),this.h()},l(d){e=x(d,"LI",{class:!0});var f=Z(e);n=x(f,"SPAN",{class:!0}),Z(n).forEach(C),i=se(f),r=Ke(f,o),s=se(f),l=x(f,"SMALL",{class:!0});var h=Z(l);u=Ke(h,a),h.forEach(C),c=se(f),f.forEach(C),this.h()},h(){v(n,"class","mif-lightbulb fg-amber mr-2"),v(l,"class","text-muted ml-2"),v(e,"class","mt-1")},m(d,f){ee(d,e,f),L(e,n),L(e,i),L(e,r),L(e,s),L(e,l),L(l,u),L(e,c)},p(d,f){f&1&&o!==(o=d[9].text+"")&&Fe(r,o),f&1&&a!==(a=new Date(d[9].timestamp).toLocaleString()+"")&&Fe(u,a)},d(d){d&&C(e)}}}function L1(t){let e,n,i="AI Suggestions",o,r;function s(u,c){return u[0].length>0?X1:R1}let l=s(t),a=l(t);return{c(){e=j("div"),n=j("div"),n.textContent=i,o=le(),r=j("div"),a.c(),this.h()},l(u){e=x(u,"DIV",{class:!0});var c=Z(e);n=x(c,"DIV",{class:!0,"data-svelte-h":!0}),At(n)!=="svelte-r0c7jt"&&(n.textContent=i),o=se(c),r=x(c,"DIV",{class:!0});var d=Z(r);a.l(d),d.forEach(C),c.forEach(C),this.h()},h(){v(n,"class","text-leader"),v(r,"class","border bd-default p-2 mt-2"),v(e,"class","p-2")},m(u,c){ee(u,e,c),L(e,n),L(e,o),L(e,r),a.m(r,null)},p(u,[c]){l===(l=s(u))&&a?a.p(u,c):(a.d(1),a=l(u),a&&(a.c(),a.m(r,null)))},i:Ce,o:Ce,d(u){u&&C(e),a.d()}}}function Y1(t,e,n){let i,o,r,s,l;$(t,Vr,d=>n(4,i=d)),$(t,bs,d=>n(7,s=d)),$(t,ys,d=>n(0,l=d));const a=Ei("tasks");$(t,a,d=>n(6,r=d));const u=Ei("resources");$(t,u,d=>n(5,o=d));function c(){const d=[],f=s;if(f!=null&&f.projectName||d.push("Define a project name in the Project Charter"),(!(f!=null&&f.startDate)||!(f!=null&&f.endDate))&&d.push("Set project start and end dates in the Project Charter"),!r||r.toJSON().length<=1)d.push("Start by adding some initial tasks to your project");else{const h=r.toJSON().slice(1);h.filter(_=>!_[6]).length>0&&d.push("Review tasks without dependencies to ensure proper sequencing"),h.filter(_=>!_[5]).length>0&&d.push("Assign resources to tasks that currently have none")}return(!o||o.toJSON().length<=1)&&d.push("Add resource availability information to enable proper resource planning"),i!=null&&i.length||d.push("Calculate the critical path to identify crucial project tasks"),d}return c(),[l,a,u]}class B1 extends _e{constructor(e){super(),ye(this,e,Y1,L1,ve,{})}}function W1(t){let e,n,i,o='<li><a href="#_target_1">Tasks</a></li> <li><a href="#_target_2">Resources</a></li> <li><a href="#_target_3">Instructions</a></li> <li><a href="#_target_4">Suggestions</a></li>',r,s,l,a,u,c,d,f,h,m,y,_,g,w,b,p,T;return a=new Cr({props:{name:"tasks"}}),d=new Cr({props:{name:"resources"}}),m=new V1({}),g=new B1({}),p=new T1({}),{c(){e=j("div"),n=j("div"),i=j("ul"),i.innerHTML=o,r=le(),s=j("div"),l=j("div"),ce(a.$$.fragment),u=le(),c=j("div"),ce(d.$$.fragment),f=le(),h=j("div"),ce(m.$$.fragment),y=le(),_=j("div"),ce(g.$$.fragment),w=le(),b=j("div"),ce(p.$$.fragment),this.h()},l(A){e=x(A,"DIV",{"data-role":!0,class:!0,"data-split-sizes":!0});var S=Z(e);n=x(S,"DIV",{class:!0});var V=Z(n);i=x(V,"UL",{"data-role":!0,"data-expand":!0,"data-svelte-h":!0}),At(i)!=="svelte-13li787"&&(i.innerHTML=o),r=se(V),s=x(V,"DIV",{class:!0});var N=Z(s);l=x(N,"DIV",{id:!0});var B=Z(l);he(a.$$.fragment,B),B.forEach(C),u=se(N),c=x(N,"DIV",{id:!0});var U=Z(c);he(d.$$.fragment,U),U.forEach(C),f=se(N),h=x(N,"DIV",{id:!0});var K=Z(h);he(m.$$.fragment,K),K.forEach(C),y=se(N),_=x(N,"DIV",{id:!0});var O=Z(_);he(g.$$.fragment,O),O.forEach(C),N.forEach(C),V.forEach(C),w=se(S),b=x(S,"DIV",{class:!0});var k=Z(b);he(p.$$.fragment,k),k.forEach(C),S.forEach(C),this.h()},h(){v(i,"data-role","tabs"),v(i,"data-expand","true"),v(l,"id","_target_1"),v(c,"id","_target_2"),v(h,"id","_target_3"),v(_,"id","_target_4"),v(s,"class","border bd-default no-border-top p-2 scrollable svelte-1bqzv3n"),v(n,"class",""),v(b,"class","d-flex flex-justify-center flex-align-center"),v(e,"data-role","splitter"),v(e,"class","h-100"),v(e,"data-split-sizes","30, 70")},m(A,S){ee(A,e,S),L(e,n),L(n,i),L(n,r),L(n,s),L(s,l),fe(a,l,null),L(s,u),L(s,c),fe(d,c,null),L(s,f),L(s,h),fe(m,h,null),L(s,y),L(s,_),fe(g,_,null),L(e,w),L(e,b),fe(p,b,null),T=!0},p:Ce,i(A){T||(F(a.$$.fragment,A),F(d.$$.fragment,A),F(m.$$.fragment,A),F(g.$$.fragment,A),F(p.$$.fragment,A),T=!0)},o(A){J(a.$$.fragment,A),J(d.$$.fragment,A),J(m.$$.fragment,A),J(g.$$.fragment,A),J(p.$$.fragment,A),T=!1},d(A){A&&C(e),de(a),de(d),de(m),de(g),de(p)}}}class x1 extends _e{constructor(e){super(),ye(this,e,null,W1,ve,{})}}export{x1 as component};
