import{s as ce,n as St,o as ue,b as pe,r as fe,e as $t,f as Xt}from"../chunks/scheduler.72a81396.js";import{S as de,i as re,g as B,h as S,j as W,f as k,k as E,a as gt,s as rt,r as _e,x as Yt,c as ht,u as ge,l as _t,y as x,v as me,z as ft,d as ve,t as we,A as bt,w as ye,m as Ce,n as be,o as xe}from"../chunks/index.d11d4d66.js";import{e as pt}from"../chunks/each.e59479a4.js";import{c as Ee,r as Jt,t as Vt}from"../chunks/criticalPath.store.aedc5f59.js";var Le=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Re(C){return C&&C.__esModule&&Object.prototype.hasOwnProperty.call(C,"default")?C.default:C}var he={exports:{}};(function(C,g){(function(m,r){C.exports=r()})(typeof self<"u"?self:Le,function(){return function(m){var r={};function f(y){if(r[y])return r[y].exports;var c=r[y]={i:y,l:!1,exports:{}};return m[y].call(c.exports,c,c.exports,f),c.l=!0,c.exports}return f.m=m,f.c=r,f.d=function(y,c,t){f.o(y,c)||Object.defineProperty(y,c,{enumerable:!0,get:t})},f.r=function(y){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(y,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(y,"__esModule",{value:!0})},f.t=function(y,c){if(1&c&&(y=f(y)),8&c||4&c&&typeof y=="object"&&y&&y.__esModule)return y;var t=Object.create(null);if(f.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:y}),2&c&&typeof y!="string")for(var n in y)f.d(t,n,(function(s){return y[s]}).bind(null,n));return t},f.n=function(y){var c=y&&y.__esModule?function(){return y.default}:function(){return y};return f.d(c,"a",c),c},f.o=function(y,c){return Object.prototype.hasOwnProperty.call(y,c)},f.p="",f(f.s=0)}([function(m,r,f){f.r(r),f.d(r,"default",function(){return y});class y{constructor(t,n=null,s=null){this.events={},this.container=t,this.precanvas=null,this.nodeId=1,this.ele_selected=null,this.node_selected=null,this.drag=!1,this.reroute=!1,this.reroute_fix_curvature=!1,this.curvature=.5,this.reroute_curvature_start_end=.5,this.reroute_curvature=.5,this.reroute_width=6,this.drag_point=!1,this.editor_selected=!1,this.connection=!1,this.connection_ele=null,this.connection_selected=null,this.canvas_x=0,this.canvas_y=0,this.pos_x=0,this.pos_x_start=0,this.pos_y=0,this.pos_y_start=0,this.mouse_x=0,this.mouse_y=0,this.line_path=5,this.first_click=null,this.force_first_input=!1,this.draggable_inputs=!0,this.useuuid=!1,this.parent=s,this.noderegister={},this.render=n,this.drawflow={drawflow:{Home:{data:{}}}},this.module="Home",this.editor_mode="edit",this.zoom=1,this.zoom_max=1.6,this.zoom_min=.5,this.zoom_value=.1,this.zoom_last_value=1,this.evCache=new Array,this.prevDiff=-1}start(){this.container.classList.add("parent-drawflow"),this.container.tabIndex=0,this.precanvas=document.createElement("div"),this.precanvas.classList.add("drawflow"),this.container.appendChild(this.precanvas),this.container.addEventListener("mouseup",this.dragEnd.bind(this)),this.container.addEventListener("mousemove",this.position.bind(this)),this.container.addEventListener("mousedown",this.click.bind(this)),this.container.addEventListener("touchend",this.dragEnd.bind(this)),this.container.addEventListener("touchmove",this.position.bind(this)),this.container.addEventListener("touchstart",this.click.bind(this)),this.container.addEventListener("contextmenu",this.contextmenu.bind(this)),this.container.addEventListener("keydown",this.key.bind(this)),this.container.addEventListener("wheel",this.zoom_enter.bind(this)),this.container.addEventListener("input",this.updateNodeValue.bind(this)),this.container.addEventListener("dblclick",this.dblclick.bind(this)),this.container.onpointerdown=this.pointerdown_handler.bind(this),this.container.onpointermove=this.pointermove_handler.bind(this),this.container.onpointerup=this.pointerup_handler.bind(this),this.container.onpointercancel=this.pointerup_handler.bind(this),this.container.onpointerout=this.pointerup_handler.bind(this),this.container.onpointerleave=this.pointerup_handler.bind(this),this.load()}pointerdown_handler(t){this.evCache.push(t)}pointermove_handler(t){for(var n=0;n<this.evCache.length;n++)if(t.pointerId==this.evCache[n].pointerId){this.evCache[n]=t;break}if(this.evCache.length==2){var s=Math.abs(this.evCache[0].clientX-this.evCache[1].clientX);this.prevDiff>100&&(s>this.prevDiff&&this.zoom_in(),s<this.prevDiff&&this.zoom_out()),this.prevDiff=s}}pointerup_handler(t){this.remove_event(t),this.evCache.length<2&&(this.prevDiff=-1)}remove_event(t){for(var n=0;n<this.evCache.length;n++)if(this.evCache[n].pointerId==t.pointerId){this.evCache.splice(n,1);break}}load(){for(var t in this.drawflow.drawflow[this.module].data)this.addNodeImport(this.drawflow.drawflow[this.module].data[t],this.precanvas);if(this.reroute)for(var t in this.drawflow.drawflow[this.module].data)this.addRerouteImport(this.drawflow.drawflow[this.module].data[t]);for(var t in this.drawflow.drawflow[this.module].data)this.updateConnectionNodes("node-"+t);const n=this.drawflow.drawflow;let s=1;Object.keys(n).map(function(i,e){Object.keys(n[i].data).map(function(l,h){parseInt(l)>=s&&(s=parseInt(l)+1)})}),this.nodeId=s}removeReouteConnectionSelected(){this.dispatch("connectionUnselected",!0),this.reroute_fix_curvature&&this.connection_selected.parentElement.querySelectorAll(".main-path").forEach((t,n)=>{t.classList.remove("selected")})}click(t){if(this.dispatch("click",t),this.editor_mode==="fixed"){if(t.preventDefault(),t.target.classList[0]!=="parent-drawflow"&&t.target.classList[0]!=="drawflow")return!1;this.ele_selected=t.target.closest(".parent-drawflow")}else this.editor_mode==="view"?(t.target.closest(".drawflow")!=null||t.target.matches(".parent-drawflow"))&&(this.ele_selected=t.target.closest(".parent-drawflow"),t.preventDefault()):(this.first_click=t.target,this.ele_selected=t.target,t.button===0&&this.contextmenuDel(),t.target.closest(".drawflow_content_node")!=null&&(this.ele_selected=t.target.closest(".drawflow_content_node").parentElement));switch(this.ele_selected.classList[0]){case"drawflow-node":this.node_selected!=null&&(this.node_selected.classList.remove("selected"),this.node_selected!=this.ele_selected&&this.dispatch("nodeUnselected",!0)),this.connection_selected!=null&&(this.connection_selected.classList.remove("selected"),this.removeReouteConnectionSelected(),this.connection_selected=null),this.node_selected!=this.ele_selected&&this.dispatch("nodeSelected",this.ele_selected.id.slice(5)),this.node_selected=this.ele_selected,this.node_selected.classList.add("selected"),this.draggable_inputs?t.target.tagName!=="SELECT"&&(this.drag=!0):t.target.tagName!=="INPUT"&&t.target.tagName!=="TEXTAREA"&&t.target.tagName!=="SELECT"&&t.target.hasAttribute("contenteditable")!==!0&&(this.drag=!0);break;case"output":this.connection=!0,this.node_selected!=null&&(this.node_selected.classList.remove("selected"),this.node_selected=null,this.dispatch("nodeUnselected",!0)),this.connection_selected!=null&&(this.connection_selected.classList.remove("selected"),this.removeReouteConnectionSelected(),this.connection_selected=null),this.drawConnection(t.target);break;case"parent-drawflow":case"drawflow":this.node_selected!=null&&(this.node_selected.classList.remove("selected"),this.node_selected=null,this.dispatch("nodeUnselected",!0)),this.connection_selected!=null&&(this.connection_selected.classList.remove("selected"),this.removeReouteConnectionSelected(),this.connection_selected=null),this.editor_selected=!0;break;case"main-path":this.node_selected!=null&&(this.node_selected.classList.remove("selected"),this.node_selected=null,this.dispatch("nodeUnselected",!0)),this.connection_selected!=null&&(this.connection_selected.classList.remove("selected"),this.removeReouteConnectionSelected(),this.connection_selected=null),this.connection_selected=this.ele_selected,this.connection_selected.classList.add("selected");const n=this.connection_selected.parentElement.classList;n.length>1&&(this.dispatch("connectionSelected",{output_id:n[2].slice(14),input_id:n[1].slice(13),output_class:n[3],input_class:n[4]}),this.reroute_fix_curvature&&this.connection_selected.parentElement.querySelectorAll(".main-path").forEach((s,i)=>{s.classList.add("selected")}));break;case"point":this.drag_point=!0,this.ele_selected.classList.add("selected");break;case"drawflow-delete":this.node_selected&&this.removeNodeId(this.node_selected.id),this.connection_selected&&this.removeConnection(),this.node_selected!=null&&(this.node_selected.classList.remove("selected"),this.node_selected=null,this.dispatch("nodeUnselected",!0)),this.connection_selected!=null&&(this.connection_selected.classList.remove("selected"),this.removeReouteConnectionSelected(),this.connection_selected=null)}t.type==="touchstart"?(this.pos_x=t.touches[0].clientX,this.pos_x_start=t.touches[0].clientX,this.pos_y=t.touches[0].clientY,this.pos_y_start=t.touches[0].clientY,this.mouse_x=t.touches[0].clientX,this.mouse_y=t.touches[0].clientY):(this.pos_x=t.clientX,this.pos_x_start=t.clientX,this.pos_y=t.clientY,this.pos_y_start=t.clientY),["input","output","main-path"].includes(this.ele_selected.classList[0])&&t.preventDefault(),this.dispatch("clickEnd",t)}position(t){if(t.type==="touchmove")var n=t.touches[0].clientX,s=t.touches[0].clientY;else n=t.clientX,s=t.clientY;if(this.connection&&this.updateConnection(n,s),this.editor_selected&&(i=this.canvas_x+-(this.pos_x-n),e=this.canvas_y+-(this.pos_y-s),this.dispatch("translate",{x:i,y:e}),this.precanvas.style.transform="translate("+i+"px, "+e+"px) scale("+this.zoom+")"),this.drag){t.preventDefault();var i=(this.pos_x-n)*this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom),e=(this.pos_y-s)*this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom);this.pos_x=n,this.pos_y=s,this.ele_selected.style.top=this.ele_selected.offsetTop-e+"px",this.ele_selected.style.left=this.ele_selected.offsetLeft-i+"px",this.drawflow.drawflow[this.module].data[this.ele_selected.id.slice(5)].pos_x=this.ele_selected.offsetLeft-i,this.drawflow.drawflow[this.module].data[this.ele_selected.id.slice(5)].pos_y=this.ele_selected.offsetTop-e,this.updateConnectionNodes(this.ele_selected.id)}if(this.drag_point){i=(this.pos_x-n)*this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom),e=(this.pos_y-s)*this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom),this.pos_x=n,this.pos_y=s;var l=this.pos_x*(this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom))-this.precanvas.getBoundingClientRect().x*(this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom)),h=this.pos_y*(this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom))-this.precanvas.getBoundingClientRect().y*(this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom));this.ele_selected.setAttributeNS(null,"cx",l),this.ele_selected.setAttributeNS(null,"cy",h);const u=this.ele_selected.parentElement.classList[2].slice(9),a=this.ele_selected.parentElement.classList[1].slice(13),o=this.ele_selected.parentElement.classList[3],d=this.ele_selected.parentElement.classList[4];let p=Array.from(this.ele_selected.parentElement.children).indexOf(this.ele_selected)-1;this.reroute_fix_curvature&&(p-=this.ele_selected.parentElement.querySelectorAll(".main-path").length-1,p<0&&(p=0));const _=u.slice(5),v=this.drawflow.drawflow[this.module].data[_].outputs[o].connections.findIndex(function(R,I){return R.node===a&&R.output===d});this.drawflow.drawflow[this.module].data[_].outputs[o].connections[v].points[p]={pos_x:l,pos_y:h};const L=this.ele_selected.parentElement.classList[2].slice(9);this.updateConnectionNodes(L)}t.type==="touchmove"&&(this.mouse_x=n,this.mouse_y=s),this.dispatch("mouseMove",{x:n,y:s})}dragEnd(t){if(t.type==="touchend")var n=this.mouse_x,s=this.mouse_y,i=document.elementFromPoint(n,s);else n=t.clientX,s=t.clientY,i=t.target;if(this.drag&&(this.pos_x_start==n&&this.pos_y_start==s||this.dispatch("nodeMoved",this.ele_selected.id.slice(5))),this.drag_point&&(this.ele_selected.classList.remove("selected"),this.pos_x_start==n&&this.pos_y_start==s||this.dispatch("rerouteMoved",this.ele_selected.parentElement.classList[2].slice(14))),this.editor_selected&&(this.canvas_x=this.canvas_x+-(this.pos_x-n),this.canvas_y=this.canvas_y+-(this.pos_y-s),this.editor_selected=!1),this.connection===!0)if(i.classList[0]==="input"||this.force_first_input&&(i.closest(".drawflow_content_node")!=null||i.classList[0]==="drawflow-node")){if(!this.force_first_input||i.closest(".drawflow_content_node")==null&&i.classList[0]!=="drawflow-node")e=i.parentElement.parentElement.id,l=i.classList[1];else{if(i.closest(".drawflow_content_node")!=null)var e=i.closest(".drawflow_content_node").parentElement.id;else var e=i.id;if(Object.keys(this.getNodeFromId(e.slice(5)).inputs).length===0)var l=!1;else var l="input_1"}var h=this.ele_selected.parentElement.parentElement.id,u=this.ele_selected.classList[1];if(h!==e&&l!==!1){if(this.container.querySelectorAll(".connection.node_in_"+e+".node_out_"+h+"."+u+"."+l).length===0){this.connection_ele.classList.add("node_in_"+e),this.connection_ele.classList.add("node_out_"+h),this.connection_ele.classList.add(u),this.connection_ele.classList.add(l);var a=e.slice(5),o=h.slice(5);this.drawflow.drawflow[this.module].data[o].outputs[u].connections.push({node:a,output:l}),this.drawflow.drawflow[this.module].data[a].inputs[l].connections.push({node:o,input:u}),this.updateConnectionNodes("node-"+o),this.updateConnectionNodes("node-"+a),this.dispatch("connectionCreated",{output_id:o,input_id:a,output_class:u,input_class:l})}else this.dispatch("connectionCancel",!0),this.connection_ele.remove();this.connection_ele=null}else this.dispatch("connectionCancel",!0),this.connection_ele.remove(),this.connection_ele=null}else this.dispatch("connectionCancel",!0),this.connection_ele.remove(),this.connection_ele=null;this.drag=!1,this.drag_point=!1,this.connection=!1,this.ele_selected=null,this.editor_selected=!1,this.dispatch("mouseUp",t)}contextmenu(t){if(this.dispatch("contextmenu",t),t.preventDefault(),this.editor_mode==="fixed"||this.editor_mode==="view")return!1;if(this.precanvas.getElementsByClassName("drawflow-delete").length&&this.precanvas.getElementsByClassName("drawflow-delete")[0].remove(),this.node_selected||this.connection_selected){var n=document.createElement("div");n.classList.add("drawflow-delete"),n.innerHTML="x",this.node_selected&&this.node_selected.appendChild(n),this.connection_selected&&this.connection_selected.parentElement.classList.length>1&&(n.style.top=t.clientY*(this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom))-this.precanvas.getBoundingClientRect().y*(this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom))+"px",n.style.left=t.clientX*(this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom))-this.precanvas.getBoundingClientRect().x*(this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom))+"px",this.precanvas.appendChild(n))}}contextmenuDel(){this.precanvas.getElementsByClassName("drawflow-delete").length&&this.precanvas.getElementsByClassName("drawflow-delete")[0].remove()}key(t){if(this.dispatch("keydown",t),this.editor_mode==="fixed"||this.editor_mode==="view")return!1;(t.key==="Delete"||t.key==="Backspace"&&t.metaKey)&&(this.node_selected!=null&&this.first_click.tagName!=="INPUT"&&this.first_click.tagName!=="TEXTAREA"&&this.first_click.hasAttribute("contenteditable")!==!0&&this.removeNodeId(this.node_selected.id),this.connection_selected!=null&&this.removeConnection())}zoom_enter(t,n){t.ctrlKey&&(t.preventDefault(),t.deltaY>0?this.zoom_out():this.zoom_in())}zoom_refresh(){this.dispatch("zoom",this.zoom),this.canvas_x=this.canvas_x/this.zoom_last_value*this.zoom,this.canvas_y=this.canvas_y/this.zoom_last_value*this.zoom,this.zoom_last_value=this.zoom,this.precanvas.style.transform="translate("+this.canvas_x+"px, "+this.canvas_y+"px) scale("+this.zoom+")"}zoom_in(){this.zoom<this.zoom_max&&(this.zoom+=this.zoom_value,this.zoom_refresh())}zoom_out(){this.zoom>this.zoom_min&&(this.zoom-=this.zoom_value,this.zoom_refresh())}zoom_reset(){this.zoom!=1&&(this.zoom=1,this.zoom_refresh())}createCurvature(t,n,s,i,e,l){var h=t,u=n,a=s,o=i,d=e;switch(l){case"open":if(t>=s)var p=h+Math.abs(a-h)*d,_=a-Math.abs(a-h)*(-1*d);else p=h+Math.abs(a-h)*d,_=a-Math.abs(a-h)*d;return" M "+h+" "+u+" C "+p+" "+u+" "+_+" "+o+" "+a+"  "+o;case"close":return t>=s?(p=h+Math.abs(a-h)*(-1*d),_=a-Math.abs(a-h)*d):(p=h+Math.abs(a-h)*d,_=a-Math.abs(a-h)*d)," M "+h+" "+u+" C "+p+" "+u+" "+_+" "+o+" "+a+"  "+o;case"other":return t>=s?(p=h+Math.abs(a-h)*(-1*d),_=a-Math.abs(a-h)*(-1*d)):(p=h+Math.abs(a-h)*d,_=a-Math.abs(a-h)*d)," M "+h+" "+u+" C "+p+" "+u+" "+_+" "+o+" "+a+"  "+o;default:return" M "+h+" "+u+" C "+(p=h+Math.abs(a-h)*d)+" "+u+" "+(_=a-Math.abs(a-h)*d)+" "+o+" "+a+"  "+o}}drawConnection(t){var n=document.createElementNS("http://www.w3.org/2000/svg","svg");this.connection_ele=n;var s=document.createElementNS("http://www.w3.org/2000/svg","path");s.classList.add("main-path"),s.setAttributeNS(null,"d",""),n.classList.add("connection"),n.appendChild(s),this.precanvas.appendChild(n);var i=t.parentElement.parentElement.id.slice(5),e=t.classList[1];this.dispatch("connectionStart",{output_id:i,output_class:e})}updateConnection(t,n){const s=this.precanvas,i=this.zoom;let e=s.clientWidth/(s.clientWidth*i);e=e||0;let l=s.clientHeight/(s.clientHeight*i);l=l||0;var h=this.connection_ele.children[0],u=this.ele_selected.offsetWidth/2+(this.ele_selected.getBoundingClientRect().x-s.getBoundingClientRect().x)*e,a=this.ele_selected.offsetHeight/2+(this.ele_selected.getBoundingClientRect().y-s.getBoundingClientRect().y)*l,o=t*(this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom))-this.precanvas.getBoundingClientRect().x*(this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom)),d=n*(this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom))-this.precanvas.getBoundingClientRect().y*(this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom)),p=this.curvature,_=this.createCurvature(u,a,o,d,p,"openclose");h.setAttributeNS(null,"d",_)}addConnection(t,n,s,i){var e=this.getModuleFromNodeId(t);if(e===this.getModuleFromNodeId(n)){var l=this.getNodeFromId(t),h=!1;for(var u in l.outputs[s].connections){var a=l.outputs[s].connections[u];a.node==n&&a.output==i&&(h=!0)}if(h===!1){if(this.drawflow.drawflow[e].data[t].outputs[s].connections.push({node:n.toString(),output:i}),this.drawflow.drawflow[e].data[n].inputs[i].connections.push({node:t.toString(),input:s}),this.module===e){var o=document.createElementNS("http://www.w3.org/2000/svg","svg"),d=document.createElementNS("http://www.w3.org/2000/svg","path");d.classList.add("main-path"),d.setAttributeNS(null,"d",""),o.classList.add("connection"),o.classList.add("node_in_node-"+n),o.classList.add("node_out_node-"+t),o.classList.add(s),o.classList.add(i),o.appendChild(d),this.precanvas.appendChild(o),this.updateConnectionNodes("node-"+t),this.updateConnectionNodes("node-"+n)}this.dispatch("connectionCreated",{output_id:t,input_id:n,output_class:s,input_class:i})}}}updateConnectionNodes(t){const n="node_in_"+t,s="node_out_"+t;this.line_path;const i=this.container,e=this.precanvas,l=this.curvature,h=this.createCurvature,u=this.reroute_curvature,a=this.reroute_curvature_start_end,o=this.reroute_fix_curvature,d=this.reroute_width,p=this.zoom;let _=e.clientWidth/(e.clientWidth*p);_=_||0;let v=e.clientHeight/(e.clientHeight*p);v=v||0;const L=i.querySelectorAll("."+s);Object.keys(L).map(function(I,J){if(L[I].querySelector(".point")===null){var F=i.querySelector("#"+t),j=L[I].classList[1].replace("node_in_",""),K=i.querySelector("#"+j).querySelectorAll("."+L[I].classList[4])[0],G=K.offsetWidth/2+(K.getBoundingClientRect().x-e.getBoundingClientRect().x)*_,ut=K.offsetHeight/2+(K.getBoundingClientRect().y-e.getBoundingClientRect().y)*v,lt=F.querySelectorAll("."+L[I].classList[3])[0],V=lt.offsetWidth/2+(lt.getBoundingClientRect().x-e.getBoundingClientRect().x)*_,st=lt.offsetHeight/2+(lt.getBoundingClientRect().y-e.getBoundingClientRect().y)*v;const U=h(V,st,G,ut,l,"openclose");L[I].children[0].setAttributeNS(null,"d",U)}else{const U=L[I].querySelectorAll(".point");let M="";const q=[];U.forEach((A,N)=>{if(N===0&&U.length-1==0){var H=i.querySelector("#"+t),D=(($=A).getBoundingClientRect().x-e.getBoundingClientRect().x)*_+d,z=($.getBoundingClientRect().y-e.getBoundingClientRect().y)*v+d,O=(X=H.querySelectorAll("."+A.parentElement.classList[3])[0]).offsetWidth/2+(X.getBoundingClientRect().x-e.getBoundingClientRect().x)*_,T=X.offsetHeight/2+(X.getBoundingClientRect().y-e.getBoundingClientRect().y)*v,P=h(O,T,D,z,a,"open");M+=P,q.push(P),H=A;var Y=A.parentElement.classList[1].replace("node_in_",""),$=(Q=i.querySelector("#"+Y)).querySelectorAll("."+A.parentElement.classList[4])[0];D=(at=Q.querySelectorAll("."+A.parentElement.classList[4])[0]).offsetWidth/2+(at.getBoundingClientRect().x-e.getBoundingClientRect().x)*_,z=at.offsetHeight/2+(at.getBoundingClientRect().y-e.getBoundingClientRect().y)*v,O=(H.getBoundingClientRect().x-e.getBoundingClientRect().x)*_+d,T=(H.getBoundingClientRect().y-e.getBoundingClientRect().y)*v+d,P=h(O,T,D,z,a,"close"),M+=P,q.push(P)}else if(N===0){var X;H=i.querySelector("#"+t),D=(($=A).getBoundingClientRect().x-e.getBoundingClientRect().x)*_+d,z=($.getBoundingClientRect().y-e.getBoundingClientRect().y)*v+d,O=(X=H.querySelectorAll("."+A.parentElement.classList[3])[0]).offsetWidth/2+(X.getBoundingClientRect().x-e.getBoundingClientRect().x)*_,T=X.offsetHeight/2+(X.getBoundingClientRect().y-e.getBoundingClientRect().y)*v,P=h(O,T,D,z,a,"open"),M+=P,q.push(P),H=A,D=(($=U[N+1]).getBoundingClientRect().x-e.getBoundingClientRect().x)*_+d,z=($.getBoundingClientRect().y-e.getBoundingClientRect().y)*v+d,O=(H.getBoundingClientRect().x-e.getBoundingClientRect().x)*_+d,T=(H.getBoundingClientRect().y-e.getBoundingClientRect().y)*v+d,P=h(O,T,D,z,u,"other"),M+=P,q.push(P)}else if(N===U.length-1){var Q,at;H=A,Y=A.parentElement.classList[1].replace("node_in_",""),$=(Q=i.querySelector("#"+Y)).querySelectorAll("."+A.parentElement.classList[4])[0],D=(at=Q.querySelectorAll("."+A.parentElement.classList[4])[0]).offsetWidth/2+(at.getBoundingClientRect().x-e.getBoundingClientRect().x)*_,z=at.offsetHeight/2+(at.getBoundingClientRect().y-e.getBoundingClientRect().y)*v,O=(H.getBoundingClientRect().x-e.getBoundingClientRect().x)*(e.clientWidth/(e.clientWidth*p))+d,T=(H.getBoundingClientRect().y-e.getBoundingClientRect().y)*(e.clientHeight/(e.clientHeight*p))+d,P=h(O,T,D,z,a,"close"),M+=P,q.push(P)}else H=A,D=(($=U[N+1]).getBoundingClientRect().x-e.getBoundingClientRect().x)*(e.clientWidth/(e.clientWidth*p))+d,z=($.getBoundingClientRect().y-e.getBoundingClientRect().y)*(e.clientHeight/(e.clientHeight*p))+d,O=(H.getBoundingClientRect().x-e.getBoundingClientRect().x)*(e.clientWidth/(e.clientWidth*p))+d,T=(H.getBoundingClientRect().y-e.getBoundingClientRect().y)*(e.clientHeight/(e.clientHeight*p))+d,P=h(O,T,D,z,u,"other"),M+=P,q.push(P)}),o?q.forEach((A,N)=>{L[I].children[N].setAttributeNS(null,"d",A)}):L[I].children[0].setAttributeNS(null,"d",M)}});const R=i.querySelectorAll("."+n);Object.keys(R).map(function(I,J){if(R[I].querySelector(".point")===null){var F=i.querySelector("#"+t),j=R[I].classList[2].replace("node_out_",""),K=i.querySelector("#"+j).querySelectorAll("."+R[I].classList[3])[0],G=K.offsetWidth/2+(K.getBoundingClientRect().x-e.getBoundingClientRect().x)*_,ut=K.offsetHeight/2+(K.getBoundingClientRect().y-e.getBoundingClientRect().y)*v,lt=(F=F.querySelectorAll("."+R[I].classList[4])[0]).offsetWidth/2+(F.getBoundingClientRect().x-e.getBoundingClientRect().x)*_,V=F.offsetHeight/2+(F.getBoundingClientRect().y-e.getBoundingClientRect().y)*v;const st=h(G,ut,lt,V,l,"openclose");R[I].children[0].setAttributeNS(null,"d",st)}else{const st=R[I].querySelectorAll(".point");let U="";const M=[];st.forEach((q,A)=>{if(A===0&&st.length-1==0){var N=i.querySelector("#"+t),H=((Y=q).getBoundingClientRect().x-e.getBoundingClientRect().x)*_+d,D=(Y.getBoundingClientRect().y-e.getBoundingClientRect().y)*v+d,z=(Q=N.querySelectorAll("."+q.parentElement.classList[4])[0]).offsetWidth/2+(Q.getBoundingClientRect().x-e.getBoundingClientRect().x)*_,O=Q.offsetHeight/2+(Q.getBoundingClientRect().y-e.getBoundingClientRect().y)*v,T=h(H,D,z,O,a,"close");U+=T,M.push(T),N=q;var P=q.parentElement.classList[2].replace("node_out_",""),Y=(X=i.querySelector("#"+P)).querySelectorAll("."+q.parentElement.classList[3])[0];H=($=X.querySelectorAll("."+q.parentElement.classList[3])[0]).offsetWidth/2+($.getBoundingClientRect().x-e.getBoundingClientRect().x)*_,D=$.offsetHeight/2+($.getBoundingClientRect().y-e.getBoundingClientRect().y)*v,z=(N.getBoundingClientRect().x-e.getBoundingClientRect().x)*_+d,O=(N.getBoundingClientRect().y-e.getBoundingClientRect().y)*v+d,T=h(H,D,z,O,a,"open"),U+=T,M.push(T)}else if(A===0){var $;N=q,P=q.parentElement.classList[2].replace("node_out_",""),Y=(X=i.querySelector("#"+P)).querySelectorAll("."+q.parentElement.classList[3])[0],H=($=X.querySelectorAll("."+q.parentElement.classList[3])[0]).offsetWidth/2+($.getBoundingClientRect().x-e.getBoundingClientRect().x)*_,D=$.offsetHeight/2+($.getBoundingClientRect().y-e.getBoundingClientRect().y)*v,z=(N.getBoundingClientRect().x-e.getBoundingClientRect().x)*_+d,O=(N.getBoundingClientRect().y-e.getBoundingClientRect().y)*v+d,T=h(H,D,z,O,a,"open"),U+=T,M.push(T),N=q,z=((Y=st[A+1]).getBoundingClientRect().x-e.getBoundingClientRect().x)*_+d,O=(Y.getBoundingClientRect().y-e.getBoundingClientRect().y)*v+d,H=(N.getBoundingClientRect().x-e.getBoundingClientRect().x)*_+d,D=(N.getBoundingClientRect().y-e.getBoundingClientRect().y)*v+d,T=h(H,D,z,O,u,"other"),U+=T,M.push(T)}else if(A===st.length-1){var X,Q;N=q,P=q.parentElement.classList[1].replace("node_in_",""),Y=(X=i.querySelector("#"+P)).querySelectorAll("."+q.parentElement.classList[4])[0],z=(Q=X.querySelectorAll("."+q.parentElement.classList[4])[0]).offsetWidth/2+(Q.getBoundingClientRect().x-e.getBoundingClientRect().x)*_,O=Q.offsetHeight/2+(Q.getBoundingClientRect().y-e.getBoundingClientRect().y)*v,H=(N.getBoundingClientRect().x-e.getBoundingClientRect().x)*_+d,D=(N.getBoundingClientRect().y-e.getBoundingClientRect().y)*v+d,T=h(H,D,z,O,a,"close"),U+=T,M.push(T)}else N=q,z=((Y=st[A+1]).getBoundingClientRect().x-e.getBoundingClientRect().x)*_+d,O=(Y.getBoundingClientRect().y-e.getBoundingClientRect().y)*v+d,H=(N.getBoundingClientRect().x-e.getBoundingClientRect().x)*_+d,D=(N.getBoundingClientRect().y-e.getBoundingClientRect().y)*v+d,T=h(H,D,z,O,u,"other"),U+=T,M.push(T)}),o?M.forEach((q,A)=>{R[I].children[A].setAttributeNS(null,"d",q)}):R[I].children[0].setAttributeNS(null,"d",U)}})}dblclick(t){this.connection_selected!=null&&this.reroute&&this.createReroutePoint(this.connection_selected),t.target.classList[0]==="point"&&this.removeReroutePoint(t.target)}createReroutePoint(t){this.connection_selected.classList.remove("selected");const n=this.connection_selected.parentElement.classList[2].slice(9),s=this.connection_selected.parentElement.classList[1].slice(13),i=this.connection_selected.parentElement.classList[3],e=this.connection_selected.parentElement.classList[4];this.connection_selected=null;const l=document.createElementNS("http://www.w3.org/2000/svg","circle");l.classList.add("point");var h=this.pos_x*(this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom))-this.precanvas.getBoundingClientRect().x*(this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom)),u=this.pos_y*(this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom))-this.precanvas.getBoundingClientRect().y*(this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom));l.setAttributeNS(null,"cx",h),l.setAttributeNS(null,"cy",u),l.setAttributeNS(null,"r",this.reroute_width);let a=0;if(this.reroute_fix_curvature){const _=t.parentElement.querySelectorAll(".main-path").length;var o=document.createElementNS("http://www.w3.org/2000/svg","path");if(o.classList.add("main-path"),o.setAttributeNS(null,"d",""),t.parentElement.insertBefore(o,t.parentElement.children[_]),_===1)t.parentElement.appendChild(l);else{const v=Array.from(t.parentElement.children).indexOf(t);a=v,t.parentElement.insertBefore(l,t.parentElement.children[v+_+1])}}else t.parentElement.appendChild(l);const d=n.slice(5),p=this.drawflow.drawflow[this.module].data[d].outputs[i].connections.findIndex(function(_,v){return _.node===s&&_.output===e});this.drawflow.drawflow[this.module].data[d].outputs[i].connections[p].points===void 0&&(this.drawflow.drawflow[this.module].data[d].outputs[i].connections[p].points=[]),this.reroute_fix_curvature?(a>0||this.drawflow.drawflow[this.module].data[d].outputs[i].connections[p].points!==[]?this.drawflow.drawflow[this.module].data[d].outputs[i].connections[p].points.splice(a,0,{pos_x:h,pos_y:u}):this.drawflow.drawflow[this.module].data[d].outputs[i].connections[p].points.push({pos_x:h,pos_y:u}),t.parentElement.querySelectorAll(".main-path").forEach((_,v)=>{_.classList.remove("selected")})):this.drawflow.drawflow[this.module].data[d].outputs[i].connections[p].points.push({pos_x:h,pos_y:u}),this.dispatch("addReroute",d),this.updateConnectionNodes(n)}removeReroutePoint(t){const n=t.parentElement.classList[2].slice(9),s=t.parentElement.classList[1].slice(13),i=t.parentElement.classList[3],e=t.parentElement.classList[4];let l=Array.from(t.parentElement.children).indexOf(t);const h=n.slice(5),u=this.drawflow.drawflow[this.module].data[h].outputs[i].connections.findIndex(function(a,o){return a.node===s&&a.output===e});if(this.reroute_fix_curvature){const a=t.parentElement.querySelectorAll(".main-path").length;t.parentElement.children[a-1].remove(),l-=a,l<0&&(l=0)}else l--;this.drawflow.drawflow[this.module].data[h].outputs[i].connections[u].points.splice(l,1),t.remove(),this.dispatch("removeReroute",h),this.updateConnectionNodes(n)}registerNode(t,n,s=null,i=null){this.noderegister[t]={html:n,props:s,options:i}}getNodeFromId(t){var n=this.getModuleFromNodeId(t);return JSON.parse(JSON.stringify(this.drawflow.drawflow[n].data[t]))}getNodesFromName(t){var n=[];const s=this.drawflow.drawflow;return Object.keys(s).map(function(i,e){for(var l in s[i].data)s[i].data[l].name==t&&n.push(s[i].data[l].id)}),n}addNode(t,n,s,i,e,l,h,u,a=!1){if(this.useuuid)var o=this.getUuid();else o=this.nodeId;const d=document.createElement("div");d.classList.add("parent-node");const p=document.createElement("div");p.innerHTML="",p.setAttribute("id","node-"+o),p.classList.add("drawflow-node"),l!=""&&p.classList.add(...l.split(" "));const _=document.createElement("div");_.classList.add("inputs");const v=document.createElement("div");v.classList.add("outputs");const L={};for(var R=0;R<n;R++){const j=document.createElement("div");j.classList.add("input"),j.classList.add("input_"+(R+1)),L["input_"+(R+1)]={connections:[]},_.appendChild(j)}const I={};for(R=0;R<s;R++){const j=document.createElement("div");j.classList.add("output"),j.classList.add("output_"+(R+1)),I["output_"+(R+1)]={connections:[]},v.appendChild(j)}const J=document.createElement("div");if(J.classList.add("drawflow_content_node"),a===!1)J.innerHTML=u;else if(a===!0)J.appendChild(this.noderegister[u].html.cloneNode(!0));else if(parseInt(this.render.version)===3){let j=this.render.h(this.noderegister[u].html,this.noderegister[u].props,this.noderegister[u].options);j.appContext=this.parent,this.render.render(j,J)}else{let j=new this.render({parent:this.parent,render:K=>K(this.noderegister[u].html,{props:this.noderegister[u].props}),...this.noderegister[u].options}).$mount();J.appendChild(j.$el)}Object.entries(h).forEach(function(j,K){if(typeof j[1]=="object")(function lt(V,st,U){V===null?V=h[st]:V=V[st],V!==null&&Object.entries(V).forEach(function(M,q){if(typeof M[1]=="object")lt(V,M[0],U+"-"+M[0]);else for(var A=J.querySelectorAll("[df-"+U+"-"+M[0]+"]"),N=0;N<A.length;N++)A[N].value=M[1],A[N].isContentEditable&&(A[N].innerText=M[1])})})(null,j[0],j[0]);else for(var G=J.querySelectorAll("[df-"+j[0]+"]"),ut=0;ut<G.length;ut++)G[ut].value=j[1],G[ut].isContentEditable&&(G[ut].innerText=j[1])}),p.appendChild(_),p.appendChild(J),p.appendChild(v),p.style.top=e+"px",p.style.left=i+"px",d.appendChild(p),this.precanvas.appendChild(d);var F={id:o,name:t,data:h,class:l,html:u,typenode:a,inputs:L,outputs:I,pos_x:i,pos_y:e};return this.drawflow.drawflow[this.module].data[o]=F,this.dispatch("nodeCreated",o),this.useuuid||this.nodeId++,o}addNodeImport(t,n){const s=document.createElement("div");s.classList.add("parent-node");const i=document.createElement("div");i.innerHTML="",i.setAttribute("id","node-"+t.id),i.classList.add("drawflow-node"),t.class!=""&&i.classList.add(...t.class.split(" "));const e=document.createElement("div");e.classList.add("inputs");const l=document.createElement("div");l.classList.add("outputs"),Object.keys(t.inputs).map(function(a,o){const d=document.createElement("div");d.classList.add("input"),d.classList.add(a),e.appendChild(d),Object.keys(t.inputs[a].connections).map(function(p,_){var v=document.createElementNS("http://www.w3.org/2000/svg","svg"),L=document.createElementNS("http://www.w3.org/2000/svg","path");L.classList.add("main-path"),L.setAttributeNS(null,"d",""),v.classList.add("connection"),v.classList.add("node_in_node-"+t.id),v.classList.add("node_out_node-"+t.inputs[a].connections[p].node),v.classList.add(t.inputs[a].connections[p].input),v.classList.add(a),v.appendChild(L),n.appendChild(v)})});for(var h=0;h<Object.keys(t.outputs).length;h++){const a=document.createElement("div");a.classList.add("output"),a.classList.add("output_"+(h+1)),l.appendChild(a)}const u=document.createElement("div");if(u.classList.add("drawflow_content_node"),t.typenode===!1)u.innerHTML=t.html;else if(t.typenode===!0)u.appendChild(this.noderegister[t.html].html.cloneNode(!0));else if(parseInt(this.render.version)===3){let a=this.render.h(this.noderegister[t.html].html,this.noderegister[t.html].props,this.noderegister[t.html].options);a.appContext=this.parent,this.render.render(a,u)}else{let a=new this.render({parent:this.parent,render:o=>o(this.noderegister[t.html].html,{props:this.noderegister[t.html].props}),...this.noderegister[t.html].options}).$mount();u.appendChild(a.$el)}Object.entries(t.data).forEach(function(a,o){if(typeof a[1]=="object")(function _(v,L,R){v===null?v=t.data[L]:v=v[L],v!==null&&Object.entries(v).forEach(function(I,J){if(typeof I[1]=="object")_(v,I[0],R+"-"+I[0]);else for(var F=u.querySelectorAll("[df-"+R+"-"+I[0]+"]"),j=0;j<F.length;j++)F[j].value=I[1],F[j].isContentEditable&&(F[j].innerText=I[1])})})(null,a[0],a[0]);else for(var d=u.querySelectorAll("[df-"+a[0]+"]"),p=0;p<d.length;p++)d[p].value=a[1],d[p].isContentEditable&&(d[p].innerText=a[1])}),i.appendChild(e),i.appendChild(u),i.appendChild(l),i.style.top=t.pos_y+"px",i.style.left=t.pos_x+"px",s.appendChild(i),this.precanvas.appendChild(s)}addRerouteImport(t){const n=this.reroute_width,s=this.reroute_fix_curvature,i=this.container;Object.keys(t.outputs).map(function(e,l){Object.keys(t.outputs[e].connections).map(function(h,u){const a=t.outputs[e].connections[h].points;a!==void 0&&a.forEach((o,d)=>{const p=t.outputs[e].connections[h].node,_=t.outputs[e].connections[h].output,v=i.querySelector(".connection.node_in_node-"+p+".node_out_node-"+t.id+"."+e+"."+_);if(s&&d===0)for(var L=0;L<a.length;L++){var R=document.createElementNS("http://www.w3.org/2000/svg","path");R.classList.add("main-path"),R.setAttributeNS(null,"d",""),v.appendChild(R)}const I=document.createElementNS("http://www.w3.org/2000/svg","circle");I.classList.add("point");var J=o.pos_x,F=o.pos_y;I.setAttributeNS(null,"cx",J),I.setAttributeNS(null,"cy",F),I.setAttributeNS(null,"r",n),v.appendChild(I)})})})}updateNodeValue(t){for(var n=t.target.attributes,s=0;s<n.length;s++)if(n[s].nodeName.startsWith("df-")){for(var i=n[s].nodeName.slice(3).split("-"),e=this.drawflow.drawflow[this.module].data[t.target.closest(".drawflow_content_node").parentElement.id.slice(5)].data,l=0;l<i.length-1;l+=1)e[i[l]]==null&&(e[i[l]]={}),e=e[i[l]];e[i[i.length-1]]=t.target.value,t.target.isContentEditable&&(e[i[i.length-1]]=t.target.innerText),this.dispatch("nodeDataChanged",t.target.closest(".drawflow_content_node").parentElement.id.slice(5))}}updateNodeDataFromId(t,n){var s=this.getModuleFromNodeId(t);if(this.drawflow.drawflow[s].data[t].data=n,this.module===s){const i=this.container.querySelector("#node-"+t);Object.entries(n).forEach(function(e,l){if(typeof e[1]=="object")(function a(o,d,p){o===null?o=n[d]:o=o[d],o!==null&&Object.entries(o).forEach(function(_,v){if(typeof _[1]=="object")a(o,_[0],p+"-"+_[0]);else for(var L=i.querySelectorAll("[df-"+p+"-"+_[0]+"]"),R=0;R<L.length;R++)L[R].value=_[1],L[R].isContentEditable&&(L[R].innerText=_[1])})})(null,e[0],e[0]);else for(var h=i.querySelectorAll("[df-"+e[0]+"]"),u=0;u<h.length;u++)h[u].value=e[1],h[u].isContentEditable&&(h[u].innerText=e[1])})}}addNodeInput(t){var n=this.getModuleFromNodeId(t);const s=this.getNodeFromId(t),i=Object.keys(s.inputs).length;if(this.module===n){const e=document.createElement("div");e.classList.add("input"),e.classList.add("input_"+(i+1)),this.container.querySelector("#node-"+t+" .inputs").appendChild(e),this.updateConnectionNodes("node-"+t)}this.drawflow.drawflow[n].data[t].inputs["input_"+(i+1)]={connections:[]}}addNodeOutput(t){var n=this.getModuleFromNodeId(t);const s=this.getNodeFromId(t),i=Object.keys(s.outputs).length;if(this.module===n){const e=document.createElement("div");e.classList.add("output"),e.classList.add("output_"+(i+1)),this.container.querySelector("#node-"+t+" .outputs").appendChild(e),this.updateConnectionNodes("node-"+t)}this.drawflow.drawflow[n].data[t].outputs["output_"+(i+1)]={connections:[]}}removeNodeInput(t,n){var s=this.getModuleFromNodeId(t);const i=this.getNodeFromId(t);this.module===s&&this.container.querySelector("#node-"+t+" .inputs .input."+n).remove();const e=[];Object.keys(i.inputs[n].connections).map(function(o,d){const p=i.inputs[n].connections[d].node,_=i.inputs[n].connections[d].input;e.push({id_output:p,id:t,output_class:_,input_class:n})}),e.forEach((o,d)=>{this.removeSingleConnection(o.id_output,o.id,o.output_class,o.input_class)}),delete this.drawflow.drawflow[s].data[t].inputs[n];const l=[],h=this.drawflow.drawflow[s].data[t].inputs;Object.keys(h).map(function(o,d){l.push(h[o])}),this.drawflow.drawflow[s].data[t].inputs={};const u=n.slice(6);let a=[];l.forEach((o,d)=>{o.connections.forEach((p,_)=>{a.push(p)}),this.drawflow.drawflow[s].data[t].inputs["input_"+(d+1)]=o}),a=new Set(a.map(o=>JSON.stringify(o))),a=Array.from(a).map(o=>JSON.parse(o)),this.module===s&&this.container.querySelectorAll("#node-"+t+" .inputs .input").forEach((o,d)=>{const p=o.classList[1].slice(6);parseInt(u)<parseInt(p)&&(o.classList.remove("input_"+p),o.classList.add("input_"+(p-1)))}),a.forEach((o,d)=>{this.drawflow.drawflow[s].data[o.node].outputs[o.input].connections.forEach((p,_)=>{if(p.node==t){const v=p.output.slice(6);if(parseInt(u)<parseInt(v)){if(this.module===s){const L=this.container.querySelector(".connection.node_in_node-"+t+".node_out_node-"+o.node+"."+o.input+".input_"+v);L.classList.remove("input_"+v),L.classList.add("input_"+(v-1))}p.points?this.drawflow.drawflow[s].data[o.node].outputs[o.input].connections[_]={node:p.node,output:"input_"+(v-1),points:p.points}:this.drawflow.drawflow[s].data[o.node].outputs[o.input].connections[_]={node:p.node,output:"input_"+(v-1)}}}})}),this.updateConnectionNodes("node-"+t)}removeNodeOutput(t,n){var s=this.getModuleFromNodeId(t);const i=this.getNodeFromId(t);this.module===s&&this.container.querySelector("#node-"+t+" .outputs .output."+n).remove();const e=[];Object.keys(i.outputs[n].connections).map(function(o,d){const p=i.outputs[n].connections[d].node,_=i.outputs[n].connections[d].output;e.push({id:t,id_input:p,output_class:n,input_class:_})}),e.forEach((o,d)=>{this.removeSingleConnection(o.id,o.id_input,o.output_class,o.input_class)}),delete this.drawflow.drawflow[s].data[t].outputs[n];const l=[],h=this.drawflow.drawflow[s].data[t].outputs;Object.keys(h).map(function(o,d){l.push(h[o])}),this.drawflow.drawflow[s].data[t].outputs={};const u=n.slice(7);let a=[];l.forEach((o,d)=>{o.connections.forEach((p,_)=>{a.push({node:p.node,output:p.output})}),this.drawflow.drawflow[s].data[t].outputs["output_"+(d+1)]=o}),a=new Set(a.map(o=>JSON.stringify(o))),a=Array.from(a).map(o=>JSON.parse(o)),this.module===s&&this.container.querySelectorAll("#node-"+t+" .outputs .output").forEach((o,d)=>{const p=o.classList[1].slice(7);parseInt(u)<parseInt(p)&&(o.classList.remove("output_"+p),o.classList.add("output_"+(p-1)))}),a.forEach((o,d)=>{this.drawflow.drawflow[s].data[o.node].inputs[o.output].connections.forEach((p,_)=>{if(p.node==t){const v=p.input.slice(7);if(parseInt(u)<parseInt(v)){if(this.module===s){const L=this.container.querySelector(".connection.node_in_node-"+o.node+".node_out_node-"+t+".output_"+v+"."+o.output);L.classList.remove("output_"+v),L.classList.remove(o.output),L.classList.add("output_"+(v-1)),L.classList.add(o.output)}p.points?this.drawflow.drawflow[s].data[o.node].inputs[o.output].connections[_]={node:p.node,input:"output_"+(v-1),points:p.points}:this.drawflow.drawflow[s].data[o.node].inputs[o.output].connections[_]={node:p.node,input:"output_"+(v-1)}}}})}),this.updateConnectionNodes("node-"+t)}removeNodeId(t){this.removeConnectionNodeId(t);var n=this.getModuleFromNodeId(t.slice(5));this.module===n&&this.container.querySelector("#"+t).remove(),delete this.drawflow.drawflow[n].data[t.slice(5)],this.dispatch("nodeRemoved",t.slice(5))}removeConnection(){if(this.connection_selected!=null){var t=this.connection_selected.parentElement.classList;this.connection_selected.parentElement.remove();var n=this.drawflow.drawflow[this.module].data[t[2].slice(14)].outputs[t[3]].connections.findIndex(function(i,e){return i.node===t[1].slice(13)&&i.output===t[4]});this.drawflow.drawflow[this.module].data[t[2].slice(14)].outputs[t[3]].connections.splice(n,1);var s=this.drawflow.drawflow[this.module].data[t[1].slice(13)].inputs[t[4]].connections.findIndex(function(i,e){return i.node===t[2].slice(14)&&i.input===t[3]});this.drawflow.drawflow[this.module].data[t[1].slice(13)].inputs[t[4]].connections.splice(s,1),this.dispatch("connectionRemoved",{output_id:t[2].slice(14),input_id:t[1].slice(13),output_class:t[3],input_class:t[4]}),this.connection_selected=null}}removeSingleConnection(t,n,s,i){var e=this.getModuleFromNodeId(t);if(e===this.getModuleFromNodeId(n)){if(this.drawflow.drawflow[e].data[t].outputs[s].connections.findIndex(function(u,a){return u.node==n&&u.output===i})>-1){this.module===e&&this.container.querySelector(".connection.node_in_node-"+n+".node_out_node-"+t+"."+s+"."+i).remove();var l=this.drawflow.drawflow[e].data[t].outputs[s].connections.findIndex(function(u,a){return u.node==n&&u.output===i});this.drawflow.drawflow[e].data[t].outputs[s].connections.splice(l,1);var h=this.drawflow.drawflow[e].data[n].inputs[i].connections.findIndex(function(u,a){return u.node==t&&u.input===s});return this.drawflow.drawflow[e].data[n].inputs[i].connections.splice(h,1),this.dispatch("connectionRemoved",{output_id:t,input_id:n,output_class:s,input_class:i}),!0}return!1}return!1}removeConnectionNodeId(t){const n="node_in_"+t,s="node_out_"+t,i=this.container.querySelectorAll("."+s);for(var e=i.length-1;e>=0;e--){var l=i[e].classList,h=this.drawflow.drawflow[this.module].data[l[1].slice(13)].inputs[l[4]].connections.findIndex(function(o,d){return o.node===l[2].slice(14)&&o.input===l[3]});this.drawflow.drawflow[this.module].data[l[1].slice(13)].inputs[l[4]].connections.splice(h,1);var u=this.drawflow.drawflow[this.module].data[l[2].slice(14)].outputs[l[3]].connections.findIndex(function(o,d){return o.node===l[1].slice(13)&&o.output===l[4]});this.drawflow.drawflow[this.module].data[l[2].slice(14)].outputs[l[3]].connections.splice(u,1),i[e].remove(),this.dispatch("connectionRemoved",{output_id:l[2].slice(14),input_id:l[1].slice(13),output_class:l[3],input_class:l[4]})}const a=this.container.querySelectorAll("."+n);for(e=a.length-1;e>=0;e--)l=a[e].classList,u=this.drawflow.drawflow[this.module].data[l[2].slice(14)].outputs[l[3]].connections.findIndex(function(o,d){return o.node===l[1].slice(13)&&o.output===l[4]}),this.drawflow.drawflow[this.module].data[l[2].slice(14)].outputs[l[3]].connections.splice(u,1),h=this.drawflow.drawflow[this.module].data[l[1].slice(13)].inputs[l[4]].connections.findIndex(function(o,d){return o.node===l[2].slice(14)&&o.input===l[3]}),this.drawflow.drawflow[this.module].data[l[1].slice(13)].inputs[l[4]].connections.splice(h,1),a[e].remove(),this.dispatch("connectionRemoved",{output_id:l[2].slice(14),input_id:l[1].slice(13),output_class:l[3],input_class:l[4]})}getModuleFromNodeId(t){var n;const s=this.drawflow.drawflow;return Object.keys(s).map(function(i,e){Object.keys(s[i].data).map(function(l,h){l==t&&(n=i)})}),n}addModule(t){this.drawflow.drawflow[t]={data:{}},this.dispatch("moduleCreated",t)}changeModule(t){this.dispatch("moduleChanged",t),this.module=t,this.precanvas.innerHTML="",this.canvas_x=0,this.canvas_y=0,this.pos_x=0,this.pos_y=0,this.mouse_x=0,this.mouse_y=0,this.zoom=1,this.zoom_last_value=1,this.precanvas.style.transform="",this.import(this.drawflow,!1)}removeModule(t){this.module===t&&this.changeModule("Home"),delete this.drawflow.drawflow[t],this.dispatch("moduleRemoved",t)}clearModuleSelected(){this.precanvas.innerHTML="",this.drawflow.drawflow[this.module]={data:{}}}clear(){this.precanvas.innerHTML="",this.drawflow={drawflow:{Home:{data:{}}}}}export(){const t=JSON.parse(JSON.stringify(this.drawflow));return this.dispatch("export",t),t}import(t,n=!0){this.clear(),this.drawflow=JSON.parse(JSON.stringify(t)),this.load(),n&&this.dispatch("import","import")}on(t,n){return typeof n!="function"?(console.error("The listener callback must be a function, the given type is "+typeof n),!1):typeof t!="string"?(console.error("The event name must be a string, the given type is "+typeof t),!1):(this.events[t]===void 0&&(this.events[t]={listeners:[]}),void this.events[t].listeners.push(n))}removeListener(t,n){if(!this.events[t])return!1;const s=this.events[t].listeners,i=s.indexOf(n);i>-1&&s.splice(i,1)}dispatch(t,n){if(this.events[t]===void 0)return!1;this.events[t].listeners.forEach(s=>{s(n)})}getUuid(){for(var t=[],n=0;n<36;n++)t[n]="0123456789abcdef".substr(Math.floor(16*Math.random()),1);return t[14]="4",t[19]="0123456789abcdef".substr(3&t[19]|8,1),t[8]=t[13]=t[18]=t[23]="-",t.join("")}}}]).default})})(he);var Be=he.exports;const Se=Re(Be);function Ne(C){let g;return{c(){g=B("div"),this.h()},l(m){g=S(m,"DIV",{class:!0}),W(g).forEach(k),this.h()},h(){E(g,"class","parent-drawflow h-100 my-editor svelte-1jjj000")},m(m,r){gt(m,g,r),C[1](g)},p:St,i:St,o:St,d(m){m&&k(g),C[1](null)}}}function Ie(C,g,m){let r;var f;ue(()=>{f=new Se(r),f.start()}),Ee.subscribe(c=>{if(f&&c.starts&&c.starts.length>0){console.log("drawing"),f.clear();let t=Math.max(...c.ends.map(n=>c.map[n].earlyCol));for(let n=1;n<t+1;n++){let s=Object.keys(c.map).filter(i=>c.map[i].earlyCol==n);s.sort((i,e)=>c.map[i].slack>c.map[e].slack);for(let i=0;i<s.length;i++){let e=s[i],l=c.map[e],h="normal",u="bg-darkBlue";l.slack===0&&(h="critical",u="bg-darkSteel");let a=`
						<div class="heading `+u+'">'+l.name+`</div>
						<table style="width:99.9%;">
							<tr><th class="text-left third">Start</th><th>Duration</th><th class="text-right third">Finish</th></tr>
							<tr><td>`+l.es+'</td><td class="text-center va-middle" rowspan=2>'+l.expected+'</td><td class="text-right">'+l.ef+`</td></tr>
							<tr><td>`+l.ls+'</td><td class="text-right">'+l.lf+`</td></tr>
						</table>
						<hr/>
						<table style="width:99.9%;">
							<tr><th class="text-left third">Min</th><th>Likely</th><th class="text-right third">Max</th></tr>
							<tr><td>`+l.min+'</td><td class="text-center">'+l.likely+'</td><td class="text-right">'+l.max+`</td></tr>
						</table>
					`,o=f.addNode(l.name,1,1,20+400*(n-1),20+200*i,h,c.map[e],a);c.map[e].drawId=o,c.map[e].predecessors.map(d=>{let p=c.map[d].drawId;if(f.addConnection(p,o,"output_1","input_1"),c.map[d].slack===0&&c.map[e].slack===0){let _=document.getElementsByClassName("connection node_in_node-"+o+" node_out_node-"+p);_.length>0&&_[0].classList.add("critical")}})}}}else console.log("dont draw yet")});function y(c){pe[c?"unshift":"push"](()=>{r=c,m(0,r)})}return[r,y]}class ke extends de{constructor(g){super(),re(this,g,Ie,Ne,ce,{})}}function Kt(C,g,m){const r=C.slice();return r[4]=g[m],r}function Gt(C,g,m){const r=C.slice();return r[7]=g[m],r}function Qt(C,g,m){const r=C.slice();return r[10]=g[m],r}function Zt(C,g,m){const r=C.slice();return r[4]=g[m],r}function te(C,g,m){const r=C.slice();return r[15]=g[m],r}function ee(C,g,m){const r=C.slice();return r[10]=g[m],r}function ne(C){let g,m,r,f,y;return{c(){g=B("td"),m=B("input"),this.h()},l(c){g=S(c,"TD",{class:!0});var t=W(g);m=S(t,"INPUT",{type:!0,class:!0}),t.forEach(k),this.h()},h(){E(m,"type","text"),m.value=r=C[10],E(m,"class","metro-input svelte-1jpgd8u"),E(g,"class","svelte-1jpgd8u")},m(c,t){gt(c,g,t),x(g,m),f||(y=ft(m,"paste",C[2]),f=!0)},p(c,t){t&2&&r!==(r=c[10])&&m.value!==r&&(m.value=r)},d(c){c&&k(g),f=!1,y()}}}function se(C){let g,m=pt(C[15]),r=[];for(let f=0;f<m.length;f+=1)r[f]=ne(ee(C,m,f));return{c(){g=B("tr");for(let f=0;f<r.length;f+=1)r[f].c()},l(f){g=S(f,"TR",{});var y=W(g);for(let c=0;c<r.length;c+=1)r[c].l(y);y.forEach(k)},m(f,y){gt(f,g,y);for(let c=0;c<r.length;c+=1)r[c]&&r[c].m(g,null)},p(f,y){if(y&6){m=pt(f[15]);let c;for(c=0;c<m.length;c+=1){const t=ee(f,m,c);r[c]?r[c].p(t,y):(r[c]=ne(t),r[c].c(),r[c].m(g,null))}for(;c<r.length;c+=1)r[c].d(1);r.length=m.length}},d(f){f&&k(g),bt(r,f)}}}function ie(C){let g,m=C[4]+"",r;return{c(){g=B("th"),r=Ce(m)},l(f){g=S(f,"TH",{});var y=W(g);r=be(y,m),y.forEach(k)},m(f,y){gt(f,g,y),x(g,r)},p(f,y){y&1&&m!==(m=f[4]+"")&&xe(r,m)},d(f){f&&k(g)}}}function oe(C){let g,m,r,f,y;return{c(){g=B("td"),m=B("input"),this.h()},l(c){g=S(c,"TD",{class:!0});var t=W(g);m=S(t,"INPUT",{type:!0,class:!0}),t.forEach(k),this.h()},h(){E(m,"type","text"),m.value=r=C[10],E(m,"class","metro-input svelte-1jpgd8u"),E(g,"class","svelte-1jpgd8u")},m(c,t){gt(c,g,t),x(g,m),f||(y=ft(m,"paste",C[3]),f=!0)},p(c,t){t&1&&r!==(r=c[10])&&m.value!==r&&(m.value=r)},d(c){c&&k(g),f=!1,y()}}}function le(C){let g,m=pt(C[7]),r=[];for(let f=0;f<m.length;f+=1)r[f]=oe(Qt(C,m,f));return{c(){g=B("tr");for(let f=0;f<r.length;f+=1)r[f].c()},l(f){g=S(f,"TR",{});var y=W(g);for(let c=0;c<r.length;c+=1)r[c].l(y);y.forEach(k)},m(f,y){gt(f,g,y);for(let c=0;c<r.length;c+=1)r[c]&&r[c].m(g,null)},p(f,y){if(y&9){m=pt(f[7]);let c;for(c=0;c<m.length;c+=1){const t=Qt(f,m,c);r[c]?r[c].p(t,y):(r[c]=oe(t),r[c].c(),r[c].m(g,null))}for(;c<r.length;c+=1)r[c].d(1);r.length=m.length}},d(f){f&&k(g),bt(r,f)}}}function ae(C){let g,m,r,f;return{c(){g=B("td"),m=B("input"),this.h()},l(y){g=S(y,"TD",{class:!0});var c=W(g);m=S(c,"INPUT",{type:!0,class:!0,style:!0}),c.forEach(k),this.h()},h(){E(m,"type","text"),m.value="",E(m,"class","metro-input svelte-1jpgd8u"),_t(m,"border","none"),E(g,"class","svelte-1jpgd8u")},m(y,c){gt(y,g,c),x(g,m),r||(f=ft(m,"paste",C[3]),r=!0)},p:St,d(y){y&&k(g),r=!1,f()}}}function Ae(C){let g,m,r,f='<li><a href="#_target_1">Tasks</a></li> <li><a href="#_target_2">Resources</a></li>',y,c,t,n,s,i="<tr><th>Id</th> <th>Task</th> <th>Min</th> <th>Likely</th> <th>Max</th> <th>Resources</th> <th>Predecessors</th> <th>Progress</th></tr>",e,l,h,u,a,o,d,p,_,v,L,R,I,J,F,j,K,G,ut,lt,V,st,U,M,q,A,N,H,D,z,O,T,P,Y,$,X,Q,at,mt,xt,Nt,It,vt=pt(C[1]),Z=[];for(let b=0;b<vt.length;b+=1)Z[b]=se(te(C,vt,b));let wt=pt(C[0][0]),tt=[];for(let b=0;b<wt.length;b+=1)tt[b]=ie(Zt(C,wt,b));let yt=pt(C[0].slice(1)),et=[];for(let b=0;b<yt.length;b+=1)et[b]=le(Gt(C,yt,b));let Ct=pt(C[0][0]),nt=[];for(let b=0;b<Ct.length;b+=1)nt[b]=ae(Kt(C,Ct,b));return mt=new ke({}),{c(){g=B("div"),m=B("div"),r=B("ul"),r.innerHTML=f,y=rt(),c=B("div"),t=B("div"),n=B("table"),s=B("thead"),s.innerHTML=i,e=rt(),l=B("tbody");for(let b=0;b<Z.length;b+=1)Z[b].c();h=rt(),u=B("tr"),a=B("td"),o=B("input"),d=rt(),p=B("td"),_=B("input"),v=rt(),L=B("td"),R=B("input"),I=rt(),J=B("td"),F=B("input"),j=rt(),K=B("td"),G=B("input"),ut=rt(),lt=B("td"),V=B("input"),st=rt(),U=B("td"),M=B("input"),q=rt(),A=B("td"),N=B("input"),H=rt(),D=B("div"),z=B("table"),O=B("thead"),T=B("tr");for(let b=0;b<tt.length;b+=1)tt[b].c();P=rt(),Y=B("tbody");for(let b=0;b<et.length;b+=1)et[b].c();$=rt(),X=B("tr");for(let b=0;b<nt.length;b+=1)nt[b].c();Q=rt(),at=B("div"),_e(mt.$$.fragment),this.h()},l(b){g=S(b,"DIV",{"data-role":!0,class:!0,"data-split-sizes":!0});var ct=W(g);m=S(ct,"DIV",{class:!0});var w=W(m);r=S(w,"UL",{"data-role":!0,"data-expand":!0,"data-svelte-h":!0}),Yt(r)!=="svelte-10cc686"&&(r.innerHTML=f),y=ht(w),c=S(w,"DIV",{class:!0});var it=W(c);t=S(it,"DIV",{id:!0});var kt=W(t);n=S(kt,"TABLE",{class:!0});var Et=W(n);s=S(Et,"THEAD",{"data-svelte-h":!0}),Yt(s)!=="svelte-44ng64"&&(s.innerHTML=i),e=ht(Et),l=S(Et,"TBODY",{});var Lt=W(l);for(let dt=0;dt<Z.length;dt+=1)Z[dt].l(Lt);h=ht(Lt),u=S(Lt,"TR",{});var ot=W(u);a=S(ot,"TD",{class:!0});var At=W(a);o=S(At,"INPUT",{type:!0,class:!0,style:!0}),At.forEach(k),d=ht(ot),p=S(ot,"TD",{class:!0});var Tt=W(p);_=S(Tt,"INPUT",{type:!0,class:!0,style:!0}),Tt.forEach(k),v=ht(ot),L=S(ot,"TD",{class:!0});var jt=W(L);R=S(jt,"INPUT",{type:!0,class:!0,style:!0}),jt.forEach(k),I=ht(ot),J=S(ot,"TD",{class:!0});var zt=W(J);F=S(zt,"INPUT",{type:!0,class:!0,style:!0}),zt.forEach(k),j=ht(ot),K=S(ot,"TD",{class:!0});var Mt=W(K);G=S(Mt,"INPUT",{type:!0,class:!0,style:!0}),Mt.forEach(k),ut=ht(ot),lt=S(ot,"TD",{class:!0});var qt=W(lt);V=S(qt,"INPUT",{type:!0,class:!0,style:!0}),qt.forEach(k),st=ht(ot),U=S(ot,"TD",{class:!0});var Ht=W(U);M=S(Ht,"INPUT",{type:!0,class:!0,style:!0}),Ht.forEach(k),q=ht(ot),A=S(ot,"TD",{class:!0});var Dt=W(A);N=S(Dt,"INPUT",{type:!0,class:!0,style:!0}),Dt.forEach(k),ot.forEach(k),Lt.forEach(k),Et.forEach(k),kt.forEach(k),H=ht(it),D=S(it,"DIV",{id:!0});var Ot=W(D);z=S(Ot,"TABLE",{class:!0});var Rt=W(z);O=S(Rt,"THEAD",{});var Wt=W(O);T=S(Wt,"TR",{});var Pt=W(T);for(let dt=0;dt<tt.length;dt+=1)tt[dt].l(Pt);Pt.forEach(k),Wt.forEach(k),P=ht(Rt),Y=S(Rt,"TBODY",{});var Bt=W(Y);for(let dt=0;dt<et.length;dt+=1)et[dt].l(Bt);$=ht(Bt),X=S(Bt,"TR",{});var Ft=W(X);for(let dt=0;dt<nt.length;dt+=1)nt[dt].l(Ft);Ft.forEach(k),Bt.forEach(k),Rt.forEach(k),Ot.forEach(k),it.forEach(k),w.forEach(k),Q=ht(ct),at=S(ct,"DIV",{class:!0});var Ut=W(at);ge(mt.$$.fragment,Ut),Ut.forEach(k),ct.forEach(k),this.h()},h(){E(r,"data-role","tabs"),E(r,"data-expand","true"),E(o,"type","text"),o.value="",E(o,"class","metro-input svelte-1jpgd8u"),_t(o,"border","none"),E(a,"class","svelte-1jpgd8u"),E(_,"type","text"),_.value="",E(_,"class","metro-input svelte-1jpgd8u"),_t(_,"border","none"),E(p,"class","svelte-1jpgd8u"),E(R,"type","text"),R.value="",E(R,"class","metro-input svelte-1jpgd8u"),_t(R,"border","none"),E(L,"class","svelte-1jpgd8u"),E(F,"type","text"),F.value="",E(F,"class","metro-input svelte-1jpgd8u"),_t(F,"border","none"),E(J,"class","svelte-1jpgd8u"),E(G,"type","text"),G.value="",E(G,"class","metro-input svelte-1jpgd8u"),_t(G,"border","none"),E(K,"class","svelte-1jpgd8u"),E(V,"type","text"),V.value="",E(V,"class","metro-input svelte-1jpgd8u"),_t(V,"border","none"),E(lt,"class","svelte-1jpgd8u"),E(M,"type","text"),M.value="",E(M,"class","metro-input svelte-1jpgd8u"),_t(M,"border","none"),E(U,"class","svelte-1jpgd8u"),E(N,"type","text"),N.value="",E(N,"class","metro-input svelte-1jpgd8u"),_t(N,"border","none"),E(A,"class","svelte-1jpgd8u"),E(n,"class","table subcompact table-border cell-border striped"),E(t,"id","_target_1"),E(z,"class","table subcompact table-border cell-border striped"),E(D,"id","_target_2"),E(c,"class","border bd-default no-border-top p-2"),E(m,"class",""),E(at,"class","d-flex flex-justify-center flex-align-center"),E(g,"data-role","splitter"),E(g,"class","h-100"),E(g,"data-split-sizes","30, 70")},m(b,ct){gt(b,g,ct),x(g,m),x(m,r),x(m,y),x(m,c),x(c,t),x(t,n),x(n,s),x(n,e),x(n,l);for(let w=0;w<Z.length;w+=1)Z[w]&&Z[w].m(l,null);x(l,h),x(l,u),x(u,a),x(a,o),x(u,d),x(u,p),x(p,_),x(u,v),x(u,L),x(L,R),x(u,I),x(u,J),x(J,F),x(u,j),x(u,K),x(K,G),x(u,ut),x(u,lt),x(lt,V),x(u,st),x(u,U),x(U,M),x(u,q),x(u,A),x(A,N),x(c,H),x(c,D),x(D,z),x(z,O),x(O,T);for(let w=0;w<tt.length;w+=1)tt[w]&&tt[w].m(T,null);x(z,P),x(z,Y);for(let w=0;w<et.length;w+=1)et[w]&&et[w].m(Y,null);x(Y,$),x(Y,X);for(let w=0;w<nt.length;w+=1)nt[w]&&nt[w].m(X,null);x(g,Q),x(g,at),me(mt,at,null),xt=!0,Nt||(It=[ft(o,"paste",C[2]),ft(_,"paste",C[2]),ft(R,"paste",C[2]),ft(F,"paste",C[2]),ft(G,"paste",C[2]),ft(V,"paste",C[2]),ft(M,"paste",C[2]),ft(N,"paste",C[2])],Nt=!0)},p(b,[ct]){if(ct&6){vt=pt(b[1]);let w;for(w=0;w<vt.length;w+=1){const it=te(b,vt,w);Z[w]?Z[w].p(it,ct):(Z[w]=se(it),Z[w].c(),Z[w].m(l,h))}for(;w<Z.length;w+=1)Z[w].d(1);Z.length=vt.length}if(ct&1){wt=pt(b[0][0]);let w;for(w=0;w<wt.length;w+=1){const it=Zt(b,wt,w);tt[w]?tt[w].p(it,ct):(tt[w]=ie(it),tt[w].c(),tt[w].m(T,null))}for(;w<tt.length;w+=1)tt[w].d(1);tt.length=wt.length}if(ct&9){yt=pt(b[0].slice(1));let w;for(w=0;w<yt.length;w+=1){const it=Gt(b,yt,w);et[w]?et[w].p(it,ct):(et[w]=le(it),et[w].c(),et[w].m(Y,$))}for(;w<et.length;w+=1)et[w].d(1);et.length=yt.length}if(ct&9){Ct=pt(b[0][0]);let w;for(w=0;w<Ct.length;w+=1){const it=Kt(b,Ct,w);nt[w]?nt[w].p(it,ct):(nt[w]=ae(it),nt[w].c(),nt[w].m(X,null))}for(;w<nt.length;w+=1)nt[w].d(1);nt.length=Ct.length}},i(b){xt||(ve(mt.$$.fragment,b),xt=!0)},o(b){we(mt.$$.fragment,b),xt=!1},d(b){b&&k(g),bt(Z,b),bt(tt,b),bt(et,b),bt(nt,b),ye(mt),Nt=!1,fe(It)}}}function Te(C,g,m){let r,f;$t(C,Jt,t=>m(0,r=t)),$t(C,Vt,t=>m(1,f=t));function y(t){t.preventDefault();let n=(t.clipboardData||window.clipboardData).getData("text");Xt(Vt,f=n.split(/\n|\r/).filter(s=>s.length).map(s=>s.split(/\t/)),f)}function c(t){t.preventDefault();let n=(t.clipboardData||window.clipboardData).getData("text");Xt(Jt,r=n.split(/\n|\r/).filter(s=>s.length).map(s=>s.split(/\t/)),r)}return[r,f,y,c]}class He extends de{constructor(g){super(),re(this,g,Te,Ae,ce,{})}}export{He as component};
