import{s as be,F as nt,f as fe,g as ce,h as j,d as N,j as E,C as ae,i as Q,v as De,G as it,I as ot,J as rt,y as Vt,L as Hn,z as U,a as ke,l as je,c as ve,m as xe,n as $e,M as Ye,N as Ne,O as yt,P as et,Q as We,E as J,k as de,R as Oe,e as Xe,S as Ie,T as Vn,o as jn,A as Xn,U as xn,p as Oi,V as cr,W as dr,q as Yn,X as Ce,r as $,w as Me,Y as xt,B as bi,Z as Rl,_ as Bl,$ as Wl,a0 as Kl,a1 as ji,K as xi}from"../chunks/scheduler.d96d3362.js";import{S as ge,i as me,a as X,t as B,b as ie,d as se,m as oe,e as re,g as Ke,c as Fe}from"../chunks/index.c23aaf79.js";import{c as Fl}from"../chunks/criticalPath.store.e47d751e.js";import{a as hr,s as Zl,b as ql,c as Ul}from"../chunks/xyflow.store.6347ce97.js";import{w as ne,r as ht,d as Gt}from"../chunks/index.9f5fd596.js";import{e as $t,u as Ii,o as Ai}from"../chunks/each.8281f9b4.js";import{g as Gl,T as Jl}from"../chunks/table-form.123290a4.js";function Ht(t,e){const n={},i={},o={$$scope:1};let r=t.length;for(;r--;){const s=t[r],l=e[r];if(l){for(const a in s)a in l||(i[a]=1);for(const a in l)o[a]||(n[a]=l[a],o[a]=1);t[r]=l}else for(const a in s)o[a]=1}for(const s in i)s in n||(n[s]=void 0);return n}function dn(t){return typeof t=="object"&&t!==null?t:{}}function Ve(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,i;n<t.length;n++)(i=Ve(t[n]))!==""&&(e+=(e&&" ")+i);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var Ql={value:()=>{}};function $n(){for(var t=0,e=arguments.length,n={},i;t<e;++t){if(!(i=arguments[t]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new Dn(n)}function Dn(t){this._=t}function jl(t,e){return t.trim().split(/^|\s+/).map(function(n){var i="",o=n.indexOf(".");if(o>=0&&(i=n.slice(o+1),n=n.slice(0,o)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}Dn.prototype=$n.prototype={constructor:Dn,on:function(t,e){var n=this._,i=jl(t+"",n),o,r=-1,s=i.length;if(arguments.length<2){for(;++r<s;)if((o=(t=i[r]).type)&&(o=xl(n[o],t.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++r<s;)if(o=(t=i[r]).type)n[o]=$i(n[o],t.name,e);else if(e==null)for(o in n)n[o]=$i(n[o],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Dn(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var n=new Array(o),i=0,o,r;i<o;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],o=0,r=i.length;o<r;++o)i[o].value.apply(e,n)}};function xl(t,e){for(var n=0,i=t.length,o;n<i;++n)if((o=t[n]).name===e)return o.value}function $i(t,e,n){for(var i=0,o=t.length;i<o;++i)if(t[i].name===e){t[i]=Ql,t=t.slice(0,i).concat(t.slice(i+1));break}return n!=null&&t.push({name:e,value:n}),t}var wi="http://www.w3.org/1999/xhtml";const eo={svg:"http://www.w3.org/2000/svg",xhtml:wi,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ei(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),eo.hasOwnProperty(e)?{space:eo[e],local:t}:t}function $l(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===wi&&e.documentElement.namespaceURI===wi?e.createElement(t):e.createElementNS(n,t)}}function es(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function gr(t){var e=ei(t);return(e.local?es:$l)(e)}function ts(){}function Hi(t){return t==null?ts:function(){return this.querySelector(t)}}function ns(t){typeof t!="function"&&(t=Hi(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r=e[o],s=r.length,l=i[o]=new Array(s),a,u,f=0;f<s;++f)(a=r[f])&&(u=t.call(a,a.__data__,f,r))&&("__data__"in a&&(u.__data__=a.__data__),l[f]=u);return new at(i,this._parents)}function is(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function os(){return[]}function mr(t){return t==null?os:function(){return this.querySelectorAll(t)}}function rs(t){return function(){return is(t.apply(this,arguments))}}function ls(t){typeof t=="function"?t=rs(t):t=mr(t);for(var e=this._groups,n=e.length,i=[],o=[],r=0;r<n;++r)for(var s=e[r],l=s.length,a,u=0;u<l;++u)(a=s[u])&&(i.push(t.call(a,a.__data__,u,s)),o.push(a));return new at(i,o)}function yr(t){return function(){return this.matches(t)}}function _r(t){return function(e){return e.matches(t)}}var ss=Array.prototype.find;function as(t){return function(){return ss.call(this.children,t)}}function us(){return this.firstElementChild}function fs(t){return this.select(t==null?us:as(typeof t=="function"?t:_r(t)))}var cs=Array.prototype.filter;function ds(){return Array.from(this.children)}function hs(t){return function(){return cs.call(this.children,t)}}function gs(t){return this.selectAll(t==null?ds:hs(typeof t=="function"?t:_r(t)))}function ms(t){typeof t!="function"&&(t=yr(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r=e[o],s=r.length,l=i[o]=[],a,u=0;u<s;++u)(a=r[u])&&t.call(a,a.__data__,u,r)&&l.push(a);return new at(i,this._parents)}function br(t){return new Array(t.length)}function ys(){return new at(this._enter||this._groups.map(br),this._parents)}function Ln(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Ln.prototype={constructor:Ln,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function _s(t){return function(){return t}}function bs(t,e,n,i,o,r){for(var s=0,l,a=e.length,u=r.length;s<u;++s)(l=e[s])?(l.__data__=r[s],i[s]=l):n[s]=new Ln(t,r[s]);for(;s<a;++s)(l=e[s])&&(o[s]=l)}function ws(t,e,n,i,o,r,s){var l,a,u=new Map,f=e.length,c=r.length,d=new Array(f),h;for(l=0;l<f;++l)(a=e[l])&&(d[l]=h=s.call(a,a.__data__,l,e)+"",u.has(h)?o[l]=a:u.set(h,a));for(l=0;l<c;++l)h=s.call(t,r[l],l,r)+"",(a=u.get(h))?(i[l]=a,a.__data__=r[l],u.delete(h)):n[l]=new Ln(t,r[l]);for(l=0;l<f;++l)(a=e[l])&&u.get(d[l])===a&&(o[l]=a)}function ks(t){return t.__data__}function vs(t,e){if(!arguments.length)return Array.from(this,ks);var n=e?ws:bs,i=this._parents,o=this._groups;typeof t!="function"&&(t=_s(t));for(var r=o.length,s=new Array(r),l=new Array(r),a=new Array(r),u=0;u<r;++u){var f=i[u],c=o[u],d=c.length,h=Es(t.call(f,f&&f.__data__,u,i)),m=h.length,y=l[u]=new Array(m),_=s[u]=new Array(m),g=a[u]=new Array(d);n(f,c,y,_,g,h,e);for(var v=0,k=0,S,I;v<m;++v)if(S=y[v]){for(v>=k&&(k=v+1);!(I=_[k])&&++k<m;);S._next=I||null}}return s=new at(s,i),s._enter=l,s._exit=a,s}function Es(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ss(){return new at(this._exit||this._groups.map(br),this._parents)}function ps(t,e,n){var i=this.enter(),o=this,r=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),e!=null&&(o=e(o),o&&(o=o.selection())),n==null?r.remove():n(r),i&&o?i.merge(o).order():o}function Cs(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,o=n.length,r=i.length,s=Math.min(o,r),l=new Array(o),a=0;a<s;++a)for(var u=n[a],f=i[a],c=u.length,d=l[a]=new Array(c),h,m=0;m<c;++m)(h=u[m]||f[m])&&(d[m]=h);for(;a<o;++a)l[a]=n[a];return new at(l,this._parents)}function Ms(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i=t[e],o=i.length-1,r=i[o],s;--o>=0;)(s=i[o])&&(r&&s.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(s,r),r=s);return this}function Ps(t){t||(t=Ns);function e(c,d){return c&&d?t(c.__data__,d.__data__):!c-!d}for(var n=this._groups,i=n.length,o=new Array(i),r=0;r<i;++r){for(var s=n[r],l=s.length,a=o[r]=new Array(l),u,f=0;f<l;++f)(u=s[f])&&(a[f]=u);a.sort(e)}return new at(o,this._parents).order()}function Ns(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function zs(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Ts(){return Array.from(this)}function Ds(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,r=i.length;o<r;++o){var s=i[o];if(s)return s}return null}function Os(){let t=0;for(const e of this)++t;return t}function Is(){return!this.node()}function As(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var o=e[n],r=0,s=o.length,l;r<s;++r)(l=o[r])&&t.call(l,l.__data__,r,o);return this}function Hs(t){return function(){this.removeAttribute(t)}}function Vs(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Xs(t,e){return function(){this.setAttribute(t,e)}}function Ys(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Ls(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Rs(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Bs(t,e){var n=ei(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((e==null?n.local?Vs:Hs:typeof e=="function"?n.local?Rs:Ls:n.local?Ys:Xs)(n,e))}function wr(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Ws(t){return function(){this.style.removeProperty(t)}}function Ks(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Fs(t,e,n){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function Zs(t,e,n){return arguments.length>1?this.each((e==null?Ws:typeof e=="function"?Fs:Ks)(t,e,n??"")):en(this.node(),t)}function en(t,e){return t.style.getPropertyValue(e)||wr(t).getComputedStyle(t,null).getPropertyValue(e)}function qs(t){return function(){delete this[t]}}function Us(t,e){return function(){this[t]=e}}function Gs(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Js(t,e){return arguments.length>1?this.each((e==null?qs:typeof e=="function"?Gs:Us)(t,e)):this.node()[t]}function kr(t){return t.trim().split(/^|\s+/)}function Vi(t){return t.classList||new vr(t)}function vr(t){this._node=t,this._names=kr(t.getAttribute("class")||"")}vr.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Er(t,e){for(var n=Vi(t),i=-1,o=e.length;++i<o;)n.add(e[i])}function Sr(t,e){for(var n=Vi(t),i=-1,o=e.length;++i<o;)n.remove(e[i])}function Qs(t){return function(){Er(this,t)}}function js(t){return function(){Sr(this,t)}}function xs(t,e){return function(){(e.apply(this,arguments)?Er:Sr)(this,t)}}function $s(t,e){var n=kr(t+"");if(arguments.length<2){for(var i=Vi(this.node()),o=-1,r=n.length;++o<r;)if(!i.contains(n[o]))return!1;return!0}return this.each((typeof e=="function"?xs:e?Qs:js)(n,e))}function ea(){this.textContent=""}function ta(t){return function(){this.textContent=t}}function na(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function ia(t){return arguments.length?this.each(t==null?ea:(typeof t=="function"?na:ta)(t)):this.node().textContent}function oa(){this.innerHTML=""}function ra(t){return function(){this.innerHTML=t}}function la(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function sa(t){return arguments.length?this.each(t==null?oa:(typeof t=="function"?la:ra)(t)):this.node().innerHTML}function aa(){this.nextSibling&&this.parentNode.appendChild(this)}function ua(){return this.each(aa)}function fa(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ca(){return this.each(fa)}function da(t){var e=typeof t=="function"?t:gr(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function ha(){return null}function ga(t,e){var n=typeof t=="function"?t:gr(t),i=e==null?ha:typeof e=="function"?e:Hi(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function ma(){var t=this.parentNode;t&&t.removeChild(this)}function ya(){return this.each(ma)}function _a(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ba(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function wa(t){return this.select(t?ba:_a)}function ka(t){return arguments.length?this.property("__data__",t):this.node().__data__}function va(t){return function(e){t.call(this,e,this.__data__)}}function Ea(t){return t.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{type:e,name:n}})}function Sa(t){return function(){var e=this.__on;if(e){for(var n=0,i=-1,o=e.length,r;n<o;++n)r=e[n],(!t.type||r.type===t.type)&&r.name===t.name?this.removeEventListener(r.type,r.listener,r.options):e[++i]=r;++i?e.length=i:delete this.__on}}}function pa(t,e,n){return function(){var i=this.__on,o,r=va(e);if(i){for(var s=0,l=i.length;s<l;++s)if((o=i[s]).type===t.type&&o.name===t.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=r,o.options=n),o.value=e;return}}this.addEventListener(t.type,r,n),o={type:t.type,name:t.name,value:e,listener:r,options:n},i?i.push(o):this.__on=[o]}}function Ca(t,e,n){var i=Ea(t+""),o,r=i.length,s;if(arguments.length<2){var l=this.node().__on;if(l){for(var a=0,u=l.length,f;a<u;++a)for(o=0,f=l[a];o<r;++o)if((s=i[o]).type===f.type&&s.name===f.name)return f.value}return}for(l=e?pa:Sa,o=0;o<r;++o)this.each(l(i[o],e,n));return this}function pr(t,e,n){var i=wr(t),o=i.CustomEvent;typeof o=="function"?o=new o(e,n):(o=i.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function Ma(t,e){return function(){return pr(this,t,e)}}function Pa(t,e){return function(){return pr(this,t,e.apply(this,arguments))}}function Na(t,e){return this.each((typeof e=="function"?Pa:Ma)(t,e))}function*za(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,r=i.length,s;o<r;++o)(s=i[o])&&(yield s)}var Cr=[null];function at(t,e){this._groups=t,this._parents=e}function wn(){return new at([[document.documentElement]],Cr)}function Ta(){return this}at.prototype=wn.prototype={constructor:at,select:ns,selectAll:ls,selectChild:fs,selectChildren:gs,filter:ms,data:vs,enter:ys,exit:Ss,join:ps,merge:Cs,selection:Ta,order:Ms,sort:Ps,call:zs,nodes:Ts,node:Ds,size:Os,empty:Is,each:As,attr:Bs,style:Zs,property:Js,classed:$s,text:ia,html:sa,raise:ua,lower:ca,append:da,insert:ga,remove:ya,clone:wa,datum:ka,on:Ca,dispatch:Na,[Symbol.iterator]:za};function gt(t){return typeof t=="string"?new at([[document.querySelector(t)]],[document.documentElement]):new at([[t]],Cr)}function Da(t){let e;for(;e=t.sourceEvent;)t=e;return t}function kt(t,e){if(t=Da(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}}return[t.pageX,t.pageY]}const Oa={passive:!1},hn={capture:!0,passive:!1};function fi(t){t.stopImmediatePropagation()}function Jt(t){t.preventDefault(),t.stopImmediatePropagation()}function Mr(t){var e=t.document.documentElement,n=gt(t).on("dragstart.drag",Jt,hn);"onselectstart"in e?n.on("selectstart.drag",Jt,hn):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Pr(t,e){var n=t.document.documentElement,i=gt(t).on("dragstart.drag",null);e&&(i.on("click.drag",Jt,hn),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const pn=t=>()=>t;function ki(t,{sourceEvent:e,subject:n,target:i,identifier:o,active:r,x:s,y:l,dx:a,dy:u,dispatch:f}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:r,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:f}})}ki.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function Ia(t){return!t.ctrlKey&&!t.button}function Aa(){return this.parentNode}function Ha(t,e){return e??{x:t.x,y:t.y}}function Va(){return navigator.maxTouchPoints||"ontouchstart"in this}function Xa(){var t=Ia,e=Aa,n=Ha,i=Va,o={},r=$n("start","drag","end"),s=0,l,a,u,f,c=0;function d(S){S.on("mousedown.drag",h).filter(i).on("touchstart.drag",_).on("touchmove.drag",g,Oa).on("touchend.drag touchcancel.drag",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(S,I){if(!(f||!t.call(this,S,I))){var V=k(this,e.call(this,S,I),S,I,"mouse");V&&(gt(S.view).on("mousemove.drag",m,hn).on("mouseup.drag",y,hn),Mr(S.view),fi(S),u=!1,l=S.clientX,a=S.clientY,V("start",S))}}function m(S){if(Jt(S),!u){var I=S.clientX-l,V=S.clientY-a;u=I*I+V*V>c}o.mouse("drag",S)}function y(S){gt(S.view).on("mousemove.drag mouseup.drag",null),Pr(S.view,u),Jt(S),o.mouse("end",S)}function _(S,I){if(t.call(this,S,I)){var V=S.changedTouches,P=e.call(this,S,I),Y=V.length,H,W;for(H=0;H<Y;++H)(W=k(this,P,S,I,V[H].identifier,V[H]))&&(fi(S),W("start",S,V[H]))}}function g(S){var I=S.changedTouches,V=I.length,P,Y;for(P=0;P<V;++P)(Y=o[I[P].identifier])&&(Jt(S),Y("drag",S,I[P]))}function v(S){var I=S.changedTouches,V=I.length,P,Y;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),P=0;P<V;++P)(Y=o[I[P].identifier])&&(fi(S),Y("end",S,I[P]))}function k(S,I,V,P,Y,H){var W=r.copy(),q=kt(H||V,I),K,Z,w;if((w=n.call(S,new ki("beforestart",{sourceEvent:V,target:d,identifier:Y,active:s,x:q[0],y:q[1],dx:0,dy:0,dispatch:W}),P))!=null)return K=w.x-q[0]||0,Z=w.y-q[1]||0,function A(b,C,T){var D=q,L;switch(b){case"start":o[Y]=A,L=s++;break;case"end":delete o[Y],--s;case"drag":q=kt(T||C,I),L=s;break}W.call(b,S,new ki(b,{sourceEvent:C,subject:w,target:d,identifier:Y,active:L,x:q[0]+K,y:q[1]+Z,dx:q[0]-D[0],dy:q[1]-D[1],dispatch:W}),P)}}return d.filter=function(S){return arguments.length?(t=typeof S=="function"?S:pn(!!S),d):t},d.container=function(S){return arguments.length?(e=typeof S=="function"?S:pn(S),d):e},d.subject=function(S){return arguments.length?(n=typeof S=="function"?S:pn(S),d):n},d.touchable=function(S){return arguments.length?(i=typeof S=="function"?S:pn(!!S),d):i},d.on=function(){var S=r.on.apply(r,arguments);return S===r?d:S},d.clickDistance=function(S){return arguments.length?(c=(S=+S)*S,d):Math.sqrt(c)},d}function Xi(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Nr(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function kn(){}var gn=.7,Rn=1/gn,Qt="\\s*([+-]?\\d+)\\s*",mn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",vt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ya=/^#([0-9a-f]{3,8})$/,La=new RegExp(`^rgb\\(${Qt},${Qt},${Qt}\\)$`),Ra=new RegExp(`^rgb\\(${vt},${vt},${vt}\\)$`),Ba=new RegExp(`^rgba\\(${Qt},${Qt},${Qt},${mn}\\)$`),Wa=new RegExp(`^rgba\\(${vt},${vt},${vt},${mn}\\)$`),Ka=new RegExp(`^hsl\\(${mn},${vt},${vt}\\)$`),Fa=new RegExp(`^hsla\\(${mn},${vt},${vt},${mn}\\)$`),to={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Xi(kn,yn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:no,formatHex:no,formatHex8:Za,formatHsl:qa,formatRgb:io,toString:io});function no(){return this.rgb().formatHex()}function Za(){return this.rgb().formatHex8()}function qa(){return zr(this).formatHsl()}function io(){return this.rgb().formatRgb()}function yn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Ya.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?oo(e):n===3?new tt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Cn(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Cn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=La.exec(t))?new tt(e[1],e[2],e[3],1):(e=Ra.exec(t))?new tt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Ba.exec(t))?Cn(e[1],e[2],e[3],e[4]):(e=Wa.exec(t))?Cn(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Ka.exec(t))?so(e[1],e[2]/100,e[3]/100,1):(e=Fa.exec(t))?so(e[1],e[2]/100,e[3]/100,e[4]):to.hasOwnProperty(t)?oo(to[t]):t==="transparent"?new tt(NaN,NaN,NaN,0):null}function oo(t){return new tt(t>>16&255,t>>8&255,t&255,1)}function Cn(t,e,n,i){return i<=0&&(t=e=n=NaN),new tt(t,e,n,i)}function Ua(t){return t instanceof kn||(t=yn(t)),t?(t=t.rgb(),new tt(t.r,t.g,t.b,t.opacity)):new tt}function vi(t,e,n,i){return arguments.length===1?Ua(t):new tt(t,e,n,i??1)}function tt(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}Xi(tt,vi,Nr(kn,{brighter(t){return t=t==null?Rn:Math.pow(Rn,t),new tt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?gn:Math.pow(gn,t),new tt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new tt(Lt(this.r),Lt(this.g),Lt(this.b),Bn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ro,formatHex:ro,formatHex8:Ga,formatRgb:lo,toString:lo}));function ro(){return`#${Xt(this.r)}${Xt(this.g)}${Xt(this.b)}`}function Ga(){return`#${Xt(this.r)}${Xt(this.g)}${Xt(this.b)}${Xt((isNaN(this.opacity)?1:this.opacity)*255)}`}function lo(){const t=Bn(this.opacity);return`${t===1?"rgb(":"rgba("}${Lt(this.r)}, ${Lt(this.g)}, ${Lt(this.b)}${t===1?")":`, ${t})`}`}function Bn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Lt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Xt(t){return t=Lt(t),(t<16?"0":"")+t.toString(16)}function so(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new mt(t,e,n,i)}function zr(t){if(t instanceof mt)return new mt(t.h,t.s,t.l,t.opacity);if(t instanceof kn||(t=yn(t)),!t)return new mt;if(t instanceof mt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,o=Math.min(e,n,i),r=Math.max(e,n,i),s=NaN,l=r-o,a=(r+o)/2;return l?(e===r?s=(n-i)/l+(n<i)*6:n===r?s=(i-e)/l+2:s=(e-n)/l+4,l/=a<.5?r+o:2-r-o,s*=60):l=a>0&&a<1?0:s,new mt(s,l,a,t.opacity)}function Ja(t,e,n,i){return arguments.length===1?zr(t):new mt(t,e,n,i??1)}function mt(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}Xi(mt,Ja,Nr(kn,{brighter(t){return t=t==null?Rn:Math.pow(Rn,t),new mt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?gn:Math.pow(gn,t),new mt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,o=2*n-i;return new tt(ci(t>=240?t-240:t+120,o,i),ci(t,o,i),ci(t<120?t+240:t-120,o,i),this.opacity)},clamp(){return new mt(ao(this.h),Mn(this.s),Mn(this.l),Bn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Bn(this.opacity);return`${t===1?"hsl(":"hsla("}${ao(this.h)}, ${Mn(this.s)*100}%, ${Mn(this.l)*100}%${t===1?")":`, ${t})`}`}}));function ao(t){return t=(t||0)%360,t<0?t+360:t}function Mn(t){return Math.max(0,Math.min(1,t||0))}function ci(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Tr=t=>()=>t;function Qa(t,e){return function(n){return t+n*e}}function ja(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function xa(t){return(t=+t)==1?Dr:function(e,n){return n-e?ja(e,n,t):Tr(isNaN(e)?n:e)}}function Dr(t,e){var n=e-t;return n?Qa(t,n):Tr(isNaN(t)?e:t)}const uo=function t(e){var n=xa(e);function i(o,r){var s=n((o=vi(o)).r,(r=vi(r)).r),l=n(o.g,r.g),a=n(o.b,r.b),u=Dr(o.opacity,r.opacity);return function(f){return o.r=s(f),o.g=l(f),o.b=a(f),o.opacity=u(f),o+""}}return i.gamma=t,i}(1);function It(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Ei=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,di=new RegExp(Ei.source,"g");function $a(t){return function(){return t}}function eu(t){return function(e){return t(e)+""}}function tu(t,e){var n=Ei.lastIndex=di.lastIndex=0,i,o,r,s=-1,l=[],a=[];for(t=t+"",e=e+"";(i=Ei.exec(t))&&(o=di.exec(e));)(r=o.index)>n&&(r=e.slice(n,r),l[s]?l[s]+=r:l[++s]=r),(i=i[0])===(o=o[0])?l[s]?l[s]+=o:l[++s]=o:(l[++s]=null,a.push({i:s,x:It(i,o)})),n=di.lastIndex;return n<e.length&&(r=e.slice(n),l[s]?l[s]+=r:l[++s]=r),l.length<2?a[0]?eu(a[0].x):$a(e):(e=a.length,function(u){for(var f=0,c;f<e;++f)l[(c=a[f]).i]=c.x(u);return l.join("")})}var fo=180/Math.PI,Si={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Or(t,e,n,i,o,r){var s,l,a;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(a=t*n+e*i)&&(n-=t*a,i-=e*a),(l=Math.sqrt(n*n+i*i))&&(n/=l,i/=l,a/=l),t*i<e*n&&(t=-t,e=-e,a=-a,s=-s),{translateX:o,translateY:r,rotate:Math.atan2(e,t)*fo,skewX:Math.atan(a)*fo,scaleX:s,scaleY:l}}var Pn;function nu(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Si:Or(e.a,e.b,e.c,e.d,e.e,e.f)}function iu(t){return t==null||(Pn||(Pn=document.createElementNS("http://www.w3.org/2000/svg","g")),Pn.setAttribute("transform",t),!(t=Pn.transform.baseVal.consolidate()))?Si:(t=t.matrix,Or(t.a,t.b,t.c,t.d,t.e,t.f))}function Ir(t,e,n,i){function o(u){return u.length?u.pop()+" ":""}function r(u,f,c,d,h,m){if(u!==c||f!==d){var y=h.push("translate(",null,e,null,n);m.push({i:y-4,x:It(u,c)},{i:y-2,x:It(f,d)})}else(c||d)&&h.push("translate("+c+e+d+n)}function s(u,f,c,d){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),d.push({i:c.push(o(c)+"rotate(",null,i)-2,x:It(u,f)})):f&&c.push(o(c)+"rotate("+f+i)}function l(u,f,c,d){u!==f?d.push({i:c.push(o(c)+"skewX(",null,i)-2,x:It(u,f)}):f&&c.push(o(c)+"skewX("+f+i)}function a(u,f,c,d,h,m){if(u!==c||f!==d){var y=h.push(o(h)+"scale(",null,",",null,")");m.push({i:y-4,x:It(u,c)},{i:y-2,x:It(f,d)})}else(c!==1||d!==1)&&h.push(o(h)+"scale("+c+","+d+")")}return function(u,f){var c=[],d=[];return u=t(u),f=t(f),r(u.translateX,u.translateY,f.translateX,f.translateY,c,d),s(u.rotate,f.rotate,c,d),l(u.skewX,f.skewX,c,d),a(u.scaleX,u.scaleY,f.scaleX,f.scaleY,c,d),u=f=null,function(h){for(var m=-1,y=d.length,_;++m<y;)c[(_=d[m]).i]=_.x(h);return c.join("")}}}var ou=Ir(nu,"px, ","px)","deg)"),ru=Ir(iu,", ",")",")"),lu=1e-12;function co(t){return((t=Math.exp(t))+1/t)/2}function su(t){return((t=Math.exp(t))-1/t)/2}function au(t){return((t=Math.exp(2*t))-1)/(t+1)}const uu=function t(e,n,i){function o(r,s){var l=r[0],a=r[1],u=r[2],f=s[0],c=s[1],d=s[2],h=f-l,m=c-a,y=h*h+m*m,_,g;if(y<lu)g=Math.log(d/u)/e,_=function(P){return[l+P*h,a+P*m,u*Math.exp(e*P*g)]};else{var v=Math.sqrt(y),k=(d*d-u*u+i*y)/(2*u*n*v),S=(d*d-u*u-i*y)/(2*d*n*v),I=Math.log(Math.sqrt(k*k+1)-k),V=Math.log(Math.sqrt(S*S+1)-S);g=(V-I)/e,_=function(P){var Y=P*g,H=co(I),W=u/(n*v)*(H*au(e*Y+I)-su(I));return[l+W*h,a+W*m,u*H/co(e*Y+I)]}}return _.duration=g*1e3*e/Math.SQRT2,_}return o.rho=function(r){var s=Math.max(.001,+r),l=s*s,a=l*l;return t(s,l,a)},o}(Math.SQRT2,2,4);var tn=0,fn=0,an=0,Ar=1e3,Wn,cn,Kn=0,Rt=0,ti=0,_n=typeof performance=="object"&&performance.now?performance:Date,Hr=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Yi(){return Rt||(Hr(fu),Rt=_n.now()+ti)}function fu(){Rt=0}function Fn(){this._call=this._time=this._next=null}Fn.prototype=Vr.prototype={constructor:Fn,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Yi():+n)+(e==null?0:+e),!this._next&&cn!==this&&(cn?cn._next=this:Wn=this,cn=this),this._call=t,this._time=n,pi()},stop:function(){this._call&&(this._call=null,this._time=1/0,pi())}};function Vr(t,e,n){var i=new Fn;return i.restart(t,e,n),i}function cu(){Yi(),++tn;for(var t=Wn,e;t;)(e=Rt-t._time)>=0&&t._call.call(void 0,e),t=t._next;--tn}function ho(){Rt=(Kn=_n.now())+ti,tn=fn=0;try{cu()}finally{tn=0,hu(),Rt=0}}function du(){var t=_n.now(),e=t-Kn;e>Ar&&(ti-=e,Kn=t)}function hu(){for(var t,e=Wn,n,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Wn=n);cn=t,pi(i)}function pi(t){if(!tn){fn&&(fn=clearTimeout(fn));var e=t-Rt;e>24?(t<1/0&&(fn=setTimeout(ho,t-_n.now()-ti)),an&&(an=clearInterval(an))):(an||(Kn=_n.now(),an=setInterval(du,Ar)),tn=1,Hr(ho))}}function go(t,e,n){var i=new Fn;return e=e==null?0:+e,i.restart(o=>{i.stop(),t(o+e)},e,n),i}var gu=$n("start","end","cancel","interrupt"),mu=[],Xr=0,mo=1,Ci=2,On=3,yo=4,Mi=5,In=6;function ni(t,e,n,i,o,r){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;yu(t,n,{name:e,index:i,group:o,on:gu,tween:mu,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:Xr})}function Li(t,e){var n=_t(t,e);if(n.state>Xr)throw new Error("too late; already scheduled");return n}function St(t,e){var n=_t(t,e);if(n.state>On)throw new Error("too late; already running");return n}function _t(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function yu(t,e,n){var i=t.__transition,o;i[e]=n,n.timer=Vr(r,0,n.time);function r(u){n.state=mo,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var f,c,d,h;if(n.state!==mo)return a();for(f in i)if(h=i[f],h.name===n.name){if(h.state===On)return go(s);h.state===yo?(h.state=In,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[f]):+f<e&&(h.state=In,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[f])}if(go(function(){n.state===On&&(n.state=yo,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=Ci,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Ci){for(n.state=On,o=new Array(d=n.tween.length),f=0,c=-1;f<d;++f)(h=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(o[++c]=h);o.length=c+1}}function l(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(a),n.state=Mi,1),c=-1,d=o.length;++c<d;)o[c].call(t,f);n.state===Mi&&(n.on.call("end",t,t.__data__,n.index,n.group),a())}function a(){n.state=In,n.timer.stop(),delete i[e];for(var u in i)return;delete t.__transition}}function An(t,e){var n=t.__transition,i,o,r=!0,s;if(n){e=e==null?null:e+"";for(s in n){if((i=n[s]).name!==e){r=!1;continue}o=i.state>Ci&&i.state<Mi,i.state=In,i.timer.stop(),i.on.call(o?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete n[s]}r&&delete t.__transition}}function _u(t){return this.each(function(){An(this,t)})}function bu(t,e){var n,i;return function(){var o=St(this,t),r=o.tween;if(r!==n){i=n=r;for(var s=0,l=i.length;s<l;++s)if(i[s].name===e){i=i.slice(),i.splice(s,1);break}}o.tween=i}}function wu(t,e,n){var i,o;if(typeof n!="function")throw new Error;return function(){var r=St(this,t),s=r.tween;if(s!==i){o=(i=s).slice();for(var l={name:e,value:n},a=0,u=o.length;a<u;++a)if(o[a].name===e){o[a]=l;break}a===u&&o.push(l)}r.tween=o}}function ku(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i=_t(this.node(),n).tween,o=0,r=i.length,s;o<r;++o)if((s=i[o]).name===t)return s.value;return null}return this.each((e==null?bu:wu)(n,t,e))}function Ri(t,e,n){var i=t._id;return t.each(function(){var o=St(this,i);(o.value||(o.value={}))[e]=n.apply(this,arguments)}),function(o){return _t(o,i).value[e]}}function Yr(t,e){var n;return(typeof e=="number"?It:e instanceof yn?uo:(n=yn(e))?(e=n,uo):tu)(t,e)}function vu(t){return function(){this.removeAttribute(t)}}function Eu(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Su(t,e,n){var i,o=n+"",r;return function(){var s=this.getAttribute(t);return s===o?null:s===i?r:r=e(i=s,n)}}function pu(t,e,n){var i,o=n+"",r;return function(){var s=this.getAttributeNS(t.space,t.local);return s===o?null:s===i?r:r=e(i=s,n)}}function Cu(t,e,n){var i,o,r;return function(){var s,l=n(this),a;return l==null?void this.removeAttribute(t):(s=this.getAttribute(t),a=l+"",s===a?null:s===i&&a===o?r:(o=a,r=e(i=s,l)))}}function Mu(t,e,n){var i,o,r;return function(){var s,l=n(this),a;return l==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),a=l+"",s===a?null:s===i&&a===o?r:(o=a,r=e(i=s,l)))}}function Pu(t,e){var n=ei(t),i=n==="transform"?ru:Yr;return this.attrTween(t,typeof e=="function"?(n.local?Mu:Cu)(n,i,Ri(this,"attr."+t,e)):e==null?(n.local?Eu:vu)(n):(n.local?pu:Su)(n,i,e))}function Nu(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function zu(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Tu(t,e){var n,i;function o(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&zu(t,r)),n}return o._value=e,o}function Du(t,e){var n,i;function o(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&Nu(t,r)),n}return o._value=e,o}function Ou(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var i=ei(t);return this.tween(n,(i.local?Tu:Du)(i,e))}function Iu(t,e){return function(){Li(this,t).delay=+e.apply(this,arguments)}}function Au(t,e){return e=+e,function(){Li(this,t).delay=e}}function Hu(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Iu:Au)(e,t)):_t(this.node(),e).delay}function Vu(t,e){return function(){St(this,t).duration=+e.apply(this,arguments)}}function Xu(t,e){return e=+e,function(){St(this,t).duration=e}}function Yu(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Vu:Xu)(e,t)):_t(this.node(),e).duration}function Lu(t,e){if(typeof e!="function")throw new Error;return function(){St(this,t).ease=e}}function Ru(t){var e=this._id;return arguments.length?this.each(Lu(e,t)):_t(this.node(),e).ease}function Bu(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;St(this,t).ease=n}}function Wu(t){if(typeof t!="function")throw new Error;return this.each(Bu(this._id,t))}function Ku(t){typeof t!="function"&&(t=yr(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r=e[o],s=r.length,l=i[o]=[],a,u=0;u<s;++u)(a=r[u])&&t.call(a,a.__data__,u,r)&&l.push(a);return new Ot(i,this._parents,this._name,this._id)}function Fu(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,o=n.length,r=Math.min(i,o),s=new Array(i),l=0;l<r;++l)for(var a=e[l],u=n[l],f=a.length,c=s[l]=new Array(f),d,h=0;h<f;++h)(d=a[h]||u[h])&&(c[h]=d);for(;l<i;++l)s[l]=e[l];return new Ot(s,this._parents,this._name,this._id)}function Zu(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function qu(t,e,n){var i,o,r=Zu(e)?Li:St;return function(){var s=r(this,t),l=s.on;l!==i&&(o=(i=l).copy()).on(e,n),s.on=o}}function Uu(t,e){var n=this._id;return arguments.length<2?_t(this.node(),n).on.on(t):this.each(qu(n,t,e))}function Gu(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Ju(){return this.on("end.remove",Gu(this._id))}function Qu(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Hi(t));for(var i=this._groups,o=i.length,r=new Array(o),s=0;s<o;++s)for(var l=i[s],a=l.length,u=r[s]=new Array(a),f,c,d=0;d<a;++d)(f=l[d])&&(c=t.call(f,f.__data__,d,l))&&("__data__"in f&&(c.__data__=f.__data__),u[d]=c,ni(u[d],e,n,d,u,_t(f,n)));return new Ot(r,this._parents,e,n)}function ju(t){var e=this._name,n=this._id;typeof t!="function"&&(t=mr(t));for(var i=this._groups,o=i.length,r=[],s=[],l=0;l<o;++l)for(var a=i[l],u=a.length,f,c=0;c<u;++c)if(f=a[c]){for(var d=t.call(f,f.__data__,c,a),h,m=_t(f,n),y=0,_=d.length;y<_;++y)(h=d[y])&&ni(h,e,n,y,d,m);r.push(d),s.push(f)}return new Ot(r,s,e,n)}var xu=wn.prototype.constructor;function $u(){return new xu(this._groups,this._parents)}function ef(t,e){var n,i,o;return function(){var r=en(this,t),s=(this.style.removeProperty(t),en(this,t));return r===s?null:r===n&&s===i?o:o=e(n=r,i=s)}}function Lr(t){return function(){this.style.removeProperty(t)}}function tf(t,e,n){var i,o=n+"",r;return function(){var s=en(this,t);return s===o?null:s===i?r:r=e(i=s,n)}}function nf(t,e,n){var i,o,r;return function(){var s=en(this,t),l=n(this),a=l+"";return l==null&&(a=l=(this.style.removeProperty(t),en(this,t))),s===a?null:s===i&&a===o?r:(o=a,r=e(i=s,l))}}function of(t,e){var n,i,o,r="style."+e,s="end."+r,l;return function(){var a=St(this,t),u=a.on,f=a.value[r]==null?l||(l=Lr(e)):void 0;(u!==n||o!==f)&&(i=(n=u).copy()).on(s,o=f),a.on=i}}function rf(t,e,n){var i=(t+="")=="transform"?ou:Yr;return e==null?this.styleTween(t,ef(t,i)).on("end.style."+t,Lr(t)):typeof e=="function"?this.styleTween(t,nf(t,i,Ri(this,"style."+t,e))).each(of(this._id,t)):this.styleTween(t,tf(t,i,e),n).on("end.style."+t,null)}function lf(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function sf(t,e,n){var i,o;function r(){var s=e.apply(this,arguments);return s!==o&&(i=(o=s)&&lf(t,s,n)),i}return r._value=e,r}function af(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,sf(t,e,n??""))}function uf(t){return function(){this.textContent=t}}function ff(t){return function(){var e=t(this);this.textContent=e??""}}function cf(t){return this.tween("text",typeof t=="function"?ff(Ri(this,"text",t)):uf(t==null?"":t+""))}function df(t){return function(e){this.textContent=t.call(this,e)}}function hf(t){var e,n;function i(){var o=t.apply(this,arguments);return o!==n&&(e=(n=o)&&df(o)),e}return i._value=t,i}function gf(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,hf(t))}function mf(){for(var t=this._name,e=this._id,n=Rr(),i=this._groups,o=i.length,r=0;r<o;++r)for(var s=i[r],l=s.length,a,u=0;u<l;++u)if(a=s[u]){var f=_t(a,e);ni(a,t,n,u,s,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Ot(i,this._parents,t,n)}function yf(){var t,e,n=this,i=n._id,o=n.size();return new Promise(function(r,s){var l={value:s},a={value:function(){--o===0&&r()}};n.each(function(){var u=St(this,i),f=u.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(a)),u.on=e}),o===0&&r()})}var _f=0;function Ot(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function Rr(){return++_f}var zt=wn.prototype;Ot.prototype={constructor:Ot,select:Qu,selectAll:ju,selectChild:zt.selectChild,selectChildren:zt.selectChildren,filter:Ku,merge:Fu,selection:$u,transition:mf,call:zt.call,nodes:zt.nodes,node:zt.node,size:zt.size,empty:zt.empty,each:zt.each,on:Uu,attr:Pu,attrTween:Ou,style:rf,styleTween:af,text:cf,textTween:gf,remove:Ju,tween:ku,delay:Hu,duration:Yu,ease:Ru,easeVarying:Wu,end:yf,[Symbol.iterator]:zt[Symbol.iterator]};function bf(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var wf={time:null,delay:0,duration:250,ease:bf};function kf(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function vf(t){var e,n;t instanceof Ot?(e=t._id,t=t._name):(e=Rr(),(n=wf).time=Yi(),t=t==null?null:t+"");for(var i=this._groups,o=i.length,r=0;r<o;++r)for(var s=i[r],l=s.length,a,u=0;u<l;++u)(a=s[u])&&ni(a,t,e,u,s,n||kf(a,e));return new Ot(i,this._parents,t,e)}wn.prototype.interrupt=_u;wn.prototype.transition=vf;const Nn=t=>()=>t;function Ef(t,{sourceEvent:e,target:n,transform:i,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function Tt(t,e,n){this.k=t,this.x=e,this.y=n}Tt.prototype={constructor:Tt,scale:function(t){return t===1?this:new Tt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Tt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ii=new Tt(1,0,0);Br.prototype=Tt.prototype;function Br(t){for(;!t.__zoom;)if(!(t=t.parentNode))return ii;return t.__zoom}function hi(t){t.stopImmediatePropagation()}function un(t){t.preventDefault(),t.stopImmediatePropagation()}function Sf(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function pf(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function _o(){return this.__zoom||ii}function Cf(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Mf(){return navigator.maxTouchPoints||"ontouchstart"in this}function Pf(t,e,n){var i=t.invertX(e[0][0])-n[0][0],o=t.invertX(e[1][0])-n[1][0],r=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o),s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s))}function Nf(){var t=Sf,e=pf,n=Pf,i=Cf,o=Mf,r=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],l=250,a=uu,u=$n("start","zoom","end"),f,c,d,h=500,m=150,y=0,_=10;function g(w){w.property("__zoom",_o).on("wheel.zoom",Y,{passive:!1}).on("mousedown.zoom",H).on("dblclick.zoom",W).filter(o).on("touchstart.zoom",q).on("touchmove.zoom",K).on("touchend.zoom touchcancel.zoom",Z).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(w,A,b,C){var T=w.selection?w.selection():w;T.property("__zoom",_o),w!==T?I(w,A,b,C):T.interrupt().each(function(){V(this,arguments).event(C).start().zoom(null,typeof A=="function"?A.apply(this,arguments):A).end()})},g.scaleBy=function(w,A,b,C){g.scaleTo(w,function(){var T=this.__zoom.k,D=typeof A=="function"?A.apply(this,arguments):A;return T*D},b,C)},g.scaleTo=function(w,A,b,C){g.transform(w,function(){var T=e.apply(this,arguments),D=this.__zoom,L=b==null?S(T):typeof b=="function"?b.apply(this,arguments):b,F=D.invert(L),G=typeof A=="function"?A.apply(this,arguments):A;return n(k(v(D,G),L,F),T,s)},b,C)},g.translateBy=function(w,A,b,C){g.transform(w,function(){return n(this.__zoom.translate(typeof A=="function"?A.apply(this,arguments):A,typeof b=="function"?b.apply(this,arguments):b),e.apply(this,arguments),s)},null,C)},g.translateTo=function(w,A,b,C,T){g.transform(w,function(){var D=e.apply(this,arguments),L=this.__zoom,F=C==null?S(D):typeof C=="function"?C.apply(this,arguments):C;return n(ii.translate(F[0],F[1]).scale(L.k).translate(typeof A=="function"?-A.apply(this,arguments):-A,typeof b=="function"?-b.apply(this,arguments):-b),D,s)},C,T)};function v(w,A){return A=Math.max(r[0],Math.min(r[1],A)),A===w.k?w:new Tt(A,w.x,w.y)}function k(w,A,b){var C=A[0]-b[0]*w.k,T=A[1]-b[1]*w.k;return C===w.x&&T===w.y?w:new Tt(w.k,C,T)}function S(w){return[(+w[0][0]+ +w[1][0])/2,(+w[0][1]+ +w[1][1])/2]}function I(w,A,b,C){w.on("start.zoom",function(){V(this,arguments).event(C).start()}).on("interrupt.zoom end.zoom",function(){V(this,arguments).event(C).end()}).tween("zoom",function(){var T=this,D=arguments,L=V(T,D).event(C),F=e.apply(T,D),G=b==null?S(F):typeof b=="function"?b.apply(T,D):b,ee=Math.max(F[1][0]-F[0][0],F[1][1]-F[0][1]),O=T.__zoom,x=typeof A=="function"?A.apply(T,D):A,te=a(O.invert(G).concat(ee/O.k),x.invert(G).concat(ee/x.k));return function(z){if(z===1)z=x;else{var le=te(z),ye=ee/le[2];z=new Tt(ye,G[0]-le[0]*ye,G[1]-le[1]*ye)}L.zoom(null,z)}})}function V(w,A,b){return!b&&w.__zooming||new P(w,A)}function P(w,A){this.that=w,this.args=A,this.active=0,this.sourceEvent=null,this.extent=e.apply(w,A),this.taps=0}P.prototype={event:function(w){return w&&(this.sourceEvent=w),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(w,A){return this.mouse&&w!=="mouse"&&(this.mouse[1]=A.invert(this.mouse[0])),this.touch0&&w!=="touch"&&(this.touch0[1]=A.invert(this.touch0[0])),this.touch1&&w!=="touch"&&(this.touch1[1]=A.invert(this.touch1[0])),this.that.__zoom=A,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(w){var A=gt(this.that).datum();u.call(w,this.that,new Ef(w,{sourceEvent:this.sourceEvent,target:g,type:w,transform:this.that.__zoom,dispatch:u}),A)}};function Y(w,...A){if(!t.apply(this,arguments))return;var b=V(this,A).event(w),C=this.__zoom,T=Math.max(r[0],Math.min(r[1],C.k*Math.pow(2,i.apply(this,arguments)))),D=kt(w);if(b.wheel)(b.mouse[0][0]!==D[0]||b.mouse[0][1]!==D[1])&&(b.mouse[1]=C.invert(b.mouse[0]=D)),clearTimeout(b.wheel);else{if(C.k===T)return;b.mouse=[D,C.invert(D)],An(this),b.start()}un(w),b.wheel=setTimeout(L,m),b.zoom("mouse",n(k(v(C,T),b.mouse[0],b.mouse[1]),b.extent,s));function L(){b.wheel=null,b.end()}}function H(w,...A){if(d||!t.apply(this,arguments))return;var b=w.currentTarget,C=V(this,A,!0).event(w),T=gt(w.view).on("mousemove.zoom",G,!0).on("mouseup.zoom",ee,!0),D=kt(w,b),L=w.clientX,F=w.clientY;Mr(w.view),hi(w),C.mouse=[D,this.__zoom.invert(D)],An(this),C.start();function G(O){if(un(O),!C.moved){var x=O.clientX-L,te=O.clientY-F;C.moved=x*x+te*te>y}C.event(O).zoom("mouse",n(k(C.that.__zoom,C.mouse[0]=kt(O,b),C.mouse[1]),C.extent,s))}function ee(O){T.on("mousemove.zoom mouseup.zoom",null),Pr(O.view,C.moved),un(O),C.event(O).end()}}function W(w,...A){if(t.apply(this,arguments)){var b=this.__zoom,C=kt(w.changedTouches?w.changedTouches[0]:w,this),T=b.invert(C),D=b.k*(w.shiftKey?.5:2),L=n(k(v(b,D),C,T),e.apply(this,A),s);un(w),l>0?gt(this).transition().duration(l).call(I,L,C,w):gt(this).call(g.transform,L,C,w)}}function q(w,...A){if(t.apply(this,arguments)){var b=w.touches,C=b.length,T=V(this,A,w.changedTouches.length===C).event(w),D,L,F,G;for(hi(w),L=0;L<C;++L)F=b[L],G=kt(F,this),G=[G,this.__zoom.invert(G),F.identifier],T.touch0?!T.touch1&&T.touch0[2]!==G[2]&&(T.touch1=G,T.taps=0):(T.touch0=G,D=!0,T.taps=1+!!f);f&&(f=clearTimeout(f)),D&&(T.taps<2&&(c=G[0],f=setTimeout(function(){f=null},h)),An(this),T.start())}}function K(w,...A){if(this.__zooming){var b=V(this,A).event(w),C=w.changedTouches,T=C.length,D,L,F,G;for(un(w),D=0;D<T;++D)L=C[D],F=kt(L,this),b.touch0&&b.touch0[2]===L.identifier?b.touch0[0]=F:b.touch1&&b.touch1[2]===L.identifier&&(b.touch1[0]=F);if(L=b.that.__zoom,b.touch1){var ee=b.touch0[0],O=b.touch0[1],x=b.touch1[0],te=b.touch1[1],z=(z=x[0]-ee[0])*z+(z=x[1]-ee[1])*z,le=(le=te[0]-O[0])*le+(le=te[1]-O[1])*le;L=v(L,Math.sqrt(z/le)),F=[(ee[0]+x[0])/2,(ee[1]+x[1])/2],G=[(O[0]+te[0])/2,(O[1]+te[1])/2]}else if(b.touch0)F=b.touch0[0],G=b.touch0[1];else return;b.zoom("touch",n(k(L,F,G),b.extent,s))}}function Z(w,...A){if(this.__zooming){var b=V(this,A).event(w),C=w.changedTouches,T=C.length,D,L;for(hi(w),d&&clearTimeout(d),d=setTimeout(function(){d=null},h),D=0;D<T;++D)L=C[D],b.touch0&&b.touch0[2]===L.identifier?delete b.touch0:b.touch1&&b.touch1[2]===L.identifier&&delete b.touch1;if(b.touch1&&!b.touch0&&(b.touch0=b.touch1,delete b.touch1),b.touch0)b.touch0[1]=this.__zoom.invert(b.touch0[0]);else if(b.end(),b.taps===2&&(L=kt(L,this),Math.hypot(c[0]-L[0],c[1]-L[1])<_)){var F=gt(this).on("dblclick.zoom");F&&F.apply(this,arguments)}}}return g.wheelDelta=function(w){return arguments.length?(i=typeof w=="function"?w:Nn(+w),g):i},g.filter=function(w){return arguments.length?(t=typeof w=="function"?w:Nn(!!w),g):t},g.touchable=function(w){return arguments.length?(o=typeof w=="function"?w:Nn(!!w),g):o},g.extent=function(w){return arguments.length?(e=typeof w=="function"?w:Nn([[+w[0][0],+w[0][1]],[+w[1][0],+w[1][1]]]),g):e},g.scaleExtent=function(w){return arguments.length?(r[0]=+w[0],r[1]=+w[1],g):[r[0],r[1]]},g.translateExtent=function(w){return arguments.length?(s[0][0]=+w[0][0],s[1][0]=+w[1][0],s[0][1]=+w[0][1],s[1][1]=+w[1][1],g):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},g.constrain=function(w){return arguments.length?(n=w,g):n},g.duration=function(w){return arguments.length?(l=+w,g):l},g.interpolate=function(w){return arguments.length?(a=w,g):a},g.on=function(){var w=u.on.apply(u,arguments);return w===u?g:w},g.clickDistance=function(w){return arguments.length?(y=(w=+w)*w,g):Math.sqrt(y)},g.tapDistance=function(w){return arguments.length?(_=+w,g):_},g}const vn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:n,targetHandle:i})=>`Couldn't create edge for ${t} handle id: "${t==="source"?n:i}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(t="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${t}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID."},Zn=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]];var Bt;(function(t){t.Strict="strict",t.Loose="loose"})(Bt||(Bt={}));var Et;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(Et||(Et={}));var qn;(function(t){t.Partial="partial",t.Full="full"})(qn||(qn={}));const Pi={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var jt;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(jt||(jt={}));var Un;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(Un||(Un={}));var he;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(he||(he={}));const bo={[he.Left]:he.Right,[he.Right]:he.Left,[he.Top]:he.Bottom,[he.Bottom]:he.Top};function zf(t,e){if(!t&&!e)return!0;if(!t||!e||t.size!==e.size)return!1;if(!t.size&&!e.size)return!0;for(const n of t.keys())if(!e.has(n))return!1;return!0}function wo(t,e,n){if(!n)return;const i=[];t.forEach((o,r)=>{e!=null&&e.has(r)||i.push(o)}),i.length&&n(i)}function ko(t){return t===null?null:t?"valid":"invalid"}const Tf=t=>"id"in t&&"source"in t&&"target"in t,Wr=t=>"id"in t&&"internals"in t&&!("source"in t)&&!("target"in t),En=(t,e=[0,0])=>{const{width:n,height:i}=Kt(t),o=t.origin??e,r=n*o[0],s=i*o[1];return{x:t.position.x-r,y:t.position.y-s}},oi=(t,e={})=>{if(t.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return t.forEach(i=>{if(e.filter===void 0||e.filter(i)){const o=Ti(i);n=Bi(n,o)}}),Wi(n)},Kr=(t,e,[n,i,o]=[0,0,1],r=!1,s=!1)=>{const l={...li(e,[n,i,o]),width:e.width/o,height:e.height/o},a=[];for(const u of t.values()){const{measured:f,selectable:c=!0,hidden:d=!1}=u;if(s&&!c||d)continue;const h=f.width??u.width??u.initialWidth??null,m=f.height??u.height??u.initialHeight??null,y=Ki(l,ri(u)),_=(h??0)*(m??0),g=r&&y>0;(!u.internals.handleBounds||g||y>=_||u.dragging)&&a.push(u)}return a},Ni=(t,e)=>{const n=new Set;return t.forEach(i=>{n.add(i.id)}),e.filter(i=>n.has(i.source)||n.has(i.target))};function vo(t,e){const n=new Map,i=e!=null&&e.nodes?new Set(e.nodes.map(o=>o.id)):null;return t.forEach(o=>{o.measured.width&&o.measured.height&&((e==null?void 0:e.includeHiddenNodes)||!o.hidden)&&(!i||i.has(o.id))&&n.set(o.id,o)}),n}async function Eo({nodes:t,width:e,height:n,panZoom:i,minZoom:o,maxZoom:r},s){if(t.size===0)return Promise.resolve(!1);const l=oi(t),a=qr(l,e,n,(s==null?void 0:s.minZoom)??o,(s==null?void 0:s.maxZoom)??r,(s==null?void 0:s.padding)??.1);return await i.setViewport(a,{duration:s==null?void 0:s.duration}),Promise.resolve(!0)}function Df({nodeId:t,nextPosition:e,nodeLookup:n,nodeOrigin:i=[0,0],nodeExtent:o,onError:r}){const s=n.get(t),l=s.parentId?n.get(s.parentId):void 0,{x:a,y:u}=l?l.internals.positionAbsolute:{x:0,y:0},f=s.origin??i;let c=o;if(s.extent==="parent"&&!s.expandParent)if(!l)r==null||r("005",vn.error005());else{const h=l.measured.width,m=l.measured.height;h&&m&&(c=[[a,u],[a+h,u+m]])}else l&&on(s.extent)&&(c=[[s.extent[0][0]+a,s.extent[0][1]+u],[s.extent[1][0]+a,s.extent[1][1]+u]]);const d=on(c)?Wt(e,c,s.measured):e;return{position:{x:d.x-a+s.measured.width*f[0],y:d.y-u+s.measured.height*f[1]},positionAbsolute:d}}async function Of({nodesToRemove:t=[],edgesToRemove:e=[],nodes:n,edges:i,onBeforeDelete:o}){const r=new Set(t.map(d=>d.id)),s=[];for(const d of n){if(d.deletable===!1)continue;const h=r.has(d.id),m=!h&&d.parentId&&s.find(y=>y.id===d.parentId);(h||m)&&s.push(d)}const l=new Set(e.map(d=>d.id)),a=i.filter(d=>d.deletable!==!1),f=Ni(s,a);for(const d of a)l.has(d.id)&&!f.find(m=>m.id===d.id)&&f.push(d);if(!o)return{edges:f,nodes:s};const c=await o({nodes:s,edges:f});return typeof c=="boolean"?c?{edges:f,nodes:s}:{edges:[],nodes:[]}:c}const nn=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),Wt=(t={x:0,y:0},e,n)=>({x:nn(t.x,e[0][0],e[1][0]-((n==null?void 0:n.width)??0)),y:nn(t.y,e[0][1],e[1][1]-((n==null?void 0:n.height)??0))});function Fr(t,e,n){const{width:i,height:o}=Kt(n),{x:r,y:s}=n.internals.positionAbsolute;return Wt(t,[[r,s],[r+i,s+o]],e)}const So=(t,e,n)=>t<e?nn(Math.abs(t-e),1,e)/e:t>n?-nn(Math.abs(t-n),1,e)/e:0,Zr=(t,e,n=15,i=40)=>{const o=So(t.x,i,e.width-i)*n,r=So(t.y,i,e.height-i)*n;return[o,r]},Bi=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),zi=({x:t,y:e,width:n,height:i})=>({x:t,y:e,x2:t+n,y2:e+i}),Wi=({x:t,y:e,x2:n,y2:i})=>({x:t,y:e,width:n-t,height:i-e}),ri=(t,e=[0,0])=>{var o,r;const{x:n,y:i}=Wr(t)?t.internals.positionAbsolute:En(t,e);return{x:n,y:i,width:((o=t.measured)==null?void 0:o.width)??t.width??t.initialWidth??0,height:((r=t.measured)==null?void 0:r.height)??t.height??t.initialHeight??0}},Ti=(t,e=[0,0])=>{var o,r;const{x:n,y:i}=Wr(t)?t.internals.positionAbsolute:En(t,e);return{x:n,y:i,x2:n+(((o=t.measured)==null?void 0:o.width)??t.width??t.initialWidth??0),y2:i+(((r=t.measured)==null?void 0:r.height)??t.height??t.initialHeight??0)}},If=(t,e)=>Wi(Bi(zi(t),zi(e))),Ki=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),i=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*i)},Yt=t=>!isNaN(t)&&isFinite(t),Af=(t,e)=>{},Fi=(t,e=[1,1])=>({x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}),li=({x:t,y:e},[n,i,o],r=!1,s=[1,1])=>{const l={x:(t-n)/o,y:(e-i)/o};return r?Fi(l,s):l},Hf=({x:t,y:e},[n,i,o])=>({x:t*o+n,y:e*o+i}),qr=(t,e,n,i,o,r)=>{const s=e/(t.width*(1+r)),l=n/(t.height*(1+r)),a=Math.min(s,l),u=nn(a,i,o),f=t.x+t.width/2,c=t.y+t.height/2,d=e/2-f*u,h=n/2-c*u;return{x:d,y:h,zoom:u}},Gn=()=>{var t;return typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)==null?void 0:t.indexOf("Mac"))>=0};function on(t){return t!==void 0&&t!=="parent"}function Kt(t){var e,n;return{width:((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth??0,height:((n=t.measured)==null?void 0:n.height)??t.height??t.initialHeight??0}}function po(t){var e,n;return(((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth)!==void 0&&(((n=t.measured)==null?void 0:n.height)??t.height??t.initialHeight)!==void 0}function gi(t,{snapGrid:e=[0,0],snapToGrid:n=!1,transform:i,containerBounds:o}){const{x:r,y:s}=Dt(t),l=li({x:r-((o==null?void 0:o.left)??0),y:s-((o==null?void 0:o.top)??0)},i),{x:a,y:u}=n?Fi(l,e):l;return{xSnapped:a,ySnapped:u,...l}}const Zi=t=>({width:t.offsetWidth,height:t.offsetHeight}),Vf=t=>{var e;return((e=t==null?void 0:t.getRootNode)==null?void 0:e.call(t))||(window==null?void 0:window.document)},Xf=["INPUT","SELECT","TEXTAREA"];function Yf(t){var i,o;const e=((o=(i=t.composedPath)==null?void 0:i.call(t))==null?void 0:o[0])||t.target;return(e==null?void 0:e.nodeType)!==1?!1:Xf.includes(e.nodeName)||e.hasAttribute("contenteditable")||!!e.closest(".nokey")}const Ur=t=>"clientX"in t,Dt=(t,e)=>{var r,s;const n=Ur(t),i=n?t.clientX:(r=t.touches)==null?void 0:r[0].clientX,o=n?t.clientY:(s=t.touches)==null?void 0:s[0].clientY;return{x:i-((e==null?void 0:e.left)??0),y:o-((e==null?void 0:e.top)??0)}},Co=(t,e,n,i,o)=>{const r=e.querySelectorAll(`.${t}`);return!r||!r.length?null:Array.from(r).map(s=>{const l=s.getBoundingClientRect();return{id:s.getAttribute("data-handleid"),type:t,nodeId:o,position:s.getAttribute("data-handlepos"),x:(l.left-n.left)/i,y:(l.top-n.top)/i,...Zi(s)}})};function Lf({sourceX:t,sourceY:e,targetX:n,targetY:i,sourceControlX:o,sourceControlY:r,targetControlX:s,targetControlY:l}){const a=t*.125+o*.375+s*.375+n*.125,u=e*.125+r*.375+l*.375+i*.125,f=Math.abs(a-t),c=Math.abs(u-e);return[a,u,f,c]}function zn(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function Mo({pos:t,x1:e,y1:n,x2:i,y2:o,c:r}){switch(t){case he.Left:return[e-zn(e-i,r),n];case he.Right:return[e+zn(i-e,r),n];case he.Top:return[e,n-zn(n-o,r)];case he.Bottom:return[e,n+zn(o-n,r)]}}function Gr({sourceX:t,sourceY:e,sourcePosition:n=he.Bottom,targetX:i,targetY:o,targetPosition:r=he.Top,curvature:s=.25}){const[l,a]=Mo({pos:n,x1:t,y1:e,x2:i,y2:o,c:s}),[u,f]=Mo({pos:r,x1:i,y1:o,x2:t,y2:e,c:s}),[c,d,h,m]=Lf({sourceX:t,sourceY:e,targetX:i,targetY:o,sourceControlX:l,sourceControlY:a,targetControlX:u,targetControlY:f});return[`M${t},${e} C${l},${a} ${u},${f} ${i},${o}`,c,d,h,m]}function Jr({sourceX:t,sourceY:e,targetX:n,targetY:i}){const o=Math.abs(n-t)/2,r=n<t?n+o:n-o,s=Math.abs(i-e)/2,l=i<e?i+s:i-s;return[r,l,o,s]}function Rf({sourceNode:t,targetNode:e,selected:n=!1,zIndex:i=0,elevateOnSelect:o=!1}){if(!o)return i;const r=n||e.selected||t.selected,s=Math.max(t.internals.z||0,e.internals.z||0,1e3);return i+(r?s:0)}function Bf({sourceNode:t,targetNode:e,width:n,height:i,transform:o}){const r=Bi(Ti(t),Ti(e));r.x===r.x2&&(r.x2+=1),r.y===r.y2&&(r.y2+=1);const s={x:-o[0]/o[2],y:-o[1]/o[2],width:n/o[2],height:i/o[2]};return Ki(s,Wi(r))>0}const Wf=({source:t,sourceHandle:e,target:n,targetHandle:i})=>`xy-edge__${t}${e||""}-${n}${i||""}`,Kf=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),Ff=(t,e)=>{if(!t.source||!t.target)return e;let n;return Tf(t)?n={...t}:n={...t,id:Wf(t)},Kf(n,e)?e:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,e.concat(n))};function Qr({sourceX:t,sourceY:e,targetX:n,targetY:i}){const[o,r,s,l]=Jr({sourceX:t,sourceY:e,targetX:n,targetY:i});return[`M ${t},${e}L ${n},${i}`,o,r,s,l]}const Po={[he.Left]:{x:-1,y:0},[he.Right]:{x:1,y:0},[he.Top]:{x:0,y:-1},[he.Bottom]:{x:0,y:1}},Zf=({source:t,sourcePosition:e=he.Bottom,target:n})=>e===he.Left||e===he.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},No=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function qf({source:t,sourcePosition:e=he.Bottom,target:n,targetPosition:i=he.Top,center:o,offset:r}){const s=Po[e],l=Po[i],a={x:t.x+s.x*r,y:t.y+s.y*r},u={x:n.x+l.x*r,y:n.y+l.y*r},f=Zf({source:a,sourcePosition:e,target:u}),c=f.x!==0?"x":"y",d=f[c];let h=[],m,y;const _={x:0,y:0},g={x:0,y:0},[v,k,S,I]=Jr({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(s[c]*l[c]===-1){m=o.x??v,y=o.y??k;const P=[{x:m,y:a.y},{x:m,y:u.y}],Y=[{x:a.x,y},{x:u.x,y}];s[c]===d?h=c==="x"?P:Y:h=c==="x"?Y:P}else{const P=[{x:a.x,y:u.y}],Y=[{x:u.x,y:a.y}];if(c==="x"?h=s.x===d?Y:P:h=s.y===d?P:Y,e===i){const Z=Math.abs(t[c]-n[c]);if(Z<=r){const w=Math.min(r-1,r-Z);s[c]===d?_[c]=(a[c]>t[c]?-1:1)*w:g[c]=(u[c]>n[c]?-1:1)*w}}if(e!==i){const Z=c==="x"?"y":"x",w=s[c]===l[Z],A=a[Z]>u[Z],b=a[Z]<u[Z];(s[c]===1&&(!w&&A||w&&b)||s[c]!==1&&(!w&&b||w&&A))&&(h=c==="x"?P:Y)}const H={x:a.x+_.x,y:a.y+_.y},W={x:u.x+g.x,y:u.y+g.y},q=Math.max(Math.abs(H.x-h[0].x),Math.abs(W.x-h[0].x)),K=Math.max(Math.abs(H.y-h[0].y),Math.abs(W.y-h[0].y));q>=K?(m=(H.x+W.x)/2,y=h[0].y):(m=h[0].x,y=(H.y+W.y)/2)}return[[t,{x:a.x+_.x,y:a.y+_.y},...h,{x:u.x+g.x,y:u.y+g.y},n],m,y,S,I]}function Uf(t,e,n,i){const o=Math.min(No(t,e)/2,No(e,n)/2,i),{x:r,y:s}=e;if(t.x===r&&r===n.x||t.y===s&&s===n.y)return`L${r} ${s}`;if(t.y===s){const u=t.x<n.x?-1:1,f=t.y<n.y?1:-1;return`L ${r+o*u},${s}Q ${r},${s} ${r},${s+o*f}`}const l=t.x<n.x?1:-1,a=t.y<n.y?-1:1;return`L ${r},${s+o*a}Q ${r},${s} ${r+o*l},${s}`}function Jn({sourceX:t,sourceY:e,sourcePosition:n=he.Bottom,targetX:i,targetY:o,targetPosition:r=he.Top,borderRadius:s=5,centerX:l,centerY:a,offset:u=20}){const[f,c,d,h,m]=qf({source:{x:t,y:e},sourcePosition:n,target:{x:i,y:o},targetPosition:r,center:{x:l,y:a},offset:u});return[f.reduce((_,g,v)=>{let k="";return v>0&&v<f.length-1?k=Uf(f[v-1],g,f[v+1],s):k=`${v===0?"M":"L"}${g.x} ${g.y}`,_+=k,_},""),c,d,h,m]}function zo(t){var e;return t&&!!(t.internals.handleBounds||(e=t.handles)!=null&&e.length)&&!!(t.measured.width||t.width||t.initialWidth)}function Gf(t){var c;const{sourceNode:e,targetNode:n}=t;if(!zo(e)||!zo(n))return null;const i=e.internals.handleBounds||To(e.handles),o=n.internals.handleBounds||To(n.handles),r=Do((i==null?void 0:i.source)??[],t.sourceHandle),s=Do(t.connectionMode===Bt.Strict?(o==null?void 0:o.target)??[]:((o==null?void 0:o.target)??[]).concat((o==null?void 0:o.source)??[]),t.targetHandle);if(!r||!s)return(c=t.onError)==null||c.call(t,"008",vn.error008(r?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const l=(r==null?void 0:r.position)||he.Bottom,a=(s==null?void 0:s.position)||he.Top,u=bn(e,r,l),f=bn(n,s,a);return{sourceX:u.x,sourceY:u.y,targetX:f.x,targetY:f.y,sourcePosition:l,targetPosition:a}}function To(t){if(!t)return null;const e=[],n=[];for(const i of t)i.width=i.width??1,i.height=i.height??1,i.type==="source"?e.push(i):i.type==="target"&&n.push(i);return{source:e,target:n}}function bn(t,e,n=he.Left,i=!1){const o=((e==null?void 0:e.x)??0)+t.internals.positionAbsolute.x,r=((e==null?void 0:e.y)??0)+t.internals.positionAbsolute.y,{width:s,height:l}=e??Kt(t);if(i)return{x:o+s/2,y:r+l/2};switch((e==null?void 0:e.position)??n){case he.Top:return{x:o+s/2,y:r};case he.Right:return{x:o+s,y:r+l/2};case he.Bottom:return{x:o+s/2,y:r+l};case he.Left:return{x:o,y:r+l/2}}}function Do(t,e){return t&&(e?t.find(n=>n.id===e):t[0])||null}function Di(t,e){return t?typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(i=>`${i}=${t[i]}`).join("&")}`:""}function Jf(t,{id:e,defaultColor:n,defaultMarkerStart:i,defaultMarkerEnd:o}){const r=new Set;return t.reduce((s,l)=>([l.markerStart||i,l.markerEnd||o].forEach(a=>{if(a&&typeof a=="object"){const u=Di(a,e);r.has(u)||(s.push({id:u,color:a.color||n,...a}),r.add(u))}}),s),[]).sort((s,l)=>s.id.localeCompare(l.id))}const qi={nodeOrigin:[0,0],nodeExtent:Zn,elevateNodesOnSelect:!0,defaults:{}},Qf={...qi,checkEquality:!0};function Ui(t,e){const n={...t};for(const i in e)e[i]!==void 0&&(n[i]=e[i]);return n}function jf(t,e,n){const i=Ui(qi,n);for(const o of t.values())if(o.parentId)Gi(o,t,e,i);else{const r=En(o,i.nodeOrigin),s=on(o.extent)?o.extent:i.nodeExtent,l=Wt(r,s,Kt(o));o.internals.positionAbsolute=l}}function jr(t,e,n,i){var l,a;const o=Ui(Qf,i),r=new Map(e),s=o!=null&&o.elevateNodesOnSelect?1e3:0;e.clear(),n.clear();for(const u of t){let f=r.get(u.id);if(o.checkEquality&&u===(f==null?void 0:f.internals.userNode))e.set(u.id,f);else{const c=En(u,o.nodeOrigin),d=on(u.extent)?u.extent:o.nodeExtent,h=Wt(c,d,Kt(u));f={...o.defaults,...u,measured:{width:(l=u.measured)==null?void 0:l.width,height:(a=u.measured)==null?void 0:a.height},internals:{positionAbsolute:h,handleBounds:u.measured?f==null?void 0:f.internals.handleBounds:void 0,z:xr(u,s),userNode:u}},e.set(u.id,f)}u.parentId&&Gi(f,e,n,i)}}function xf(t,e){if(!t.parentId)return;const n=e.get(t.parentId);n?n.set(t.id,t):e.set(t.parentId,new Map([[t.id,t]]))}function Gi(t,e,n,i){const{elevateNodesOnSelect:o,nodeOrigin:r,nodeExtent:s}=Ui(qi,i),l=t.parentId,a=e.get(l);if(!a){console.warn(`Parent node ${l} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}xf(t,n);const u=o?1e3:0,{x:f,y:c,z:d}=$f(t,a,r,s,u),{positionAbsolute:h}=t.internals,m=f!==h.x||c!==h.y;(m||d!==t.internals.z)&&e.set(t.id,{...t,internals:{...t.internals,positionAbsolute:m?{x:f,y:c}:h,z:d}})}function xr(t,e){return(Yt(t.zIndex)?t.zIndex:0)+(t.selected?e:0)}function $f(t,e,n,i,o){const{x:r,y:s}=e.internals.positionAbsolute,l=Kt(t),a=En(t,n),u=on(t.extent)?Wt(a,t.extent,l):a;let f=Wt({x:r+u.x,y:s+u.y},i,l);t.extent==="parent"&&(f=Fr(f,l,e));const c=xr(t,o),d=e.internals.z??0;return{x:f.x,y:f.y,z:d>c?d:c}}function ec(t,e,n,i=[0,0]){var s;const o=[],r=new Map;for(const l of t){const a=e.get(l.parentId);if(!a)continue;const u=((s=r.get(l.parentId))==null?void 0:s.expandedRect)??ri(a),f=If(u,l.rect);r.set(l.parentId,{expandedRect:f,parent:a})}return r.size>0&&r.forEach(({expandedRect:l,parent:a},u)=>{var k;const f=a.internals.positionAbsolute,c=Kt(a),d=a.origin??i,h=l.x<f.x?Math.round(Math.abs(f.x-l.x)):0,m=l.y<f.y?Math.round(Math.abs(f.y-l.y)):0,y=Math.max(c.width,Math.round(l.width)),_=Math.max(c.height,Math.round(l.height)),g=(y-c.width)*d[0],v=(_-c.height)*d[1];(h>0||m>0||g||v)&&(o.push({id:u,type:"position",position:{x:a.position.x-h+g,y:a.position.y-m+v}}),(k=n.get(u))==null||k.forEach(S=>{t.some(I=>I.id===S.id)||o.push({id:S.id,type:"position",position:{x:S.position.x+h,y:S.position.y+m}})})),(c.width<l.width||c.height<l.height||h||m)&&o.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:y+(h?d[0]*h-g:0),height:_+(m?d[1]*m-v:0)}})}),o}function tc(t,e,n,i,o,r){const s=i==null?void 0:i.querySelector(".xyflow__viewport");let l=!1;if(!s)return{changes:[],updatedInternals:l};const a=[],u=window.getComputedStyle(s),{m22:f}=new window.DOMMatrixReadOnly(u.transform),c=[];for(const d of t.values()){const h=e.get(d.id);if(!h)continue;if(h.hidden){e.set(h.id,{...h,internals:{...h.internals,handleBounds:void 0}}),l=!0;continue}const m=Zi(d.nodeElement),y=h.measured.width!==m.width||h.measured.height!==m.height;if(!!(m.width&&m.height&&(y||!h.internals.handleBounds||d.force))){const g=d.nodeElement.getBoundingClientRect(),v=on(h.extent)?h.extent:r;let{positionAbsolute:k}=h.internals;h.parentId&&h.extent==="parent"?k=Fr(k,m,e.get(h.parentId)):v&&(k=Wt(k,v,m));const S={...h,measured:m,internals:{...h.internals,positionAbsolute:k,handleBounds:{source:Co("source",d.nodeElement,g,f,h.id),target:Co("target",d.nodeElement,g,f,h.id)}}};e.set(h.id,S),h.parentId&&Gi(S,e,n,{nodeOrigin:o}),l=!0,y&&(a.push({id:h.id,type:"dimensions",dimensions:m}),h.expandParent&&h.parentId&&c.push({id:h.id,parentId:h.parentId,rect:ri(S,o)}))}}if(c.length>0){const d=ec(c,e,n,o);a.push(...d)}return{changes:a,updatedInternals:l}}async function nc({delta:t,panZoom:e,transform:n,translateExtent:i,width:o,height:r}){if(!e||!t.x&&!t.y)return Promise.resolve(!1);const s=await e.setViewportConstrained({x:n[0]+t.x,y:n[1]+t.y,zoom:n[2]},[[0,0],[o,r]],i),l=!!s&&(s.x!==n[0]||s.y!==n[1]||s.k!==n[2]);return Promise.resolve(l)}function Oo(t,e,n,i,o,r){let s=o;const l=i.get(s)||new Map;i.set(s,l.set(n,e)),s=`${o}-${t}`;const a=i.get(s)||new Map;if(i.set(s,a.set(n,e)),r){s=`${o}-${t}-${r}`;const u=i.get(s)||new Map;i.set(s,u.set(n,e))}}function $r(t,e,n){t.clear(),e.clear();for(const i of n){const{source:o,target:r,sourceHandle:s=null,targetHandle:l=null}=i,a={edgeId:i.id,source:o,target:r,sourceHandle:s,targetHandle:l},u=`${o}-${s}--${r}-${l}`,f=`${r}-${l}--${o}-${s}`;Oo("source",a,f,t,o,s),Oo("target",a,u,t,r,l),e.set(i.id,i)}}function el(t,e){if(!t.parentId)return!1;const n=e.get(t.parentId);return n?n.selected?!0:el(n,e):!1}function Io(t,e,n){var o;let i=t;do{if((o=i==null?void 0:i.matches)!=null&&o.call(i,e))return!0;if(i===n)return!1;i=i==null?void 0:i.parentElement}while(i);return!1}function ic(t,e,n,i){const o=new Map;for(const[r,s]of t)if((s.selected||s.id===i)&&(!s.parentId||!el(s,t))&&(s.draggable||e&&typeof s.draggable>"u")){const l=t.get(r);l&&o.set(r,{id:r,position:l.position||{x:0,y:0},distance:{x:n.x-l.internals.positionAbsolute.x,y:n.y-l.internals.positionAbsolute.y},extent:l.extent,parentId:l.parentId,origin:l.origin,expandParent:l.expandParent,internals:{positionAbsolute:l.internals.positionAbsolute||{x:0,y:0}},measured:{width:l.measured.width??0,height:l.measured.height??0}})}return o}function mi({nodeId:t,dragItems:e,nodeLookup:n,dragging:i=!0}){var s,l,a;const o=[];for(const[u,f]of e){const c=(s=n.get(u))==null?void 0:s.internals.userNode;c&&o.push({...c,position:f.position,dragging:i})}if(!t)return[o[0],o];const r=(l=n.get(t))==null?void 0:l.internals.userNode;return[r?{...r,position:((a=e.get(t))==null?void 0:a.position)||r.position,dragging:i}:o[0],o]}function oc({onNodeMouseDown:t,getStoreItems:e,onDragStart:n,onDrag:i,onDragStop:o}){let r={x:null,y:null},s=0,l=new Map,a=!1,u={x:0,y:0},f=null,c=!1,d=null,h=!1;function m({noDragClassName:_,handleSelector:g,domNode:v,isSelectable:k,nodeId:S,nodeClickDistance:I=0}){d=gt(v);function V({x:W,y:q},K){const{nodeLookup:Z,nodeExtent:w,snapGrid:A,snapToGrid:b,nodeOrigin:C,onNodeDrag:T,onSelectionDrag:D,onError:L,updateNodePositions:F}=e();r={x:W,y:q};let G=!1,ee={x:0,y:0,x2:0,y2:0};if(l.size>1&&w){const O=oi(l);ee=zi(O)}for(const[O,x]of l){if(!Z.has(O))continue;let te={x:W-x.distance.x,y:q-x.distance.y};b&&(te=Fi(te,A));let z=[[w[0][0],w[0][1]],[w[1][0],w[1][1]]];if(l.size>1&&w&&!x.extent){const{positionAbsolute:ue}=x.internals,we=ue.x-ee.x+w[0][0],Ee=ue.x+x.measured.width-ee.x2+w[1][0],Ae=ue.y-ee.y+w[0][1],R=ue.y+x.measured.height-ee.y2+w[1][1];z=[[we,Ae],[Ee,R]]}const{position:le,positionAbsolute:ye}=Df({nodeId:O,nextPosition:te,nodeLookup:Z,nodeExtent:z,nodeOrigin:C,onError:L});G=G||x.position.x!==le.x||x.position.y!==le.y,x.position=le,x.internals.positionAbsolute=ye}if(G&&(F(l,!0),K&&(i||T||!S&&D))){const[O,x]=mi({nodeId:S,dragItems:l,nodeLookup:Z});i==null||i(K,l,O,x),T==null||T(K,O,x),S||D==null||D(K,x)}}async function P(){if(!f)return;const{transform:W,panBy:q,autoPanSpeed:K}=e(),[Z,w]=Zr(u,f,K);(Z!==0||w!==0)&&(r.x=(r.x??0)-Z/W[2],r.y=(r.y??0)-w/W[2],await q({x:Z,y:w})&&V(r,null)),s=requestAnimationFrame(P)}function Y(W){var G;const{nodeLookup:q,multiSelectionActive:K,nodesDraggable:Z,transform:w,snapGrid:A,snapToGrid:b,selectNodesOnDrag:C,onNodeDragStart:T,onSelectionDragStart:D,unselectNodesAndEdges:L}=e();c=!0,(!C||!k)&&!K&&S&&((G=q.get(S))!=null&&G.selected||L()),k&&C&&S&&(t==null||t(S));const F=gi(W.sourceEvent,{transform:w,snapGrid:A,snapToGrid:b,containerBounds:f});if(r=F,l=ic(q,Z,F,S),l.size>0&&(n||T||!S&&D)){const[ee,O]=mi({nodeId:S,dragItems:l,nodeLookup:q});n==null||n(W.sourceEvent,l,ee,O),T==null||T(W.sourceEvent,ee,O),S||D==null||D(W.sourceEvent,O)}}const H=Xa().clickDistance(I).on("start",W=>{const{domNode:q,nodeDragThreshold:K,transform:Z,snapGrid:w,snapToGrid:A}=e();f=(q==null?void 0:q.getBoundingClientRect())||null,h=!1,K===0&&Y(W),r=gi(W.sourceEvent,{transform:Z,snapGrid:w,snapToGrid:A,containerBounds:f}),u=Dt(W.sourceEvent,f)}).on("drag",W=>{const{autoPanOnNodeDrag:q,transform:K,snapGrid:Z,snapToGrid:w,nodeDragThreshold:A,nodeLookup:b}=e(),C=gi(W.sourceEvent,{transform:K,snapGrid:Z,snapToGrid:w,containerBounds:f});if((W.sourceEvent.type==="touchmove"&&W.sourceEvent.touches.length>1||S&&!b.has(S))&&(h=!0),!h){if(!a&&q&&c&&(a=!0,P()),!c){const T=C.xSnapped-(r.x??0),D=C.ySnapped-(r.y??0);Math.sqrt(T*T+D*D)>A&&Y(W)}(r.x!==C.xSnapped||r.y!==C.ySnapped)&&l&&c&&(u=Dt(W.sourceEvent,f),V(C,W.sourceEvent))}}).on("end",W=>{if(!(!c||h)&&(a=!1,c=!1,cancelAnimationFrame(s),l.size>0)){const{nodeLookup:q,updateNodePositions:K,onNodeDragStop:Z,onSelectionDragStop:w}=e();if(K(l,!1),o||Z||!S&&w){const[A,b]=mi({nodeId:S,dragItems:l,nodeLookup:q,dragging:!1});o==null||o(W.sourceEvent,l,A,b),Z==null||Z(W.sourceEvent,A,b),S||w==null||w(W.sourceEvent,b)}}}).filter(W=>{const q=W.target;return!W.button&&(!_||!Io(q,`.${_}`,v))&&(!g||Io(q,g,v))});d.call(H)}function y(){d==null||d.on(".drag",null)}return{update:m,destroy:y}}function rc(t,e,n){const i=[],o={x:t.x-n,y:t.y-n,width:n*2,height:n*2};for(const r of e.values())Ki(o,ri(r))>0&&i.push(r);return i}const lc=250;function sc(t,e,n,i){var l,a;let o=[],r=1/0;const s=rc(t,n,e+lc);for(const u of s){const f=[...((l=u.internals.handleBounds)==null?void 0:l.source)??[],...((a=u.internals.handleBounds)==null?void 0:a.target)??[]];for(const c of f){if(i.nodeId===c.nodeId&&i.type===c.type&&i.id===c.id)continue;const{x:d,y:h}=bn(u,c,c.position,!0),m=Math.sqrt(Math.pow(d-t.x,2)+Math.pow(h-t.y,2));m>e||(m<r?(o=[{...c,x:d,y:h}],r=m):m===r&&o.push({...c,x:d,y:h}))}}if(!o.length)return null;if(o.length>1){const u=i.type==="source"?"target":"source";return o.find(f=>f.type===u)??o[0]}return o[0]}function tl(t,e,n,i,o,r=!1){var u,f,c;const s=i.get(t);if(!s)return null;const l=o==="strict"?(u=s.internals.handleBounds)==null?void 0:u[e]:[...((f=s.internals.handleBounds)==null?void 0:f.source)??[],...((c=s.internals.handleBounds)==null?void 0:c.target)??[]],a=(n?l==null?void 0:l.find(d=>d.id===n):l==null?void 0:l[0])??null;return a&&r?{...a,...bn(s,a,a.position,!0)}:a}function nl(t,e){return t||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function ac(t,e){let n=null;return e?n=!0:t&&!e&&(n=!1),n}const il=()=>!0;function uc(t,{connectionMode:e,connectionRadius:n,handleId:i,nodeId:o,edgeUpdaterType:r,isTarget:s,domNode:l,nodeLookup:a,lib:u,autoPanOnConnect:f,flowId:c,panBy:d,cancelConnection:h,onConnectStart:m,onConnect:y,onConnectEnd:_,isValidConnection:g=il,onReconnectEnd:v,updateConnection:k,getTransform:S,getFromHandle:I,autoPanSpeed:V}){const P=Vf(t.target);let Y=0,H;const{x:W,y:q}=Dt(t),K=P==null?void 0:P.elementFromPoint(W,q),Z=nl(r,K),w=l==null?void 0:l.getBoundingClientRect();if(!w||!Z)return;const A=tl(o,Z,i,a,e);if(!A)return;let b=Dt(t,w),C=!1,T=null,D=!1,L=null;function F(){if(!f||!w)return;const[ye,ue]=Zr(b,w,V);d({x:ye,y:ue}),Y=requestAnimationFrame(F)}const G={...A,nodeId:o,type:Z,position:A.position},ee=a.get(o),x={inProgress:!0,isValid:null,from:bn(ee,G,he.Left,!0),fromHandle:G,fromPosition:G.position,fromNode:ee,to:b,toHandle:null,toPosition:bo[G.position],toNode:null};k(x);let te=x;m==null||m(t,{nodeId:o,handleId:i,handleType:Z});function z(ye){if(!I()||!G){le(ye);return}const ue=S();b=Dt(ye,w),H=sc(li(b,ue,!1,[1,1]),n,a,G),C||(F(),C=!0);const we=ol(ye,{handle:H,connectionMode:e,fromNodeId:o,fromHandleId:i,fromType:s?"target":"source",isValidConnection:g,doc:P,lib:u,flowId:c,nodeLookup:a});L=we.handleDomNode,T=we.connection,D=ac(!!H,we.isValid);const Ee={...te,isValid:D,to:H&&D?Hf({x:H.x,y:H.y},ue):b,toHandle:we.toHandle,toPosition:D&&we.toHandle?we.toHandle.position:bo[G.position],toNode:we.toHandle?a.get(we.toHandle.nodeId):null};D&&H&&te.toHandle&&Ee.toHandle&&te.toHandle.type===Ee.toHandle.type&&te.toHandle.nodeId===Ee.toHandle.nodeId&&te.toHandle.id===Ee.toHandle.id&&te.to.x===Ee.to.x&&te.to.y===Ee.to.y||(k(Ee),te=Ee)}function le(ye){(H||L)&&T&&D&&(y==null||y(T));const{inProgress:ue,...we}=te,Ee={...we,toPosition:te.toHandle?te.toPosition:null};_==null||_(ye,Ee),r&&(v==null||v(ye,Ee)),h(),cancelAnimationFrame(Y),C=!1,D=!1,T=null,L=null,P.removeEventListener("mousemove",z),P.removeEventListener("mouseup",le),P.removeEventListener("touchmove",z),P.removeEventListener("touchend",le)}P.addEventListener("mousemove",z),P.addEventListener("mouseup",le),P.addEventListener("touchmove",z),P.addEventListener("touchend",le)}function ol(t,{handle:e,connectionMode:n,fromNodeId:i,fromHandleId:o,fromType:r,doc:s,lib:l,flowId:a,isValidConnection:u=il,nodeLookup:f}){const c=r==="target",d=e?s.querySelector(`.${l}-flow__handle[data-id="${a}-${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`):null,{x:h,y:m}=Dt(t),y=s.elementFromPoint(h,m),_=y!=null&&y.classList.contains(`${l}-flow__handle`)?y:d,g={handleDomNode:_,isValid:!1,connection:null,toHandle:null};if(_){const v=nl(void 0,_),k=_.getAttribute("data-nodeid"),S=_.getAttribute("data-handleid"),I=_.classList.contains("connectable"),V=_.classList.contains("connectableend");if(!k||!v)return g;const P={source:c?k:i,sourceHandle:c?S:o,target:c?i:k,targetHandle:c?o:S};g.connection=P;const H=I&&V&&(n===Bt.Strict?c&&v==="source"||!c&&v==="target":k!==i||S!==o);g.isValid=H&&u(P),g.toHandle=tl(k,v,S,f,n,!1)}return g}const fc={onPointerDown:uc,isValid:ol},cc=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,si=t=>({x:t.x,y:t.y,zoom:t.k}),yi=({x:t,y:e,zoom:n})=>ii.translate(t,e).scale(n),Ut=(t,e)=>t.target.closest(`.${e}`),rl=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),_i=(t,e=0,n=()=>{})=>{const i=typeof e=="number"&&e>0;return i||n(),i?t.transition().duration(e).on("end",n):t},ll=t=>{const e=t.ctrlKey&&Gn()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e};function dc({zoomPanValues:t,noWheelClassName:e,d3Selection:n,d3Zoom:i,panOnScrollMode:o,panOnScrollSpeed:r,zoomOnPinch:s,onPanZoomStart:l,onPanZoom:a,onPanZoomEnd:u}){return f=>{if(Ut(f,e))return!1;f.preventDefault(),f.stopImmediatePropagation();const c=n.property("__zoom").k||1;if(f.ctrlKey&&s){const _=kt(f),g=ll(f),v=c*Math.pow(2,g);i.scaleTo(n,v,_,f);return}const d=f.deltaMode===1?20:1;let h=o===Et.Vertical?0:f.deltaX*d,m=o===Et.Horizontal?0:f.deltaY*d;!Gn()&&f.shiftKey&&o!==Et.Vertical&&(h=f.deltaY*d,m=0),i.translateBy(n,-(h/c)*r,-(m/c)*r,{internal:!0});const y=si(n.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling||(t.isPanScrolling=!0,l==null||l(f,y)),t.isPanScrolling&&(a==null||a(f,y),t.panScrollTimeout=setTimeout(()=>{u==null||u(f,y),t.isPanScrolling=!1},150))}}function hc({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:n}){return function(i,o){if(!e&&i.type==="wheel"&&!i.ctrlKey||Ut(i,t))return null;i.preventDefault(),n.call(this,i,o)}}function gc({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:n}){return i=>{var r,s,l;if((r=i.sourceEvent)!=null&&r.internal)return;const o=si(i.transform);t.mouseButton=((s=i.sourceEvent)==null?void 0:s.button)||0,t.isZoomingOrPanning=!0,t.prevViewport=o,((l=i.sourceEvent)==null?void 0:l.type)==="mousedown"&&e(!0),n&&(n==null||n(i.sourceEvent,o))}}function mc({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:n,onTransformChange:i,onPanZoom:o}){return r=>{var s,l;t.usedRightMouseButton=!!(n&&rl(e,t.mouseButton??0)),(s=r.sourceEvent)!=null&&s.sync||i([r.transform.x,r.transform.y,r.transform.k]),o&&!((l=r.sourceEvent)!=null&&l.internal)&&(o==null||o(r.sourceEvent,si(r.transform)))}}function yc({zoomPanValues:t,panOnDrag:e,panOnScroll:n,onDraggingChange:i,onPanZoomEnd:o,onPaneContextMenu:r}){return s=>{var l;if(!((l=s.sourceEvent)!=null&&l.internal)&&(t.isZoomingOrPanning=!1,r&&rl(e,t.mouseButton??0)&&!t.usedRightMouseButton&&s.sourceEvent&&r(s.sourceEvent),t.usedRightMouseButton=!1,i(!1),o&&cc(t.prevViewport,s.transform))){const a=si(s.transform);t.prevViewport=a,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{o==null||o(s.sourceEvent,a)},n?150:0)}}}function _c({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:n,panOnDrag:i,panOnScroll:o,zoomOnDoubleClick:r,userSelectionActive:s,noWheelClassName:l,noPanClassName:a,lib:u}){return f=>{var m;const c=t||e,d=n&&f.ctrlKey;if(f.button===1&&f.type==="mousedown"&&(Ut(f,`${u}-flow__node`)||Ut(f,`${u}-flow__edge`)))return!0;if(!i&&!c&&!o&&!r&&!n||s||Ut(f,l)&&f.type==="wheel"||Ut(f,a)&&(f.type!=="wheel"||o&&f.type==="wheel"&&!t)||!n&&f.ctrlKey&&f.type==="wheel")return!1;if(!n&&f.type==="touchstart"&&((m=f.touches)==null?void 0:m.length)>1)return f.preventDefault(),!1;if(!c&&!o&&!d&&f.type==="wheel"||!i&&(f.type==="mousedown"||f.type==="touchstart")||Array.isArray(i)&&!i.includes(f.button)&&f.type==="mousedown")return!1;const h=Array.isArray(i)&&i.includes(f.button)||!f.button||f.button<=1;return(!f.ctrlKey||f.type==="wheel")&&h}}function bc({domNode:t,minZoom:e,maxZoom:n,paneClickDistance:i,translateExtent:o,viewport:r,onPanZoom:s,onPanZoomStart:l,onPanZoomEnd:a,onDraggingChange:u}){const f={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},c=t.getBoundingClientRect(),d=Nf().clickDistance(!Yt(i)||i<0?0:i).scaleExtent([e,n]).translateExtent(o),h=gt(t).call(d);k({x:r.x,y:r.y,zoom:nn(r.zoom,e,n)},[[0,0],[c.width,c.height]],o);const m=h.on("wheel.zoom"),y=h.on("dblclick.zoom");d.wheelDelta(ll);function _(K,Z){return h?new Promise(w=>{d==null||d.transform(_i(h,Z==null?void 0:Z.duration,()=>w(!0)),K)}):Promise.resolve(!1)}function g({noWheelClassName:K,noPanClassName:Z,onPaneContextMenu:w,userSelectionActive:A,panOnScroll:b,panOnDrag:C,panOnScrollMode:T,panOnScrollSpeed:D,preventScrolling:L,zoomOnPinch:F,zoomOnScroll:G,zoomOnDoubleClick:ee,zoomActivationKeyPressed:O,lib:x,onTransformChange:te}){A&&!f.isZoomingOrPanning&&v();const le=b&&!O&&!A?dc({zoomPanValues:f,noWheelClassName:K,d3Selection:h,d3Zoom:d,panOnScrollMode:T,panOnScrollSpeed:D,zoomOnPinch:F,onPanZoomStart:l,onPanZoom:s,onPanZoomEnd:a}):hc({noWheelClassName:K,preventScrolling:L,d3ZoomHandler:m});if(h.on("wheel.zoom",le,{passive:!1}),!A){const ue=gc({zoomPanValues:f,onDraggingChange:u,onPanZoomStart:l});d.on("start",ue);const we=mc({zoomPanValues:f,panOnDrag:C,onPaneContextMenu:!!w,onPanZoom:s,onTransformChange:te});d.on("zoom",we);const Ee=yc({zoomPanValues:f,panOnDrag:C,panOnScroll:b,onPaneContextMenu:w,onPanZoomEnd:a,onDraggingChange:u});d.on("end",Ee)}const ye=_c({zoomActivationKeyPressed:O,panOnDrag:C,zoomOnScroll:G,panOnScroll:b,zoomOnDoubleClick:ee,zoomOnPinch:F,userSelectionActive:A,noPanClassName:Z,noWheelClassName:K,lib:x});d.filter(ye),ee?h.on("dblclick.zoom",y):h.on("dblclick.zoom",null)}function v(){d.on("zoom",null)}async function k(K,Z,w){const A=yi(K),b=d==null?void 0:d.constrain()(A,Z,w);return b&&await _(b),new Promise(C=>C(b))}async function S(K,Z){const w=yi(K);return await _(w,Z),new Promise(A=>A(w))}function I(K){if(h){const Z=yi(K),w=h.property("__zoom");(w.k!==K.zoom||w.x!==K.x||w.y!==K.y)&&(d==null||d.transform(h,Z,null,{sync:!0}))}}function V(){const K=h?Br(h.node()):{x:0,y:0,k:1};return{x:K.x,y:K.y,zoom:K.k}}function P(K,Z){return h?new Promise(w=>{d==null||d.scaleTo(_i(h,Z==null?void 0:Z.duration,()=>w(!0)),K)}):Promise.resolve(!1)}function Y(K,Z){return h?new Promise(w=>{d==null||d.scaleBy(_i(h,Z==null?void 0:Z.duration,()=>w(!0)),K)}):Promise.resolve(!1)}function H(K){d==null||d.scaleExtent(K)}function W(K){d==null||d.translateExtent(K)}function q(K){const Z=!Yt(K)||K<0?0:K;d==null||d.clickDistance(Z)}return{update:g,destroy:v,setViewport:S,setViewportConstrained:k,getViewport:V,scaleTo:P,scaleBy:Y,setScaleExtent:H,setTranslateExtent:W,syncViewport:I,setClickDistance:q}}var Ao;(function(t){t.Line="line",t.Handle="handle"})(Ao||(Ao={}));function wc(t){let e,n,i,o,r,s;const l=t[45].default,a=nt(l,t,t[44],null);return{c(){e=fe("div"),a&&a.c(),this.h()},l(u){e=ce(u,"DIV",{"data-handleid":!0,"data-nodeid":!0,"data-handlepos":!0,"data-id":!0,class:!0,style:!0,role:!0,tabindex:!0});var f=j(e);a&&a.l(f),f.forEach(N),this.h()},h(){E(e,"data-handleid",t[6]),E(e,"data-nodeid",t[14]),E(e,"data-handlepos",t[2]),E(e,"data-id",n=t[13]+"-"+t[14]+"-"+(t[0]||null)+"-"+t[1]),E(e,"class",i=Ve(["svelte-flow__handle",`svelte-flow__handle-${t[2]}`,"nodrag","nopan",t[2],t[4]])),E(e,"style",t[3]),E(e,"role","button"),E(e,"tabindex","-1"),ae(e,"valid",t[7]),ae(e,"connectingto",t[5]),ae(e,"connectingfrom",t[9]),ae(e,"source",!t[11]),ae(e,"target",t[11]),ae(e,"connectablestart",t[12]),ae(e,"connectableend",t[12]),ae(e,"connectable",t[12]),ae(e,"connectionindicator",t[12]&&(!t[10]||t[8]))},m(u,f){Q(u,e,f),a&&a.m(e,null),o=!0,r||(s=[De(e,"mousedown",t[32]),De(e,"touchstart",t[32])],r=!0)},p(u,f){a&&a.p&&(!o||f[1]&8192)&&it(a,l,u,u[44],o?rt(l,u[44],f,null):ot(u[44]),null),(!o||f[0]&64)&&E(e,"data-handleid",u[6]),(!o||f[0]&4)&&E(e,"data-handlepos",u[2]),(!o||f[0]&8195&&n!==(n=u[13]+"-"+u[14]+"-"+(u[0]||null)+"-"+u[1]))&&E(e,"data-id",n),(!o||f[0]&20&&i!==(i=Ve(["svelte-flow__handle",`svelte-flow__handle-${u[2]}`,"nodrag","nopan",u[2],u[4]])))&&E(e,"class",i),(!o||f[0]&8)&&E(e,"style",u[3]),(!o||f[0]&148)&&ae(e,"valid",u[7]),(!o||f[0]&52)&&ae(e,"connectingto",u[5]),(!o||f[0]&532)&&ae(e,"connectingfrom",u[9]),(!o||f[0]&2068)&&ae(e,"source",!u[11]),(!o||f[0]&2068)&&ae(e,"target",u[11]),(!o||f[0]&4116)&&ae(e,"connectablestart",u[12]),(!o||f[0]&4116)&&ae(e,"connectableend",u[12]),(!o||f[0]&4116)&&ae(e,"connectable",u[12]),(!o||f[0]&5396)&&ae(e,"connectionindicator",u[12]&&(!u[10]||u[8]))},i(u){o||(X(a,u),o=!0)},o(u){B(a,u),o=!1},d(u){u&&N(e),a&&a.d(u),r=!1,Vt(s)}}}function kc(t,e,n){let i,o,r,s,l,a,u,f,c,d,h,m,y,_,g,v,k,S,I,V,P,Y,H,W,q,{$$slots:K={},$$scope:Z}=e,{id:w=void 0}=e,{type:A="source"}=e,{position:b=he.Top}=e,{style:C=void 0}=e,{isValidConnection:T=void 0}=e,{onconnect:D=void 0}=e,{ondisconnect:L=void 0}=e,{isConnectable:F=void 0}=e,{class:G=void 0}=e;const ee=Hn("svelteflow__node_id"),O=Hn("svelteflow__node_connectable");U(t,O,M=>n(43,q=M));const x=Re(),{connectionMode:te,domNode:z,nodeLookup:le,connectionRadius:ye,viewport:ue,isValidConnection:we,lib:Ee,addEdge:Ae,onedgecreate:R,panBy:Pe,cancelConnection:Se,updateConnection:Je,autoPanOnConnect:Qe,edges:Ze,connectionLookup:lt,onconnect:ut,onconnectstart:ft,onconnectend:qe,flowId:st,connection:He}=x;U(t,te,M=>n(40,d=M)),U(t,z,M=>n(55,H=M)),U(t,le,M=>n(54,Y=M)),U(t,ye,M=>n(56,W=M)),U(t,ue,M=>n(46,y=M)),U(t,we,M=>n(51,S=M)),U(t,Ee,M=>n(53,P=M)),U(t,R,M=>n(50,k=M)),U(t,Qe,M=>n(52,V=M)),U(t,Ze,M=>n(42,m=M)),U(t,lt,M=>n(41,h=M)),U(t,ut,M=>n(49,v=M)),U(t,ft,M=>n(48,g=M)),U(t,qe,M=>n(47,_=M)),U(t,st,M=>n(13,I=M)),U(t,He,M=>n(39,c=M));function pe(M){const Ue=Ur(M);(Ue&&M.button===0||!Ue)&&fc.onPointerDown(M,{handleId:r,nodeId:ee,isTarget:i,connectionRadius:W,domNode:H,nodeLookup:Y,connectionMode:d,lib:P,autoPanOnConnect:V,flowId:I,isValidConnection:T??S,updateConnection:Je,cancelConnection:Se,panBy:Pe,onConnect:Te=>{const ze=k?k(Te):Te;ze&&(Ae(ze),v==null||v(Te))},onConnectStart:(Te,ze)=>{g==null||g(Te,{nodeId:ze.nodeId,handleId:ze.handleId,handleType:ze.handleType})},onConnectEnd:(Te,ze)=>{_==null||_(Te,ze)},getTransform:()=>[y.x,y.y,y.zoom],getFromHandle:()=>c.fromHandle})}let _e=null,Be;return t.$$set=M=>{"id"in M&&n(0,w=M.id),"type"in M&&n(1,A=M.type),"position"in M&&n(2,b=M.position),"style"in M&&n(3,C=M.style),"isValidConnection"in M&&n(33,T=M.isValidConnection),"onconnect"in M&&n(34,D=M.onconnect),"ondisconnect"in M&&n(35,L=M.ondisconnect),"isConnectable"in M&&n(36,F=M.isConnectable),"class"in M&&n(4,G=M.class),"$$scope"in M&&n(44,Z=M.$$scope)},t.$$.update=()=>{var M,Ue,Te,ze,pt,Ct,Mt,ct,dt;if(t.$$.dirty[0]&2&&n(11,i=A==="target"),t.$$.dirty[1]&4128&&n(12,o=F!==void 0?F:q),t.$$.dirty[0]&1&&n(6,r=w||null),t.$$.dirty[0]&3|t.$$.dirty[1]&3096&&(D||L)&&n(38,Be=h.get(`${ee}-${A}${w?`-${w}`:""}`)),t.$$.dirty[1]&216){if(_e&&!zf(Be,_e)){const bt=Be??new Map;wo(_e,bt,L),wo(bt,_e,D)}n(37,_e=Be??new Map)}t.$$.dirty[1]&256&&n(10,s=!!c.fromHandle),t.$$.dirty[0]&66|t.$$.dirty[1]&256&&n(9,l=((M=c.fromHandle)==null?void 0:M.nodeId)===ee&&((Ue=c.fromHandle)==null?void 0:Ue.type)===A&&((Te=c.fromHandle)==null?void 0:Te.id)===r),t.$$.dirty[0]&66|t.$$.dirty[1]&256&&n(5,a=((ze=c.toHandle)==null?void 0:ze.nodeId)===ee&&((pt=c.toHandle)==null?void 0:pt.type)===A&&((Ct=c.toHandle)==null?void 0:Ct.id)===r),t.$$.dirty[0]&66|t.$$.dirty[1]&768&&n(8,u=d===Bt.Strict?((Mt=c.fromHandle)==null?void 0:Mt.type)!==A:ee!==((ct=c.fromHandle)==null?void 0:ct.nodeId)||r!==((dt=c.fromHandle)==null?void 0:dt.id)),t.$$.dirty[0]&32|t.$$.dirty[1]&256&&n(7,f=a&&c.isValid)},[w,A,b,C,G,a,r,f,u,l,s,i,o,I,ee,O,te,z,le,ye,ue,we,Ee,R,Qe,Ze,lt,ut,ft,qe,st,He,pe,T,D,L,F,_e,Be,c,d,h,m,q,Z,K]}class vc extends ge{constructor(e){super(),me(this,e,kc,wc,be,{id:0,type:1,position:2,style:3,isValidConnection:33,onconnect:34,ondisconnect:35,isConnectable:36,class:4},null,[-1,-1])}}const rn=vc;function Ec(t){var a;let e,n,i=((a=t[0])==null?void 0:a.label)+"",o,r,s,l;return e=new rn({props:{type:"target",position:t[1]??he.Top}}),s=new rn({props:{type:"source",position:t[2]??he.Bottom}}),{c(){ie(e.$$.fragment),n=ke(),o=je(i),r=ke(),ie(s.$$.fragment)},l(u){se(e.$$.fragment,u),n=ve(u),o=xe(u,i),r=ve(u),se(s.$$.fragment,u)},m(u,f){oe(e,u,f),Q(u,n,f),Q(u,o,f),Q(u,r,f),oe(s,u,f),l=!0},p(u,[f]){var h;const c={};f&2&&(c.position=u[1]??he.Top),e.$set(c),(!l||f&1)&&i!==(i=((h=u[0])==null?void 0:h.label)+"")&&$e(o,i);const d={};f&4&&(d.position=u[2]??he.Bottom),s.$set(d)},i(u){l||(X(e.$$.fragment,u),X(s.$$.fragment,u),l=!0)},o(u){B(e.$$.fragment,u),B(s.$$.fragment,u),l=!1},d(u){u&&(N(n),N(o),N(r)),re(e,u),re(s,u)}}}function Sc(t,e,n){const i=["data","targetPosition","sourcePosition"];Ye(e,i);let{data:o={label:"Node"}}=e,{targetPosition:r=void 0}=e,{sourcePosition:s=void 0}=e;return t.$$set=l=>{e=Ne(Ne({},e),yt(l)),n(3,Ye(e,i)),"data"in l&&n(0,o=l.data),"targetPosition"in l&&n(1,r=l.targetPosition),"sourcePosition"in l&&n(2,s=l.sourcePosition)},[o,r,s]}class pc extends ge{constructor(e){super(),me(this,e,Sc,Ec,be,{data:0,targetPosition:1,sourcePosition:2})}}const sl=pc;function Cc(t){var s;let e=((s=t[0])==null?void 0:s.label)+"",n,i,o,r;return o=new rn({props:{type:"source",position:t[1]??he.Bottom}}),{c(){n=je(e),i=ke(),ie(o.$$.fragment)},l(l){n=xe(l,e),i=ve(l),se(o.$$.fragment,l)},m(l,a){Q(l,n,a),Q(l,i,a),oe(o,l,a),r=!0},p(l,[a]){var f;(!r||a&1)&&e!==(e=((f=l[0])==null?void 0:f.label)+"")&&$e(n,e);const u={};a&2&&(u.position=l[1]??he.Bottom),o.$set(u)},i(l){r||(X(o.$$.fragment,l),r=!0)},o(l){B(o.$$.fragment,l),r=!1},d(l){l&&(N(n),N(i)),re(o,l)}}}function Mc(t,e,n){const i=["data","sourcePosition"];Ye(e,i);let{data:o={label:"Node"}}=e,{sourcePosition:r=void 0}=e;return t.$$set=s=>{e=Ne(Ne({},e),yt(s)),n(2,Ye(e,i)),"data"in s&&n(0,o=s.data),"sourcePosition"in s&&n(1,r=s.sourcePosition)},[o,r]}class Pc extends ge{constructor(e){super(),me(this,e,Mc,Cc,be,{data:0,sourcePosition:1})}}const Nc=Pc;function zc(t){var s;let e=((s=t[0])==null?void 0:s.label)+"",n,i,o,r;return o=new rn({props:{type:"target",position:t[1]??he.Top}}),{c(){n=je(e),i=ke(),ie(o.$$.fragment)},l(l){n=xe(l,e),i=ve(l),se(o.$$.fragment,l)},m(l,a){Q(l,n,a),Q(l,i,a),oe(o,l,a),r=!0},p(l,[a]){var f;(!r||a&1)&&e!==(e=((f=l[0])==null?void 0:f.label)+"")&&$e(n,e);const u={};a&2&&(u.position=l[1]??he.Top),o.$set(u)},i(l){r||(X(o.$$.fragment,l),r=!0)},o(l){B(o.$$.fragment,l),r=!1},d(l){l&&(N(n),N(i)),re(o,l)}}}function Tc(t,e,n){const i=["data","targetPosition"];Ye(e,i);let{data:o={label:"Node"}}=e,{targetPosition:r=void 0}=e;return t.$$set=s=>{e=Ne(Ne({},e),yt(s)),n(2,Ye(e,i)),"data"in s&&n(0,o=s.data),"targetPosition"in s&&n(1,r=s.targetPosition)},[o,r]}class Dc extends ge{constructor(e){super(),me(this,e,Tc,zc,be,{data:0,targetPosition:1})}}const Oc=Dc;function Ic(t,e,n){const i=[];return Ye(e,i),t.$$set=o=>{e=Ne(Ne({},e),yt(o)),n(0,Ye(e,i))},[]}class Ac extends ge{constructor(e){super(),me(this,e,Ic,null,be,{})}}const Hc=Ac;function Ho(t,e,n){if(!e)return;const i=n?e.querySelector(n):e;i&&i.appendChild(t)}function Vc(t,{target:e,domNode:n}){return Ho(t,n,e),{async update({target:i,domNode:o}){Ho(t,o,i)},destroy(){t.parentNode&&t.parentNode.removeChild(t)}}}function Xc(t){let e,n,i,o,r;const s=t[3].default,l=nt(s,t,t[2],null);return{c(){e=fe("div"),l&&l.c()},l(a){e=ce(a,"DIV",{});var u=j(e);l&&l.l(u),u.forEach(N)},m(a,u){Q(a,e,u),l&&l.m(e,null),i=!0,o||(r=et(n=Vc.call(null,e,{target:".svelte-flow__edgelabel-renderer",domNode:t[0]})),o=!0)},p(a,[u]){l&&l.p&&(!i||u&4)&&it(l,s,a,a[2],i?rt(s,a[2],u,null):ot(a[2]),null),n&&We(n.update)&&u&1&&n.update.call(null,{target:".svelte-flow__edgelabel-renderer",domNode:a[0]})},i(a){i||(X(l,a),i=!0)},o(a){B(l,a),i=!1},d(a){a&&N(e),l&&l.d(a),o=!1,r()}}}function Yc(t,e,n){let i,{$$slots:o={},$$scope:r}=e;const{domNode:s}=Re();return U(t,s,l=>n(0,i=l)),t.$$set=l=>{"$$scope"in l&&n(2,r=l.$$scope)},[i,s,r,o]}class Lc extends ge{constructor(e){super(),me(this,e,Yc,Xc,be,{})}}const Rc=Lc;function al(){const{edgeLookup:t,selectionRect:e,selectionRectMode:n,multiselectionKeyPressed:i,addSelectedEdges:o,unselectNodesAndEdges:r,elementsSelectable:s}=Re();return l=>{const a=J(t).get(l);if(!a){console.warn("012",vn.error012(l));return}(a.selectable||J(s)&&typeof a.selectable>"u")&&(e.set(null),n.set(null),a.selected?a.selected&&J(i)&&r({nodes:[],edges:[a]}):o([l]))}}function Bc(t){let e,n,i=`translate(-50%, -50%) translate(${t[1]}px,${t[2]}px)`,o,r,s;const l=t[5].default,a=nt(l,t,t[7],null);return{c(){e=fe("div"),a&&a.c(),this.h()},l(u){e=ce(u,"DIV",{class:!0,style:!0,role:!0,tabindex:!0});var f=j(e);a&&a.l(f),f.forEach(N),this.h()},h(){E(e,"class","svelte-flow__edge-label"),E(e,"style",n="pointer-events: all;"+t[0]),E(e,"role","button"),E(e,"tabindex","-1"),de(e,"transform",i)},m(u,f){Q(u,e,f),a&&a.m(e,null),o=!0,r||(s=[De(e,"keyup",Kc),De(e,"click",t[6])],r=!0)},p(u,f){a&&a.p&&(!o||f&128)&&it(a,l,u,u[7],o?rt(l,u[7],f,null):ot(u[7]),null),(!o||f&1&&n!==(n="pointer-events: all;"+u[0]))&&E(e,"style",n);const c=f&1;(f&7&&i!==(i=`translate(-50%, -50%) translate(${u[1]}px,${u[2]}px)`)||c)&&de(e,"transform",i)},i(u){o||(X(a,u),o=!0)},o(u){B(a,u),o=!1},d(u){u&&N(e),a&&a.d(u),r=!1,Vt(s)}}}function Wc(t){let e,n;return e=new Rc({props:{$$slots:{default:[Bc]},$$scope:{ctx:t}}}),{c(){ie(e.$$.fragment)},l(i){se(e.$$.fragment,i)},m(i,o){oe(e,i,o),n=!0},p(i,[o]){const r={};o&135&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){B(e.$$.fragment,i),n=!1},d(i){re(e,i)}}}const Kc=()=>{};function Fc(t,e,n){let{$$slots:i={},$$scope:o}=e,{style:r=void 0}=e,{x:s=void 0}=e,{y:l=void 0}=e;const a=al(),u=Hn("svelteflow__edge_id"),f=()=>{u&&a(u)};return t.$$set=c=>{"style"in c&&n(0,r=c.style),"x"in c&&n(1,s=c.x),"y"in c&&n(2,l=c.y),"$$scope"in c&&n(7,o=c.$$scope)},[r,s,l,a,u,i,f,o]}class Zc extends ge{constructor(e){super(),me(this,e,Fc,Wc,be,{style:0,x:1,y:2})}}const qc=Zc;function Uc(t){let e;return{c(){e=Oe("path"),this.h()},l(n){e=Ie(n,"path",{d:!0,"stroke-opacity":!0,"stroke-width":!0,fill:!0,class:!0}),j(e).forEach(N),this.h()},h(){E(e,"d",t[1]),E(e,"stroke-opacity",0),E(e,"stroke-width",t[10]),E(e,"fill","none"),E(e,"class","svelte-flow__edge-interaction")},m(n,i){Q(n,e,i)},p(n,i){i&2&&E(e,"d",n[1])},d(n){n&&N(e)}}}function Vo(t){let e,n;return e=new qc({props:{x:t[3],y:t[4],style:t[5],$$slots:{default:[Gc]},$$scope:{ctx:t}}}),{c(){ie(e.$$.fragment)},l(i){se(e.$$.fragment,i)},m(i,o){oe(e,i,o),n=!0},p(i,o){const r={};o&8&&(r.x=i[3]),o&16&&(r.y=i[4]),o&32&&(r.style=i[5]),o&4100&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){B(e.$$.fragment,i),n=!1},d(i){re(e,i)}}}function Gc(t){let e;return{c(){e=je(t[2])},l(n){e=xe(n,t[2])},m(n,i){Q(n,e,i)},p(n,i){i&4&&$e(e,n[2])},d(n){n&&N(e)}}}function Jc(t){let e,n,i,o,r,s,l=t[10]&&Uc(t),a=t[2]&&Vo(t);return{c(){e=Oe("path"),i=ke(),l&&l.c(),o=ke(),a&&a.c(),r=Xe(),this.h()},l(u){e=Ie(u,"path",{id:!0,d:!0,class:!0,"marker-start":!0,"marker-end":!0,fill:!0,style:!0}),j(e).forEach(N),i=ve(u),l&&l.l(u),o=ve(u),a&&a.l(u),r=Xe(),this.h()},h(){E(e,"id",t[0]),E(e,"d",t[1]),E(e,"class",n=Ve(["svelte-flow__edge-path",t[9]])),E(e,"marker-start",t[6]),E(e,"marker-end",t[7]),E(e,"fill","none"),E(e,"style",t[8])},m(u,f){Q(u,e,f),Q(u,i,f),l&&l.m(u,f),Q(u,o,f),a&&a.m(u,f),Q(u,r,f),s=!0},p(u,[f]){(!s||f&1)&&E(e,"id",u[0]),(!s||f&2)&&E(e,"d",u[1]),(!s||f&512&&n!==(n=Ve(["svelte-flow__edge-path",u[9]])))&&E(e,"class",n),(!s||f&64)&&E(e,"marker-start",u[6]),(!s||f&128)&&E(e,"marker-end",u[7]),(!s||f&256)&&E(e,"style",u[8]),u[10]&&l.p(u,f),u[2]?a?(a.p(u,f),f&4&&X(a,1)):(a=Vo(u),a.c(),X(a,1),a.m(r.parentNode,r)):a&&(Ke(),B(a,1,1,()=>{a=null}),Fe())},i(u){s||(X(a),s=!0)},o(u){B(a),s=!1},d(u){u&&(N(e),N(i),N(o),N(r)),l&&l.d(u),a&&a.d(u)}}}function Qc(t,e,n){let{id:i=void 0}=e,{path:o}=e,{label:r=void 0}=e,{labelX:s=void 0}=e,{labelY:l=void 0}=e,{labelStyle:a=void 0}=e,{markerStart:u=void 0}=e,{markerEnd:f=void 0}=e,{style:c=void 0}=e,{interactionWidth:d=20}=e,{class:h=void 0}=e,m=d===void 0?20:d;return t.$$set=y=>{"id"in y&&n(0,i=y.id),"path"in y&&n(1,o=y.path),"label"in y&&n(2,r=y.label),"labelX"in y&&n(3,s=y.labelX),"labelY"in y&&n(4,l=y.labelY),"labelStyle"in y&&n(5,a=y.labelStyle),"markerStart"in y&&n(6,u=y.markerStart),"markerEnd"in y&&n(7,f=y.markerEnd),"style"in y&&n(8,c=y.style),"interactionWidth"in y&&n(11,d=y.interactionWidth),"class"in y&&n(9,h=y.class)},[i,o,r,s,l,a,u,f,c,h,m,d]}class jc extends ge{constructor(e){super(),me(this,e,Qc,Jc,be,{id:0,path:1,label:2,labelX:3,labelY:4,labelStyle:5,markerStart:6,markerEnd:7,style:8,interactionWidth:11,class:9})}}const ai=jc;function xc(t){let e,n;return e=new ai({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){ie(e.$$.fragment)},l(i){se(e.$$.fragment,i)},m(i,o){oe(e,i,o),n=!0},p(i,[o]){const r={};o&256&&(r.path=i[8]),o&128&&(r.labelX=i[7]),o&64&&(r.labelY=i[6]),o&1&&(r.label=i[0]),o&2&&(r.labelStyle=i[1]),o&8&&(r.markerStart=i[3]),o&16&&(r.markerEnd=i[4]),o&32&&(r.interactionWidth=i[5]),o&4&&(r.style=i[2]),e.$set(r)},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){B(e.$$.fragment,i),n=!1},d(i){re(e,i)}}}function $c(t,e,n){let i,o,r;const s=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","sourcePosition","targetX","targetY","targetPosition"];Ye(e,s);let{label:l=void 0}=e,{labelStyle:a=void 0}=e,{style:u=void 0}=e,{markerStart:f=void 0}=e,{markerEnd:c=void 0}=e,{interactionWidth:d=void 0}=e,{sourceX:h}=e,{sourceY:m}=e,{sourcePosition:y}=e,{targetX:_}=e,{targetY:g}=e,{targetPosition:v}=e;return t.$$set=k=>{e=Ne(Ne({},e),yt(k)),n(15,Ye(e,s)),"label"in k&&n(0,l=k.label),"labelStyle"in k&&n(1,a=k.labelStyle),"style"in k&&n(2,u=k.style),"markerStart"in k&&n(3,f=k.markerStart),"markerEnd"in k&&n(4,c=k.markerEnd),"interactionWidth"in k&&n(5,d=k.interactionWidth),"sourceX"in k&&n(9,h=k.sourceX),"sourceY"in k&&n(10,m=k.sourceY),"sourcePosition"in k&&n(11,y=k.sourcePosition),"targetX"in k&&n(12,_=k.targetX),"targetY"in k&&n(13,g=k.targetY),"targetPosition"in k&&n(14,v=k.targetPosition)},t.$$.update=()=>{t.$$.dirty&32256&&n(8,[i,o,r]=Gr({sourceX:h,sourceY:m,targetX:_,targetY:g,sourcePosition:y,targetPosition:v}),i,(n(7,o),n(9,h),n(10,m),n(12,_),n(13,g),n(11,y),n(14,v)),(n(6,r),n(9,h),n(10,m),n(12,_),n(13,g),n(11,y),n(14,v)))},[l,a,u,f,c,d,r,o,i,h,m,y,_,g,v]}class ed extends ge{constructor(e){super(),me(this,e,$c,xc,be,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,sourcePosition:11,targetX:12,targetY:13,targetPosition:14})}}const ul=ed;function td(t){let e,n;return e=new ai({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){ie(e.$$.fragment)},l(i){se(e.$$.fragment,i)},m(i,o){oe(e,i,o),n=!0},p(i,[o]){const r={};o&256&&(r.path=i[8]),o&128&&(r.labelX=i[7]),o&64&&(r.labelY=i[6]),o&1&&(r.label=i[0]),o&2&&(r.labelStyle=i[1]),o&8&&(r.markerStart=i[3]),o&16&&(r.markerEnd=i[4]),o&32&&(r.interactionWidth=i[5]),o&4&&(r.style=i[2]),e.$set(r)},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){B(e.$$.fragment,i),n=!1},d(i){re(e,i)}}}function nd(t,e,n){let i,o,r;const s=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","sourcePosition","targetX","targetY","targetPosition"];Ye(e,s);let{label:l=void 0}=e,{labelStyle:a=void 0}=e,{style:u=void 0}=e,{markerStart:f=void 0}=e,{markerEnd:c=void 0}=e,{interactionWidth:d=void 0}=e,{sourceX:h}=e,{sourceY:m}=e,{sourcePosition:y}=e,{targetX:_}=e,{targetY:g}=e,{targetPosition:v}=e;return t.$$set=k=>{e=Ne(Ne({},e),yt(k)),n(15,Ye(e,s)),"label"in k&&n(0,l=k.label),"labelStyle"in k&&n(1,a=k.labelStyle),"style"in k&&n(2,u=k.style),"markerStart"in k&&n(3,f=k.markerStart),"markerEnd"in k&&n(4,c=k.markerEnd),"interactionWidth"in k&&n(5,d=k.interactionWidth),"sourceX"in k&&n(9,h=k.sourceX),"sourceY"in k&&n(10,m=k.sourceY),"sourcePosition"in k&&n(11,y=k.sourcePosition),"targetX"in k&&n(12,_=k.targetX),"targetY"in k&&n(13,g=k.targetY),"targetPosition"in k&&n(14,v=k.targetPosition)},t.$$.update=()=>{t.$$.dirty&32256&&n(8,[i,o,r]=Jn({sourceX:h,sourceY:m,targetX:_,targetY:g,sourcePosition:y,targetPosition:v}),i,(n(7,o),n(9,h),n(10,m),n(12,_),n(13,g),n(11,y),n(14,v)),(n(6,r),n(9,h),n(10,m),n(12,_),n(13,g),n(11,y),n(14,v)))},[l,a,u,f,c,d,r,o,i,h,m,y,_,g,v]}class id extends ge{constructor(e){super(),me(this,e,nd,td,be,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,sourcePosition:11,targetX:12,targetY:13,targetPosition:14})}}const od=id;function rd(t){let e,n;return e=new ai({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){ie(e.$$.fragment)},l(i){se(e.$$.fragment,i)},m(i,o){oe(e,i,o),n=!0},p(i,[o]){const r={};o&256&&(r.path=i[8]),o&128&&(r.labelX=i[7]),o&64&&(r.labelY=i[6]),o&1&&(r.label=i[0]),o&2&&(r.labelStyle=i[1]),o&8&&(r.markerStart=i[3]),o&16&&(r.markerEnd=i[4]),o&32&&(r.interactionWidth=i[5]),o&4&&(r.style=i[2]),e.$set(r)},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){B(e.$$.fragment,i),n=!1},d(i){re(e,i)}}}function ld(t,e,n){let i,o,r;const s=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","targetX","targetY"];Ye(e,s);let{label:l=void 0}=e,{labelStyle:a=void 0}=e,{style:u=void 0}=e,{markerStart:f=void 0}=e,{markerEnd:c=void 0}=e,{interactionWidth:d=void 0}=e,{sourceX:h}=e,{sourceY:m}=e,{targetX:y}=e,{targetY:_}=e;return t.$$set=g=>{e=Ne(Ne({},e),yt(g)),n(13,Ye(e,s)),"label"in g&&n(0,l=g.label),"labelStyle"in g&&n(1,a=g.labelStyle),"style"in g&&n(2,u=g.style),"markerStart"in g&&n(3,f=g.markerStart),"markerEnd"in g&&n(4,c=g.markerEnd),"interactionWidth"in g&&n(5,d=g.interactionWidth),"sourceX"in g&&n(9,h=g.sourceX),"sourceY"in g&&n(10,m=g.sourceY),"targetX"in g&&n(11,y=g.targetX),"targetY"in g&&n(12,_=g.targetY)},t.$$.update=()=>{t.$$.dirty&7680&&n(8,[i,o,r]=Qr({sourceX:h,sourceY:m,targetX:y,targetY:_}),i,(n(7,o),n(9,h),n(10,m),n(11,y),n(12,_)),(n(6,r),n(9,h),n(10,m),n(11,y),n(12,_)))},[l,a,u,f,c,d,r,o,i,h,m,y,_]}class sd extends ge{constructor(e){super(),me(this,e,ld,rd,be,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,targetX:11,targetY:12})}}const ad=sd;function ud(t){let e,n;return e=new ai({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){ie(e.$$.fragment)},l(i){se(e.$$.fragment,i)},m(i,o){oe(e,i,o),n=!0},p(i,[o]){const r={};o&256&&(r.path=i[8]),o&128&&(r.labelX=i[7]),o&64&&(r.labelY=i[6]),o&1&&(r.label=i[0]),o&2&&(r.labelStyle=i[1]),o&8&&(r.markerStart=i[3]),o&16&&(r.markerEnd=i[4]),o&32&&(r.interactionWidth=i[5]),o&4&&(r.style=i[2]),e.$set(r)},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){B(e.$$.fragment,i),n=!1},d(i){re(e,i)}}}function fd(t,e,n){let i,o,r;const s=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","sourcePosition","targetX","targetY","targetPosition"];Ye(e,s);let{label:l=void 0}=e,{labelStyle:a=void 0}=e,{style:u=void 0}=e,{markerStart:f=void 0}=e,{markerEnd:c=void 0}=e,{interactionWidth:d=void 0}=e,{sourceX:h}=e,{sourceY:m}=e,{sourcePosition:y}=e,{targetX:_}=e,{targetY:g}=e,{targetPosition:v}=e;return t.$$set=k=>{e=Ne(Ne({},e),yt(k)),n(15,Ye(e,s)),"label"in k&&n(0,l=k.label),"labelStyle"in k&&n(1,a=k.labelStyle),"style"in k&&n(2,u=k.style),"markerStart"in k&&n(3,f=k.markerStart),"markerEnd"in k&&n(4,c=k.markerEnd),"interactionWidth"in k&&n(5,d=k.interactionWidth),"sourceX"in k&&n(9,h=k.sourceX),"sourceY"in k&&n(10,m=k.sourceY),"sourcePosition"in k&&n(11,y=k.sourcePosition),"targetX"in k&&n(12,_=k.targetX),"targetY"in k&&n(13,g=k.targetY),"targetPosition"in k&&n(14,v=k.targetPosition)},t.$$.update=()=>{t.$$.dirty&32256&&n(8,[i,o,r]=Jn({sourceX:h,sourceY:m,targetX:_,targetY:g,sourcePosition:y,targetPosition:v,borderRadius:0}),i,(n(7,o),n(9,h),n(10,m),n(12,_),n(13,g),n(11,y),n(14,v)),(n(6,r),n(9,h),n(10,m),n(12,_),n(13,g),n(11,y),n(14,v)))},[l,a,u,f,c,d,r,o,i,h,m,y,_,g,v]}class cd extends ge{constructor(e){super(),me(this,e,fd,ud,be,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,sourcePosition:11,targetX:12,targetY:13,targetPosition:14})}}const dd=cd;function hd(t,e){const n=t.set,i=e.set,o=J(t),r=J(e);let l=o.length===0&&r.length>0?r:o;t.set(l);const a=u=>{const f=n(u);return l=f,i(l),f};t.set=e.set=a,t.update=e.update=u=>a(u(l))}function gd(t,e){const n=t.set,i=e.set;let o=J(e);t.set(o);const r=s=>{n(s),i(s),o=s};t.set=e.set=r,t.update=e.update=s=>r(s(o))}const md=(t,e,n)=>{if(!n)return;const i=J(t),o=e.set,r=n.set;let s=n?J(n):{x:0,y:0,zoom:1};e.set(s),e.set=l=>(o(l),r(l),s=l,l),n.set=l=>(i==null||i.syncViewport(l),o(l),r(l),s=l,l),e.update=l=>{e.set(l(s))},n.update=l=>{n.set(l(s))}},yd=(t,e,n,i=[0,0],o=Zn)=>{const{subscribe:r,set:s,update:l}=ne([]);let a=t,u={},f=!0;const c=y=>(jr(y,e,n,{elevateNodesOnSelect:f,nodeOrigin:i,nodeExtent:o,defaults:u,checkEquality:!1}),a=y,s(a),a),d=y=>c(y(a)),h=y=>{u=y},m=y=>{f=y.elevateNodesOnSelect??f};return c(a),{subscribe:r,set:c,update:d,setDefaultOptions:h,setOptions:m}},_d=(t,e,n,i)=>{const{subscribe:o,set:r,update:s}=ne([]);let l=t,a=i||{};const u=d=>{const h=a?d.map(m=>({...a,...m})):d;$r(e,n,h),l=h,r(l)},f=d=>u(d(l)),c=d=>{a=d};return u(l),{subscribe:o,set:u,update:f,setDefaultOptions:c}},fl={input:Nc,output:Oc,default:sl,group:Hc},cl={straight:ad,smoothstep:od,default:ul,step:dd},bd=({nodes:t=[],edges:e=[],width:n,height:i,fitView:o,nodeOrigin:r,nodeExtent:s})=>{const l=new Map,a=new Map,u=new Map,f=new Map,c=r??[0,0],d=s??Zn;jr(t,l,a,{nodeExtent:d,nodeOrigin:c,elevateNodesOnSelect:!1,checkEquality:!1}),$r(u,f,e);let h={x:0,y:0,zoom:1};if(o&&n&&i){const m=oi(l,{filter:y=>!!((y.width||y.initialWidth)&&(y.height||y.initialHeight))});h=qr(m,n,i,.5,2,.1)}return{flowId:ne(null),nodes:yd(t,l,a,c,d),nodeLookup:ht(l),parentLookup:ht(a),edgeLookup:ht(f),visibleNodes:ht([]),edges:_d(e,u,f),visibleEdges:ht([]),connectionLookup:ht(u),height:ne(500),width:ne(500),minZoom:ne(.5),maxZoom:ne(2),nodeOrigin:ne(c),nodeDragThreshold:ne(1),nodeExtent:ne(d),translateExtent:ne(Zn),autoPanOnNodeDrag:ne(!0),autoPanOnConnect:ne(!0),fitViewOnInit:ne(!1),fitViewOnInitDone:ne(!1),fitViewOptions:ne(void 0),panZoom:ne(null),snapGrid:ne(null),dragging:ne(!1),selectionRect:ne(null),selectionKeyPressed:ne(!1),multiselectionKeyPressed:ne(!1),deleteKeyPressed:ne(!1),panActivationKeyPressed:ne(!1),zoomActivationKeyPressed:ne(!1),selectionRectMode:ne(null),selectionMode:ne(qn.Partial),nodeTypes:ne(fl),edgeTypes:ne(cl),viewport:ne(h),connectionMode:ne(Bt.Strict),domNode:ne(null),connection:ht(Pi),connectionLineType:ne(jt.Bezier),connectionRadius:ne(20),isValidConnection:ne(()=>!0),nodesDraggable:ne(!0),nodesConnectable:ne(!0),elementsSelectable:ne(!0),selectNodesOnDrag:ne(!0),markers:ht([]),defaultMarkerColor:ne("#b1b1b7"),lib:ht("svelte"),onlyRenderVisibleElements:ne(!1),onerror:ne(Af),ondelete:ne(void 0),onedgecreate:ne(void 0),onconnect:ne(void 0),onconnectstart:ne(void 0),onconnectend:ne(void 0),onbeforedelete:ne(void 0),nodesInitialized:ne(!1),edgesInitialized:ne(!1),viewportInitialized:ne(!1),initialized:ht(!1)}};function wd(t){const e=Gt([t.edges,t.nodes,t.nodeLookup,t.onlyRenderVisibleElements,t.viewport,t.width,t.height],([n,,i,o,r,s,l])=>o&&s&&l?n.filter(u=>{const f=i.get(u.source),c=i.get(u.target);return f&&c&&Bf({sourceNode:f,targetNode:c,width:s,height:l,transform:[r.x,r.y,r.zoom]})}):n);return Gt([e,t.nodes,t.nodeLookup,t.connectionMode,t.onerror],([n,,i,o,r])=>n.reduce((l,a)=>{const u=i.get(a.source),f=i.get(a.target);if(!u||!f)return l;const c=Gf({id:a.id,sourceNode:u,targetNode:f,sourceHandle:a.sourceHandle||null,targetHandle:a.targetHandle||null,connectionMode:o,onError:r});return c&&l.push({...a,zIndex:Rf({selected:a.selected,zIndex:a.zIndex,sourceNode:u,targetNode:f,elevateOnSelect:!1}),...c}),l},[]))}function kd(t){return Gt([t.nodeLookup,t.onlyRenderVisibleElements,t.width,t.height,t.viewport,t.nodes],([e,n,i,o,r])=>{const s=[r.x,r.y,r.zoom];return n?Kr(e,{x:0,y:0,width:i,height:o},s,!0):Array.from(e.values())})}const Ji=Symbol();function vd({nodes:t,edges:e,width:n,height:i,fitView:o,nodeOrigin:r,nodeExtent:s}){const l=bd({nodes:t,edges:e,width:n,height:i,fitView:o,nodeOrigin:r,nodeExtent:s});function a(b){l.nodeTypes.set({...fl,...b})}function u(b){l.edgeTypes.set({...cl,...b})}function f(b){const C=J(l.edges);l.edges.set(Ff(b,C))}const c=(b,C=!1)=>{var D;const T=J(l.nodeLookup);for(const[L,F]of b){const G=(D=T.get(L))==null?void 0:D.internals.userNode;G&&(G.position=F.position,G.dragging=C)}l.nodes.update(L=>L)};function d(b){var F,G,ee;const C=J(l.nodeLookup),T=J(l.parentLookup),{changes:D,updatedInternals:L}=tc(b,C,J(l.parentLookup),J(l.domNode),J(l.nodeOrigin));if(L){if(jf(C,T,{nodeOrigin:r,nodeExtent:s}),!J(l.fitViewOnInitDone)&&J(l.fitViewOnInit)){const O=J(l.fitViewOptions),x=m({...O,nodes:O==null?void 0:O.nodes});l.fitViewOnInitDone.set(x)}for(const O of D){const x=(F=C.get(O.id))==null?void 0:F.internals.userNode;if(x)switch(O.type){case"dimensions":{const te={...x.measured,...O.dimensions};O.setAttributes&&(x.width=((G=O.dimensions)==null?void 0:G.width)??x.width,x.height=((ee=O.dimensions)==null?void 0:ee.height)??x.height),x.measured=te;break}case"position":x.position=O.position??x.position;break}}l.nodes.update(O=>O),J(l.nodesInitialized)||l.nodesInitialized.set(!0)}}function h(b){const C=J(l.panZoom),T=J(l.domNode);if(!C||!T)return Promise.resolve(!1);const{width:D,height:L}=Zi(T),F=vo(J(l.nodeLookup),b);return Eo({nodes:F,width:D,height:L,minZoom:J(l.minZoom),maxZoom:J(l.maxZoom),panZoom:C},b)}function m(b){const C=J(l.panZoom);if(!C)return!1;const T=vo(J(l.nodeLookup),b);return Eo({nodes:T,width:J(l.width),height:J(l.height),minZoom:J(l.minZoom),maxZoom:J(l.maxZoom),panZoom:C},b),T.size>0}function y(b,C){const T=J(l.panZoom);return T?T.scaleBy(b,C):Promise.resolve(!1)}function _(b){return y(1.2,b)}function g(b){return y(1/1.2,b)}function v(b){const C=J(l.panZoom);C&&(C.setScaleExtent([b,J(l.maxZoom)]),l.minZoom.set(b))}function k(b){const C=J(l.panZoom);C&&(C.setScaleExtent([J(l.minZoom),b]),l.maxZoom.set(b))}function S(b){const C=J(l.panZoom);C&&(C.setTranslateExtent(b),l.translateExtent.set(b))}function I(b){let C=!1;return b.forEach(T=>{T.selected&&(T.selected=!1,C=!0)}),C}function V(b){var C;(C=J(l.panZoom))==null||C.setClickDistance(b)}function P(b){I((b==null?void 0:b.nodes)||J(l.nodes))&&l.nodes.set(J(l.nodes)),I((b==null?void 0:b.edges)||J(l.edges))&&l.edges.set(J(l.edges))}l.deleteKeyPressed.subscribe(async b=>{var C;if(b){const T=J(l.nodes),D=J(l.edges),L=T.filter(O=>O.selected),F=D.filter(O=>O.selected),{nodes:G,edges:ee}=await Of({nodesToRemove:L,edgesToRemove:F,nodes:T,edges:D,onBeforeDelete:J(l.onbeforedelete)});(G.length||ee.length)&&(l.nodes.update(O=>O.filter(x=>!G.some(te=>te.id===x.id))),l.edges.update(O=>O.filter(x=>!ee.some(te=>te.id===x.id))),(C=J(l.ondelete))==null||C({nodes:G,edges:ee}))}});function Y(b){const C=J(l.multiselectionKeyPressed);l.nodes.update(T=>T.map(D=>{const L=b.includes(D.id),F=C&&D.selected||L;return D.selected=F,D})),C||l.edges.update(T=>T.map(D=>(D.selected=!1,D)))}function H(b){const C=J(l.multiselectionKeyPressed);l.edges.update(T=>T.map(D=>{const L=b.includes(D.id),F=C&&D.selected||L;return D.selected=F,D})),C||l.nodes.update(T=>T.map(D=>(D.selected=!1,D)))}function W(b){var T;const C=(T=J(l.nodes))==null?void 0:T.find(D=>D.id===b);if(!C){console.warn("012",vn.error012(b));return}l.selectionRect.set(null),l.selectionRectMode.set(null),C.selected?C.selected&&J(l.multiselectionKeyPressed)&&P({nodes:[C],edges:[]}):Y([b])}function q(b){const C=J(l.viewport);return nc({delta:b,panZoom:J(l.panZoom),transform:[C.x,C.y,C.zoom],translateExtent:J(l.translateExtent),width:J(l.width),height:J(l.height)})}const K=ne(Pi),Z=b=>{K.set({...b})};function w(){K.set(Pi)}function A(){l.fitViewOnInitDone.set(!1),l.selectionRect.set(null),l.selectionRectMode.set(null),l.snapGrid.set(null),l.isValidConnection.set(()=>!0),P(),w()}return{...l,visibleEdges:wd(l),visibleNodes:kd(l),connection:Gt([K,l.viewport],([b,C])=>b.inProgress?{...b,to:li(b.to,[C.x,C.y,C.zoom])}:{...b}),markers:Gt([l.edges,l.defaultMarkerColor,l.flowId],([b,C,T])=>Jf(b,{defaultColor:C,id:T})),initialized:(()=>{let b=!1;const C=J(l.nodes).length,T=J(l.edges).length;return Gt([l.nodesInitialized,l.edgesInitialized,l.viewportInitialized],([D,L,F])=>b||(C===0?b=F:T===0?b=F&&D:b=F&&D&&L,b))})(),syncNodeStores:b=>hd(l.nodes,b),syncEdgeStores:b=>gd(l.edges,b),syncViewport:b=>md(l.panZoom,l.viewport,b),setNodeTypes:a,setEdgeTypes:u,addEdge:f,updateNodePositions:c,updateNodeInternals:d,zoomIn:_,zoomOut:g,fitView:b=>h(b),setMinZoom:v,setMaxZoom:k,setTranslateExtent:S,setPaneClickDistance:V,unselectNodesAndEdges:P,addSelectedNodes:Y,addSelectedEdges:H,handleNodeSelection:W,panBy:q,updateConnection:Z,cancelConnection:w,reset:A}}function Re(){const t=Hn(Ji);if(!t)throw new Error("In order to use useStore you need to wrap your component in a <SvelteFlowProvider />");return t.getStore()}function Ed({nodes:t,edges:e,width:n,height:i,fitView:o,nodeOrigin:r,nodeExtent:s}){const l=vd({nodes:t,edges:e,width:n,height:i,fitView:o,nodeOrigin:r,nodeExtent:s});return Vn(Ji,{getStore:()=>l}),l}function Sd(t,e){const{panZoom:n,minZoom:i,maxZoom:o,initialViewport:r,viewport:s,dragging:l,translateExtent:a,paneClickDistance:u}=e,f=bc({domNode:t,minZoom:i,maxZoom:o,translateExtent:a,viewport:r,paneClickDistance:u,onDraggingChange:l.set}),c=f.getViewport();return s.set(c),n.set(f),f.update(e),{update(d){f.update(d)}}}function pd(t){let e,n,i,o,r;const s=t[35].default,l=nt(s,t,t[34],null);return{c(){e=fe("div"),l&&l.c(),this.h()},l(a){e=ce(a,"DIV",{class:!0});var u=j(e);l&&l.l(u),u.forEach(N),this.h()},h(){E(e,"class","svelte-flow__zoom svelte-4xkw84")},m(a,u){Q(a,e,u),l&&l.m(e,null),i=!0,o||(r=et(n=Sd.call(null,e,{viewport:t[18],minZoom:t[12],maxZoom:t[13],initialViewport:t[11],dragging:t[23],panZoom:t[19],onPanZoomStart:t[0],onPanZoom:t[1],onPanZoomEnd:t[2],zoomOnScroll:t[5],zoomOnDoubleClick:t[6],zoomOnPinch:t[7],panOnScroll:t[9],panOnDrag:t[10],panOnScrollSpeed:.5,panOnScrollMode:t[3]||Et.Free,zoomActivationKeyPressed:t[14],preventScrolling:typeof t[4]=="boolean"?t[4]:!0,noPanClassName:"nopan",noWheelClassName:"nowheel",userSelectionActive:!!t[15],translateExtent:t[16],lib:t[17],paneClickDistance:t[8],onTransformChange:t[29]})),o=!0)},p(a,u){l&&l.p&&(!i||u[1]&8)&&it(l,s,a,a[34],i?rt(s,a[34],u,null):ot(a[34]),null),n&&We(n.update)&&u[0]&262143&&n.update.call(null,{viewport:a[18],minZoom:a[12],maxZoom:a[13],initialViewport:a[11],dragging:a[23],panZoom:a[19],onPanZoomStart:a[0],onPanZoom:a[1],onPanZoomEnd:a[2],zoomOnScroll:a[5],zoomOnDoubleClick:a[6],zoomOnPinch:a[7],panOnScroll:a[9],panOnDrag:a[10],panOnScrollSpeed:.5,panOnScrollMode:a[3]||Et.Free,zoomActivationKeyPressed:a[14],preventScrolling:typeof a[4]=="boolean"?a[4]:!0,noPanClassName:"nopan",noWheelClassName:"nowheel",userSelectionActive:!!a[15],translateExtent:a[16],lib:a[17],paneClickDistance:a[8],onTransformChange:a[29]})},i(a){i||(X(l,a),i=!0)},o(a){B(l,a),i=!1},d(a){a&&N(e),l&&l.d(a),o=!1,r()}}}function Cd(t,e,n){let i,o,r,s,l,a,u,f,c,d,h,{$$slots:m={},$$scope:y}=e,{initialViewport:_=void 0}=e,{onMoveStart:g=void 0}=e,{onMove:v=void 0}=e,{onMoveEnd:k=void 0}=e,{panOnScrollMode:S}=e,{preventScrolling:I}=e,{zoomOnScroll:V}=e,{zoomOnDoubleClick:P}=e,{zoomOnPinch:Y}=e,{panOnDrag:H}=e,{panOnScroll:W}=e,{paneClickDistance:q}=e;const{viewport:K,panZoom:Z,selectionRect:w,minZoom:A,maxZoom:b,dragging:C,translateExtent:T,lib:D,panActivationKeyPressed:L,zoomActivationKeyPressed:F,viewportInitialized:G}=Re();U(t,w,O=>n(15,c=O)),U(t,A,O=>n(12,a=O)),U(t,b,O=>n(13,u=O)),U(t,T,O=>n(16,d=O)),U(t,D,O=>n(17,h=O)),U(t,L,O=>n(33,l=O)),U(t,F,O=>n(14,f=O)),U(t,G,O=>n(36,s=O));const ee=O=>K.set({x:O[0],y:O[1],zoom:O[2]});return jn(()=>{Xn(G,s=!0,s)}),t.$$set=O=>{"initialViewport"in O&&n(30,_=O.initialViewport),"onMoveStart"in O&&n(0,g=O.onMoveStart),"onMove"in O&&n(1,v=O.onMove),"onMoveEnd"in O&&n(2,k=O.onMoveEnd),"panOnScrollMode"in O&&n(3,S=O.panOnScrollMode),"preventScrolling"in O&&n(4,I=O.preventScrolling),"zoomOnScroll"in O&&n(5,V=O.zoomOnScroll),"zoomOnDoubleClick"in O&&n(6,P=O.zoomOnDoubleClick),"zoomOnPinch"in O&&n(7,Y=O.zoomOnPinch),"panOnDrag"in O&&n(31,H=O.panOnDrag),"panOnScroll"in O&&n(32,W=O.panOnScroll),"paneClickDistance"in O&&n(8,q=O.paneClickDistance),"$$scope"in O&&n(34,y=O.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&1073741824&&n(11,i=_||{x:0,y:0,zoom:1}),t.$$.dirty[1]&5&&n(10,o=l||H),t.$$.dirty[1]&6&&n(9,r=l||W)},[g,v,k,S,I,V,P,Y,q,r,o,i,a,u,f,c,d,h,K,Z,w,A,b,C,T,D,L,F,G,ee,_,H,W,l,y,m]}class Md extends ge{constructor(e){super(),me(this,e,Cd,pd,be,{initialViewport:30,onMoveStart:0,onMove:1,onMoveEnd:2,panOnScrollMode:3,preventScrolling:4,zoomOnScroll:5,zoomOnDoubleClick:6,zoomOnPinch:7,panOnDrag:31,panOnScroll:32,paneClickDistance:8},null,[-1,-1])}}const Pd=Md;function Nd(t){let e,n,i,o;const r=t[28].default,s=nt(r,t,t[27],null);return{c(){e=fe("div"),s&&s.c(),this.h()},l(l){e=ce(l,"DIV",{class:!0});var a=j(e);s&&s.l(a),a.forEach(N),this.h()},h(){E(e,"class","svelte-flow__pane svelte-1esy7hx"),ae(e,"draggable",t[0]===!0||Array.isArray(t[0])&&t[0].includes(0)),ae(e,"dragging",t[4]),ae(e,"selection",t[1])},m(l,a){Q(l,e,a),s&&s.m(e,null),t[29](e),n=!0,i||(o=[De(e,"click",function(){We(t[3]?void 0:Tn(t[15],t[2]))&&(t[3]?void 0:Tn(t[15],t[2])).apply(this,arguments)}),De(e,"pointerdown",function(){We(t[3]?t[16]:void 0)&&(t[3]?t[16]:void 0).apply(this,arguments)}),De(e,"pointermove",function(){We(t[3]?t[17]:void 0)&&(t[3]?t[17]:void 0).apply(this,arguments)}),De(e,"pointerup",function(){We(t[3]?t[18]:void 0)&&(t[3]?t[18]:void 0).apply(this,arguments)}),De(e,"contextmenu",function(){We(Tn(t[19],t[2]))&&Tn(t[19],t[2]).apply(this,arguments)})],i=!0)},p(l,a){t=l,s&&s.p&&(!n||a[0]&134217728)&&it(s,r,t,t[27],n?rt(r,t[27],a,null):ot(t[27]),null),(!n||a[0]&1)&&ae(e,"draggable",t[0]===!0||Array.isArray(t[0])&&t[0].includes(0)),(!n||a[0]&16)&&ae(e,"dragging",t[4]),(!n||a[0]&2)&&ae(e,"selection",t[1])},i(l){n||(X(s,l),n=!0)},o(l){B(s,l),n=!1},d(l){l&&N(e),s&&s.d(l),t[29](null),i=!1,Vt(o)}}}function Tn(t,e){return n=>{n.target===e&&(t==null||t(n))}}function Xo(t){return e=>{const n=t.includes(e.id);return e.selected!==n&&(e.selected=n),e}}function zd(t,e,n){let i,o,r,s,l,a,u,f,c,d,h,m,y,{$$slots:_={},$$scope:g}=e,{panOnDrag:v=void 0}=e,{selectionOnDrag:k=void 0}=e;const S=xn(),{nodes:I,nodeLookup:V,edges:P,viewport:Y,dragging:H,elementsSelectable:W,selectionRect:q,selectionRectMode:K,selectionKeyPressed:Z,selectionMode:w,panActivationKeyPressed:A,unselectNodesAndEdges:b}=Re();U(t,V,z=>n(36,c=z)),U(t,P,z=>n(33,a=z)),U(t,Y,z=>n(35,f=z)),U(t,H,z=>n(4,y=z)),U(t,W,z=>n(25,h=z)),U(t,q,z=>n(24,d=z)),U(t,K,z=>n(23,l=z)),U(t,Z,z=>n(22,s=z)),U(t,w,z=>n(34,u=z)),U(t,A,z=>n(26,m=z));let C,T=null,D=[],L=!1;function F(z){if(L){L=!1;return}S("paneclick",{event:z}),b(),K.set(null)}function G(z){var ue,we;if(T=C.getBoundingClientRect(),!W||!o||z.button!==0||z.target!==C||!T)return;(we=(ue=z.target)==null?void 0:ue.setPointerCapture)==null||we.call(ue,z.pointerId);const{x:le,y:ye}=Dt(z,T);b(),q.set({width:0,height:0,startX:le,startY:ye,x:le,y:ye})}function ee(z){if(!o||!T||!d)return;L=!0;const le=Dt(z,T),ye=d.startX??0,ue=d.startY??0,we={...d,x:le.x<ye?le.x:ye,y:le.y<ue?le.y:ue,width:Math.abs(le.x-ye),height:Math.abs(le.y-ue)},Ee=D.map(Se=>Se.id),Ae=Ni(D,a).map(Se=>Se.id);D=Kr(c,we,[f.x,f.y,f.zoom],u===qn.Partial,!0);const R=Ni(D,a).map(Se=>Se.id),Pe=D.map(Se=>Se.id);(Ee.length!==Pe.length||Pe.some(Se=>!Ee.includes(Se)))&&I.update(Se=>Se.map(Xo(Pe))),(Ae.length!==R.length||R.some(Se=>!Ae.includes(Se)))&&P.update(Se=>Se.map(Xo(R))),K.set("user"),q.set(we)}function O(z){var le,ye;z.button===0&&((ye=(le=z.target)==null?void 0:le.releasePointerCapture)==null||ye.call(le,z.pointerId),!o&&l==="user"&&z.target===C&&(F==null||F(z)),q.set(null),D.length>0&&Xn(K,l="nodes",l),s&&(L=!1))}const x=z=>{if(Array.isArray(i)&&(i!=null&&i.includes(2))){z.preventDefault();return}S("panecontextmenu",{event:z})};function te(z){Oi[z?"unshift":"push"](()=>{C=z,n(2,C)})}return t.$$set=z=>{"panOnDrag"in z&&n(0,v=z.panOnDrag),"selectionOnDrag"in z&&n(20,k=z.selectionOnDrag),"$$scope"in z&&n(27,g=z.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&67108865&&n(21,i=m||v),t.$$.dirty[0]&24117248&&n(1,o=s||d||k&&i!==!0),t.$$.dirty[0]&41943042&&n(3,r=h&&(o||l==="user"))},[v,o,C,r,y,V,P,Y,H,W,q,K,Z,w,A,F,G,ee,O,x,k,i,s,l,d,h,m,g,_,te]}class Td extends ge{constructor(e){super(),me(this,e,zd,Nd,be,{panOnDrag:0,selectionOnDrag:20},null,[-1,-1])}}const Dd=Td;function Od(t){let e,n;const i=t[3].default,o=nt(i,t,t[2],null);return{c(){e=fe("div"),o&&o.c(),this.h()},l(r){e=ce(r,"DIV",{class:!0,style:!0});var s=j(e);o&&o.l(s),s.forEach(N),this.h()},h(){E(e,"class","svelte-flow__viewport xyflow__viewport svelte-1floaup"),de(e,"transform","translate("+t[0].x+"px, "+t[0].y+"px) scale("+t[0].zoom+")")},m(r,s){Q(r,e,s),o&&o.m(e,null),n=!0},p(r,[s]){o&&o.p&&(!n||s&4)&&it(o,i,r,r[2],n?rt(i,r[2],s,null):ot(r[2]),null),(!n||s&1)&&de(e,"transform","translate("+r[0].x+"px, "+r[0].y+"px) scale("+r[0].zoom+")")},i(r){n||(X(o,r),n=!0)},o(r){B(o,r),n=!1},d(r){r&&N(e),o&&o.d(r)}}}function Id(t,e,n){let i,{$$slots:o={},$$scope:r}=e;const{viewport:s}=Re();return U(t,s,l=>n(0,i=l)),t.$$set=l=>{"$$scope"in l&&n(2,r=l.$$scope)},[i,s,r,o]}class Ad extends ge{constructor(e){super(),me(this,e,Id,Od,be,{})}}const Hd=Ad;function dl(t,e){const{store:n,onDrag:i,onDragStart:o,onDragStop:r,onNodeMouseDown:s}=e,l=oc({onDrag:i,onDragStart:o,onDragStop:r,onNodeMouseDown:s,getStoreItems:()=>{const u=J(n.snapGrid),f=J(n.viewport);return{nodes:J(n.nodes),nodeLookup:J(n.nodeLookup),edges:J(n.edges),nodeExtent:J(n.nodeExtent),snapGrid:u||[0,0],snapToGrid:!!u,nodeOrigin:J(n.nodeOrigin),multiSelectionActive:J(n.multiselectionKeyPressed),domNode:J(n.domNode),transform:[f.x,f.y,f.zoom],autoPanOnNodeDrag:J(n.autoPanOnNodeDrag),nodesDraggable:J(n.nodesDraggable),selectNodesOnDrag:J(n.selectNodesOnDrag),nodeDragThreshold:J(n.nodeDragThreshold),unselectNodesAndEdges:n.unselectNodesAndEdges,updateNodePositions:n.updateNodePositions,panBy:n.panBy}}});function a(u,f){if(f.disabled){l.destroy();return}l.update({domNode:u,noDragClassName:f.noDragClass,handleSelector:f.handleSelector,nodeId:f.nodeId,isSelectable:f.isSelectable,nodeClickDistance:f.nodeClickDistance})}return a(t,e),{update(u){a(t,u)},destroy(){l.destroy()}}}function Vd({width:t,height:e,initialWidth:n,initialHeight:i,measuredWidth:o,measuredHeight:r}){if(o===void 0&&r===void 0){const s=t??n,l=e??i;return{width:s?`width:${s}px;`:"",height:l?`height:${l}px;`:""}}return{width:t?`width:${t}px;`:"",height:e?`height:${e}px;`:""}}function Yo(t){let e,n,i,o,r,s=`translate(${t[12]}px, ${t[13]}px)`,l,a,u;var f=t[27];function c(d,h){return{props:{data:d[2],id:d[1],selected:d[3]??!1,selectable:d[5]??d[28]??!0,deletable:d[7]??!0,sourcePosition:d[14],targetPosition:d[15],zIndex:d[16],dragging:d[9],draggable:d[4]??d[29]??!0,dragHandle:d[19],parentId:d[21],type:d[25],isConnectable:d[30],positionAbsoluteX:d[12],positionAbsoluteY:d[13],width:d[17],height:d[18]}}}return f&&(n=Yn(f,c(t))),{c(){e=fe("div"),n&&ie(n.$$.fragment),this.h()},l(d){e=ce(d,"DIV",{"data-id":!0,class:!0,style:!0});var h=j(e);n&&se(n.$$.fragment,h),h.forEach(N),this.h()},h(){E(e,"data-id",t[1]),E(e,"class",i=Ve(["svelte-flow__node",`svelte-flow__node-${t[25]}`,t[23]])),E(e,"style",o=(t[10]??"")+";"+t[26].width+t[26].height),ae(e,"dragging",t[9]),ae(e,"selected",t[3]),ae(e,"draggable",t[4]),ae(e,"connectable",t[6]),ae(e,"selectable",t[5]),ae(e,"nopan",t[4]),ae(e,"parent",t[11]),de(e,"z-index",t[16]),de(e,"transform",s),de(e,"visibility",t[20]?"visible":"hidden")},m(d,h){Q(d,e,h),n&&oe(n,e,null),t[54](e),l=!0,a||(u=[et(r=dl.call(null,e,{nodeId:t[1],isSelectable:t[5],disabled:!1,handleSelector:t[19],noDragClass:"nodrag",nodeClickDistance:t[22],onNodeMouseDown:t[33],onDrag:t[51],onDragStart:t[52],onDragStop:t[53],store:t[31]})),De(e,"click",t[38]),De(e,"mouseenter",t[55]),De(e,"mouseleave",t[56]),De(e,"mousemove",t[57]),De(e,"contextmenu",t[58])],a=!0)},p(d,h){if(h[0]&134217728&&f!==(f=d[27])){if(n){Ke();const y=n;B(y.$$.fragment,1,0,()=>{re(y,1)}),Fe()}f?(n=Yn(f,c(d)),ie(n.$$.fragment),X(n.$$.fragment,1),oe(n,e,null)):n=null}else if(f){const y={};h[0]&4&&(y.data=d[2]),h[0]&2&&(y.id=d[1]),h[0]&8&&(y.selected=d[3]??!1),h[0]&268435488&&(y.selectable=d[5]??d[28]??!0),h[0]&128&&(y.deletable=d[7]??!0),h[0]&16384&&(y.sourcePosition=d[14]),h[0]&32768&&(y.targetPosition=d[15]),h[0]&65536&&(y.zIndex=d[16]),h[0]&512&&(y.dragging=d[9]),h[0]&536870928&&(y.draggable=d[4]??d[29]??!0),h[0]&524288&&(y.dragHandle=d[19]),h[0]&2097152&&(y.parentId=d[21]),h[0]&33554432&&(y.type=d[25]),h[0]&1073741824&&(y.isConnectable=d[30]),h[0]&4096&&(y.positionAbsoluteX=d[12]),h[0]&8192&&(y.positionAbsoluteY=d[13]),h[0]&131072&&(y.width=d[17]),h[0]&262144&&(y.height=d[18]),n.$set(y)}(!l||h[0]&2)&&E(e,"data-id",d[1]),(!l||h[0]&41943040&&i!==(i=Ve(["svelte-flow__node",`svelte-flow__node-${d[25]}`,d[23]])))&&E(e,"class",i),(!l||h[0]&67109888&&o!==(o=(d[10]??"")+";"+d[26].width+d[26].height))&&E(e,"style",o),r&&We(r.update)&&h[0]&4718626&&r.update.call(null,{nodeId:d[1],isSelectable:d[5],disabled:!1,handleSelector:d[19],noDragClass:"nodrag",nodeClickDistance:d[22],onNodeMouseDown:d[33],onDrag:d[51],onDragStart:d[52],onDragStop:d[53],store:d[31]}),(!l||h[0]&41943552)&&ae(e,"dragging",d[9]),(!l||h[0]&41943048)&&ae(e,"selected",d[3]),(!l||h[0]&41943056)&&ae(e,"draggable",d[4]),(!l||h[0]&41943104)&&ae(e,"connectable",d[6]),(!l||h[0]&41943072)&&ae(e,"selectable",d[5]),(!l||h[0]&41943056)&&ae(e,"nopan",d[4]),(!l||h[0]&41945088)&&ae(e,"parent",d[11]);const m=h[0]&67109888;(h[0]&67175424||m)&&de(e,"z-index",d[16]),(h[0]&67122176&&s!==(s=`translate(${d[12]}px, ${d[13]}px)`)||m)&&de(e,"transform",s),(h[0]&68158464||m)&&de(e,"visibility",d[20]?"visible":"hidden")},i(d){l||(n&&X(n.$$.fragment,d),l=!0)},o(d){n&&B(n.$$.fragment,d),l=!1},d(d){d&&N(e),n&&re(n),t[54](null),a=!1,Vt(u)}}}function Xd(t){let e,n,i=!t[8]&&Yo(t);return{c(){i&&i.c(),e=Xe()},l(o){i&&i.l(o),e=Xe()},m(o,r){i&&i.m(o,r),Q(o,e,r),n=!0},p(o,r){o[8]?i&&(Ke(),B(i,1,1,()=>{i=null}),Fe()):i?(i.p(o,r),r[0]&256&&X(i,1)):(i=Yo(o),i.c(),X(i,1),i.m(e.parentNode,e))},i(o){n||(X(i),n=!0)},o(o){B(i),n=!1},d(o){o&&N(e),i&&i.d(o)}}}function Yd(t,e,n){let i,o,r,s,l,a,u,f,{node:c}=e,{id:d}=e,{data:h={}}=e,{selected:m=!1}=e,{draggable:y=void 0}=e,{selectable:_=void 0}=e,{connectable:g=!0}=e,{deletable:v=!0}=e,{hidden:k=!1}=e,{dragging:S=!1}=e,{resizeObserver:I=null}=e,{style:V=void 0}=e,{type:P="default"}=e,{isParent:Y=!1}=e,{positionX:H}=e,{positionY:W}=e,{sourcePosition:q=void 0}=e,{targetPosition:K=void 0}=e,{zIndex:Z}=e,{measuredWidth:w=void 0}=e,{measuredHeight:A=void 0}=e,{initialWidth:b=void 0}=e,{initialHeight:C=void 0}=e,{width:T=void 0}=e,{height:D=void 0}=e,{dragHandle:L=void 0}=e,{initialized:F=!1}=e,{parentId:G=void 0}=e,{nodeClickDistance:ee=void 0}=e,{class:O=""}=e;const x=Re(),{nodeTypes:te,nodeDragThreshold:z,selectNodesOnDrag:le,handleNodeSelection:ye,updateNodeInternals:ue,elementsSelectable:we,nodesDraggable:Ee}=x;U(t,te,M=>n(50,l=M)),U(t,we,M=>n(28,a=M)),U(t,Ee,M=>n(29,u=M));let Ae,R=null;const Pe=xn(),Se=ne(g);U(t,Se,M=>n(30,f=M));let Je,Qe,Ze;Vn("svelteflow__node_id",d),Vn("svelteflow__node_connectable",Se),dr(()=>{R&&(I==null||I.unobserve(R))});function lt(M){_&&(!J(le)||!y||J(z)>0)&&ye(d),Pe("nodeclick",{node:c.internals.userNode,event:M})}const ut=(M,Ue,Te,ze)=>{Pe("nodedrag",{event:M,targetNode:Te,nodes:ze})},ft=(M,Ue,Te,ze)=>{Pe("nodedragstart",{event:M,targetNode:Te,nodes:ze})},qe=(M,Ue,Te,ze)=>{Pe("nodedragstop",{event:M,targetNode:Te,nodes:ze})};function st(M){Oi[M?"unshift":"push"](()=>{Ae=M,n(24,Ae)})}const He=M=>Pe("nodemouseenter",{node:c,event:M}),pe=M=>Pe("nodemouseleave",{node:c,event:M}),_e=M=>Pe("nodemousemove",{node:c,event:M}),Be=M=>Pe("nodecontextmenu",{node:c,event:M});return t.$$set=M=>{"node"in M&&n(0,c=M.node),"id"in M&&n(1,d=M.id),"data"in M&&n(2,h=M.data),"selected"in M&&n(3,m=M.selected),"draggable"in M&&n(4,y=M.draggable),"selectable"in M&&n(5,_=M.selectable),"connectable"in M&&n(6,g=M.connectable),"deletable"in M&&n(7,v=M.deletable),"hidden"in M&&n(8,k=M.hidden),"dragging"in M&&n(9,S=M.dragging),"resizeObserver"in M&&n(39,I=M.resizeObserver),"style"in M&&n(10,V=M.style),"type"in M&&n(40,P=M.type),"isParent"in M&&n(11,Y=M.isParent),"positionX"in M&&n(12,H=M.positionX),"positionY"in M&&n(13,W=M.positionY),"sourcePosition"in M&&n(14,q=M.sourcePosition),"targetPosition"in M&&n(15,K=M.targetPosition),"zIndex"in M&&n(16,Z=M.zIndex),"measuredWidth"in M&&n(41,w=M.measuredWidth),"measuredHeight"in M&&n(42,A=M.measuredHeight),"initialWidth"in M&&n(43,b=M.initialWidth),"initialHeight"in M&&n(44,C=M.initialHeight),"width"in M&&n(17,T=M.width),"height"in M&&n(18,D=M.height),"dragHandle"in M&&n(19,L=M.dragHandle),"initialized"in M&&n(20,F=M.initialized),"parentId"in M&&n(21,G=M.parentId),"nodeClickDistance"in M&&n(22,ee=M.nodeClickDistance),"class"in M&&n(23,O=M.class)},t.$$.update=()=>{t.$$.dirty[1]&512&&n(25,i=P||"default"),t.$$.dirty[0]&33554432|t.$$.dirty[1]&524288&&n(49,o=!!l[i]),t.$$.dirty[0]&33554432|t.$$.dirty[1]&524288&&n(27,r=l[i]||sl),t.$$.dirty[1]&262656&&(o||console.warn("003",vn.error003(P))),t.$$.dirty[0]&393216|t.$$.dirty[1]&15360&&n(26,s=Vd({width:T,height:D,initialWidth:b,initialHeight:C,measuredWidth:w,measuredHeight:A})),t.$$.dirty[0]&64&&Se.set(!!g),t.$$.dirty[0]&50380802|t.$$.dirty[1]&229376&&((Je&&i!==Je||Qe&&q!==Qe||Ze&&K!==Ze)&&requestAnimationFrame(()=>ue(new Map([[d,{id:d,nodeElement:Ae,force:!0}]]))),n(46,Je=i),n(47,Qe=q),n(48,Ze=K)),t.$$.dirty[0]&17825792|t.$$.dirty[1]&16640&&I&&(Ae!==R||!F)&&(R&&I.unobserve(R),Ae&&I.observe(Ae),n(45,R=Ae))},[c,d,h,m,y,_,g,v,k,S,V,Y,H,W,q,K,Z,T,D,L,F,G,ee,O,Ae,i,s,r,a,u,f,x,te,ye,we,Ee,Pe,Se,lt,I,P,w,A,b,C,R,Je,Qe,Ze,o,l,ut,ft,qe,st,He,pe,_e,Be]}class Ld extends ge{constructor(e){super(),me(this,e,Yd,Xd,cr,{node:0,id:1,data:2,selected:3,draggable:4,selectable:5,connectable:6,deletable:7,hidden:8,dragging:9,resizeObserver:39,style:10,type:40,isParent:11,positionX:12,positionY:13,sourcePosition:14,targetPosition:15,zIndex:16,measuredWidth:41,measuredHeight:42,initialWidth:43,initialHeight:44,width:17,height:18,dragHandle:19,initialized:20,parentId:21,nodeClickDistance:22,class:23},null,[-1,-1])}}const Rd=Ld;const{Map:Bd}=Gl;function Lo(t,e,n){const i=t.slice();return i[21]=e[n],i}function Ro(t,e){let n,i,o;return i=new Rd({props:{node:e[21],id:e[21].id,data:e[21].data,selected:!!e[21].selected,hidden:!!e[21].hidden,draggable:!!(e[21].draggable||e[2]&&typeof e[21].draggable>"u"),selectable:!!(e[21].selectable||e[3]&&typeof e[21].selectable>"u"),connectable:!!(e[21].connectable||e[4]&&typeof e[21].connectable>"u"),deletable:e[21].deletable??!0,positionX:e[21].internals.positionAbsolute.x,positionY:e[21].internals.positionAbsolute.y,isParent:e[5].has(e[21].id),style:e[21].style,class:e[21].class,type:e[21].type??"default",sourcePosition:e[21].sourcePosition,targetPosition:e[21].targetPosition,dragging:e[21].dragging,zIndex:e[21].internals.z??0,dragHandle:e[21].dragHandle,initialized:po(e[21]),width:e[21].width,height:e[21].height,initialWidth:e[21].initialWidth,initialHeight:e[21].initialHeight,measuredWidth:e[21].measured.width,measuredHeight:e[21].measured.height,parentId:e[21].parentId,resizeObserver:e[11],nodeClickDistance:e[0]}}),i.$on("nodeclick",e[12]),i.$on("nodemouseenter",e[13]),i.$on("nodemousemove",e[14]),i.$on("nodemouseleave",e[15]),i.$on("nodedrag",e[16]),i.$on("nodedragstart",e[17]),i.$on("nodedragstop",e[18]),i.$on("nodecontextmenu",e[19]),{key:t,first:null,c(){n=Xe(),ie(i.$$.fragment),this.h()},l(r){n=Xe(),se(i.$$.fragment,r),this.h()},h(){this.first=n},m(r,s){Q(r,n,s),oe(i,r,s),o=!0},p(r,s){e=r;const l={};s&2&&(l.node=e[21]),s&2&&(l.id=e[21].id),s&2&&(l.data=e[21].data),s&2&&(l.selected=!!e[21].selected),s&2&&(l.hidden=!!e[21].hidden),s&6&&(l.draggable=!!(e[21].draggable||e[2]&&typeof e[21].draggable>"u")),s&10&&(l.selectable=!!(e[21].selectable||e[3]&&typeof e[21].selectable>"u")),s&18&&(l.connectable=!!(e[21].connectable||e[4]&&typeof e[21].connectable>"u")),s&2&&(l.deletable=e[21].deletable??!0),s&2&&(l.positionX=e[21].internals.positionAbsolute.x),s&2&&(l.positionY=e[21].internals.positionAbsolute.y),s&34&&(l.isParent=e[5].has(e[21].id)),s&2&&(l.style=e[21].style),s&2&&(l.class=e[21].class),s&2&&(l.type=e[21].type??"default"),s&2&&(l.sourcePosition=e[21].sourcePosition),s&2&&(l.targetPosition=e[21].targetPosition),s&2&&(l.dragging=e[21].dragging),s&2&&(l.zIndex=e[21].internals.z??0),s&2&&(l.dragHandle=e[21].dragHandle),s&2&&(l.initialized=po(e[21])),s&2&&(l.width=e[21].width),s&2&&(l.height=e[21].height),s&2&&(l.initialWidth=e[21].initialWidth),s&2&&(l.initialHeight=e[21].initialHeight),s&2&&(l.measuredWidth=e[21].measured.width),s&2&&(l.measuredHeight=e[21].measured.height),s&2&&(l.parentId=e[21].parentId),s&1&&(l.nodeClickDistance=e[0]),i.$set(l)},i(r){o||(X(i.$$.fragment,r),o=!0)},o(r){B(i.$$.fragment,r),o=!1},d(r){r&&N(n),re(i,r)}}}function Wd(t){let e,n=[],i=new Bd,o,r=$t(t[1]);const s=l=>l[21].id;for(let l=0;l<r.length;l+=1){let a=Lo(t,r,l),u=s(a);i.set(u,n[l]=Ro(u,a))}return{c(){e=fe("div");for(let l=0;l<n.length;l+=1)n[l].c();this.h()},l(l){e=ce(l,"DIV",{class:!0});var a=j(e);for(let u=0;u<n.length;u+=1)n[u].l(a);a.forEach(N),this.h()},h(){E(e,"class","svelte-flow__nodes svelte-tf4uy4")},m(l,a){Q(l,e,a);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(e,null);o=!0},p(l,[a]){a&2111&&(r=$t(l[1]),Ke(),n=Ii(n,a,s,1,l,r,i,e,Ai,Ro,null,Lo),Fe())},i(l){if(!o){for(let a=0;a<r.length;a+=1)X(n[a]);o=!0}},o(l){for(let a=0;a<n.length;a+=1)B(n[a]);o=!1},d(l){l&&N(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function Kd(t,e,n){let i,o,r,s,l,{nodeClickDistance:a=0}=e;const{visibleNodes:u,nodesDraggable:f,nodesConnectable:c,elementsSelectable:d,updateNodeInternals:h,parentLookup:m}=Re();U(t,u,Y=>n(1,i=Y)),U(t,f,Y=>n(2,o=Y)),U(t,c,Y=>n(4,s=Y)),U(t,d,Y=>n(3,r=Y)),U(t,m,Y=>n(5,l=Y));const y=typeof ResizeObserver>"u"?null:new ResizeObserver(Y=>{const H=new Map;Y.forEach(W=>{const q=W.target.getAttribute("data-id");H.set(q,{id:q,nodeElement:W.target,force:!0})}),h(H)});dr(()=>{y==null||y.disconnect()});function _(Y){Ce.call(this,t,Y)}function g(Y){Ce.call(this,t,Y)}function v(Y){Ce.call(this,t,Y)}function k(Y){Ce.call(this,t,Y)}function S(Y){Ce.call(this,t,Y)}function I(Y){Ce.call(this,t,Y)}function V(Y){Ce.call(this,t,Y)}function P(Y){Ce.call(this,t,Y)}return t.$$set=Y=>{"nodeClickDistance"in Y&&n(0,a=Y.nodeClickDistance)},[a,i,o,r,s,l,u,f,c,d,m,y,_,g,v,k,S,I,V,P]}class Fd extends ge{constructor(e){super(),me(this,e,Kd,Wd,be,{nodeClickDistance:0})}}const Zd=Fd;function Bo(t){let e,n,i,o,r,s,l,a;var u=t[27];function f(c,d){return{props:{id:c[0],source:c[1],target:c[2],sourceX:c[14],sourceY:c[15],targetX:c[16],targetY:c[17],sourcePosition:c[18],targetPosition:c[19],animated:c[6],selected:c[7],label:c[10],labelStyle:c[11],data:c[3],style:c[4],interactionWidth:c[21],selectable:c[24],deletable:c[8]??!0,type:c[23],sourceHandleId:c[12],targetHandleId:c[13],markerStart:c[26],markerEnd:c[25]}}}return u&&(i=Yn(u,f(t))),{c(){e=Oe("svg"),n=Oe("g"),i&&ie(i.$$.fragment),this.h()},l(c){e=Ie(c,"svg",{});var d=j(e);n=Ie(d,"g",{class:!0,"data-id":!0,"aria-label":!0,role:!0});var h=j(n);i&&se(i.$$.fragment,h),h.forEach(N),d.forEach(N),this.h()},h(){E(n,"class",o=Ve(["svelte-flow__edge",t[22]])),E(n,"data-id",t[0]),E(n,"aria-label",r=t[20]===null?void 0:t[20]?t[20]:`Edge from ${t[1]} to ${t[2]}`),E(n,"role","img"),ae(n,"animated",t[6]),ae(n,"selected",t[7]),ae(n,"selectable",t[24]),de(e,"z-index",t[5])},m(c,d){Q(c,e,d),$(e,n),i&&oe(i,n,null),s=!0,l||(a=[De(n,"click",t[32]),De(n,"contextmenu",t[41]),De(n,"mouseenter",t[42]),De(n,"mouseleave",t[43])],l=!0)},p(c,d){if(d[0]&134217728&&u!==(u=c[27])){if(i){Ke();const h=i;B(h.$$.fragment,1,0,()=>{re(h,1)}),Fe()}u?(i=Yn(u,f(c)),ie(i.$$.fragment),X(i.$$.fragment,1),oe(i,n,null)):i=null}else if(u){const h={};d[0]&1&&(h.id=c[0]),d[0]&2&&(h.source=c[1]),d[0]&4&&(h.target=c[2]),d[0]&16384&&(h.sourceX=c[14]),d[0]&32768&&(h.sourceY=c[15]),d[0]&65536&&(h.targetX=c[16]),d[0]&131072&&(h.targetY=c[17]),d[0]&262144&&(h.sourcePosition=c[18]),d[0]&524288&&(h.targetPosition=c[19]),d[0]&64&&(h.animated=c[6]),d[0]&128&&(h.selected=c[7]),d[0]&1024&&(h.label=c[10]),d[0]&2048&&(h.labelStyle=c[11]),d[0]&8&&(h.data=c[3]),d[0]&16&&(h.style=c[4]),d[0]&2097152&&(h.interactionWidth=c[21]),d[0]&16777216&&(h.selectable=c[24]),d[0]&256&&(h.deletable=c[8]??!0),d[0]&8388608&&(h.type=c[23]),d[0]&4096&&(h.sourceHandleId=c[12]),d[0]&8192&&(h.targetHandleId=c[13]),d[0]&67108864&&(h.markerStart=c[26]),d[0]&33554432&&(h.markerEnd=c[25]),i.$set(h)}(!s||d[0]&4194304&&o!==(o=Ve(["svelte-flow__edge",c[22]])))&&E(n,"class",o),(!s||d[0]&1)&&E(n,"data-id",c[0]),(!s||d[0]&1048582&&r!==(r=c[20]===null?void 0:c[20]?c[20]:`Edge from ${c[1]} to ${c[2]}`))&&E(n,"aria-label",r),(!s||d[0]&4194368)&&ae(n,"animated",c[6]),(!s||d[0]&4194432)&&ae(n,"selected",c[7]),(!s||d[0]&20971520)&&ae(n,"selectable",c[24]),d[0]&32&&de(e,"z-index",c[5])},i(c){s||(i&&X(i.$$.fragment,c),s=!0)},o(c){i&&B(i.$$.fragment,c),s=!1},d(c){c&&N(e),i&&re(i),l=!1,Vt(a)}}}function qd(t){let e,n,i=!t[9]&&Bo(t);return{c(){i&&i.c(),e=Xe()},l(o){i&&i.l(o),e=Xe()},m(o,r){i&&i.m(o,r),Q(o,e,r),n=!0},p(o,r){o[9]?i&&(Ke(),B(i,1,1,()=>{i=null}),Fe()):i?(i.p(o,r),r[0]&512&&X(i,1)):(i=Bo(o),i.c(),X(i,1),i.m(e.parentNode,e))},i(o){n||(X(i),n=!0)},o(o){B(i),n=!1},d(o){o&&N(e),i&&i.d(o)}}}function Ud(t,e,n){let i,o,r,s,l,a,u,f,c,{id:d}=e,{type:h="default"}=e,{source:m=""}=e,{target:y=""}=e,{data:_={}}=e,{style:g=void 0}=e,{zIndex:v=void 0}=e,{animated:k=!1}=e,{selected:S=!1}=e,{selectable:I=void 0}=e,{deletable:V=void 0}=e,{hidden:P=!1}=e,{label:Y=void 0}=e,{labelStyle:H=void 0}=e,{markerStart:W=void 0}=e,{markerEnd:q=void 0}=e,{sourceHandle:K=void 0}=e,{targetHandle:Z=void 0}=e,{sourceX:w}=e,{sourceY:A}=e,{targetX:b}=e,{targetY:C}=e,{sourcePosition:T}=e,{targetPosition:D}=e,{ariaLabel:L=void 0}=e,{interactionWidth:F=void 0}=e,{class:G=""}=e;Vn("svelteflow__edge_id",d);const{edgeLookup:ee,edgeTypes:O,flowId:x,elementsSelectable:te}=Re();U(t,ee,R=>n(44,a=R)),U(t,O,R=>n(40,c=R)),U(t,x,R=>n(39,f=R)),U(t,te,R=>n(38,u=R));const z=xn(),le=al();function ye(R){const Pe=a.get(d);Pe&&(le(d),z("edgeclick",{event:R,edge:Pe}))}function ue(R,Pe){const Se=a.get(d);Se&&z(Pe,{event:R,edge:Se})}const we=R=>{ue(R,"edgecontextmenu")},Ee=R=>{ue(R,"edgemouseenter")},Ae=R=>{ue(R,"edgemouseleave")};return t.$$set=R=>{"id"in R&&n(0,d=R.id),"type"in R&&n(34,h=R.type),"source"in R&&n(1,m=R.source),"target"in R&&n(2,y=R.target),"data"in R&&n(3,_=R.data),"style"in R&&n(4,g=R.style),"zIndex"in R&&n(5,v=R.zIndex),"animated"in R&&n(6,k=R.animated),"selected"in R&&n(7,S=R.selected),"selectable"in R&&n(35,I=R.selectable),"deletable"in R&&n(8,V=R.deletable),"hidden"in R&&n(9,P=R.hidden),"label"in R&&n(10,Y=R.label),"labelStyle"in R&&n(11,H=R.labelStyle),"markerStart"in R&&n(36,W=R.markerStart),"markerEnd"in R&&n(37,q=R.markerEnd),"sourceHandle"in R&&n(12,K=R.sourceHandle),"targetHandle"in R&&n(13,Z=R.targetHandle),"sourceX"in R&&n(14,w=R.sourceX),"sourceY"in R&&n(15,A=R.sourceY),"targetX"in R&&n(16,b=R.targetX),"targetY"in R&&n(17,C=R.targetY),"sourcePosition"in R&&n(18,T=R.sourcePosition),"targetPosition"in R&&n(19,D=R.targetPosition),"ariaLabel"in R&&n(20,L=R.ariaLabel),"interactionWidth"in R&&n(21,F=R.interactionWidth),"class"in R&&n(22,G=R.class)},t.$$.update=()=>{t.$$.dirty[1]&8&&n(23,i=h||"default"),t.$$.dirty[0]&8388608|t.$$.dirty[1]&512&&n(27,o=c[i]||ul),t.$$.dirty[1]&288&&n(26,r=W?`url('#${Di(W,f)}')`:void 0),t.$$.dirty[1]&320&&n(25,s=q?`url('#${Di(q,f)}')`:void 0),t.$$.dirty[1]&144&&n(24,l=I??u)},[d,m,y,_,g,v,k,S,V,P,Y,H,K,Z,w,A,b,C,T,D,L,F,G,i,l,s,r,o,ee,O,x,te,ye,ue,h,I,W,q,u,f,c,we,Ee,Ae]}class Gd extends ge{constructor(e){super(),me(this,e,Ud,qd,cr,{id:0,type:34,source:1,target:2,data:3,style:4,zIndex:5,animated:6,selected:7,selectable:35,deletable:8,hidden:9,label:10,labelStyle:11,markerStart:36,markerEnd:37,sourceHandle:12,targetHandle:13,sourceX:14,sourceY:15,targetX:16,targetY:17,sourcePosition:18,targetPosition:19,ariaLabel:20,interactionWidth:21,class:22},null,[-1,-1])}}const Jd=Gd;function Qd(t,e,n){let{onMount:i=void 0}=e,{onDestroy:o=void 0}=e;return jn(()=>(i==null||i(),o)),t.$$set=r=>{"onMount"in r&&n(0,i=r.onMount),"onDestroy"in r&&n(1,o=r.onDestroy)},[i,o]}class jd extends ge{constructor(e){super(),me(this,e,Qd,null,be,{onMount:0,onDestroy:1})}}const xd=jd;function Wo(t,e,n){const i=t.slice();return i[2]=e[n],i}function Ko(t,e){let n,i,o;const r=[e[2]];let s={};for(let l=0;l<r.length;l+=1)s=Ne(s,r[l]);return i=new ah({props:s}),{key:t,first:null,c(){n=Xe(),ie(i.$$.fragment),this.h()},l(l){n=Xe(),se(i.$$.fragment,l),this.h()},h(){this.first=n},m(l,a){Q(l,n,a),oe(i,l,a),o=!0},p(l,a){e=l;const u=a&1?Ht(r,[dn(e[2])]):{};i.$set(u)},i(l){o||(X(i.$$.fragment,l),o=!0)},o(l){B(i.$$.fragment,l),o=!1},d(l){l&&N(n),re(i,l)}}}function $d(t){let e,n=[],i=new Map,o,r=$t(t[0]);const s=l=>l[2].id;for(let l=0;l<r.length;l+=1){let a=Wo(t,r,l),u=s(a);i.set(u,n[l]=Ko(u,a))}return{c(){e=Oe("defs");for(let l=0;l<n.length;l+=1)n[l].c()},l(l){e=Ie(l,"defs",{});var a=j(e);for(let u=0;u<n.length;u+=1)n[u].l(a);a.forEach(N)},m(l,a){Q(l,e,a);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(e,null);o=!0},p(l,[a]){a&1&&(r=$t(l[0]),Ke(),n=Ii(n,a,s,1,l,r,i,e,Ai,Ko,null,Wo),Fe())},i(l){if(!o){for(let a=0;a<r.length;a+=1)X(n[a]);o=!0}},o(l){for(let a=0;a<n.length;a+=1)B(n[a]);o=!1},d(l){l&&N(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function eh(t,e,n){let i;const{markers:o}=Re();return U(t,o,r=>n(0,i=r)),[i,o]}class th extends ge{constructor(e){super(),me(this,e,eh,$d,be,{})}}const nh=th;function ih(t){let e;return{c(){e=Oe("polyline"),this.h()},l(n){e=Ie(n,"polyline",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,fill:!0,points:!0}),j(e).forEach(N),this.h()},h(){E(e,"stroke",t[6]),E(e,"stroke-linecap","round"),E(e,"stroke-linejoin","round"),E(e,"stroke-width",t[7]),E(e,"fill",t[6]),E(e,"points","-5,-4 0,0 -5,4 -5,-4")},m(n,i){Q(n,e,i)},p(n,i){i&64&&E(e,"stroke",n[6]),i&128&&E(e,"stroke-width",n[7]),i&64&&E(e,"fill",n[6])},d(n){n&&N(e)}}}function oh(t){let e;return{c(){e=Oe("polyline"),this.h()},l(n){e=Ie(n,"polyline",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,fill:!0,points:!0}),j(e).forEach(N),this.h()},h(){E(e,"stroke",t[6]),E(e,"stroke-linecap","round"),E(e,"stroke-linejoin","round"),E(e,"stroke-width",t[7]),E(e,"fill","none"),E(e,"points","-5,-4 0,0 -5,4")},m(n,i){Q(n,e,i)},p(n,i){i&64&&E(e,"stroke",n[6]),i&128&&E(e,"stroke-width",n[7])},d(n){n&&N(e)}}}function rh(t){let e,n,i;function o(l,a){if(l[1]===Un.Arrow)return oh;if(l[1]===Un.ArrowClosed)return ih}let r=o(t),s=r&&r(t);return{c(){e=Oe("marker"),s&&s.c(),this.h()},l(l){e=Ie(l,"marker",{class:!0,id:!0,markerWidth:!0,markerHeight:!0,viewBox:!0,markerUnits:!0,orient:!0,refX:!0,refY:!0});var a=j(e);s&&s.l(a),a.forEach(N),this.h()},h(){E(e,"class","svelte-flow__arrowhead"),E(e,"id",t[0]),E(e,"markerWidth",n=`${t[2]}`),E(e,"markerHeight",i=`${t[3]}`),E(e,"viewBox","-10 -10 20 20"),E(e,"markerUnits",t[4]),E(e,"orient",t[5]),E(e,"refX","0"),E(e,"refY","0")},m(l,a){Q(l,e,a),s&&s.m(e,null)},p(l,[a]){r===(r=o(l))&&s?s.p(l,a):(s&&s.d(1),s=r&&r(l),s&&(s.c(),s.m(e,null))),a&1&&E(e,"id",l[0]),a&4&&n!==(n=`${l[2]}`)&&E(e,"markerWidth",n),a&8&&i!==(i=`${l[3]}`)&&E(e,"markerHeight",i),a&16&&E(e,"markerUnits",l[4]),a&32&&E(e,"orient",l[5])},i:Me,o:Me,d(l){l&&N(e),s&&s.d()}}}function lh(t,e,n){let{id:i}=e,{type:o}=e,{width:r=12.5}=e,{height:s=12.5}=e,{markerUnits:l="strokeWidth"}=e,{orient:a="auto-start-reverse"}=e,{color:u=void 0}=e,{strokeWidth:f=void 0}=e;return t.$$set=c=>{"id"in c&&n(0,i=c.id),"type"in c&&n(1,o=c.type),"width"in c&&n(2,r=c.width),"height"in c&&n(3,s=c.height),"markerUnits"in c&&n(4,l=c.markerUnits),"orient"in c&&n(5,a=c.orient),"color"in c&&n(6,u=c.color),"strokeWidth"in c&&n(7,f=c.strokeWidth)},[i,o,r,s,l,a,u,f]}class sh extends ge{constructor(e){super(),me(this,e,lh,rh,be,{id:0,type:1,width:2,height:3,markerUnits:4,orient:5,color:6,strokeWidth:7})}}const ah=sh;function Fo(t,e,n){const i=t.slice();return i[14]=e[n],i}function Zo(t,e){let n,i,o;return i=new Jd({props:{id:e[14].id,source:e[14].source,target:e[14].target,data:e[14].data,style:e[14].style,animated:e[14].animated,selected:e[14].selected,selectable:e[14].selectable??e[1],deletable:e[14].deletable,hidden:e[14].hidden,label:e[14].label,labelStyle:e[14].labelStyle,markerStart:e[14].markerStart,markerEnd:e[14].markerEnd,sourceHandle:e[14].sourceHandle,targetHandle:e[14].targetHandle,sourceX:e[14].sourceX,sourceY:e[14].sourceY,targetX:e[14].targetX,targetY:e[14].targetY,sourcePosition:e[14].sourcePosition,targetPosition:e[14].targetPosition,ariaLabel:e[14].ariaLabel,interactionWidth:e[14].interactionWidth,class:e[14].class,type:e[14].type||"default",zIndex:e[14].zIndex}}),i.$on("edgeclick",e[7]),i.$on("edgecontextmenu",e[8]),i.$on("edgemouseenter",e[9]),i.$on("edgemouseleave",e[10]),{key:t,first:null,c(){n=Xe(),ie(i.$$.fragment),this.h()},l(r){n=Xe(),se(i.$$.fragment,r),this.h()},h(){this.first=n},m(r,s){Q(r,n,s),oe(i,r,s),o=!0},p(r,s){e=r;const l={};s&1&&(l.id=e[14].id),s&1&&(l.source=e[14].source),s&1&&(l.target=e[14].target),s&1&&(l.data=e[14].data),s&1&&(l.style=e[14].style),s&1&&(l.animated=e[14].animated),s&1&&(l.selected=e[14].selected),s&3&&(l.selectable=e[14].selectable??e[1]),s&1&&(l.deletable=e[14].deletable),s&1&&(l.hidden=e[14].hidden),s&1&&(l.label=e[14].label),s&1&&(l.labelStyle=e[14].labelStyle),s&1&&(l.markerStart=e[14].markerStart),s&1&&(l.markerEnd=e[14].markerEnd),s&1&&(l.sourceHandle=e[14].sourceHandle),s&1&&(l.targetHandle=e[14].targetHandle),s&1&&(l.sourceX=e[14].sourceX),s&1&&(l.sourceY=e[14].sourceY),s&1&&(l.targetX=e[14].targetX),s&1&&(l.targetY=e[14].targetY),s&1&&(l.sourcePosition=e[14].sourcePosition),s&1&&(l.targetPosition=e[14].targetPosition),s&1&&(l.ariaLabel=e[14].ariaLabel),s&1&&(l.interactionWidth=e[14].interactionWidth),s&1&&(l.class=e[14].class),s&1&&(l.type=e[14].type||"default"),s&1&&(l.zIndex=e[14].zIndex),i.$set(l)},i(r){o||(X(i.$$.fragment,r),o=!0)},o(r){B(i.$$.fragment,r),o=!1},d(r){r&&N(n),re(i,r)}}}function qo(t){let e,n;return e=new xd({props:{onMount:t[11],onDestroy:t[12]}}),{c(){ie(e.$$.fragment)},l(i){se(e.$$.fragment,i)},m(i,o){oe(e,i,o),n=!0},p(i,o){const r={};o&4&&(r.onMount=i[11]),o&4&&(r.onDestroy=i[12]),e.$set(r)},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){B(e.$$.fragment,i),n=!1},d(i){re(e,i)}}}function uh(t){let e,n,i,o,r=[],s=new Map,l,a;i=new nh({});let u=$t(t[0]);const f=d=>d[14].id;for(let d=0;d<u.length;d+=1){let h=Fo(t,u,d),m=f(h);s.set(m,r[d]=Zo(m,h))}let c=t[0].length>0&&qo(t);return{c(){e=fe("div"),n=Oe("svg"),ie(i.$$.fragment),o=ke();for(let d=0;d<r.length;d+=1)r[d].c();l=ke(),c&&c.c(),this.h()},l(d){e=ce(d,"DIV",{class:!0});var h=j(e);n=Ie(h,"svg",{class:!0});var m=j(n);se(i.$$.fragment,m),m.forEach(N),o=ve(h);for(let y=0;y<r.length;y+=1)r[y].l(h);l=ve(h),c&&c.l(h),h.forEach(N),this.h()},h(){E(n,"class","svelte-flow__marker"),E(e,"class","svelte-flow__edges")},m(d,h){Q(d,e,h),$(e,n),oe(i,n,null),$(e,o);for(let m=0;m<r.length;m+=1)r[m]&&r[m].m(e,null);$(e,l),c&&c.m(e,null),a=!0},p(d,[h]){h&3&&(u=$t(d[0]),Ke(),r=Ii(r,h,f,1,d,u,s,e,Ai,Zo,l,Fo),Fe()),d[0].length>0?c?(c.p(d,h),h&1&&X(c,1)):(c=qo(d),c.c(),X(c,1),c.m(e,null)):c&&(Ke(),B(c,1,1,()=>{c=null}),Fe())},i(d){if(!a){X(i.$$.fragment,d);for(let h=0;h<u.length;h+=1)X(r[h]);X(c),a=!0}},o(d){B(i.$$.fragment,d);for(let h=0;h<r.length;h+=1)B(r[h]);B(c),a=!1},d(d){d&&N(e),re(i);for(let h=0;h<r.length;h+=1)r[h].d();c&&c.d()}}}function fh(t,e,n){let i,o,r,{defaultEdgeOptions:s}=e;const{visibleEdges:l,edgesInitialized:a,edges:{setDefaultOptions:u},elementsSelectable:f}=Re();U(t,l,g=>n(0,i=g)),U(t,a,g=>n(2,r=g)),U(t,f,g=>n(1,o=g)),jn(()=>{s&&u(s)});function c(g){Ce.call(this,t,g)}function d(g){Ce.call(this,t,g)}function h(g){Ce.call(this,t,g)}function m(g){Ce.call(this,t,g)}const y=()=>{Xn(a,r=!0,r)},_=()=>{Xn(a,r=!1,r)};return t.$$set=g=>{"defaultEdgeOptions"in g&&n(6,s=g.defaultEdgeOptions)},[i,o,r,l,a,f,s,c,d,h,m,y,_]}class ch extends ge{constructor(e){super(),me(this,e,fh,uh,be,{defaultEdgeOptions:6})}}const dh=ch;function Uo(t){let e;return{c(){e=fe("div"),this.h()},l(n){e=ce(n,"DIV",{class:!0}),j(e).forEach(N),this.h()},h(){E(e,"class","svelte-flow__selection svelte-1iugwpu"),de(e,"width",typeof t[2]=="string"?t[2]:`${t[2]}px`),de(e,"height",typeof t[3]=="string"?t[3]:`${t[3]}px`),de(e,"transform",`translate(${t[0]}px, ${t[1]}px)`)},m(n,i){Q(n,e,i)},p(n,i){i&4&&de(e,"width",typeof n[2]=="string"?n[2]:`${n[2]}px`),i&8&&de(e,"height",typeof n[3]=="string"?n[3]:`${n[3]}px`),i&3&&de(e,"transform",`translate(${n[0]}px, ${n[1]}px)`)},d(n){n&&N(e)}}}function hh(t){let e,n=t[4]&&Uo(t);return{c(){n&&n.c(),e=Xe()},l(i){n&&n.l(i),e=Xe()},m(i,o){n&&n.m(i,o),Q(i,e,o)},p(i,[o]){i[4]?n?n.p(i,o):(n=Uo(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:Me,o:Me,d(i){i&&N(e),n&&n.d(i)}}}function gh(t,e,n){let{x:i=0}=e,{y:o=0}=e,{width:r=0}=e,{height:s=0}=e,{isVisible:l=!0}=e;return t.$$set=a=>{"x"in a&&n(0,i=a.x),"y"in a&&n(1,o=a.y),"width"in a&&n(2,r=a.width),"height"in a&&n(3,s=a.height),"isVisible"in a&&n(4,l=a.isVisible)},[i,o,r,s,l]}class mh extends ge{constructor(e){super(),me(this,e,gh,hh,be,{x:0,y:1,width:2,height:3,isVisible:4})}}const hl=mh;function yh(t){var i,o,r,s;let e,n;return e=new hl({props:{isVisible:!!(t[0]&&t[1]==="user"),width:(i=t[0])==null?void 0:i.width,height:(o=t[0])==null?void 0:o.height,x:(r=t[0])==null?void 0:r.x,y:(s=t[0])==null?void 0:s.y}}),{c(){ie(e.$$.fragment)},l(l){se(e.$$.fragment,l)},m(l,a){oe(e,l,a),n=!0},p(l,[a]){var f,c,d,h;const u={};a&3&&(u.isVisible=!!(l[0]&&l[1]==="user")),a&1&&(u.width=(f=l[0])==null?void 0:f.width),a&1&&(u.height=(c=l[0])==null?void 0:c.height),a&1&&(u.x=(d=l[0])==null?void 0:d.x),a&1&&(u.y=(h=l[0])==null?void 0:h.y),e.$set(u)},i(l){n||(X(e.$$.fragment,l),n=!0)},o(l){B(e.$$.fragment,l),n=!1},d(l){re(e,l)}}}function _h(t,e,n){let i,o;const{selectionRect:r,selectionRectMode:s}=Re();return U(t,r,l=>n(0,i=l)),U(t,s,l=>n(1,o=l)),[i,o,r,s]}class bh extends ge{constructor(e){super(),me(this,e,_h,yh,be,{})}}const wh=bh;function Go(t){let e,n,i,o,r;return n=new hl({props:{width:"100%",height:"100%",x:0,y:0}}),{c(){e=fe("div"),ie(n.$$.fragment),this.h()},l(s){e=ce(s,"DIV",{class:!0,style:!0,role:!0,tabindex:!0});var l=j(e);se(n.$$.fragment,l),l.forEach(N),this.h()},h(){E(e,"class","selection-wrapper nopan svelte-5pxri"),de(e,"width",t[1].width+"px"),de(e,"height",t[1].height+"px"),de(e,"transform","translate("+t[1].x+"px, "+t[1].y+"px)"),E(e,"role","button"),E(e,"tabindex","-1")},m(s,l){Q(s,e,l),oe(n,e,null),i=!0,o||(r=[et(dl.call(null,e,{disabled:!1,store:t[2],onDrag:t[11],onDragStart:t[12],onDragStop:t[13]})),De(e,"contextmenu",t[7]),De(e,"click",t[8]),De(e,"keyup",vh)],o=!0)},p(s,l){(!i||l&2)&&de(e,"width",s[1].width+"px"),(!i||l&2)&&de(e,"height",s[1].height+"px"),(!i||l&2)&&de(e,"transform","translate("+s[1].x+"px, "+s[1].y+"px)")},i(s){i||(X(n.$$.fragment,s),i=!0)},o(s){B(n.$$.fragment,s),i=!1},d(s){s&&N(e),re(n),o=!1,Vt(r)}}}function kh(t){let e=t[0]==="nodes"&&t[1]&&Yt(t[1].x)&&Yt(t[1].y),n,i,o=e&&Go(t);return{c(){o&&o.c(),n=Xe()},l(r){o&&o.l(r),n=Xe()},m(r,s){o&&o.m(r,s),Q(r,n,s),i=!0},p(r,[s]){s&3&&(e=r[0]==="nodes"&&r[1]&&Yt(r[1].x)&&Yt(r[1].y)),e?o?(o.p(r,s),s&3&&X(o,1)):(o=Go(r),o.c(),X(o,1),o.m(n.parentNode,n)):o&&(Ke(),B(o,1,1,()=>{o=null}),Fe())},i(r){i||(X(o),i=!0)},o(r){B(o),i=!1},d(r){r&&N(n),o&&o.d(r)}}}const vh=()=>{};function Eh(t,e,n){let i,o,r;const s=Re(),{selectionRectMode:l,nodes:a,nodeLookup:u}=s;U(t,l,g=>n(0,r=g)),U(t,a,g=>n(9,i=g)),U(t,u,g=>n(10,o=g));const f=xn();let c=null;function d(g){const v=i.filter(k=>k.selected);f("selectioncontextmenu",{nodes:v,event:g})}function h(g){const v=i.filter(k=>k.selected);f("selectionclick",{nodes:v,event:g})}const m=(g,v,k,S)=>{f("nodedrag",{event:g,targetNode:null,nodes:S})},y=(g,v,k,S)=>{f("nodedragstart",{event:g,targetNode:null,nodes:S})},_=(g,v,k,S)=>{f("nodedragstop",{event:g,targetNode:null,nodes:S})};return t.$$.update=()=>{t.$$.dirty&1537&&r==="nodes"&&n(1,c=oi(o,{filter:g=>!!g.selected}))},[r,c,s,l,a,u,f,d,h,i,o,m,y,_]}class Sh extends ge{constructor(e){super(),me(this,e,Eh,kh,be,{})}}const ph=Sh;function wt(t,e){let{enabled:n=!0,trigger:i,type:o="keydown"}=e;function r(s){const l=Array.isArray(i)?i:[i],a={alt:s.altKey,ctrl:s.ctrlKey,shift:s.shiftKey,meta:s.metaKey};for(const u of l){const f={modifier:[],preventDefault:!1,enabled:!0,...u},{modifier:c,key:d,callback:h,preventDefault:m,enabled:y}=f;if(y){if(c.length&&!(Array.isArray(c)?c:[c]).map(v=>typeof v=="string"?[v]:v).some(v=>v.every(k=>a[k])))continue;if(s.key===d){m&&s.preventDefault();const _={node:t,trigger:f,originalEvent:s};t.dispatchEvent(new CustomEvent("shortcut",{detail:_})),h==null||h(_)}}}}return n&&t.addEventListener(o,r),{update:s=>{const{enabled:l=!0,type:a="keydown"}=s;n&&(!l||o!==a)?t.removeEventListener(o,r):!n&&l&&t.addEventListener(a,r),n=l,o=a,i=s.trigger},destroy:()=>{t.removeEventListener(o,r)}}}function Ch(t){let e,n,i,o,r,s,l,a,u,f,c,d;return{c:Me,l:Me,m(h,m){c||(d=[et(e=wt.call(null,window,{trigger:Le(t[0],t[11]),type:"keydown"})),et(n=wt.call(null,window,{trigger:Le(t[0],t[12]),type:"keyup"})),et(i=wt.call(null,window,{trigger:Le(t[1],t[13]),type:"keydown"})),et(o=wt.call(null,window,{trigger:Le(t[1],t[14]),type:"keyup"})),et(r=wt.call(null,window,{trigger:Le(t[2],t[15]),type:"keydown"})),et(s=wt.call(null,window,{trigger:Le(t[2],t[16]),type:"keyup"})),et(l=wt.call(null,window,{trigger:Le(t[3],t[17]),type:"keydown"})),et(a=wt.call(null,window,{trigger:Le(t[3],t[18]),type:"keyup"})),et(u=wt.call(null,window,{trigger:Le(t[4],t[19]),type:"keydown"})),et(f=wt.call(null,window,{trigger:Le(t[4],t[20]),type:"keyup"})),De(window,"blur",t[10]),De(window,"contextmenu",t[10])],c=!0)},p(h,[m]){e&&We(e.update)&&m&1&&e.update.call(null,{trigger:Le(h[0],h[11]),type:"keydown"}),n&&We(n.update)&&m&1&&n.update.call(null,{trigger:Le(h[0],h[12]),type:"keyup"}),i&&We(i.update)&&m&2&&i.update.call(null,{trigger:Le(h[1],h[13]),type:"keydown"}),o&&We(o.update)&&m&2&&o.update.call(null,{trigger:Le(h[1],h[14]),type:"keyup"}),r&&We(r.update)&&m&4&&r.update.call(null,{trigger:Le(h[2],h[15]),type:"keydown"}),s&&We(s.update)&&m&4&&s.update.call(null,{trigger:Le(h[2],h[16]),type:"keyup"}),l&&We(l.update)&&m&8&&l.update.call(null,{trigger:Le(h[3],h[17]),type:"keydown"}),a&&We(a.update)&&m&8&&a.update.call(null,{trigger:Le(h[3],h[18]),type:"keyup"}),u&&We(u.update)&&m&16&&u.update.call(null,{trigger:Le(h[4],h[19]),type:"keydown"}),f&&We(f.update)&&m&16&&f.update.call(null,{trigger:Le(h[4],h[20]),type:"keyup"})},i:Me,o:Me,d(h){c=!1,Vt(d)}}}function gl(t){return t!==null&&typeof t=="object"}function Mh(t){return gl(t)?t.modifier||[]:[]}function Ph(t){return t==null?"":gl(t)?t.key:t}function Le(t,e){return(Array.isArray(t)?t:[t]).map(i=>{const o=Ph(i);return{key:o,modifier:Mh(i),enabled:o!==null,callback:e}})}function Nh(t,e,n){let{selectionKey:i="Shift"}=e,{multiSelectionKey:o=Gn()?"Meta":"Control"}=e,{deleteKey:r="Backspace"}=e,{panActivationKey:s=" "}=e,{zoomActivationKey:l=Gn()?"Meta":"Control"}=e;const{selectionKeyPressed:a,multiselectionKeyPressed:u,deleteKeyPressed:f,panActivationKeyPressed:c,zoomActivationKeyPressed:d,selectionRect:h}=Re();function m(){h.set(null),a.set(!1),u.set(!1),f.set(!1),c.set(!1),d.set(!1)}const y=()=>a.set(!0),_=()=>a.set(!1),g=()=>u.set(!0),v=()=>u.set(!1),k=H=>{!(H.originalEvent.ctrlKey||H.originalEvent.metaKey||H.originalEvent.shiftKey)&&!Yf(H.originalEvent)&&f.set(!0)},S=()=>f.set(!1),I=()=>c.set(!0),V=()=>c.set(!1),P=()=>d.set(!0),Y=()=>d.set(!1);return t.$$set=H=>{"selectionKey"in H&&n(0,i=H.selectionKey),"multiSelectionKey"in H&&n(1,o=H.multiSelectionKey),"deleteKey"in H&&n(2,r=H.deleteKey),"panActivationKey"in H&&n(3,s=H.panActivationKey),"zoomActivationKey"in H&&n(4,l=H.zoomActivationKey)},[i,o,r,s,l,a,u,f,c,d,m,y,_,g,v,k,S,I,V,P,Y]}class zh extends ge{constructor(e){super(),me(this,e,Nh,Ch,be,{selectionKey:0,multiSelectionKey:1,deleteKey:2,panActivationKey:3,zoomActivationKey:4})}}const Th=zh,Dh=t=>({}),Jo=t=>({});function Qo(t){let e,n,i,o;const r=t[13].connectionLine,s=nt(r,t,t[12],Jo);let l=!t[2]&&jo(t);return{c(){e=Oe("svg"),n=Oe("g"),s&&s.c(),l&&l.c(),this.h()},l(a){e=Ie(a,"svg",{width:!0,height:!0,class:!0,style:!0});var u=j(e);n=Ie(u,"g",{class:!0});var f=j(n);s&&s.l(f),l&&l.l(f),f.forEach(N),u.forEach(N),this.h()},h(){E(n,"class",i=Ve(["svelte-flow__connection",ko(t[3].isValid)])),E(e,"width",t[5]),E(e,"height",t[6]),E(e,"class","svelte-flow__connectionline"),E(e,"style",t[0])},m(a,u){Q(a,e,u),$(e,n),s&&s.m(n,null),l&&l.m(n,null),o=!0},p(a,u){s&&s.p&&(!o||u&4096)&&it(s,r,a,a[12],o?rt(r,a[12],u,Dh):ot(a[12]),Jo),a[2]?l&&(l.d(1),l=null):l?l.p(a,u):(l=jo(a),l.c(),l.m(n,null)),(!o||u&8&&i!==(i=Ve(["svelte-flow__connection",ko(a[3].isValid)])))&&E(n,"class",i),(!o||u&32)&&E(e,"width",a[5]),(!o||u&64)&&E(e,"height",a[6]),(!o||u&1)&&E(e,"style",a[0])},i(a){o||(X(s,a),o=!0)},o(a){B(s,a),o=!1},d(a){a&&N(e),s&&s.d(a),l&&l.d()}}}function jo(t){let e;return{c(){e=Oe("path"),this.h()},l(n){e=Ie(n,"path",{d:!0,style:!0,fill:!0,class:!0}),j(e).forEach(N),this.h()},h(){E(e,"d",t[4]),E(e,"style",t[1]),E(e,"fill","none"),E(e,"class","svelte-flow__connection-path")},m(n,i){Q(n,e,i)},p(n,i){i&16&&E(e,"d",n[4]),i&2&&E(e,"style",n[1])},d(n){n&&N(e)}}}function Oh(t){let e,n,i=t[3].inProgress&&Qo(t);return{c(){i&&i.c(),e=Xe()},l(o){i&&i.l(o),e=Xe()},m(o,r){i&&i.m(o,r),Q(o,e,r),n=!0},p(o,[r]){o[3].inProgress?i?(i.p(o,r),r&8&&X(i,1)):(i=Qo(o),i.c(),X(i,1),i.m(e.parentNode,e)):i&&(Ke(),B(i,1,1,()=>{i=null}),Fe())},i(o){n||(X(i),n=!0)},o(o){B(i),n=!1},d(o){o&&N(e),i&&i.d(o)}}}function Ih(t,e,n){let i,o,r,s,{$$slots:l={},$$scope:a}=e,{containerStyle:u=""}=e,{style:f=""}=e,{isCustomComponent:c=!1}=e;const{width:d,height:h,connection:m,connectionLineType:y}=Re();U(t,d,g=>n(5,r=g)),U(t,h,g=>n(6,s=g)),U(t,m,g=>n(3,o=g)),U(t,y,g=>n(11,i=g));let _=null;return t.$$set=g=>{"containerStyle"in g&&n(0,u=g.containerStyle),"style"in g&&n(1,f=g.style),"isCustomComponent"in g&&n(2,c=g.isCustomComponent),"$$scope"in g&&n(12,a=g.$$scope)},t.$$.update=()=>{if(t.$$.dirty&2060&&o.inProgress&&!c){const{from:g,to:v,fromPosition:k,toPosition:S}=o,I={sourceX:g.x,sourceY:g.y,sourcePosition:k,targetX:v.x,targetY:v.y,targetPosition:S};switch(i){case jt.Bezier:n(4,[_]=Gr(I),_);break;case jt.Step:n(4,[_]=Jn({...I,borderRadius:0}),_);break;case jt.SmoothStep:n(4,[_]=Jn(I),_);break;default:n(4,[_]=Qr(I),_)}}},[u,f,c,o,_,r,s,d,h,m,y,i,a,l]}class Ah extends ge{constructor(e){super(),me(this,e,Ih,Oh,be,{containerStyle:0,style:1,isCustomComponent:2})}}const Hh=Ah;function Vh(t){let e,n,i;const o=t[8].default,r=nt(o,t,t[7],null);let s=[{class:n=Ve(["svelte-flow__panel",t[1],...t[2]])},{style:t[0]},t[5]],l={};for(let a=0;a<s.length;a+=1)l=Ne(l,s[a]);return{c(){e=fe("div"),r&&r.c(),this.h()},l(a){e=ce(a,"DIV",{class:!0,style:!0});var u=j(e);r&&r.l(u),u.forEach(N),this.h()},h(){xt(e,l),de(e,"pointer-events",t[3]?"none":"")},m(a,u){Q(a,e,u),r&&r.m(e,null),i=!0},p(a,[u]){r&&r.p&&(!i||u&128)&&it(r,o,a,a[7],i?rt(o,a[7],u,null):ot(a[7]),null),xt(e,l=Ht(s,[(!i||u&6&&n!==(n=Ve(["svelte-flow__panel",a[1],...a[2]])))&&{class:n},(!i||u&1)&&{style:a[0]},u&32&&a[5]])),de(e,"pointer-events",a[3]?"none":"")},i(a){i||(X(r,a),i=!0)},o(a){B(r,a),i=!1},d(a){a&&N(e),r&&r.d(a)}}}function Xh(t,e,n){let i;const o=["position","style","class"];let r=Ye(e,o),s,{$$slots:l={},$$scope:a}=e,{position:u="top-right"}=e,{style:f=void 0}=e,{class:c=void 0}=e;const{selectionRectMode:d}=Re();return U(t,d,h=>n(3,s=h)),t.$$set=h=>{e=Ne(Ne({},e),yt(h)),n(5,r=Ye(e,o)),"position"in h&&n(6,u=h.position),"style"in h&&n(0,f=h.style),"class"in h&&n(1,c=h.class),"$$scope"in h&&n(7,a=h.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,i=`${u}`.split("-"))},[f,c,i,s,d,r,u,a,l]}class Yh extends ge{constructor(e){super(),me(this,e,Xh,Vh,be,{position:6,style:0,class:1})}}const ml=Yh;function xo(t){let e,n;return e=new ml({props:{position:t[1],class:"svelte-flow__attribution","data-message":"Feel free to remove the attribution or check out how you could support us: https://svelteflow.dev/support-us",$$slots:{default:[Lh]},$$scope:{ctx:t}}}),{c(){ie(e.$$.fragment)},l(i){se(e.$$.fragment,i)},m(i,o){oe(e,i,o),n=!0},p(i,o){const r={};o&2&&(r.position=i[1]),o&4&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){B(e.$$.fragment,i),n=!1},d(i){re(e,i)}}}function Lh(t){let e,n="Svelte Flow";return{c(){e=fe("a"),e.textContent=n,this.h()},l(i){e=ce(i,"A",{href:!0,target:!0,rel:!0,"aria-label":!0,"data-svelte-h":!0}),bi(e)!=="svelte-2vm8e4"&&(e.textContent=n),this.h()},h(){E(e,"href","https://svelteflow.dev"),E(e,"target","_blank"),E(e,"rel","noopener noreferrer"),E(e,"aria-label","Svelte Flow attribution")},m(i,o){Q(i,e,o)},p:Me,d(i){i&&N(e)}}}function Rh(t){var o;let e,n,i=!((o=t[0])!=null&&o.hideAttribution)&&xo(t);return{c(){i&&i.c(),e=Xe()},l(r){i&&i.l(r),e=Xe()},m(r,s){i&&i.m(r,s),Q(r,e,s),n=!0},p(r,[s]){var l;(l=r[0])!=null&&l.hideAttribution?i&&(Ke(),B(i,1,1,()=>{i=null}),Fe()):i?(i.p(r,s),s&1&&X(i,1)):(i=xo(r),i.c(),X(i,1),i.m(e.parentNode,e))},i(r){n||(X(i),n=!0)},o(r){B(i),n=!1},d(r){r&&N(e),i&&i.d(r)}}}function Bh(t,e,n){let{proOptions:i=void 0}=e,{position:o="bottom-right"}=e;return t.$$set=r=>{"proOptions"in r&&n(0,i=r.proOptions),"position"in r&&n(1,o=r.position)},[i,o]}class Wh extends ge{constructor(e){super(),me(this,e,Bh,Rh,be,{proOptions:0,position:1})}}const Kh=Wh;function $o(t,{nodeTypes:e,edgeTypes:n,minZoom:i,maxZoom:o,translateExtent:r,paneClickDistance:s}){e!==void 0&&t.setNodeTypes(e),n!==void 0&&t.setEdgeTypes(n),i!==void 0&&t.setMinZoom(i),o!==void 0&&t.setMaxZoom(o),r!==void 0&&t.setTranslateExtent(r),s!==void 0&&t.setPaneClickDistance(s)}const Fh=t=>Object.keys(t);function Zh(t,e){Fh(e).forEach(n=>{const i=e[n];i!==void 0&&t[n].set(i)})}function qh(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function Uh(t="light"){return ht("light",n=>{if(t!=="system"){n(t);return}const i=qh(),o=()=>n(i!=null&&i.matches?"dark":"light");return n(i!=null&&i.matches?"dark":"light"),i==null||i.addEventListener("change",o),()=>{i==null||i.removeEventListener("change",o)}})}const Gh=t=>({}),er=t=>({slot:"connectionLine"});function Jh(t){let e;const n=t[75].connectionLine,i=nt(n,t,t[99],er);return{c(){i&&i.c()},l(o){i&&i.l(o)},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r[3]&64)&&it(i,n,o,o[99],e?rt(n,o[99],r,Gh):ot(o[99]),er)},i(o){e||(X(i,o),e=!0)},o(o){B(i,o),e=!1},d(o){i&&i.d(o)}}}function Qh(t){let e,n,i,o,r,s,l,a,u,f,c,d;return e=new dh({props:{defaultEdgeOptions:t[21]}}),e.$on("edgeclick",t[78]),e.$on("edgecontextmenu",t[79]),e.$on("edgemouseenter",t[80]),e.$on("edgemouseleave",t[81]),i=new Hh({props:{containerStyle:t[7],style:t[6],isCustomComponent:t[34].connectionLine,$$slots:{connectionLine:[Jh]},$$scope:{ctx:t}}}),u=new Zd({props:{nodeClickDistance:t[23]}}),u.$on("nodeclick",t[82]),u.$on("nodemouseenter",t[83]),u.$on("nodemousemove",t[84]),u.$on("nodemouseleave",t[85]),u.$on("nodedragstart",t[86]),u.$on("nodedrag",t[87]),u.$on("nodedragstop",t[88]),u.$on("nodecontextmenu",t[89]),c=new ph({}),c.$on("selectionclick",t[90]),c.$on("selectioncontextmenu",t[91]),c.$on("nodedragstart",t[92]),c.$on("nodedrag",t[93]),c.$on("nodedragstop",t[94]),{c(){ie(e.$$.fragment),n=ke(),ie(i.$$.fragment),o=ke(),r=fe("div"),s=ke(),l=fe("div"),a=ke(),ie(u.$$.fragment),f=ke(),ie(c.$$.fragment),this.h()},l(h){se(e.$$.fragment,h),n=ve(h),se(i.$$.fragment,h),o=ve(h),r=ce(h,"DIV",{class:!0}),j(r).forEach(N),s=ve(h),l=ce(h,"DIV",{class:!0}),j(l).forEach(N),a=ve(h),se(u.$$.fragment,h),f=ve(h),se(c.$$.fragment,h),this.h()},h(){E(r,"class","svelte-flow__edgelabel-renderer"),E(l,"class","svelte-flow__viewport-portal")},m(h,m){oe(e,h,m),Q(h,n,m),oe(i,h,m),Q(h,o,m),Q(h,r,m),Q(h,s,m),Q(h,l,m),Q(h,a,m),oe(u,h,m),Q(h,f,m),oe(c,h,m),d=!0},p(h,m){const y={};m[0]&2097152&&(y.defaultEdgeOptions=h[21]),e.$set(y);const _={};m[0]&128&&(_.containerStyle=h[7]),m[0]&64&&(_.style=h[6]),m[1]&8&&(_.isCustomComponent=h[34].connectionLine),m[3]&64&&(_.$$scope={dirty:m,ctx:h}),i.$set(_);const g={};m[0]&8388608&&(g.nodeClickDistance=h[23]),u.$set(g)},i(h){d||(X(e.$$.fragment,h),X(i.$$.fragment,h),X(u.$$.fragment,h),X(c.$$.fragment,h),d=!0)},o(h){B(e.$$.fragment,h),B(i.$$.fragment,h),B(u.$$.fragment,h),B(c.$$.fragment,h),d=!1},d(h){h&&(N(n),N(o),N(r),N(s),N(l),N(a),N(f)),re(e,h),re(i,h),re(u,h),re(c,h)}}}function jh(t){let e,n,i,o;return e=new Hd({props:{$$slots:{default:[Qh]},$$scope:{ctx:t}}}),i=new wh({}),{c(){ie(e.$$.fragment),n=ke(),ie(i.$$.fragment)},l(r){se(e.$$.fragment,r),n=ve(r),se(i.$$.fragment,r)},m(r,s){oe(e,r,s),Q(r,n,s),oe(i,r,s),o=!0},p(r,s){const l={};s[0]&10485952|s[1]&8|s[3]&64&&(l.$$scope={dirty:s,ctx:r}),e.$set(l)},i(r){o||(X(e.$$.fragment,r),X(i.$$.fragment,r),o=!0)},o(r){B(e.$$.fragment,r),B(i.$$.fragment,r),o=!1},d(r){r&&N(n),re(e,r),re(i,r)}}}function xh(t){let e,n;return e=new Dd({props:{panOnDrag:t[17]===void 0?!0:t[17],selectionOnDrag:t[18],$$slots:{default:[jh]},$$scope:{ctx:t}}}),e.$on("paneclick",t[95]),e.$on("panecontextmenu",t[96]),{c(){ie(e.$$.fragment)},l(i){se(e.$$.fragment,i)},m(i,o){oe(e,i,o),n=!0},p(i,o){const r={};o[0]&131072&&(r.panOnDrag=i[17]===void 0?!0:i[17]),o[0]&262144&&(r.selectionOnDrag=i[18]),o[0]&10485952|o[1]&8|o[3]&64&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){B(e.$$.fragment,i),n=!1},d(i){re(e,i)}}}function $h(t){let e,n,i,o,r,s,l,a,u,f,c,d;n=new Th({props:{selectionKey:t[1],deleteKey:t[5],panActivationKey:t[2],multiSelectionKey:t[3],zoomActivationKey:t[4]}}),o=new Pd({props:{initialViewport:t[31],onMoveStart:t[8],onMove:t[9],onMoveEnd:t[10],panOnScrollMode:t[11]===void 0?Et.Free:t[11],preventScrolling:t[12]===void 0?!0:t[12],zoomOnScroll:t[13]===void 0?!0:t[13],zoomOnDoubleClick:t[14]===void 0?!0:t[14],zoomOnPinch:t[15]===void 0?!0:t[15],panOnScroll:t[16]===void 0?!1:t[16],panOnDrag:t[17]===void 0?!0:t[17],paneClickDistance:t[22]===void 0?0:t[22],$$slots:{default:[xh]},$$scope:{ctx:t}}}),s=new Kh({props:{proOptions:t[20],position:t[19]}});const h=t[75].default,m=nt(h,t,t[99],null);let y=[{style:t[24]},{class:a=Ve(["svelte-flow",t[25],t[30]])},{"data-testid":"svelte-flow__wrapper"},t[33],{role:"application"}],_={};for(let g=0;g<y.length;g+=1)_=Ne(_,y[g]);return{c(){e=fe("div"),ie(n.$$.fragment),i=ke(),ie(o.$$.fragment),r=ke(),ie(s.$$.fragment),l=ke(),m&&m.c(),this.h()},l(g){e=ce(g,"DIV",{style:!0,class:!0,"data-testid":!0,role:!0});var v=j(e);se(n.$$.fragment,v),i=ve(v),se(o.$$.fragment,v),r=ve(v),se(s.$$.fragment,v),l=ve(v),m&&m.l(v),v.forEach(N),this.h()},h(){xt(e,_),Rl(()=>t[98].call(e)),ae(e,"svelte-12wlba6",!0)},m(g,v){Q(g,e,v),oe(n,e,null),$(e,i),oe(o,e,null),$(e,r),oe(s,e,null),$(e,l),m&&m.m(e,null),t[97](e),u=Bl(e,t[98].bind(e)),f=!0,c||(d=[De(e,"dragover",t[76]),De(e,"drop",t[77])],c=!0)},p(g,v){const k={};v[0]&2&&(k.selectionKey=g[1]),v[0]&32&&(k.deleteKey=g[5]),v[0]&4&&(k.panActivationKey=g[2]),v[0]&8&&(k.multiSelectionKey=g[3]),v[0]&16&&(k.zoomActivationKey=g[4]),n.$set(k);const S={};v[0]&256&&(S.onMoveStart=g[8]),v[0]&512&&(S.onMove=g[9]),v[0]&1024&&(S.onMoveEnd=g[10]),v[0]&2048&&(S.panOnScrollMode=g[11]===void 0?Et.Free:g[11]),v[0]&4096&&(S.preventScrolling=g[12]===void 0?!0:g[12]),v[0]&8192&&(S.zoomOnScroll=g[13]===void 0?!0:g[13]),v[0]&16384&&(S.zoomOnDoubleClick=g[14]===void 0?!0:g[14]),v[0]&32768&&(S.zoomOnPinch=g[15]===void 0?!0:g[15]),v[0]&65536&&(S.panOnScroll=g[16]===void 0?!1:g[16]),v[0]&131072&&(S.panOnDrag=g[17]===void 0?!0:g[17]),v[0]&4194304&&(S.paneClickDistance=g[22]===void 0?0:g[22]),v[0]&10879168|v[1]&8|v[3]&64&&(S.$$scope={dirty:v,ctx:g}),o.$set(S);const I={};v[0]&1048576&&(I.proOptions=g[20]),v[0]&524288&&(I.position=g[19]),s.$set(I),m&&m.p&&(!f||v[3]&64)&&it(m,h,g,g[99],f?rt(h,g[99],v,null):ot(g[99]),null),xt(e,_=Ht(y,[(!f||v[0]&16777216)&&{style:g[24]},(!f||v[0]&1107296256&&a!==(a=Ve(["svelte-flow",g[25],g[30]])))&&{class:a},{"data-testid":"svelte-flow__wrapper"},v[1]&4&&g[33],{role:"application"}])),ae(e,"svelte-12wlba6",!0)},i(g){f||(X(n.$$.fragment,g),X(o.$$.fragment,g),X(s.$$.fragment,g),X(m,g),f=!0)},o(g){B(n.$$.fragment,g),B(o.$$.fragment,g),B(s.$$.fragment,g),B(m,g),f=!1},d(g){g&&N(e),re(n),re(o),re(s),m&&m.d(g),t[97](null),u(),c=!1,Vt(d)}}}function eg(t,e,n){let i;const o=["id","nodes","edges","fitView","fitViewOptions","minZoom","maxZoom","initialViewport","viewport","nodeTypes","edgeTypes","selectionKey","selectionMode","panActivationKey","multiSelectionKey","zoomActivationKey","nodesDraggable","nodesConnectable","nodeDragThreshold","elementsSelectable","snapGrid","deleteKey","connectionRadius","connectionLineType","connectionMode","connectionLineStyle","connectionLineContainerStyle","onMoveStart","onMove","onMoveEnd","isValidConnection","translateExtent","nodeExtent","onlyRenderVisibleElements","panOnScrollMode","preventScrolling","zoomOnScroll","zoomOnDoubleClick","zoomOnPinch","panOnScroll","panOnDrag","selectionOnDrag","autoPanOnConnect","autoPanOnNodeDrag","onerror","ondelete","onedgecreate","attributionPosition","proOptions","defaultEdgeOptions","width","height","colorMode","onconnect","onconnectstart","onconnectend","onbeforedelete","oninit","nodeOrigin","paneClickDistance","nodeClickDistance","defaultMarkerColor","style","class"];let r=Ye(e,o),s,l,a=Me,u=()=>(a(),a=ji(Y,p=>n(100,l=p)),Y),f,c=Me,d=()=>(c(),c=ji(i,p=>n(30,f=p)),i);t.$$.on_destroy.push(()=>a()),t.$$.on_destroy.push(()=>c());let{$$slots:h={},$$scope:m}=e;const y=Wl(h);let{id:_="1"}=e,{nodes:g}=e,{edges:v}=e,{fitView:k=void 0}=e,{fitViewOptions:S=void 0}=e,{minZoom:I=void 0}=e,{maxZoom:V=void 0}=e,{initialViewport:P=void 0}=e,{viewport:Y=void 0}=e;u();let{nodeTypes:H=void 0}=e,{edgeTypes:W=void 0}=e,{selectionKey:q=void 0}=e,{selectionMode:K=void 0}=e,{panActivationKey:Z=void 0}=e,{multiSelectionKey:w=void 0}=e,{zoomActivationKey:A=void 0}=e,{nodesDraggable:b=void 0}=e,{nodesConnectable:C=void 0}=e,{nodeDragThreshold:T=void 0}=e,{elementsSelectable:D=void 0}=e,{snapGrid:L=void 0}=e,{deleteKey:F=void 0}=e,{connectionRadius:G=void 0}=e,{connectionLineType:ee=void 0}=e,{connectionMode:O=Bt.Strict}=e,{connectionLineStyle:x=""}=e,{connectionLineContainerStyle:te=""}=e,{onMoveStart:z=void 0}=e,{onMove:le=void 0}=e,{onMoveEnd:ye=void 0}=e,{isValidConnection:ue=void 0}=e,{translateExtent:we=void 0}=e,{nodeExtent:Ee=void 0}=e,{onlyRenderVisibleElements:Ae=void 0}=e,{panOnScrollMode:R=Et.Free}=e,{preventScrolling:Pe=!0}=e,{zoomOnScroll:Se=!0}=e,{zoomOnDoubleClick:Je=!0}=e,{zoomOnPinch:Qe=!0}=e,{panOnScroll:Ze=!1}=e,{panOnDrag:lt=!0}=e,{selectionOnDrag:ut=void 0}=e,{autoPanOnConnect:ft=!0}=e,{autoPanOnNodeDrag:qe=!0}=e,{onerror:st=void 0}=e,{ondelete:He=void 0}=e,{onedgecreate:pe=void 0}=e,{attributionPosition:_e=void 0}=e,{proOptions:Be=void 0}=e,{defaultEdgeOptions:M=void 0}=e,{width:Ue=void 0}=e,{height:Te=void 0}=e,{colorMode:ze="light"}=e,{onconnect:pt=void 0}=e,{onconnectstart:Ct=void 0}=e,{onconnectend:Mt=void 0}=e,{onbeforedelete:ct=void 0}=e,{oninit:dt=void 0}=e,{nodeOrigin:bt=void 0}=e,{paneClickDistance:Pt=0}=e,{nodeClickDistance:Nt=0}=e,{defaultMarkerColor:Ft="#b1b1b7"}=e,{style:ln=void 0}=e,{class:sn=void 0}=e,Sn,Zt,qt;const yl=l||P,Ge=Kl(Ji)?Re():Ed({nodes:J(g),edges:J(v),width:Ue,height:Te,fitView:k,nodeOrigin:bt,nodeExtent:Ee});jn(()=>(Ge.width.set(Zt),Ge.height.set(qt),Ge.domNode.set(Sn),Ge.syncNodeStores(g),Ge.syncEdgeStores(v),Ge.syncViewport(Y),k!==void 0&&Ge.fitViewOnInit.set(k),S&&Ge.fitViewOptions.set(S),$o(Ge,{nodeTypes:H,edgeTypes:W,minZoom:I,maxZoom:V,translateExtent:we,paneClickDistance:Pt}),()=>{Ge.reset()}));const{initialized:Qi}=Ge;U(t,Qi,p=>n(74,s=p));let ui=!1;function _l(p){Ce.call(this,t,p)}function bl(p){Ce.call(this,t,p)}function wl(p){Ce.call(this,t,p)}function kl(p){Ce.call(this,t,p)}function vl(p){Ce.call(this,t,p)}function El(p){Ce.call(this,t,p)}function Sl(p){Ce.call(this,t,p)}function pl(p){Ce.call(this,t,p)}function Cl(p){Ce.call(this,t,p)}function Ml(p){Ce.call(this,t,p)}function Pl(p){Ce.call(this,t,p)}function Nl(p){Ce.call(this,t,p)}function zl(p){Ce.call(this,t,p)}function Tl(p){Ce.call(this,t,p)}function Dl(p){Ce.call(this,t,p)}function Ol(p){Ce.call(this,t,p)}function Il(p){Ce.call(this,t,p)}function Al(p){Ce.call(this,t,p)}function Hl(p){Ce.call(this,t,p)}function Vl(p){Ce.call(this,t,p)}function Xl(p){Ce.call(this,t,p)}function Yl(p){Oi[p?"unshift":"push"](()=>{Sn=p,n(28,Sn)})}function Ll(){Zt=this.clientWidth,qt=this.clientHeight,n(26,Zt),n(27,qt)}return t.$$set=p=>{e=Ne(Ne({},e),yt(p)),n(33,r=Ye(e,o)),"id"in p&&n(35,_=p.id),"nodes"in p&&n(36,g=p.nodes),"edges"in p&&n(37,v=p.edges),"fitView"in p&&n(38,k=p.fitView),"fitViewOptions"in p&&n(39,S=p.fitViewOptions),"minZoom"in p&&n(40,I=p.minZoom),"maxZoom"in p&&n(41,V=p.maxZoom),"initialViewport"in p&&n(42,P=p.initialViewport),"viewport"in p&&u(n(0,Y=p.viewport)),"nodeTypes"in p&&n(43,H=p.nodeTypes),"edgeTypes"in p&&n(44,W=p.edgeTypes),"selectionKey"in p&&n(1,q=p.selectionKey),"selectionMode"in p&&n(45,K=p.selectionMode),"panActivationKey"in p&&n(2,Z=p.panActivationKey),"multiSelectionKey"in p&&n(3,w=p.multiSelectionKey),"zoomActivationKey"in p&&n(4,A=p.zoomActivationKey),"nodesDraggable"in p&&n(46,b=p.nodesDraggable),"nodesConnectable"in p&&n(47,C=p.nodesConnectable),"nodeDragThreshold"in p&&n(48,T=p.nodeDragThreshold),"elementsSelectable"in p&&n(49,D=p.elementsSelectable),"snapGrid"in p&&n(50,L=p.snapGrid),"deleteKey"in p&&n(5,F=p.deleteKey),"connectionRadius"in p&&n(51,G=p.connectionRadius),"connectionLineType"in p&&n(52,ee=p.connectionLineType),"connectionMode"in p&&n(53,O=p.connectionMode),"connectionLineStyle"in p&&n(6,x=p.connectionLineStyle),"connectionLineContainerStyle"in p&&n(7,te=p.connectionLineContainerStyle),"onMoveStart"in p&&n(8,z=p.onMoveStart),"onMove"in p&&n(9,le=p.onMove),"onMoveEnd"in p&&n(10,ye=p.onMoveEnd),"isValidConnection"in p&&n(54,ue=p.isValidConnection),"translateExtent"in p&&n(55,we=p.translateExtent),"nodeExtent"in p&&n(56,Ee=p.nodeExtent),"onlyRenderVisibleElements"in p&&n(57,Ae=p.onlyRenderVisibleElements),"panOnScrollMode"in p&&n(11,R=p.panOnScrollMode),"preventScrolling"in p&&n(12,Pe=p.preventScrolling),"zoomOnScroll"in p&&n(13,Se=p.zoomOnScroll),"zoomOnDoubleClick"in p&&n(14,Je=p.zoomOnDoubleClick),"zoomOnPinch"in p&&n(15,Qe=p.zoomOnPinch),"panOnScroll"in p&&n(16,Ze=p.panOnScroll),"panOnDrag"in p&&n(17,lt=p.panOnDrag),"selectionOnDrag"in p&&n(18,ut=p.selectionOnDrag),"autoPanOnConnect"in p&&n(58,ft=p.autoPanOnConnect),"autoPanOnNodeDrag"in p&&n(59,qe=p.autoPanOnNodeDrag),"onerror"in p&&n(60,st=p.onerror),"ondelete"in p&&n(61,He=p.ondelete),"onedgecreate"in p&&n(62,pe=p.onedgecreate),"attributionPosition"in p&&n(19,_e=p.attributionPosition),"proOptions"in p&&n(20,Be=p.proOptions),"defaultEdgeOptions"in p&&n(21,M=p.defaultEdgeOptions),"width"in p&&n(63,Ue=p.width),"height"in p&&n(64,Te=p.height),"colorMode"in p&&n(65,ze=p.colorMode),"onconnect"in p&&n(66,pt=p.onconnect),"onconnectstart"in p&&n(67,Ct=p.onconnectstart),"onconnectend"in p&&n(68,Mt=p.onconnectend),"onbeforedelete"in p&&n(69,ct=p.onbeforedelete),"oninit"in p&&n(70,dt=p.oninit),"nodeOrigin"in p&&n(71,bt=p.nodeOrigin),"paneClickDistance"in p&&n(22,Pt=p.paneClickDistance),"nodeClickDistance"in p&&n(23,Nt=p.nodeClickDistance),"defaultMarkerColor"in p&&n(72,Ft=p.defaultMarkerColor),"style"in p&&n(24,ln=p.style),"class"in p&&n(25,sn=p.class),"$$scope"in p&&n(99,m=p.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&201326592&&Zt!==void 0&&qt!==void 0&&(Ge.width.set(Zt),Ge.height.set(qt)),t.$$.dirty[2]&6400&&!ui&&s&&(dt==null||dt(),n(73,ui=!0)),t.$$.dirty[1]&2097135632|t.$$.dirty[2]&1777&&Zh(Ge,{flowId:_,connectionLineType:ee,connectionRadius:G,selectionMode:K,snapGrid:L,defaultMarkerColor:Ft,nodesDraggable:b,nodesConnectable:C,elementsSelectable:D,onlyRenderVisibleElements:Ae,isValidConnection:ue,autoPanOnConnect:ft,autoPanOnNodeDrag:qe,onerror:st,ondelete:He,onedgecreate:pe,connectionMode:O,nodeDragThreshold:T,onconnect:pt,onconnectstart:Ct,onconnectend:Mt,onbeforedelete:ct,nodeOrigin:bt}),t.$$.dirty[0]&4194304|t.$$.dirty[1]&16791040&&$o(Ge,{nodeTypes:H,edgeTypes:W,minZoom:I,maxZoom:V,translateExtent:we,paneClickDistance:Pt}),t.$$.dirty[2]&8&&d(n(29,i=Uh(ze)))},[Y,q,Z,w,A,F,x,te,z,le,ye,R,Pe,Se,Je,Qe,Ze,lt,ut,_e,Be,M,Pt,Nt,ln,sn,Zt,qt,Sn,i,f,yl,Qi,r,y,_,g,v,k,S,I,V,P,H,W,K,b,C,T,D,L,G,ee,O,ue,we,Ee,Ae,ft,qe,st,He,pe,Ue,Te,ze,pt,Ct,Mt,ct,dt,bt,Ft,ui,s,h,_l,bl,wl,kl,vl,El,Sl,pl,Cl,Ml,Pl,Nl,zl,Tl,Dl,Ol,Il,Al,Hl,Vl,Xl,Yl,Ll,m]}class tg extends ge{constructor(e){super(),me(this,e,eg,$h,be,{id:35,nodes:36,edges:37,fitView:38,fitViewOptions:39,minZoom:40,maxZoom:41,initialViewport:42,viewport:0,nodeTypes:43,edgeTypes:44,selectionKey:1,selectionMode:45,panActivationKey:2,multiSelectionKey:3,zoomActivationKey:4,nodesDraggable:46,nodesConnectable:47,nodeDragThreshold:48,elementsSelectable:49,snapGrid:50,deleteKey:5,connectionRadius:51,connectionLineType:52,connectionMode:53,connectionLineStyle:6,connectionLineContainerStyle:7,onMoveStart:8,onMove:9,onMoveEnd:10,isValidConnection:54,translateExtent:55,nodeExtent:56,onlyRenderVisibleElements:57,panOnScrollMode:11,preventScrolling:12,zoomOnScroll:13,zoomOnDoubleClick:14,zoomOnPinch:15,panOnScroll:16,panOnDrag:17,selectionOnDrag:18,autoPanOnConnect:58,autoPanOnNodeDrag:59,onerror:60,ondelete:61,onedgecreate:62,attributionPosition:19,proOptions:20,defaultEdgeOptions:21,width:63,height:64,colorMode:65,onconnect:66,onconnectstart:67,onconnectend:68,onbeforedelete:69,oninit:70,nodeOrigin:71,paneClickDistance:22,nodeClickDistance:23,defaultMarkerColor:72,style:24,class:25},null,[-1,-1,-1,-1])}}const ng=tg,ig=t=>({}),tr=t=>({class:"button-svg"});function og(t){let e,n,i,o,r;const s=t[8].default,l=nt(s,t,t[7],tr);let a=[{type:"button"},{class:n=Ve(["svelte-flow__controls-button",t[0]])},t[6]],u={};for(let f=0;f<a.length;f+=1)u=Ne(u,a[f]);return{c(){e=fe("button"),l&&l.c(),this.h()},l(f){e=ce(f,"BUTTON",{type:!0,class:!0});var c=j(e);l&&l.l(c),c.forEach(N),this.h()},h(){xt(e,u),de(e,"--xy-controls-button-background-color-props",t[1]),de(e,"--xy-controls-button-background-color-hover-props",t[2]),de(e,"--xy-controls-button-color-props",t[3]),de(e,"--xy-controls-button-color-hover-props",t[4]),de(e,"--xy-controls-button-border-color-props",t[5])},m(f,c){Q(f,e,c),l&&l.m(e,null),e.autofocus&&e.focus(),i=!0,o||(r=De(e,"click",t[9]),o=!0)},p(f,[c]){l&&l.p&&(!i||c&128)&&it(l,s,f,f[7],i?rt(s,f[7],c,ig):ot(f[7]),tr),xt(e,u=Ht(a,[{type:"button"},(!i||c&1&&n!==(n=Ve(["svelte-flow__controls-button",f[0]])))&&{class:n},c&64&&f[6]])),de(e,"--xy-controls-button-background-color-props",f[1]),de(e,"--xy-controls-button-background-color-hover-props",f[2]),de(e,"--xy-controls-button-color-props",f[3]),de(e,"--xy-controls-button-color-hover-props",f[4]),de(e,"--xy-controls-button-border-color-props",f[5])},i(f){i||(X(l,f),i=!0)},o(f){B(l,f),i=!1},d(f){f&&N(e),l&&l.d(f),o=!1,r()}}}function rg(t,e,n){const i=["class","bgColor","bgColorHover","color","colorHover","borderColor"];let o=Ye(e,i),{$$slots:r={},$$scope:s}=e,{class:l=void 0}=e,{bgColor:a=void 0}=e,{bgColorHover:u=void 0}=e,{color:f=void 0}=e,{colorHover:c=void 0}=e,{borderColor:d=void 0}=e;function h(m){Ce.call(this,t,m)}return t.$$set=m=>{e=Ne(Ne({},e),yt(m)),n(6,o=Ye(e,i)),"class"in m&&n(0,l=m.class),"bgColor"in m&&n(1,a=m.bgColor),"bgColorHover"in m&&n(2,u=m.bgColorHover),"color"in m&&n(3,f=m.color),"colorHover"in m&&n(4,c=m.colorHover),"borderColor"in m&&n(5,d=m.borderColor),"$$scope"in m&&n(7,s=m.$$scope)},[l,a,u,f,c,d,o,s,r,h]}class lg extends ge{constructor(e){super(),me(this,e,rg,og,be,{class:0,bgColor:1,bgColorHover:2,color:3,colorHover:4,borderColor:5})}}const Qn=lg;function sg(t){let e,n;return{c(){e=Oe("svg"),n=Oe("path"),this.h()},l(i){e=Ie(i,"svg",{xmlns:!0,viewBox:!0});var o=j(e);n=Ie(o,"path",{d:!0}),j(n).forEach(N),o.forEach(N),this.h()},h(){E(n,"d","M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"),E(e,"xmlns","http://www.w3.org/2000/svg"),E(e,"viewBox","0 0 32 32")},m(i,o){Q(i,e,o),$(e,n)},p:Me,i:Me,o:Me,d(i){i&&N(e)}}}class ag extends ge{constructor(e){super(),me(this,e,null,sg,be,{})}}const ug=ag;function fg(t){let e,n;return{c(){e=Oe("svg"),n=Oe("path"),this.h()},l(i){e=Ie(i,"svg",{xmlns:!0,viewBox:!0});var o=j(e);n=Ie(o,"path",{d:!0}),j(n).forEach(N),o.forEach(N),this.h()},h(){E(n,"d","M0 0h32v4.2H0z"),E(e,"xmlns","http://www.w3.org/2000/svg"),E(e,"viewBox","0 0 32 5")},m(i,o){Q(i,e,o),$(e,n)},p:Me,i:Me,o:Me,d(i){i&&N(e)}}}class cg extends ge{constructor(e){super(),me(this,e,null,fg,be,{})}}const dg=cg;function hg(t){let e,n;return{c(){e=Oe("svg"),n=Oe("path"),this.h()},l(i){e=Ie(i,"svg",{xmlns:!0,viewBox:!0});var o=j(e);n=Ie(o,"path",{d:!0}),j(n).forEach(N),o.forEach(N),this.h()},h(){E(n,"d","M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"),E(e,"xmlns","http://www.w3.org/2000/svg"),E(e,"viewBox","0 0 32 30")},m(i,o){Q(i,e,o),$(e,n)},p:Me,i:Me,o:Me,d(i){i&&N(e)}}}class gg extends ge{constructor(e){super(),me(this,e,null,hg,be,{})}}const mg=gg;function yg(t){let e,n;return{c(){e=Oe("svg"),n=Oe("path"),this.h()},l(i){e=Ie(i,"svg",{xmlns:!0,viewBox:!0});var o=j(e);n=Ie(o,"path",{d:!0}),j(n).forEach(N),o.forEach(N),this.h()},h(){E(n,"d","M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"),E(e,"xmlns","http://www.w3.org/2000/svg"),E(e,"viewBox","0 0 25 32")},m(i,o){Q(i,e,o),$(e,n)},p:Me,i:Me,o:Me,d(i){i&&N(e)}}}class _g extends ge{constructor(e){super(),me(this,e,null,yg,be,{})}}const bg=_g;function wg(t){let e,n;return{c(){e=Oe("svg"),n=Oe("path"),this.h()},l(i){e=Ie(i,"svg",{xmlns:!0,viewBox:!0});var o=j(e);n=Ie(o,"path",{d:!0}),j(n).forEach(N),o.forEach(N),this.h()},h(){E(n,"d","M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"),E(e,"xmlns","http://www.w3.org/2000/svg"),E(e,"viewBox","0 0 25 32")},m(i,o){Q(i,e,o),$(e,n)},p:Me,i:Me,o:Me,d(i){i&&N(e)}}}class kg extends ge{constructor(e){super(),me(this,e,null,wg,be,{})}}const vg=kg,Eg=t=>({}),nr=t=>({}),Sg=t=>({}),ir=t=>({});function or(t){let e,n,i,o;const r=[{class:"svelte-flow__controls-zoomin"},{title:"zoom in"},{"aria-label":"zoom in"},{disabled:t[9]},t[17]];let s={$$slots:{default:[pg]},$$scope:{ctx:t}};for(let u=0;u<r.length;u+=1)s=Ne(s,r[u]);e=new Qn({props:s}),e.$on("click",t[18]);const l=[{class:"svelte-flow__controls-zoomout"},{title:"zoom out"},{"aria-label":"zoom out"},{disabled:t[10]},t[17]];let a={$$slots:{default:[Cg]},$$scope:{ctx:t}};for(let u=0;u<l.length;u+=1)a=Ne(a,l[u]);return i=new Qn({props:a}),i.$on("click",t[19]),{c(){ie(e.$$.fragment),n=ke(),ie(i.$$.fragment)},l(u){se(e.$$.fragment,u),n=ve(u),se(i.$$.fragment,u)},m(u,f){oe(e,u,f),Q(u,n,f),oe(i,u,f),o=!0},p(u,f){const c=f[0]&131584?Ht(r,[r[0],r[1],r[2],f[0]&512&&{disabled:u[9]},f[0]&131072&&dn(u[17])]):{};f[1]&32&&(c.$$scope={dirty:f,ctx:u}),e.$set(c);const d=f[0]&132096?Ht(l,[l[0],l[1],l[2],f[0]&1024&&{disabled:u[10]},f[0]&131072&&dn(u[17])]):{};f[1]&32&&(d.$$scope={dirty:f,ctx:u}),i.$set(d)},i(u){o||(X(e.$$.fragment,u),X(i.$$.fragment,u),o=!0)},o(u){B(e.$$.fragment,u),B(i.$$.fragment,u),o=!1},d(u){u&&N(n),re(e,u),re(i,u)}}}function pg(t){let e,n;return e=new ug({}),{c(){ie(e.$$.fragment)},l(i){se(e.$$.fragment,i)},m(i,o){oe(e,i,o),n=!0},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){B(e.$$.fragment,i),n=!1},d(i){re(e,i)}}}function Cg(t){let e,n;return e=new dg({}),{c(){ie(e.$$.fragment)},l(i){se(e.$$.fragment,i)},m(i,o){oe(e,i,o),n=!0},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){B(e.$$.fragment,i),n=!1},d(i){re(e,i)}}}function rr(t){let e,n;const i=[{class:"svelte-flow__controls-fitview"},{title:"fit view"},{"aria-label":"fit view"},t[17]];let o={$$slots:{default:[Mg]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=Ne(o,i[r]);return e=new Qn({props:o}),e.$on("click",t[20]),{c(){ie(e.$$.fragment)},l(r){se(e.$$.fragment,r)},m(r,s){oe(e,r,s),n=!0},p(r,s){const l=s[0]&131072?Ht(i,[i[0],i[1],i[2],dn(r[17])]):{};s[1]&32&&(l.$$scope={dirty:s,ctx:r}),e.$set(l)},i(r){n||(X(e.$$.fragment,r),n=!0)},o(r){B(e.$$.fragment,r),n=!1},d(r){re(e,r)}}}function Mg(t){let e,n;return e=new mg({}),{c(){ie(e.$$.fragment)},l(i){se(e.$$.fragment,i)},m(i,o){oe(e,i,o),n=!0},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){B(e.$$.fragment,i),n=!1},d(i){re(e,i)}}}function lr(t){let e,n;const i=[{class:"svelte-flow__controls-interactive"},{title:"toggle interactivity"},{"aria-label":"toggle interactivity"},t[17]];let o={$$slots:{default:[zg]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=Ne(o,i[r]);return e=new Qn({props:o}),e.$on("click",t[21]),{c(){ie(e.$$.fragment)},l(r){se(e.$$.fragment,r)},m(r,s){oe(e,r,s),n=!0},p(r,s){const l=s[0]&131072?Ht(i,[i[0],i[1],i[2],dn(r[17])]):{};s[0]&256|s[1]&32&&(l.$$scope={dirty:s,ctx:r}),e.$set(l)},i(r){n||(X(e.$$.fragment,r),n=!0)},o(r){B(e.$$.fragment,r),n=!1},d(r){re(e,r)}}}function Pg(t){let e,n;return e=new bg({}),{c(){ie(e.$$.fragment)},l(i){se(e.$$.fragment,i)},m(i,o){oe(e,i,o),n=!0},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){B(e.$$.fragment,i),n=!1},d(i){re(e,i)}}}function Ng(t){let e,n;return e=new vg({}),{c(){ie(e.$$.fragment)},l(i){se(e.$$.fragment,i)},m(i,o){oe(e,i,o),n=!0},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){B(e.$$.fragment,i),n=!1},d(i){re(e,i)}}}function zg(t){let e,n,i,o;const r=[Ng,Pg],s=[];function l(a,u){return a[8]?0:1}return e=l(t),n=s[e]=r[e](t),{c(){n.c(),i=Xe()},l(a){n.l(a),i=Xe()},m(a,u){s[e].m(a,u),Q(a,i,u),o=!0},p(a,u){let f=e;e=l(a),e!==f&&(Ke(),B(s[f],1,1,()=>{s[f]=null}),Fe(),n=s[e],n||(n=s[e]=r[e](a),n.c()),X(n,1),n.m(i.parentNode,i))},i(a){o||(X(n),o=!0)},o(a){B(n),o=!1},d(a){a&&N(i),s[e].d(a)}}}function Tg(t){let e,n,i,o,r,s;const l=t[35].before,a=nt(l,t,t[36],ir);let u=t[1]&&or(t),f=t[2]&&rr(t),c=t[3]&&lr(t);const d=t[35].default,h=nt(d,t,t[36],null),m=t[35].after,y=nt(m,t,t[36],nr);return{c(){a&&a.c(),e=ke(),u&&u.c(),n=ke(),f&&f.c(),i=ke(),c&&c.c(),o=ke(),h&&h.c(),r=ke(),y&&y.c()},l(_){a&&a.l(_),e=ve(_),u&&u.l(_),n=ve(_),f&&f.l(_),i=ve(_),c&&c.l(_),o=ve(_),h&&h.l(_),r=ve(_),y&&y.l(_)},m(_,g){a&&a.m(_,g),Q(_,e,g),u&&u.m(_,g),Q(_,n,g),f&&f.m(_,g),Q(_,i,g),c&&c.m(_,g),Q(_,o,g),h&&h.m(_,g),Q(_,r,g),y&&y.m(_,g),s=!0},p(_,g){a&&a.p&&(!s||g[1]&32)&&it(a,l,_,_[36],s?rt(l,_[36],g,Sg):ot(_[36]),ir),_[1]?u?(u.p(_,g),g[0]&2&&X(u,1)):(u=or(_),u.c(),X(u,1),u.m(n.parentNode,n)):u&&(Ke(),B(u,1,1,()=>{u=null}),Fe()),_[2]?f?(f.p(_,g),g[0]&4&&X(f,1)):(f=rr(_),f.c(),X(f,1),f.m(i.parentNode,i)):f&&(Ke(),B(f,1,1,()=>{f=null}),Fe()),_[3]?c?(c.p(_,g),g[0]&8&&X(c,1)):(c=lr(_),c.c(),X(c,1),c.m(o.parentNode,o)):c&&(Ke(),B(c,1,1,()=>{c=null}),Fe()),h&&h.p&&(!s||g[1]&32)&&it(h,d,_,_[36],s?rt(d,_[36],g,null):ot(_[36]),null),y&&y.p&&(!s||g[1]&32)&&it(y,m,_,_[36],s?rt(m,_[36],g,Eg):ot(_[36]),nr)},i(_){s||(X(a,_),X(u),X(f),X(c),X(h,_),X(y,_),s=!0)},o(_){B(a,_),B(u),B(f),B(c),B(h,_),B(y,_),s=!1},d(_){_&&(N(e),N(n),N(i),N(o),N(r)),a&&a.d(_),u&&u.d(_),f&&f.d(_),c&&c.d(_),h&&h.d(_),y&&y.d(_)}}}function Dg(t){let e,n;return e=new ml({props:{class:Ve(["svelte-flow__controls",t[7],t[6]]),position:t[0],"data-testid":"svelte-flow__controls","aria-label":t[4]??"Svelte Flow controls",style:t[5],$$slots:{default:[Tg]},$$scope:{ctx:t}}}),{c(){ie(e.$$.fragment)},l(i){se(e.$$.fragment,i)},m(i,o){oe(e,i,o),n=!0},p(i,o){const r={};o[0]&192&&(r.class=Ve(["svelte-flow__controls",i[7],i[6]])),o[0]&1&&(r.position=i[0]),o[0]&16&&(r["aria-label"]=i[4]??"Svelte Flow controls"),o[0]&32&&(r.style=i[5]),o[0]&1806|o[1]&32&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){B(e.$$.fragment,i),n=!1},d(i){re(e,i)}}}function Og(t,e,n){let i,o,r,s,l,a,u,f,c,d,{$$slots:h={},$$scope:m}=e,{position:y="bottom-left"}=e,{showZoom:_=!0}=e,{showFitView:g=!0}=e,{showLock:v=!0}=e,{buttonBgColor:k=void 0}=e,{buttonBgColorHover:S=void 0}=e,{buttonColor:I=void 0}=e,{buttonColorHover:V=void 0}=e,{buttonBorderColor:P=void 0}=e,{ariaLabel:Y=void 0}=e,{style:H=void 0}=e,{orientation:W="vertical"}=e,{fitViewOptions:q=void 0}=e,{class:K=""}=e;const{zoomIn:Z,zoomOut:w,fitView:A,viewport:b,minZoom:C,maxZoom:T,nodesDraggable:D,nodesConnectable:L,elementsSelectable:F}=Re();U(t,b,z=>n(30,a=z)),U(t,C,z=>n(31,u=z)),U(t,T,z=>n(29,l=z)),U(t,D,z=>n(34,d=z)),U(t,L,z=>n(33,c=z)),U(t,F,z=>n(32,f=z));const G={bgColor:k,bgColorHover:S,color:I,colorHover:V,borderColor:P},ee=()=>{Z()},O=()=>{w()},x=()=>{A(q)},te=()=>{n(8,i=!i),D.set(i),L.set(i),F.set(i)};return t.$$set=z=>{"position"in z&&n(0,y=z.position),"showZoom"in z&&n(1,_=z.showZoom),"showFitView"in z&&n(2,g=z.showFitView),"showLock"in z&&n(3,v=z.showLock),"buttonBgColor"in z&&n(22,k=z.buttonBgColor),"buttonBgColorHover"in z&&n(23,S=z.buttonBgColorHover),"buttonColor"in z&&n(24,I=z.buttonColor),"buttonColorHover"in z&&n(25,V=z.buttonColorHover),"buttonBorderColor"in z&&n(26,P=z.buttonBorderColor),"ariaLabel"in z&&n(4,Y=z.ariaLabel),"style"in z&&n(5,H=z.style),"orientation"in z&&n(27,W=z.orientation),"fitViewOptions"in z&&n(28,q=z.fitViewOptions),"class"in z&&n(6,K=z.class),"$$scope"in z&&n(36,m=z.$$scope)},t.$$.update=()=>{t.$$.dirty[1]&14&&n(8,i=d||c||f),t.$$.dirty[0]&1073741824|t.$$.dirty[1]&1&&n(10,o=a.zoom<=u),t.$$.dirty[0]&1610612736&&n(9,r=a.zoom>=l),t.$$.dirty[0]&134217728&&n(7,s=W==="horizontal"?"horizontal":"vertical")},[y,_,g,v,Y,H,K,s,i,r,o,b,C,T,D,L,F,G,ee,O,x,te,k,S,I,V,P,W,q,l,a,u,f,c,d,h,m]}class Ig extends ge{constructor(e){super(),me(this,e,Og,Dg,be,{position:0,showZoom:1,showFitView:2,showLock:3,buttonBgColor:22,buttonBgColorHover:23,buttonColor:24,buttonColorHover:25,buttonBorderColor:26,ariaLabel:4,style:5,orientation:27,fitViewOptions:28,class:6},null,[-1,-1])}}const Ag=Ig;var At;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(At||(At={}));function Hg(t){let e,n;return{c(){e=Oe("circle"),this.h()},l(i){e=Ie(i,"circle",{cx:!0,cy:!0,r:!0,class:!0}),j(e).forEach(N),this.h()},h(){E(e,"cx",t[0]),E(e,"cy",t[0]),E(e,"r",t[0]),E(e,"class",n=Ve(["svelte-flow__background-pattern","dots",t[1]]))},m(i,o){Q(i,e,o)},p(i,[o]){o&1&&E(e,"cx",i[0]),o&1&&E(e,"cy",i[0]),o&1&&E(e,"r",i[0]),o&2&&n!==(n=Ve(["svelte-flow__background-pattern","dots",i[1]]))&&E(e,"class",n)},i:Me,o:Me,d(i){i&&N(e)}}}function Vg(t,e,n){let{radius:i=5}=e,{class:o=""}=e;return t.$$set=r=>{"radius"in r&&n(0,i=r.radius),"class"in r&&n(1,o=r.class)},[i,o]}class Xg extends ge{constructor(e){super(),me(this,e,Vg,Hg,be,{radius:0,class:1})}}const Yg=Xg;function Lg(t){let e,n,i;return{c(){e=Oe("path"),this.h()},l(o){e=Ie(o,"path",{"stroke-width":!0,d:!0,class:!0}),j(e).forEach(N),this.h()},h(){E(e,"stroke-width",t[0]),E(e,"d",n=`M${t[1][0]/2} 0 V${t[1][1]} M0 ${t[1][1]/2} H${t[1][0]}`),E(e,"class",i=Ve(["svelte-flow__background-pattern",t[2],t[3]]))},m(o,r){Q(o,e,r)},p(o,[r]){r&1&&E(e,"stroke-width",o[0]),r&2&&n!==(n=`M${o[1][0]/2} 0 V${o[1][1]} M0 ${o[1][1]/2} H${o[1][0]}`)&&E(e,"d",n),r&12&&i!==(i=Ve(["svelte-flow__background-pattern",o[2],o[3]]))&&E(e,"class",i)},i:Me,o:Me,d(o){o&&N(e)}}}function Rg(t,e,n){let{lineWidth:i=1}=e,{dimensions:o}=e,{variant:r=void 0}=e,{class:s=""}=e;return t.$$set=l=>{"lineWidth"in l&&n(0,i=l.lineWidth),"dimensions"in l&&n(1,o=l.dimensions),"variant"in l&&n(2,r=l.variant),"class"in l&&n(3,s=l.class)},[i,o,r,s]}class Bg extends ge{constructor(e){super(),me(this,e,Rg,Lg,be,{lineWidth:0,dimensions:1,variant:2,class:3})}}const Wg=Bg;function Kg(t){let e,n;return e=new Wg({props:{dimensions:t[6],variant:t[0],lineWidth:t[1],class:t[4]}}),{c(){ie(e.$$.fragment)},l(i){se(e.$$.fragment,i)},m(i,o){oe(e,i,o),n=!0},p(i,o){const r={};o&64&&(r.dimensions=i[6]),o&1&&(r.variant=i[0]),o&2&&(r.lineWidth=i[1]),o&16&&(r.class=i[4]),e.$set(r)},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){B(e.$$.fragment,i),n=!1},d(i){re(e,i)}}}function Fg(t){let e,n;return e=new Yg({props:{radius:t[7]/2,class:t[4]}}),{c(){ie(e.$$.fragment)},l(i){se(e.$$.fragment,i)},m(i,o){oe(e,i,o),n=!0},p(i,o){const r={};o&128&&(r.radius=i[7]/2),o&16&&(r.class=i[4]),e.$set(r)},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){B(e.$$.fragment,i),n=!1},d(i){re(e,i)}}}function Zg(t){let e,n,i,o,r,s,l,a,u,f,c,d,h;const m=[Fg,Kg],y=[];function _(g,v){return g[14]?0:1}return i=_(t),o=y[i]=m[i](t),{c(){e=Oe("svg"),n=Oe("pattern"),o.c(),f=Oe("rect"),this.h()},l(g){e=Ie(g,"svg",{class:!0,"data-testid":!0});var v=j(e);n=Ie(v,"pattern",{id:!0,x:!0,y:!0,width:!0,height:!0,patternUnits:!0,patternTransform:!0});var k=j(n);o.l(k),k.forEach(N),f=Ie(v,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),j(f).forEach(N),v.forEach(N),this.h()},h(){E(n,"id",t[11]),E(n,"x",r=t[9].x%t[8][0]),E(n,"y",s=t[9].y%t[8][1]),E(n,"width",l=t[8][0]),E(n,"height",a=t[8][1]),E(n,"patternUnits","userSpaceOnUse"),E(n,"patternTransform",u=`translate(-${t[10][0]},-${t[10][1]})`),E(f,"x","0"),E(f,"y","0"),E(f,"width","100%"),E(f,"height","100%"),E(f,"fill",c=`url(#${t[11]})`),E(e,"class",d=xi(Ve(["svelte-flow__background",t[5]]))+" svelte-1r7pe8d"),E(e,"data-testid","svelte-flow__background"),de(e,"--xy-background-color-props",t[2]),de(e,"--xy-background-pattern-color-props",t[3])},m(g,v){Q(g,e,v),$(e,n),y[i].m(n,null),$(e,f),h=!0},p(g,[v]){o.p(g,v),(!h||v&2048)&&E(n,"id",g[11]),(!h||v&768&&r!==(r=g[9].x%g[8][0]))&&E(n,"x",r),(!h||v&768&&s!==(s=g[9].y%g[8][1]))&&E(n,"y",s),(!h||v&256&&l!==(l=g[8][0]))&&E(n,"width",l),(!h||v&256&&a!==(a=g[8][1]))&&E(n,"height",a),(!h||v&1024&&u!==(u=`translate(-${g[10][0]},-${g[10][1]})`))&&E(n,"patternTransform",u),(!h||v&2048&&c!==(c=`url(#${g[11]})`))&&E(f,"fill",c),(!h||v&32&&d!==(d=xi(Ve(["svelte-flow__background",g[5]]))+" svelte-1r7pe8d"))&&E(e,"class",d),v&4&&de(e,"--xy-background-color-props",g[2]),v&8&&de(e,"--xy-background-pattern-color-props",g[3])},i(g){h||(X(o),h=!0)},o(g){B(o),h=!1},d(g){g&&N(e),y[i].d()}}}const qg={[At.Dots]:1,[At.Lines]:1,[At.Cross]:6};function Ug(t,e,n){let i,o,r,s,l,a,u,{id:f=void 0}=e,{variant:c=At.Dots}=e,{gap:d=20}=e,{size:h=1}=e,{lineWidth:m=1}=e,{bgColor:y=void 0}=e,{patternColor:_=void 0}=e,{patternClass:g=void 0}=e,{class:v=""}=e;const{viewport:k,flowId:S}=Re();U(t,k,H=>n(9,a=H)),U(t,S,H=>n(18,u=H));const I=h||qg[c],V=c===At.Dots,P=c===At.Cross,Y=Array.isArray(d)?d:[d,d];return t.$$set=H=>{"id"in H&&n(15,f=H.id),"variant"in H&&n(0,c=H.variant),"gap"in H&&n(16,d=H.gap),"size"in H&&n(17,h=H.size),"lineWidth"in H&&n(1,m=H.lineWidth),"bgColor"in H&&n(2,y=H.bgColor),"patternColor"in H&&n(3,_=H.patternColor),"patternClass"in H&&n(4,g=H.patternClass),"class"in H&&n(5,v=H.class)},t.$$.update=()=>{t.$$.dirty&294912&&n(11,i=`background-pattern-${u}-${f||""}`),t.$$.dirty&512&&n(8,o=[Y[0]*a.zoom||1,Y[1]*a.zoom||1]),t.$$.dirty&512&&n(7,r=I*a.zoom),t.$$.dirty&384&&n(6,s=P?[r,r]:o),t.$$.dirty&192&&n(10,l=V?[r/2,r/2]:[s[0]/2,s[1]/2])},[c,m,y,_,g,v,s,r,o,a,l,i,k,S,V,f,d,h,u]}class Gg extends ge{constructor(e){super(),me(this,e,Ug,Zg,be,{id:15,variant:0,gap:16,size:17,lineWidth:1,bgColor:2,patternColor:3,patternClass:4,class:5})}}const Jg=Gg;function Qg(t){let e,n,i,o,r,s=t[0].name+"",l,a,u,f=t[0].name+"",c,d,h,m,y,_='<th class="text-left third svelte-1i27hy3">Start</th> <th class="svelte-1i27hy3">Duration</th> <th class="text-right third svelte-1i27hy3">Finish</th>',g,v,k,S=t[0].es+"",I,V,P,Y=t[0].expected+"",H,W,q,K=t[0].ef+"",Z,w,A,b,C=t[0].ls+"",T,D,L,F=t[0].lf+"",G,ee,O,x,te,z,le='<th class="text-left third svelte-1i27hy3">Min</th> <th class="svelte-1i27hy3">Likely</th> <th class="text-right third svelte-1i27hy3">Max</th>',ye,ue,we,Ee=t[0].min+"",Ae,R,Pe,Se=t[0].likely+"",Je,Qe,Ze,lt=t[0].max+"",ut,ft,qe,st,He;return n=new rn({props:{type:"target",position:"left",isConnectable:t[1]}}),qe=new rn({props:{type:"source",position:"right",isConnectable:t[1]}}),{c(){e=fe("div"),ie(n.$$.fragment),i=ke(),o=fe("div"),r=fe("div"),l=je(s),a=ke(),u=fe("div"),c=je(f),h=ke(),m=fe("table"),y=fe("tr"),y.innerHTML=_,g=ke(),v=fe("tr"),k=fe("td"),I=je(S),V=ke(),P=fe("td"),H=je(Y),W=ke(),q=fe("td"),Z=je(K),w=ke(),A=fe("tr"),b=fe("td"),T=je(C),D=ke(),L=fe("td"),G=je(F),ee=ke(),O=fe("hr"),x=ke(),te=fe("table"),z=fe("tr"),z.innerHTML=le,ye=ke(),ue=fe("tr"),we=fe("td"),Ae=je(Ee),R=ke(),Pe=fe("td"),Je=je(Se),Qe=ke(),Ze=fe("td"),ut=je(lt),ft=ke(),ie(qe.$$.fragment),this.h()},l(pe){e=ce(pe,"DIV",{class:!0});var _e=j(e);se(n.$$.fragment,_e),i=ve(_e),o=ce(_e,"DIV",{class:!0});var Be=j(o);r=ce(Be,"DIV",{class:!0});var M=j(r);l=xe(M,s),M.forEach(N),a=ve(Be),u=ce(Be,"DIV",{class:!0});var Ue=j(u);c=xe(Ue,f),Ue.forEach(N),Be.forEach(N),h=ve(_e),m=ce(_e,"TABLE",{style:!0,class:!0});var Te=j(m);y=ce(Te,"TR",{"data-svelte-h":!0}),bi(y)!=="svelte-1kap4rr"&&(y.innerHTML=_),g=ve(Te),v=ce(Te,"TR",{});var ze=j(v);k=ce(ze,"TD",{class:!0});var pt=j(k);I=xe(pt,S),pt.forEach(N),V=ve(ze),P=ce(ze,"TD",{class:!0,rowspan:!0});var Ct=j(P);H=xe(Ct,Y),Ct.forEach(N),W=ve(ze),q=ce(ze,"TD",{class:!0});var Mt=j(q);Z=xe(Mt,K),Mt.forEach(N),ze.forEach(N),w=ve(Te),A=ce(Te,"TR",{});var ct=j(A);b=ce(ct,"TD",{class:!0});var dt=j(b);T=xe(dt,C),dt.forEach(N),D=ve(ct),L=ce(ct,"TD",{class:!0});var bt=j(L);G=xe(bt,F),bt.forEach(N),ct.forEach(N),Te.forEach(N),ee=ve(_e),O=ce(_e,"HR",{class:!0}),x=ve(_e),te=ce(_e,"TABLE",{style:!0,class:!0});var Pt=j(te);z=ce(Pt,"TR",{"data-svelte-h":!0}),bi(z)!=="svelte-11mrgyi"&&(z.innerHTML=le),ye=ve(Pt),ue=ce(Pt,"TR",{});var Nt=j(ue);we=ce(Nt,"TD",{class:!0});var Ft=j(we);Ae=xe(Ft,Ee),Ft.forEach(N),R=ve(Nt),Pe=ce(Nt,"TD",{class:!0});var ln=j(Pe);Je=xe(ln,Se),ln.forEach(N),Qe=ve(Nt),Ze=ce(Nt,"TD",{class:!0});var sn=j(Ze);ut=xe(sn,lt),sn.forEach(N),Nt.forEach(N),Pt.forEach(N),ft=ve(_e),se(qe.$$.fragment,_e),_e.forEach(N),this.h()},h(){E(r,"class","heading-text svelte-1i27hy3"),E(u,"class","heading-full svelte-1i27hy3"),E(o,"class",d="heading "+t[3]+" svelte-1i27hy3"),E(k,"class","text-left"),E(P,"class","text-center va-middle"),E(P,"rowspan","2"),E(q,"class","text-right"),E(b,"class","text-left"),E(L,"class","text-right"),de(m,"width","99.9%"),E(m,"class","svelte-1i27hy3"),E(O,"class","svelte-1i27hy3"),E(we,"class","text-left"),E(Pe,"class","text-center"),E(Ze,"class","text-right"),de(te,"width","99.9%"),E(te,"class","svelte-1i27hy3"),E(e,"class",st="critical-path-node "+t[2]+" svelte-1i27hy3")},m(pe,_e){Q(pe,e,_e),oe(n,e,null),$(e,i),$(e,o),$(o,r),$(r,l),$(o,a),$(o,u),$(u,c),$(e,h),$(e,m),$(m,y),$(m,g),$(m,v),$(v,k),$(k,I),$(v,V),$(v,P),$(P,H),$(v,W),$(v,q),$(q,Z),$(m,w),$(m,A),$(A,b),$(b,T),$(A,D),$(A,L),$(L,G),$(e,ee),$(e,O),$(e,x),$(e,te),$(te,z),$(te,ye),$(te,ue),$(ue,we),$(we,Ae),$(ue,R),$(ue,Pe),$(Pe,Je),$(ue,Qe),$(ue,Ze),$(Ze,ut),$(e,ft),oe(qe,e,null),He=!0},p(pe,[_e]){const Be={};_e&2&&(Be.isConnectable=pe[1]),n.$set(Be),(!He||_e&1)&&s!==(s=pe[0].name+"")&&$e(l,s),(!He||_e&1)&&f!==(f=pe[0].name+"")&&$e(c,f),(!He||_e&8&&d!==(d="heading "+pe[3]+" svelte-1i27hy3"))&&E(o,"class",d),(!He||_e&1)&&S!==(S=pe[0].es+"")&&$e(I,S),(!He||_e&1)&&Y!==(Y=pe[0].expected+"")&&$e(H,Y),(!He||_e&1)&&K!==(K=pe[0].ef+"")&&$e(Z,K),(!He||_e&1)&&C!==(C=pe[0].ls+"")&&$e(T,C),(!He||_e&1)&&F!==(F=pe[0].lf+"")&&$e(G,F),(!He||_e&1)&&Ee!==(Ee=pe[0].min+"")&&$e(Ae,Ee),(!He||_e&1)&&Se!==(Se=pe[0].likely+"")&&$e(Je,Se),(!He||_e&1)&&lt!==(lt=pe[0].max+"")&&$e(ut,lt);const M={};_e&2&&(M.isConnectable=pe[1]),qe.$set(M),(!He||_e&4&&st!==(st="critical-path-node "+pe[2]+" svelte-1i27hy3"))&&E(e,"class",st)},i(pe){He||(X(n.$$.fragment,pe),X(qe.$$.fragment,pe),He=!0)},o(pe){B(n.$$.fragment,pe),B(qe.$$.fragment,pe),He=!1},d(pe){pe&&N(e),re(n),re(qe)}}}function jg(t,e,n){let i,o,{data:r}=e,{isConnectable:s=!0}=e,{id:l}=e,{selected:a=!1}=e,{selectable:u=!0}=e,{deletable:f=!1}=e,{sourcePosition:c=void 0}=e,{targetPosition:d=void 0}=e,{zIndex:h=0}=e,{dragging:m=!1}=e,{draggable:y=!0}=e,{dragHandle:_=void 0}=e,{parentId:g=void 0}=e,{type:v="default"}=e,{positionAbsoluteX:k=void 0}=e,{positionAbsoluteY:S=void 0}=e,{width:I=void 0}=e,{height:V=void 0}=e;return t.$$set=P=>{"data"in P&&n(0,r=P.data),"isConnectable"in P&&n(1,s=P.isConnectable),"id"in P&&n(4,l=P.id),"selected"in P&&n(5,a=P.selected),"selectable"in P&&n(6,u=P.selectable),"deletable"in P&&n(7,f=P.deletable),"sourcePosition"in P&&n(8,c=P.sourcePosition),"targetPosition"in P&&n(9,d=P.targetPosition),"zIndex"in P&&n(10,h=P.zIndex),"dragging"in P&&n(11,m=P.dragging),"draggable"in P&&n(12,y=P.draggable),"dragHandle"in P&&n(13,_=P.dragHandle),"parentId"in P&&n(14,g=P.parentId),"type"in P&&n(15,v=P.type),"positionAbsoluteX"in P&&n(16,k=P.positionAbsoluteX),"positionAbsoluteY"in P&&n(17,S=P.positionAbsoluteY),"width"in P&&n(18,I=P.width),"height"in P&&n(19,V=P.height)},t.$$.update=()=>{t.$$.dirty&1&&n(3,i=Number(r.progress)>=100?"bg-emerald":r.slack===0?"bg-darkSteel":"bg-darkBlue"),t.$$.dirty&1&&n(2,o=r.slack===0?"critical":"normal")},[r,s,o,i,l,a,u,f,c,d,h,m,y,_,g,v,k,S,I,V]}class xg extends ge{constructor(e){super(),me(this,e,jg,Qg,be,{data:0,isConnectable:1,id:4,selected:5,selectable:6,deletable:7,sourcePosition:8,targetPosition:9,zIndex:10,dragging:11,draggable:12,dragHandle:13,parentId:14,type:15,positionAbsoluteX:16,positionAbsoluteY:17,width:18,height:19})}}function $g(t,e){const n=new Map,i=new Map;return t.forEach(o=>{n.set(o.id,[]),i.set(o.id,[])}),e.forEach(o=>{o.source&&o.target&&(i.get(o.source).push(o.target),n.get(o.target).push(o.source))}),{incoming:n,outgoing:i}}function e0(t,e,n={}){const{nodeWidth:i=250,nodeHeight:o=150,horizontalSpacing:r=100,verticalSpacing:s=100,startX:l=50,startY:a=50,viewportHeight:u=800}=n,{incoming:f,outgoing:c}=$g(t,e),d=new Map(t.map(g=>[g.id,{...g,rank:0,order:0,width:i,height:o}])),h=t.filter(g=>f.get(g.id).length===0);let m=0;function y(g,v=0){const k=d.get(g);k.rank=Math.max(k.rank,v),m=Math.max(m,v),c.get(g).forEach(S=>{y(S,v+1)})}h.forEach(g=>y(g.id)),h.length===0&&t.length>0&&y(t[0].id);const _=new Array(m+1).fill(0).map(()=>[]);return d.forEach(g=>_[g.rank].push(g)),_.forEach((g,v)=>{v===0?g.sort((k,S)=>{const I=c.get(k.id).length;return c.get(S.id).length-I}):g.sort((k,S)=>{const I=f.get(k.id),V=f.get(S.id),P=I.reduce((H,W)=>H+d.get(W).order,0)/I.length,Y=V.reduce((H,W)=>H+d.get(W).order,0)/V.length;return P-Y}),g.forEach((k,S)=>{k.order=S})}),_.forEach((g,v)=>{const k=g.reduce((V,P,Y)=>V+P.height+(Y>0?s:0),0);let I=(u-k)/2;g.forEach(V=>{V.position={x:l+v*(i+r),y:I},I+=V.height+s})}),Array.from(d.values())}function sr(t){let e,n;return e=new Jg({props:{variant:"dots",gap:t[5][0],size:1}}),{c(){ie(e.$$.fragment)},l(i){se(e.$$.fragment,i)},m(i,o){oe(e,i,o),n=!0},p:Me,i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){B(e.$$.fragment,i),n=!1},d(i){re(e,i)}}}function ar(t){let e,n;return e=new Ag({}),{c(){ie(e.$$.fragment)},l(i){se(e.$$.fragment,i)},m(i,o){oe(e,i,o),n=!0},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){B(e.$$.fragment,i),n=!1},d(i){re(e,i)}}}function t0(t){let e,n,i,o=t[0]&&sr(t),r=t[1]&&ar();return{c(){o&&o.c(),e=ke(),r&&r.c(),n=Xe()},l(s){o&&o.l(s),e=ve(s),r&&r.l(s),n=Xe()},m(s,l){o&&o.m(s,l),Q(s,e,l),r&&r.m(s,l),Q(s,n,l),i=!0},p(s,l){s[0]?o?(o.p(s,l),l&1&&X(o,1)):(o=sr(s),o.c(),X(o,1),o.m(e.parentNode,e)):o&&(Ke(),B(o,1,1,()=>{o=null}),Fe()),s[1]?r?l&2&&X(r,1):(r=ar(),r.c(),X(r,1),r.m(n.parentNode,n)):r&&(Ke(),B(r,1,1,()=>{r=null}),Fe())},i(s){i||(X(o),X(r),i=!0)},o(s){B(o),B(r),i=!1},d(s){s&&(N(e),N(n)),o&&o.d(s),r&&r.d(s)}}}function n0(t){let e,n,i;return n=new ng({props:{nodes:t[2],edges:t[3],nodeTypes:t[4],viewport:hr,nodesDraggable:!0,nodesConnectable:!1,elementsSelectable:!0,minZoom:.5,maxZoom:2,snapToGrid:!0,snapGrid:t[5],proOptions:{hideAttribution:!0},$$slots:{default:[t0]},$$scope:{ctx:t}}}),n.$on("viewportChange",t[7]),n.$on("nodedragstop",t[6]),{c(){e=fe("div"),ie(n.$$.fragment),this.h()},l(o){e=ce(o,"DIV",{style:!0});var r=j(e);se(n.$$.fragment,r),r.forEach(N),this.h()},h(){de(e,"width","100%"),de(e,"height","100%")},m(o,r){Q(o,e,r),oe(n,e,null),i=!0},p(o,[r]){const s={};r&2051&&(s.$$scope={dirty:r,ctx:o}),n.$set(s)},i(o){i||(X(n.$$.fragment,o),i=!0)},o(o){B(n.$$.fragment,o),i=!1},d(o){o&&N(e),re(n)}}}const ur=200,fr=120;function i0(t,e,n){let i,o,r;U(t,Fl,m=>n(8,i=m)),U(t,Zl,m=>n(0,o=m)),U(t,ql,m=>n(1,r=m));const s=ne([]),l=ne([]),a={default:xg},u=[20,20],f=Math.ceil(ur/u[0])*u[0]+40,c=Math.ceil(fr/u[1])*u[1]+20;function d(m){const y=J(s);Ul(y)}function h(m){hr.set(m.detail)}return t.$$.update=()=>{if(t.$$.dirty&256&&i.map){const m=Object.values(i.map).map(g=>({id:g.id,position:{x:Math.round((g.x||0)/u[0])*u[0],y:Math.round((g.y||0)/u[1])*u[1]},data:{...g,label:g.name||g.id},type:"default"})),y=Object.values(i.map).flatMap(g=>(Array.isArray(g.predecessors)?g.predecessors:[...g.predecessors]).map(k=>{const S=i.map[k],I=g,V=S.slack===0&&I.slack===0&&S.ef===I.es-1,P=Number(S.progress)>=100&&Number(I.progress)<100;return{id:`${k}-${g.id}`,source:k,target:g.id,type:"default",class:V?"critical-path":"normal-path",animated:P}})),_=m.filter(g=>!g.position.x&&!g.position.y);if(_.length>0){const g=new Set(_.map(V=>V.id)),v=y.filter(V=>g.has(V.source)&&g.has(V.target)),S=e0(_,v,{nodeWidth:ur,nodeHeight:fr,horizontalSpacing:f,verticalSpacing:c,viewportHeight:window.innerHeight}).map(V=>({...V,position:{x:Math.round(V.position.x/u[0])*u[0],y:Math.round(V.position.y/u[1])*u[1]}})),I=m.map(V=>V.position.x||V.position.y?V:S.find(P=>P.id===V.id)||V);s.set(I)}else s.set(m);l.set(y)}},[o,r,s,l,a,u,d,h,i]}class o0 extends ge{constructor(e){super(),me(this,e,i0,n0,be,{})}}function r0(t){let e,n,i,o,r,s,l,a,u,f,c,d,h,m,y;return r=new Jl({props:{name:"tasks"}}),d=new o0({}),{c(){e=fe("div"),n=fe("div"),i=fe("div"),o=fe("div"),ie(r.$$.fragment),s=ke(),l=fe("div"),a=fe("button"),u=fe("span"),c=ke(),ie(d.$$.fragment),this.h()},l(_){e=ce(_,"DIV",{"data-role":!0,class:!0,"data-split-sizes":!0});var g=j(e);n=ce(g,"DIV",{class:!0});var v=j(n);i=ce(v,"DIV",{class:!0,id:!0});var k=j(i);o=ce(k,"DIV",{class:!0});var S=j(o);se(r.$$.fragment,S),S.forEach(N),k.forEach(N),v.forEach(N),s=ve(g),l=ce(g,"DIV",{class:!0});var I=j(l);a=ce(I,"BUTTON",{class:!0,title:!0});var V=j(a);u=ce(V,"SPAN",{class:!0}),j(u).forEach(N),V.forEach(N),c=ve(I),se(d.$$.fragment,I),I.forEach(N),g.forEach(N),this.h()},h(){E(o,"class","scrollable svelte-6g8p10"),E(i,"class","card-content p-2"),E(i,"id","tasks-table"),E(n,"class","border bd-default svelte-6g8p10"),ae(n,"hidden",!t[0]),E(u,"class",f="mif-chevron-"+(t[0]?"left":"right")),E(a,"class","toggle-tasks-btn svelte-6g8p10"),E(a,"title","Toggle tasks table"),E(l,"class","d-flex flex-justify-center flex-align-center"),E(e,"data-role","splitter"),E(e,"class","h-100"),E(e,"data-split-sizes","25, 75")},m(_,g){Q(_,e,g),$(e,n),$(n,i),$(i,o),oe(r,o,null),$(e,s),$(e,l),$(l,a),$(a,u),$(l,c),oe(d,l,null),h=!0,m||(y=De(a,"click",t[2]),m=!0)},p(_,[g]){(!h||g&1)&&ae(n,"hidden",!_[0]),(!h||g&1&&f!==(f="mif-chevron-"+(_[0]?"left":"right")))&&E(u,"class",f)},i(_){h||(X(r.$$.fragment,_),X(d.$$.fragment,_),h=!0)},o(_){B(r.$$.fragment,_),B(d.$$.fragment,_),h=!1},d(_){_&&N(e),re(r),re(d),m=!1,y()}}}function l0(t,e,n){let i;const o=ne(!0);return U(t,o,s=>n(0,i=s)),[i,o,()=>o.update(s=>!s)]}class g0 extends ge{constructor(e){super(),me(this,e,l0,r0,be,{})}}export{g0 as component};
